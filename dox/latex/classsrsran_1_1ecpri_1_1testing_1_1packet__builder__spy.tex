\doxysection{srsran\+::ecpri\+::testing\+::packet\+\_\+builder\+\_\+spy Class Reference}
\hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy}{}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy}\index{srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}}


Spy e\+CPRI packet builder implementation.  




{\ttfamily \#include $<$ecpri\+\_\+packet\+\_\+builder\+\_\+test\+\_\+doubles.\+h$>$}

Inheritance diagram for srsran\+::ecpri\+::testing\+::packet\+\_\+builder\+\_\+spy\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} \mbox{\hyperlink{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_adc5737027ab6edb32d2ab2997a850fb0}{get\+\_\+header\+\_\+size}} (message\+\_\+type msg\+\_\+type) const override
\begin{DoxyCompactList}\small\item\em Returns the e\+CPRI header size in bytes for the given e\+CPRI message type. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a0f1c05a91e054299cd231d9524c72bba}{build\+\_\+control\+\_\+packet}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$ buffer, const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1realtime__control__parameters}{realtime\+\_\+control\+\_\+parameters}} \&msg\+\_\+params) override
\item 
void \mbox{\hyperlink{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_add67e9e90434695312b730a1723f6db8}{build\+\_\+data\+\_\+packet}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$ buffer, const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1iq__data__parameters}{iq\+\_\+data\+\_\+parameters}} \&msg\+\_\+params) override
\item 
\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_aebacd396ec272720e85badfa13d6e403}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_aebacd396ec272720e85badfa13d6e403} 
bool {\bfseries has\+\_\+build\+\_\+control\+\_\+packet\+\_\+method\+\_\+been\+\_\+called} () const
\begin{DoxyCompactList}\small\item\em Returns true if the build control packet method has been called, otherwise false. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_ad50d87f9bc9ec7926962624565fac040}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_ad50d87f9bc9ec7926962624565fac040} 
bool {\bfseries has\+\_\+build\+\_\+data\+\_\+packet\+\_\+method\+\_\+been\+\_\+called} () const
\begin{DoxyCompactList}\small\item\em Returns true if the build data packet method has been called, otherwise false. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a6f2ba1ccaf37b711ab46c4a715e674c4}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a6f2ba1ccaf37b711ab46c4a715e674c4} 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1realtime__control__parameters}{realtime\+\_\+control\+\_\+parameters}} $>$ {\bfseries get\+\_\+control\+\_\+parameters} () const
\begin{DoxyCompactList}\small\item\em Returns the realtime control parameters processed by this builder. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a230375c61ca8d9f58e64c8894047cba0}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a230375c61ca8d9f58e64c8894047cba0} 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1iq__data__parameters}{iq\+\_\+data\+\_\+parameters}} $>$ {\bfseries get\+\_\+data\+\_\+parameters} () const
\begin{DoxyCompactList}\small\item\em Returns the IQ data parameters processed by this builder. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ecpri_1_1packet__builder}{srsran\+::ecpri\+::packet\+\_\+builder}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}packet\+\_\+builder} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Spy e\+CPRI packet builder implementation. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a0f1c05a91e054299cd231d9524c72bba}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_a0f1c05a91e054299cd231d9524c72bba} 
\index{srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}!build\_control\_packet@{build\_control\_packet}}
\index{build\_control\_packet@{build\_control\_packet}!srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}}
\doxysubsubsection{\texorpdfstring{build\_control\_packet()}{build\_control\_packet()}}
{\footnotesize\ttfamily void srsran\+::ecpri\+::testing\+::packet\+\_\+builder\+\_\+spy\+::build\+\_\+control\+\_\+packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$}]{buffer,  }\item[{const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1realtime__control__parameters}{realtime\+\_\+control\+\_\+parameters}} \&}]{msg\+\_\+params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Builds a control e\+CPRI packet using the given control parameters into the given {\ttfamily buffer}.

This function expects that the buffer already contains the payload of the packet. The builder will write the header in the first ecpri\+\_\+packet\+\_\+builder\+::get\+\_\+header\+\_\+size bytes of the buffer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buffer} & Buffer where the packet will be built. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+params} & e\+CPRI message parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1ecpri_1_1packet__builder_ac773893e1a3d11f2bb9f045a9465ddbd}{srsran\+::ecpri\+::packet\+\_\+builder}}.

\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_add67e9e90434695312b730a1723f6db8}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_add67e9e90434695312b730a1723f6db8} 
\index{srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}!build\_data\_packet@{build\_data\_packet}}
\index{build\_data\_packet@{build\_data\_packet}!srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}}
\doxysubsubsection{\texorpdfstring{build\_data\_packet()}{build\_data\_packet()}}
{\footnotesize\ttfamily void srsran\+::ecpri\+::testing\+::packet\+\_\+builder\+\_\+spy\+::build\+\_\+data\+\_\+packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$}]{buffer,  }\item[{const \mbox{\hyperlink{structsrsran_1_1ecpri_1_1iq__data__parameters}{iq\+\_\+data\+\_\+parameters}} \&}]{msg\+\_\+params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Builds a data e\+CPRI packet using the given data parameters into the given {\ttfamily buffer}.

This function expects that the buffer already contains the payload of the packet. The builder will write the header in the first ecpri\+\_\+packet\+\_\+builder\+::get\+\_\+header\+\_\+size bytes of the buffer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buffer} & Buffer where the packet will be built. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+params} & e\+CPRI message parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1ecpri_1_1packet__builder_a06dc9ad3eed7bbfb6e1a6dc0bb3967b9}{srsran\+::ecpri\+::packet\+\_\+builder}}.

\Hypertarget{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_adc5737027ab6edb32d2ab2997a850fb0}\label{classsrsran_1_1ecpri_1_1testing_1_1packet__builder__spy_adc5737027ab6edb32d2ab2997a850fb0} 
\index{srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}!get\_header\_size@{get\_header\_size}}
\index{get\_header\_size@{get\_header\_size}!srsran::ecpri::testing::packet\_builder\_spy@{srsran::ecpri::testing::packet\_builder\_spy}}
\doxysubsubsection{\texorpdfstring{get\_header\_size()}{get\_header\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} srsran\+::ecpri\+::testing\+::packet\+\_\+builder\+\_\+spy\+::get\+\_\+header\+\_\+size (\begin{DoxyParamCaption}\item[{message\+\_\+type}]{msg\+\_\+type }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the e\+CPRI header size in bytes for the given e\+CPRI message type. 



Implements \mbox{\hyperlink{classsrsran_1_1ecpri_1_1packet__builder_a588b09bd10c8862105c943693b728f47}{srsran\+::ecpri\+::packet\+\_\+builder}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/unittests/ofh/ecpri/ecpri\+\_\+packet\+\_\+builder\+\_\+test\+\_\+doubles.\+h\end{DoxyCompactItemize}
