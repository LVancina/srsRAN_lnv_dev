\doxysection{srsran\+::port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1port__channel__estimator__average__impl}{}\label{classsrsran_1_1port__channel__estimator__average__impl}\index{srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}}


Port channel estimator that averages all OFDM symbols containing DM-\/\+RS.  




{\ttfamily \#include $<$port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl.\+h$>$}

Inheritance diagram for srsran\+::port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1port__channel__estimator__average__impl}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1port__channel__estimator__average__impl_a584c03229cb5d5ed2a209d31332657a3}\label{classsrsran_1_1port__channel__estimator__average__impl_a584c03229cb5d5ed2a209d31332657a3} 
{\bfseries port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1interpolator}{interpolator}} $>$ interp, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dft__processor}{dft\+\_\+processor}} $>$ idft\+\_\+proc, \mbox{\hyperlink{namespacesrsran_adc0f9086fd375c5668eb00620b3fab2e}{port\+\_\+channel\+\_\+estimator\+\_\+fd\+\_\+smoothing\+\_\+strategy}} fd\+\_\+smoothing\+\_\+strategy\+\_\+)
\begin{DoxyCompactList}\small\item\em Constructor -\/ Sets the internal interpolator and inverse DFT processor of size {\ttfamily DFT\+\_\+\+SIZE}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1port__channel__estimator__average__impl_ab2661fe97af92cf61cd794a58eaca96e}{compute}} (\mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&estimate, const \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, unsigned port, const \mbox{\hyperlink{namespacesrsran_aebc9654b641a50942f881465580b8bec}{dmrs\+\_\+symbol\+\_\+list}} \&pilots, const \mbox{\hyperlink{structsrsran_1_1port__channel__estimator_1_1configuration}{configuration}} \&cfg) override
\begin{DoxyCompactList}\small\item\em Computes the channel estimate. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1port__channel__estimator}{srsran\+::port\+\_\+channel\+\_\+estimator}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}port\+\_\+channel\+\_\+estimator} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr unsigned \mbox{\hyperlink{classsrsran_1_1port__channel__estimator__average__impl_a96288bf46248e5e336eb75b5d4a8e008}{DFT\+\_\+\+SIZE}} = 4096
\begin{DoxyCompactList}\small\item\em Size of the internal inverse Discrete Fourier Transform. \end{DoxyCompactList}\item 
static constexpr float \mbox{\hyperlink{classsrsran_1_1port__channel__estimator__average__impl_a369fbd0af26bc64725e5436d3fded5bc}{MAX\+\_\+\+SINR\+\_\+\+DB}} = 100
\begin{DoxyCompactList}\small\item\em Maximum SINR in decibels. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Port channel estimator that averages all OFDM symbols containing DM-\/\+RS. 

This estimator considers the channel constant in time over the entire slot. As for the frequency domain, the channel coefficients corresponding to subcarriers containing DM-\/\+RS pilots are LSE-\/estimated, while the remaining coefficients are estimated by interpolating the previous ones. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1port__channel__estimator__average__impl_ab2661fe97af92cf61cd794a58eaca96e}\label{classsrsran_1_1port__channel__estimator__average__impl_ab2661fe97af92cf61cd794a58eaca96e} 
\index{srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}!compute@{compute}}
\index{compute@{compute}!srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}}
\doxysubsubsection{\texorpdfstring{compute()}{compute()}}
{\footnotesize\ttfamily void port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl\+::compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&}]{estimate,  }\item[{const \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{unsigned}]{port,  }\item[{const \mbox{\hyperlink{namespacesrsran_aebc9654b641a50942f881465580b8bec}{dmrs\+\_\+symbol\+\_\+list}} \&}]{pilots,  }\item[{const \mbox{\hyperlink{structsrsran_1_1port__channel__estimator_1_1configuration}{configuration}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Computes the channel estimate. 

Estimates the channel to the current receive antenna port for all transmit layers. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em estimate} & The estimated channel coefficients for all resource elements, all OFDM symbols, all receive ports and all transmit layers. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & The frequency--time resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em port} & Receive antenna port the estimation refers to. \\
\hline
\mbox{\texttt{ in}}  & {\em pilots} & DM-\/\+RS symbols (a.\+k.\+a. pilots). For each layer, symbols are listed by RE first and then by OFDM symbol. \\
\hline
\mbox{\texttt{ in}}  & {\em pattern} & Pattern with the positions of the DM-\/\+RS symbols. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Estimator configuration. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1port__channel__estimator_a9665fac5391603ae1e4e007dd02bc898}{srsran\+::port\+\_\+channel\+\_\+estimator}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classsrsran_1_1port__channel__estimator__average__impl_a96288bf46248e5e336eb75b5d4a8e008}\label{classsrsran_1_1port__channel__estimator__average__impl_a96288bf46248e5e336eb75b5d4a8e008} 
\index{srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}!DFT\_SIZE@{DFT\_SIZE}}
\index{DFT\_SIZE@{DFT\_SIZE}!srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}}
\doxysubsubsection{\texorpdfstring{DFT\_SIZE}{DFT\_SIZE}}
{\footnotesize\ttfamily constexpr unsigned srsran\+::port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl\+::\+DFT\+\_\+\+SIZE = 4096\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Size of the internal inverse Discrete Fourier Transform. 

The inverse DFT is used to estimate the time alignment. A DFT size of 4096 points allows of a resolution of 16.\+3 and 8.\+1 nanoseconds with a subcarrier spacing of 15 k\+Hz and 30 k\+Hz, respectively. \Hypertarget{classsrsran_1_1port__channel__estimator__average__impl_a369fbd0af26bc64725e5436d3fded5bc}\label{classsrsran_1_1port__channel__estimator__average__impl_a369fbd0af26bc64725e5436d3fded5bc} 
\index{srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}!MAX\_SINR\_DB@{MAX\_SINR\_DB}}
\index{MAX\_SINR\_DB@{MAX\_SINR\_DB}!srsran::port\_channel\_estimator\_average\_impl@{srsran::port\_channel\_estimator\_average\_impl}}
\doxysubsubsection{\texorpdfstring{MAX\_SINR\_DB}{MAX\_SINR\_DB}}
{\footnotesize\ttfamily constexpr float srsran\+::port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl\+::\+MAX\+\_\+\+SINR\+\_\+\+DB = 100\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Maximum SINR in decibels. 

The SINR is bounded above to avoid a zero noise variance. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/signal\+\_\+processors/port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl.\+h\item 
lib/phy/upper/signal\+\_\+processors/port\+\_\+channel\+\_\+estimator\+\_\+average\+\_\+impl.\+cpp\end{DoxyCompactItemize}
