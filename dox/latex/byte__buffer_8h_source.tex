\doxysection{byte\+\_\+buffer.\+h}
\hypertarget{byte__buffer_8h_source}{}\label{byte__buffer_8h_source}\index{include/srsran/adt/byte\_buffer.h@{include/srsran/adt/byte\_buffer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}srsran/adt/detail/byte\_buffer\_range\_helpers.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}fmt/format.h"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00031\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_ab9590b056edbbb6f192be084876f657b}{byte\_buffer\_segment\_pool\_default\_segment\_size}}();}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00039\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacesrsran_a6f2d9201de8bb48106eb4d7214da70c8}{init\_byte\_buffer\_segment\_pool}}(std::size\_t\ nof\_segments,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::size\_t\ memory\_block\_size\ =\ \mbox{\hyperlink{namespacesrsran_ab9590b056edbbb6f192be084876f657b}{byte\_buffer\_segment\_pool\_default\_segment\_size}}());}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}}
\DoxyCodeLine{00046\ \{}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ByteBufferType>}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{using\ }is\_owning\_byte\_buffer\_type\ =}
\DoxyCodeLine{00050\ \ \ \ \ \ \ std::conditional\_t<std::is\_same<std::decay\_t<ByteBufferType>,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}>::value,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::false\_type,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_aebaab66adc078b7120666efd41e5dd7c}{is\_byte\_buffer\_range<ByteBufferType>}}>;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00055\ \ \ \textcolor{keyword}{using\ }value\_type\ \ \ \ \ =\ uint8\_t;}
\DoxyCodeLine{00056\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{detail::byte\_buffer\_segment\_list\_byte\_iterator}};}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{const\_iterator}}\ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{detail::byte\_buffer\_segment\_list\_byte\_const\_iterator}};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a82c3a0d8229e9cfe5a0d6b6bb526eccf}{byte\_buffer\_view}}(\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ it\_begin\_,\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ it\_end\_)\ :\ it(it\_begin\_),\ it\_end(it\_end\_)\ \{\}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00065\ \ \ template\ <typename\ ByteBufferType,\ std::enable\_if\_t<is\_owning\_byte\_buffer\_type<ByteBufferType>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00066\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_ac9071d037c74f2bbacd2f2b1810a1392}{byte\_buffer\_view}}(\textcolor{keyword}{const}\ ByteBufferType\&\ buffer)\ :\ it(buffer.begin()),\ it\_end(buffer.end())}
\DoxyCodeLine{00067\ \ \ \{}
\DoxyCodeLine{00068\ \ \ \}}
\DoxyCodeLine{00069\ \ \ template\ <typename\ ByteBufferType,\ std::enable\_if\_t<is\_owning\_byte\_buffer\_type<ByteBufferType>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}(\textcolor{keyword}{const}\ ByteBufferType\&\ buffer,\ \textcolor{keywordtype}{size\_t}\ start,\ \textcolor{keywordtype}{size\_t}\ sz)\ :\ it(buffer.begin()\ +\ start),\ it\_end(it\ +\ sz)}
\DoxyCodeLine{00071\ \ \ \{}
\DoxyCodeLine{00072\ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00075\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ \{\ \textcolor{keywordflow}{return}\ it;\ \}}
\DoxyCodeLine{00076\ \ \ const\_iterator\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ it;\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}()\ \{\ \textcolor{keywordflow}{return}\ it\_end;\ \}}
\DoxyCodeLine{00080\ \ \ const\_iterator\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ it\_end;\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_ac60e89fcf20711ba93b20c382a312c24}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ it\ ==\ it\_end;\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00086\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ it\_end\ -\/\ it;\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{const}\ uint8\_t\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a471432bd6cbe57ad9fdaaad2e1a4735b}{operator[]}}(\textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *(it\ +\ i);\ \}}
\DoxyCodeLine{00090\ \ \ uint8\_t\&\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a471432bd6cbe57ad9fdaaad2e1a4735b}{operator[]}}(\textcolor{keywordtype}{size\_t}\ i)\ \{\ \textcolor{keywordflow}{return}\ *(it\ +\ i);\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_aa374f409b1bee0caf3c1a86bf2cebe83}{view}}(\textcolor{keywordtype}{size\_t}\ offset,\ \textcolor{keywordtype}{size\_t}\ size)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00094\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00095\ \ \ \ \ srsran\_assert(offset\ +\ size\ <=\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}(),\ \textcolor{stringliteral}{"{}Invalid\ view\ dimensions."{}});}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{return}\ \{it\ +\ offset,\ it\ +\ offset\ +\ size\};}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00102\ \ \ std::pair<byte\_buffer\_view,\ byte\_buffer\_view>\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_ad9bae385261f591c3315ed4e15b12bf6}{split}}(\textcolor{keywordtype}{size\_t}\ offset)}
\DoxyCodeLine{00103\ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{auto}\ it\_split\ =\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ +\ offset;}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\{\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}(),\ it\_split\},\ \{it\_split,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}()\}\};}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{const\_byte\_buffer\_segment\_span\_range}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a7d683ccdd7a39bccbd6a5c37d3a3cf26}{segments}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{it,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}()\};\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{byte\_buffer\_segment\_span\_range}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_acf63da5d365718ab26e22b7e4f91a4ac}{modifiable\_segments}}()\ \{\ \textcolor{keywordflow}{return}\ \{it,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}()\};\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00117\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a5e3b57f2f8e72f09065d6149fd0db9d4}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\&\ lhs,\ \textcolor{keyword}{const}\ T\&\ r)}
\DoxyCodeLine{00119\ \ \ \{}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(lhs,\ r);}
\DoxyCodeLine{00121\ \ \ \}}
\DoxyCodeLine{00122\ \ \ template\ <typename\ T,\ std::enable\_if\_t<not\ is\_byte\_buffer\_range<T>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a5e3b57f2f8e72f09065d6149fd0db9d4}{operator==}}(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\&\ rhs)}
\DoxyCodeLine{00124\ \ \ \{}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(rhs,\ r);}
\DoxyCodeLine{00126\ \ \ \}}
\DoxyCodeLine{00127\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00128\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ byte\_buffer\_view\&\ lhs,\ \textcolor{keyword}{const}\ T\&\ r)}
\DoxyCodeLine{00129\ \ \ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordflow}{return}\ not(lhs\ ==\ r);}
\DoxyCodeLine{00131\ \ \ \}}
\DoxyCodeLine{00132\ \ \ template\ <typename\ T,\ std::enable\_if\_t<not\ is\_byte\_buffer\_range<T>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00133\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ byte\_buffer\_view\&\ rhs)}
\DoxyCodeLine{00134\ \ \ \{}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ not(rhs\ ==\ r);}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00139\ \ \ iterator\ it;}
\DoxyCodeLine{00140\ \ \ iterator\ it\_end;}
\DoxyCodeLine{00141\ \};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{class\ }byte\_buffer\_slice;}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00149\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}}
\DoxyCodeLine{00150\ \{}
\DoxyCodeLine{00152\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structsrsran_1_1detail_1_1byte__buffer__segment__list_1_1node__t}{node\_t}}\ =\ \mbox{\hyperlink{structsrsran_1_1detail_1_1byte__buffer__segment__list_1_1node__t}{detail::byte\_buffer\_segment\_list::node\_t}};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00156\ \ \ \textcolor{keyword}{struct\ }control\_block\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list}{detail::byte\_buffer\_segment\_list}}\ segments;}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pkt\_len\ =\ 0;}
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1detail_1_1byte__buffer__segment__list_1_1node__t}{node\_t}}*\ segment\_in\_cb\_memory\_block\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{void}\ destroy\_node(\mbox{\hyperlink{structsrsran_1_1detail_1_1byte__buffer__segment__list_1_1node__t}{node\_t}}*\ node)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \string~control\_block();}
\DoxyCodeLine{00167\ \ \ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00170\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ DEFAULT\_FIRST\_SEGMENT\_HEADROOM\ =\ 16;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00173\ \ \ \textcolor{keyword}{using\ }value\_type\ \ \ \ \ =\ uint8\_t;}
\DoxyCodeLine{00174\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{detail::byte\_buffer\_segment\_list\_byte\_iterator}};}
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{const\_iterator}}\ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{detail::byte\_buffer\_segment\_list\_byte\_const\_iterator}};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00178\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a9d95648e141616eb82e4db1be807148c}{byte\_buffer}}()\ noexcept\ =\ default;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00181\ \ \ explicit\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}(const\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&)\ noexcept\ =\ default;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00184\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}(\mbox{\hyperlink{classsrsran_1_1span}{span}}<const\ uint8\_t>\ \mbox{\hyperlink{classbytes}{bytes}})}
\DoxyCodeLine{00185\ \ \ \{}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classbytes}{bytes}}))\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00188\ \ \ \ \ \}}
\DoxyCodeLine{00189\ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00192\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a23243c3899f5fb66157c4b8151136dbd}{byte\_buffer}}(std::initializer\_list<uint8\_t>\ lst)\ :\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}(\mbox{\hyperlink{classsrsran_1_1span}{span}}<const\ uint8\_t>\{lst.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}(),\ lst.size()\})\ \{\}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00195\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It>}
\DoxyCodeLine{00196\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a3bffb2221d9e273d2227d182403a2016}{byte\_buffer}}(It\ other\_begin,\ It\ other\_end)}
\DoxyCodeLine{00197\ \ \ \{}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(other\_begin,\ other\_end))\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00200\ \ \ \ \ \}}
\DoxyCodeLine{00201\ \ \ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00204\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a82bd84dfe3119fbeb1c63e4028361aed}{byte\_buffer}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00207\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_af519f1b008b53df31f03005e4a590ae6}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00210\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a10a40af12ed4cd3da56159f069131df8}{operator=}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00213\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d2ffb4df18c0d3ddc15a68b75664b43}{operator=}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{classbytes}{bytes}})\ \textcolor{keyword}{noexcept}}
\DoxyCodeLine{00214\ \ \ \{}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classbytes}{bytes}}))\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00218\ \ \ \ \ \}}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00220\ \ \ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00223\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_aa79a5e270dbb5dd01b83c034853b9fb3}{deep\_copy}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00224\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ buf;}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keywordflow}{if}\ (ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structsrsran_1_1detail_1_1byte__buffer__segment__list_1_1node__t}{node\_t}}*\ seg\ =\ ctrl\_blk\_ptr-\/>segments.head;\ seg\ !=\ \textcolor{keyword}{nullptr};\ seg\ =\ seg-\/>next)\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\{seg-\/>data(),\ seg-\/>length()\}))\ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \}}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{keywordflow}{return}\ buf;}
\DoxyCodeLine{00235\ \ \ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00238\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\{*\textcolor{keyword}{this}\};\ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00241\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00242\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(Iterator\ begin,\ Iterator\ end)}
\DoxyCodeLine{00243\ \ \ \{}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<std::decay\_t<\textcolor{keyword}{decltype}(*begin)>,\ uint8\_t>::value\ or}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::decay\_t<\textcolor{keyword}{decltype}(*begin)>,\ \textcolor{keyword}{const}\ uint8\_t>::value,}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Iterator\ value\ type\ is\ not\ uint8\_t"{}});}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{comment}{//\ TODO:\ use\ segment-\/wise\ copy\ if\ it\ is\ a\ span.}}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ begin;\ it\ !=\ end;\ ++it)\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(*it))\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00254\ \ \ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00257\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{classbytes}{bytes}});}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00260\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a244844e979a2bf6e2bdb96574c65584b}{append}}(\textcolor{keyword}{const}\ std::initializer\_list<uint8\_t>\&\ \mbox{\hyperlink{classbytes}{bytes}})}
\DoxyCodeLine{00261\ \ \ \{}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\{\mbox{\hyperlink{classbytes}{bytes}}.begin(),\ \mbox{\hyperlink{classbytes}{bytes}}.size()\});}
\DoxyCodeLine{00263\ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00266\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}});}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00269\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}});}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00272\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ae74d9a2442b1103a2ac0852afd7f3e1a}{append}}(uint8\_t\ \textcolor{keywordtype}{byte})}
\DoxyCodeLine{00273\ \ \ \{}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}()\ or\ ctrl\_blk\_ptr-\/>segments.tail-\/>tailroom()\ ==\ 0)\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ append\_segment(DEFAULT\_FIRST\_SEGMENT\_HEADROOM))\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ \ \ \ \ ctrl\_blk\_ptr-\/>segments.tail-\/>append(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00280\ \ \ \ \ ctrl\_blk\_ptr-\/>pkt\_len++;}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00282\ \ \ \}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00285\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_af4563ca3bb9e2b8634e96ec87911c838}{append}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\&\ view)}
\DoxyCodeLine{00286\ \ \ \{}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ append\ segment\ by\ segment.}}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keyword}{auto}\ view\_segs\ =\ view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a7d683ccdd7a39bccbd6a5c37d3a3cf26}{segments}}();}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ seg\ :\ view\_segs)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(seg))\ \{}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00298\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ view);}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00301\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ae8478410e24f9b23cafda0cbabdbf403}{prepend}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{classbytes}{bytes}});}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00304\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ae8478410e24f9b23cafda0cbabdbf403}{prepend}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}});}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00308\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ae8478410e24f9b23cafda0cbabdbf403}{prepend}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}});}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00313\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ad8dbd27b3715bfe6abc890fbfd170245}{reserve\_prepend}}(\textcolor{keywordtype}{size\_t}\ nof\_bytes);}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00316\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}()\ \{\ ctrl\_blk\_ptr.reset();\ \}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00319\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a832175c27ef0d111b127c1a0bc421ec3}{trim\_head}}(\textcolor{keywordtype}{size\_t}\ nof\_bytes);}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00324\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ad94ff05447760ce113c0ee12f92cb503}{trim\_tail}}(\textcolor{keywordtype}{size\_t}\ nof\_bytes);}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00327\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\ ==\ 0;\ \}}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00330\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>pkt\_len\ :\ 0;\ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ uint8\_t\&\ \ \ \ \ \ \ back()\ \{\ \textcolor{keywordflow}{return}\ ctrl\_blk\_ptr-\/>segments.tail-\/>back();\ \}}
\DoxyCodeLine{00333\ \ \ \textcolor{keyword}{const}\ uint8\_t\&\ back()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ctrl\_blk\_ptr-\/>segments.tail-\/>back();\ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \textcolor{keyword}{const}\ uint8\_t\&\ operator[](\textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *(begin()\ +\ i);\ \}}
\DoxyCodeLine{00336\ \ \ uint8\_t\&\ \ \ \ \ \ \ operator[](\textcolor{keywordtype}{size\_t}\ i)\ \{\ \textcolor{keywordflow}{return}\ *(begin()\ +\ i);\ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ iterator\ \ \ \ \ \ \ begin()\ \{\ \textcolor{keywordflow}{return}\ iterator\{ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>segments.head\ :\ \textcolor{keyword}{nullptr},\ 0\};\ \}}
\DoxyCodeLine{00339\ \ \ const\_iterator\ cbegin()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00340\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keywordflow}{return}\ const\_iterator\{ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>segments.head\ :\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{00342\ \ \ \}}
\DoxyCodeLine{00343\ \ \ const\_iterator\ begin()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00344\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{return}\ const\_iterator\{ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>segments.head\ :\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{00346\ \ \ \}}
\DoxyCodeLine{00347\ \ \ iterator\ \ \ \ \ \ \ end()\ \{\ \textcolor{keywordflow}{return}\ iterator\{\textcolor{keyword}{nullptr},\ 0\};\ \}}
\DoxyCodeLine{00348\ \ \ const\_iterator\ end()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ const\_iterator\{\textcolor{keyword}{nullptr},\ 0\};\ \}}
\DoxyCodeLine{00349\ \ \ const\_iterator\ cend()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ const\_iterator\{\textcolor{keyword}{nullptr},\ 0\};\ \}}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00352\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_af35457b6e2f22016d8f8736ed4dd405e}{is\_contiguous}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}()\ or\ ctrl\_blk\_ptr-\/>segments.head\ ==\ ctrl\_blk\_ptr-\/>segments.tail;\ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00355\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_ad68551742e508e22eb0729f9701a6a87}{linearize}}();}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00358\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a854af8571f283c815b9b429393c5b0dd}{resize}}(\textcolor{keywordtype}{size\_t}\ new\_sz);}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00361\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{byte\_buffer\_segment\_span\_range}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a43b324249f8e1d4366bbe869fe464444}{segments}}()}
\DoxyCodeLine{00362\ \ \ \{}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a2c874a03d72343d6bd7fd30e8b9b2ff1}{byte\_buffer\_segment\_span\_range}}(ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>segments.head\ :\ \textcolor{keyword}{nullptr},\ 0,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}());}
\DoxyCodeLine{00364\ \ \ \}}
\DoxyCodeLine{00365\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{const\_byte\_buffer\_segment\_span\_range}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a43b324249f8e1d4366bbe869fe464444}{segments}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00366\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{const\_byte\_buffer\_segment\_span\_range}}(}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr}\ ?\ ctrl\_blk\_ptr-\/>segments.head\ :\ nullptr,\ 0,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}());}
\DoxyCodeLine{00369\ \ \ \}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00372\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ R>}
\DoxyCodeLine{00373\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a02c6cbc753f5908a4e21237c5001c939}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ lhs,\ \textcolor{keyword}{const}\ R\&\ r)}
\DoxyCodeLine{00374\ \ \ \{}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(lhs,\ r);}
\DoxyCodeLine{00376\ \ \ \}}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ std::enable\_if\_t<std::is\_convertible<T,\ span<const\ u\textcolor{keywordtype}{int}8\_t>>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00378\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a02c6cbc753f5908a4e21237c5001c939}{operator==}}(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ rhs)}
\DoxyCodeLine{00379\ \ \ \{}
\DoxyCodeLine{00380\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(rhs,\ r);}
\DoxyCodeLine{00381\ \ \ \}}
\DoxyCodeLine{00382\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00383\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a9d95648e141616eb82e4db1be807148c}{byte\_buffer}}\&\ lhs,\ \textcolor{keyword}{const}\ T\&\ r)}
\DoxyCodeLine{00384\ \ \ \{}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{keywordflow}{return}\ !(lhs\ ==\ r);}
\DoxyCodeLine{00386\ \ \ \}}
\DoxyCodeLine{00387\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ std::enable\_if\_t<std::is\_convertible<T,\ span<const\ u\textcolor{keywordtype}{int}8\_t>>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00388\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a9d95648e141616eb82e4db1be807148c}{byte\_buffer}}\&\ rhs)}
\DoxyCodeLine{00389\ \ \ \{}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{return}\ !(rhs\ ==\ r);}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00394\ \ \ \textcolor{keywordtype}{bool}\ has\_ctrl\_block()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ctrl\_blk\_ptr\ !=\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ node\_t*\ create\_head\_segment(\textcolor{keywordtype}{size\_t}\ headroom);}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ node\_t*\ create\_segment(\textcolor{keywordtype}{size\_t}\ headroom);}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ append\_segment(\textcolor{keywordtype}{size\_t}\ headroom\_suggestion);}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ prepend\_segment(\textcolor{keywordtype}{size\_t}\ headroom\_suggestion);}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00406\ \ \ \textcolor{keywordtype}{void}\ pop\_last\_segment()}
\DoxyCodeLine{00407\ \ \ \{}
\DoxyCodeLine{00408\ \ \ \ \ node\_t*\ tail\ =\ ctrl\_blk\_ptr-\/>segments.tail;}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keywordflow}{if}\ (tail\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00411\ \ \ \ \ \}}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{comment}{//\ Decrement\ bytes\ stored\ in\ the\ tail.}}
\DoxyCodeLine{00414\ \ \ \ \ ctrl\_blk\_ptr-\/>pkt\_len\ -\/=\ tail-\/>length();}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{comment}{//\ Remove\ tail\ from\ linked\ list.}}
\DoxyCodeLine{00417\ \ \ \ \ ctrl\_blk\_ptr-\/>segments.pop\_back();}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//\ Deallocate\ tail\ segment.}}
\DoxyCodeLine{00420\ \ \ \ \ ctrl\_blk\_ptr-\/>destroy\_node(tail);}
\DoxyCodeLine{00421\ \ \ \}}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ warn\_alloc\_failure();}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \textcolor{comment}{//\ TODO:\ Optimize.\ shared\_ptr<>\ has\ a\ lot\ of\ boilerplate\ we\ don't\ need.\ It\ is\ also\ hard\ to\ determine\ the\ size}}
\DoxyCodeLine{00426\ \ \ \textcolor{comment}{//\ of\ the\ shared\_ptr\ control\ block\ allocation\ and\ how\ much\ we\ need\ to\ discount\ in\ the\ segment.}}
\DoxyCodeLine{00427\ \ \ std::shared\_ptr<control\_block>\ ctrl\_blk\_ptr\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00428\ \};}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00436\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}}
\DoxyCodeLine{00437\ \{}
\DoxyCodeLine{00438\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00439\ \ \ \textcolor{keyword}{using\ }value\_type\ \ \ \ \ =\ byte\_buffer\_view::value\_type;}
\DoxyCodeLine{00440\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{iterator}}\ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{byte\_buffer\_view::iterator}};}
\DoxyCodeLine{00441\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{const\_iterator}}\ =\ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{byte\_buffer\_view::const\_iterator}};}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00444\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00447\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_ad5004af82afe51d7633b797aa1733cca}{byte\_buffer\_slice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\&)\ noexcept\ =\ default;}
\DoxyCodeLine{00450\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}(\mbox{\hyperlink{classsrsran_1_1span}{span}}<const\ uint8\_t>\ \mbox{\hyperlink{classbytes}{bytes}})\ :\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\{\mbox{\hyperlink{classbytes}{bytes}}\})\ \{\}}
\DoxyCodeLine{00451\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(std::initializer\_list<uint8\_t>\ \mbox{\hyperlink{classbytes}{bytes}})\ :\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(byte\_buffer\{\mbox{\hyperlink{classbytes}{bytes}}\})\ \{\}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00454\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a58a3d5f3247f95c6f85676796e2042c8}{byte\_buffer\_slice}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ buf\_)\ :\ buf(std::move(buf\_)),\ sliced\_view(buf)\ \{\}}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00457\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a767b9f994c95c5a1c2ca52b01887d0b9}{byte\_buffer\_slice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ buf\_)\ :\ buf(buf\_.\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a4874cbc94aaababa9af6e192018805a2}{copy}}()),\ sliced\_view(buf)\ \{\}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ buf\_,\ \textcolor{keywordtype}{size\_t}\ offset,\ \textcolor{keywordtype}{size\_t}\ length)\ :}
\DoxyCodeLine{00460\ \ \ \ \ buf(buf\_.\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a4874cbc94aaababa9af6e192018805a2}{copy}}()),\ sliced\_view(buf,\ offset,\ length)}
\DoxyCodeLine{00461\ \ \ \{}
\DoxyCodeLine{00462\ \ \ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00465\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a82edc0c8641f1bc8cdc33d6834bd674b}{byte\_buffer\_slice}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\&\ buf\_,\ \textcolor{keywordtype}{size\_t}\ offset,\ \textcolor{keywordtype}{size\_t}\ length)\ :}
\DoxyCodeLine{00466\ \ \ \ \ buf(std::move(buf\_)),\ sliced\_view(buf,\ offset,\ length)}
\DoxyCodeLine{00467\ \ \ \{}
\DoxyCodeLine{00468\ \ \ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ buf\_,\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}})\ :\ buf(buf\_.\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a4874cbc94aaababa9af6e192018805a2}{copy}}()),\ sliced\_view(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}})}
\DoxyCodeLine{00471\ \ \ \{}
\DoxyCodeLine{00472\ \ \ \ \ srsran\_sanity\_check(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}}.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ -\/\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\{buf\}.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ <\ (\textcolor{keywordtype}{int})buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}(),}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}byte\_buffer\_view\ is\ not\ part\ of\ the\ owned\ byte\_buffer"{}});}
\DoxyCodeLine{00474\ \ \ \}}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}(byte\_buffer\&\&\ buf\_,\ byte\_buffer\_view\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}})\ :\ buf(std::move(buf\_)),\ sliced\_view(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}})}
\DoxyCodeLine{00477\ \ \ \{}
\DoxyCodeLine{00478\ \ \ \ \ srsran\_sanity\_check(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}}.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ -\/\ byte\_buffer\_view\{buf\}.begin()\ <\ (\textcolor{keywordtype}{int})buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}(),}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}byte\_buffer\_view\ is\ not\ part\ of\ the\ owned\ byte\_buffer"{}});}
\DoxyCodeLine{00480\ \ \ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00483\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_ac08043381c8be12fd10c8ba89b4b331f}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00486\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a5879e1cb08f688beeff79350e3f8a5c3}{operator=}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00489\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a4874cbc94aaababa9af6e192018805a2}{copy}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\{*\textcolor{keyword}{this}\};\ \}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \ \ \textcolor{keywordtype}{void}\ clear()}
\DoxyCodeLine{00492\ \ \ \{}
\DoxyCodeLine{00493\ \ \ \ \ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00494\ \ \ \ \ sliced\_view\ =\ \{\};}
\DoxyCodeLine{00495\ \ \ \}}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00498\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view;\ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view;\ \}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00503\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a7ef71ef1beb92e9e3c47f8ebc5fbcf7e}{make\_slice}}(\textcolor{keywordtype}{size\_t}\ offset,\ \textcolor{keywordtype}{size\_t}\ size)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00504\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00505\ \ \ \ \ srsran\_assert(offset\ +\ size\ <=\ length(),\ \textcolor{stringliteral}{"{}Invalid\ view\ dimensions."{}});}
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keywordflow}{return}\ \{buf,\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_aa374f409b1bee0caf3c1a86bf2cebe83}{view}}(offset,\ size)\};}
\DoxyCodeLine{00507\ \ \ \}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00510\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a2d9b37bacea73af91cc2d21db8a47d90}{advance}}(\textcolor{keywordtype}{size\_t}\ offset)}
\DoxyCodeLine{00511\ \ \ \{}
\DoxyCodeLine{00512\ \ \ \ \ sliced\_view\ =\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\{sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}()\ +\ offset,\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}()\};}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00514\ \ \ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \ \ \textcolor{keywordtype}{bool}\ \ \ empty()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_ac60e89fcf20711ba93b20c382a312c24}{empty}}();\ \}}
\DoxyCodeLine{00517\ \ \ \textcolor{keywordtype}{size\_t}\ length()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}();\ \}}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \ \ \textcolor{keyword}{const}\ uint8\_t\&\ operator[](\textcolor{keywordtype}{size\_t}\ idx)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view[idx];\ \}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ iterator\ \ \ \ \ \ \ begin()\ \{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}();\ \}}
\DoxyCodeLine{00522\ \ \ const\_iterator\ begin()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}();\ \}}
\DoxyCodeLine{00523\ \ \ iterator\ \ \ \ \ \ \ end()\ \{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}();\ \}}
\DoxyCodeLine{00524\ \ \ const\_iterator\ end()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}();\ \}}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00527\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__list__span__range__impl}{const\_byte\_buffer\_segment\_span\_range}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_af02b100f46b6f59d5fbce63db4e24b76}{segments}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sliced\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a7d683ccdd7a39bccbd6a5c37d3a3cf26}{segments}}();\ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00530\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00531\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a04bb31a2c490baf905a94163b0632a58}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ lhs,\ \textcolor{keyword}{const}\ T\&\ r)}
\DoxyCodeLine{00532\ \ \ \{}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(lhs,\ r);}
\DoxyCodeLine{00534\ \ \ \}}
\DoxyCodeLine{00535\ \ \ template\ <typename\ T,\ std::enable\_if\_t<not\ is\_byte\_buffer\_range<T>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00536\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a04bb31a2c490baf905a94163b0632a58}{operator==}}(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ rhs)}
\DoxyCodeLine{00537\ \ \ \{}
\DoxyCodeLine{00538\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::compare\_byte\_buffer\_range(rhs,\ r);}
\DoxyCodeLine{00539\ \ \ \}}
\DoxyCodeLine{00540\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00541\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}\&\ lhs,\ \textcolor{keyword}{const}\ T\&\ r)}
\DoxyCodeLine{00542\ \ \ \{}
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{keywordflow}{return}\ not(lhs\ ==\ r);}
\DoxyCodeLine{00544\ \ \ \}}
\DoxyCodeLine{00545\ \ \ template\ <typename\ T,\ std::enable\_if\_t<not\ is\_byte\_buffer\_range<T>::value,\ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00546\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ T\&\ r,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_a0f98e50a4a891e04adca5928bba8b634}{byte\_buffer\_slice}}\&\ rhs)}
\DoxyCodeLine{00547\ \ \ \{}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{keywordflow}{return}\ not(rhs\ ==\ r);}
\DoxyCodeLine{00549\ \ \ \}}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00552\ \ \ byte\_buffer\ \ \ \ \ \ buf;}
\DoxyCodeLine{00553\ \ \ byte\_buffer\_view\ sliced\_view;}
\DoxyCodeLine{00554\ \};}
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00556\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{byte\_buffer::append}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\_buffer\_slice}}\&\ slice)}
\DoxyCodeLine{00557\ \{}
\DoxyCodeLine{00558\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(slice.view());}
\DoxyCodeLine{00559\ \}}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00562\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__reader}{byte\_buffer\_reader}}\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}}
\DoxyCodeLine{00563\ \{}
\DoxyCodeLine{00564\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00565\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{byte\_buffer\_view::begin}};}
\DoxyCodeLine{00566\ \ \ \textcolor{keyword}{using\ }byte\_buffer\_view::byte\_buffer\_view;}
\DoxyCodeLine{00567\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_ac60e89fcf20711ba93b20c382a312c24}{byte\_buffer\_view::empty}};}
\DoxyCodeLine{00568\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{byte\_buffer\_view::end}};}
\DoxyCodeLine{00569\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{byte\_buffer\_view::length}};}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__reader}{byte\_buffer\_reader}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ :\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}(\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \{\}}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00574\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__reader_a006bd9a098c9983bcc13d04dd854f4c2}{view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{it,\ it\_end\};\ \}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \ \ \textcolor{keyword}{const}\ uint8\_t\&\ operator*()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *it;\ \}}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ \ \ const\_iterator\ operator++()\ \{\ \textcolor{keywordflow}{return}\ ++it;\ \}}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00581\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{const\_iterator}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__reader_a8ddf63a500ff44a3491528e5c434c7dd}{operator+=}}(\textcolor{keywordtype}{size\_t}\ offset)\ \{\ \textcolor{keywordflow}{return}\ it\ +=\ offset;\ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00584\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__reader_a81af2d017b46ea4b1e7d03d9470b1fec}{split\_and\_advance}}(\textcolor{keywordtype}{size\_t}\ offset)}
\DoxyCodeLine{00585\ \ \ \{}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keyword}{auto}\ prev\_it\ =\ it;}
\DoxyCodeLine{00587\ \ \ \ \ it\ +=\ offset;}
\DoxyCodeLine{00588\ \ \ \ \ \textcolor{keywordflow}{return}\ \{prev\_it,\ it\};}
\DoxyCodeLine{00589\ \ \ \}}
\DoxyCodeLine{00590\ \};}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00593\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1byte__buffer__writer}{byte\_buffer\_writer}}}
\DoxyCodeLine{00594\ \{}
\DoxyCodeLine{00595\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00596\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer}{byte\_buffer\_writer}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ :\ buffer(\&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \{\}}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00599\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a71a3c19ef897cd34d462eed52c8cf13e}{view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *buffer;\ \}}
\DoxyCodeLine{00600\ }
\DoxyCodeLine{00602\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a698c43cd05defb783d7e582bdda40bfe}{append}}(\mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\_buffer\_view}}\ \mbox{\hyperlink{classbytes}{bytes}})\ \{\ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classbytes}{bytes}});\ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00605\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a4248c953c08b59c4126f4f7357ea6724}{append}}(\textcolor{keyword}{const}\ std::initializer\_list<uint8\_t>\&\ \mbox{\hyperlink{classbytes}{bytes}})}
\DoxyCodeLine{00606\ \ \ \{}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\{\mbox{\hyperlink{classbytes}{bytes}}.begin(),\ \mbox{\hyperlink{classbytes}{bytes}}.size()\});}
\DoxyCodeLine{00608\ \ \ \}}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00611\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_ae2b8292663cc48cc440f04e939ed7439}{append}}(\mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{classbytes}{bytes}})\ \{\ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\mbox{\hyperlink{classbytes}{bytes}});\ \}}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00614\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a772f2c568eae6f4c2aae66303423290c}{append}}(uint8\_t\ \textcolor{keywordtype}{byte})\ \{\ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(\textcolor{keywordtype}{byte});\ \}}
\DoxyCodeLine{00615\ }
\DoxyCodeLine{00616\ \ \ \mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\_NODISCARD}}\ \textcolor{keywordtype}{bool}\ append\_zeros(\textcolor{keywordtype}{size\_t}\ nof\_zeros)}
\DoxyCodeLine{00617\ \ \ \{}
\DoxyCodeLine{00618\ \ \ \ \ \textcolor{comment}{//\ TODO:\ optimize.}}
\DoxyCodeLine{00619\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ nof\_zeros;\ ++i)\ \{}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(0))\ \{}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00623\ \ \ \ \ \}}
\DoxyCodeLine{00624\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00625\ \ \ \}}
\DoxyCodeLine{00626\ }
\DoxyCodeLine{00628\ \ \ uint8\_t\&\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a95e4d9f58101d7077b2bb9eb9214a5bc}{back}}()\ \{\ \textcolor{keywordflow}{return}\ buffer-\/>back();\ \}}
\DoxyCodeLine{00629\ }
\DoxyCodeLine{00631\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_a8818b11085b9f71510ab081f0c6d6102}{length}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}();\ \}}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00634\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__writer_ad19b31e296139396621c81839a17a572}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ buffer-\/>\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}();\ \}}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00637\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}*\ buffer;}
\DoxyCodeLine{00638\ \};}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00641\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \mbox{\hyperlink{namespacesrsran_a0ea08395ea7e678fa65063f01c5d2f02}{make\_byte\_buffer}}(\textcolor{keyword}{const}\ std::string\&\ hex\_str)}
\DoxyCodeLine{00642\ \{}
\DoxyCodeLine{00643\ \ \ srsran\_assert(hex\_str.size()\ \%\ 2\ ==\ 0,\ \textcolor{stringliteral}{"{}The\ number\ of\ hex\ digits\ must\ be\ even"{}});}
\DoxyCodeLine{00644\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ ret;}
\DoxyCodeLine{00645\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ hex\_str.size();\ i\ +=\ 2)\ \{}
\DoxyCodeLine{00646\ \ \ \ \ uint8\_t\ val;}
\DoxyCodeLine{00647\ \ \ \ \ sscanf(hex\_str.data()\ +\ i,\ \textcolor{stringliteral}{"{}\%02hhX"{}},\ \&val);}
\DoxyCodeLine{00648\ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ ret.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a190484f4224c88acb2f1b3334b28421b}{append}}(val))\ \{}
\DoxyCodeLine{00649\ \ \ \ \ \ \ ret.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00651\ \ \ \ \ \}}
\DoxyCodeLine{00652\ \ \ \}}
\DoxyCodeLine{00653\ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00654\ \}}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00662\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ByteBufferType>}
\DoxyCodeLine{00663\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a25b3f3ac88ceac35444d218355d229f9}{copy\_segments}}(\textcolor{keyword}{const}\ ByteBufferType\&\ src,\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ dst)}
\DoxyCodeLine{00664\ \{}
\DoxyCodeLine{00665\ \ \ \textcolor{keywordtype}{size\_t}\ bytes\_copied\ \ \ \ =\ 0;}
\DoxyCodeLine{00666\ \ \ \textcolor{keywordtype}{size\_t}\ bytes\_remaining\ =\ std::min(src.length(),\ dst.\mbox{\hyperlink{classsrsran_1_1span_a251574a211e02a8fea2684eac784fb73}{size\_bytes}}());}
\DoxyCodeLine{00667\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ src\_segment\ :\ src.segments())\ \{}
\DoxyCodeLine{00668\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ block\_size\ \ =\ std::min(bytes\_remaining,\ src\_segment.size());}
\DoxyCodeLine{00669\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ dst\_segment\ =\ dst.\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(bytes\_copied,\ block\_size);}
\DoxyCodeLine{00670\ \ \ \ \ std::copy(src\_segment.begin(),\ src\_segment.begin()\ +\ block\_size,\ dst\_segment.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}());}
\DoxyCodeLine{00671\ \ \ \ \ bytes\_copied\ +=\ block\_size;}
\DoxyCodeLine{00672\ \ \ \ \ bytes\_remaining\ -\/=\ block\_size;}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_remaining\ ==\ 0)\ \{}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00675\ \ \ \ \ \}}
\DoxyCodeLine{00676\ \ \ \}}
\DoxyCodeLine{00677\ \ \ \textcolor{keywordflow}{return}\ bytes\_copied;}
\DoxyCodeLine{00678\ \}}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00691\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a06e71b6c89d45f7936dbec73a200f49c}{to\_span}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ src,\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ tmp\_mem)}
\DoxyCodeLine{00692\ \{}
\DoxyCodeLine{00693\ \ \ \textcolor{comment}{//\ empty\ buffer}}
\DoxyCodeLine{00694\ \ \ \textcolor{keywordflow}{if}\ (src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}())\ \{}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00696\ \ \ \}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \textcolor{comment}{//\ is\ contiguous:\ shortcut\ without\ copy}}
\DoxyCodeLine{00699\ \ \ \textcolor{keywordflow}{if}\ (src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_af35457b6e2f22016d8f8736ed4dd405e}{is\_contiguous}}())\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keywordflow}{return}\ *src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a43b324249f8e1d4366bbe869fe464444}{segments}}().begin();}
\DoxyCodeLine{00701\ \ \ \}}
\DoxyCodeLine{00702\ \ \ \textcolor{comment}{//\ non-\/contiguous:\ copy\ required}}
\DoxyCodeLine{00703\ \ \ srsran\_assert(src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\ <=\ tmp\_mem.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Insufficient\ temporary\ memory\ to\ fit\ the\ byte\_buffer.\ buffer\_size=\{\},\ tmp\_size=\{\}"{}},}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}(),}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tmp\_mem.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}());}
\DoxyCodeLine{00707\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ result\ =\ \{tmp\_mem.\mbox{\hyperlink{classsrsran_1_1span_a451a209648781b54503ae671408e16b8}{data}}(),\ src.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\};}
\DoxyCodeLine{00708\ \ \ \mbox{\hyperlink{namespacesrsran_a25b3f3ac88ceac35444d218355d229f9}{copy\_segments}}(src,\ result);}
\DoxyCodeLine{00709\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00710\ \}}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \}\ \textcolor{comment}{//\ namespace\ srsran}}
\DoxyCodeLine{00713\ }
\DoxyCodeLine{00714\ \textcolor{keyword}{namespace\ }fmt\ \{}
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00717\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00718\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{namespacesrsran}{srsran}}::byte\_buffer\_view>\ \{}
\DoxyCodeLine{00719\ \ \ \textcolor{keyword}{enum}\ \{\ hexadecimal,\ binary\ \}\ mode\ =\ hexadecimal;}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00721\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{00722\ \ \ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())}
\DoxyCodeLine{00723\ \ \ \{}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ ctx.begin();}
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ ctx.end()\ and\ *it\ !=\ \textcolor{charliteral}{'\}'})\ \{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*it\ ==\ \textcolor{charliteral}{'b'})\ \{}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ mode\ =\ binary;}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00729\ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{00730\ \ \ \ \ \}}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00732\ \ \ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{00735\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{srsran::byte\_buffer\_view}}\&\ buf,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(std::declval<FormatContext>().out())}
\DoxyCodeLine{00736\ \ \ \{}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ hexadecimal)\ \{}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_to(ctx.out(),\ \textcolor{stringliteral}{"{}\{:0>2x\}"{}},\ fmt::join(buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}(),\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}(),\ \textcolor{stringliteral}{"{}\ "{}}));}
\DoxyCodeLine{00739\ \ \ \ \ \}}
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_to(ctx.out(),\ \textcolor{stringliteral}{"{}\{:0>8b\}"{}},\ fmt::join(buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6878ab1403493852ca6edd1b91a87ab6}{begin}}(),\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a6972dc15ca1c582b963dc10e06d77c26}{end}}(),\ \textcolor{stringliteral}{"{}\ "{}}));}
\DoxyCodeLine{00741\ \ \ \}}
\DoxyCodeLine{00742\ \};}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00745\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00746\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{namespacesrsran}{srsran}}::byte\_buffer>\ \{}
\DoxyCodeLine{00747\ \ \ \textcolor{keyword}{enum}\ \{\ hexadecimal,\ binary\ \}\ mode\ =\ hexadecimal;}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{00750\ \ \ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())}
\DoxyCodeLine{00751\ \ \ \{}
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ ctx.begin();}
\DoxyCodeLine{00753\ \ \ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ ctx.end()\ and\ *it\ !=\ \textcolor{charliteral}{'\}'})\ \{}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*it\ ==\ \textcolor{charliteral}{'b'})\ \{}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ mode\ =\ binary;}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00757\ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{00758\ \ \ \ \ \}}
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00760\ \ \ \}}
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{00763\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{srsran::byte\_buffer}}\&\ buf,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(std::declval<FormatContext>().out())}
\DoxyCodeLine{00764\ \ \ \{}
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ hexadecimal)\ \{}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_to(ctx.out(),\ \textcolor{stringliteral}{"{}\{:0>2x\}"{}},\ fmt::join(buf.begin(),\ buf.end(),\ \textcolor{stringliteral}{"{}\ "{}}));}
\DoxyCodeLine{00767\ \ \ \ \ \}}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_to(ctx.out(),\ \textcolor{stringliteral}{"{}\{:0>8b\}"{}},\ fmt::join(buf.begin(),\ buf.end(),\ \textcolor{stringliteral}{"{}\ "{}}));}
\DoxyCodeLine{00769\ \ \ \}}
\DoxyCodeLine{00770\ \};}
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00773\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00774\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{namespacesrsran}{srsran}}::byte\_buffer\_slice>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structformatter}{formatter}}<srsran::byte\_buffer\_view>\ \{}
\DoxyCodeLine{00775\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{00776\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{srsran::byte\_buffer\_slice}}\&\ buf,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(std::declval<FormatContext>().out())}
\DoxyCodeLine{00777\ \ \ \{}
\DoxyCodeLine{00778\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<srsran::byte\_buffer\_view>::format}}(buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice_aa0f9cc1c31982d12d935d10ef9e3a5f9}{view}}(),\ ctx);}
\DoxyCodeLine{00779\ \ \ \}}
\DoxyCodeLine{00780\ \};}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \}\ \textcolor{comment}{//\ namespace\ fmt}}

\end{DoxyCode}
