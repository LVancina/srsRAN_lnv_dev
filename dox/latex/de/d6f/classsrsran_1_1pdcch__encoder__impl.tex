\doxysection{srsran\+::pdcch\+\_\+encoder\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pdcch__encoder__impl}{}\label{classsrsran_1_1pdcch__encoder__impl}\index{srsran::pdcch\_encoder\_impl@{srsran::pdcch\_encoder\_impl}}


PDCCH encoder, as per TS38.\+212 Section 7.\+3.  




{\ttfamily \#include $<$pdcch\+\_\+encoder\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::pdcch\+\_\+encoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{da/d94/classsrsran_1_1pdcch__encoder__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pdcch\+\_\+encoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{d3/d26/classsrsran_1_1pdcch__encoder__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcch__encoder__impl_ab073fcd412c0558d323f100451722de9}{pdcch\+\_\+encoder\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc24c\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__interleaver}{polar\+\_\+interleaver}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{interleaver\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__allocator}{polar\+\_\+allocator}} $>$ alloc\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__code}{polar\+\_\+code}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{code\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__encoder}{polar\+\_\+encoder}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__rate__matcher}{polar\+\_\+rate\+\_\+matcher}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcch__encoder__impl_a328dbf4585eb760e2b74540640742f47}{encode}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ data, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdcch__encoder_1_1config__t}{config\+\_\+t}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Encodes a PDCCH message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcch__encoder}{srsran\+::pdcch\+\_\+encoder}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pdcch\+\_\+encoder} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PDCCH encoder, as per TS38.\+212 Section 7.\+3. 

For the PHY Downlink Control CHannel (PDCCH) it carries out CRC attachment, Polar encoding and rate matching. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pdcch__encoder__impl_ab073fcd412c0558d323f100451722de9}\label{classsrsran_1_1pdcch__encoder__impl_ab073fcd412c0558d323f100451722de9} 
\index{srsran::pdcch\_encoder\_impl@{srsran::pdcch\_encoder\_impl}!pdcch\_encoder\_impl@{pdcch\_encoder\_impl}}
\index{pdcch\_encoder\_impl@{pdcch\_encoder\_impl}!srsran::pdcch\_encoder\_impl@{srsran::pdcch\_encoder\_impl}}
\doxysubsubsection{\texorpdfstring{pdcch\_encoder\_impl()}{pdcch\_encoder\_impl()}}
{\footnotesize\ttfamily srsran\+::pdcch\+\_\+encoder\+\_\+impl\+::pdcch\+\_\+encoder\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} $>$}]{crc24c\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__interleaver}{polar\+\_\+interleaver}} $>$}]{interleaver\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__allocator}{polar\+\_\+allocator}} $>$}]{alloc\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__code}{polar\+\_\+code}} $>$}]{code\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__encoder}{polar\+\_\+encoder}} $>$}]{encoder\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__rate__matcher}{polar\+\_\+rate\+\_\+matcher}} $>$}]{rm\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00097\ \ \ \ \ crc24c(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc24c\_}})),}
\DoxyCodeLine{00098\ \ \ \ \ interleaver(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{interleaver\_}})),}
\DoxyCodeLine{00099\ \ \ \ \ alloc(std::move(alloc\_)),}
\DoxyCodeLine{00100\ \ \ \ \ code(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{code\_}})),}
\DoxyCodeLine{00101\ \ \ \ \ encoder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_}})),}
\DoxyCodeLine{00102\ \ \ \ \ rm(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\_}}))}
\DoxyCodeLine{00103\ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ report\_fatal\_error\_if\_not(crc24c,\ \textcolor{stringliteral}{"{}Invalid\ CRC\ calculator."{}});}
\DoxyCodeLine{00105\ \ \ \ \ report\_fatal\_error\_if\_not(crc24c-\/>get\_generator\_poly()\ ==\ crc\_generator\_poly::CRC24C,\ \textcolor{stringliteral}{"{}Invalid\ CRC\ calculator."{}});}
\DoxyCodeLine{00106\ \ \ \ \ report\_fatal\_error\_if\_not(interleaver,\ \textcolor{stringliteral}{"{}Invalid\ polar\ interleaver."{}});}
\DoxyCodeLine{00107\ \ \ \ \ report\_fatal\_error\_if\_not(alloc,\ \textcolor{stringliteral}{"{}Invalid\ polar\ allocator."{}});}
\DoxyCodeLine{00108\ \ \ \ \ report\_fatal\_error\_if\_not(code,\ \textcolor{stringliteral}{"{}Invalid\ polar\ code."{}});}
\DoxyCodeLine{00109\ \ \ \ \ report\_fatal\_error\_if\_not(encoder,\ \textcolor{stringliteral}{"{}Invalid\ polar\ encoder."{}});}
\DoxyCodeLine{00110\ \ \ \ \ report\_fatal\_error\_if\_not(rm,\ \textcolor{stringliteral}{"{}Invalid\ polar\ rate\ matcher."{}});}
\DoxyCodeLine{00111\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pdcch__encoder__impl_a328dbf4585eb760e2b74540640742f47}\label{classsrsran_1_1pdcch__encoder__impl_a328dbf4585eb760e2b74540640742f47} 
\index{srsran::pdcch\_encoder\_impl@{srsran::pdcch\_encoder\_impl}!encode@{encode}}
\index{encode@{encode}!srsran::pdcch\_encoder\_impl@{srsran::pdcch\_encoder\_impl}}
\doxysubsubsection{\texorpdfstring{encode()}{encode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcch\+\_\+encoder\+\_\+impl\+::encode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{encoded,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{data,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdcch__encoder_1_1config__t}{config\+\_\+t}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Encodes a PDCCH message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & -\/ unencoded message bits \\
\hline
\mbox{\texttt{ out}}  & {\em encoded} & -\/ encoded bits \\
\hline
\mbox{\texttt{ in}}  & {\em config} & -\/ encoder configuration\\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
size of + 24 bits of CRC gives K parameter for the Polar encoder 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1pdcch__encoder_aee2ddaf6008b4c6e2d169abc50badc35}{srsran\+::pdcch\+\_\+encoder}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \{}
\DoxyCodeLine{00082\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}.size()\ >=\ config.E,\ \textcolor{stringliteral}{"{}Output\ data\ vector\ is\ too\ small\ to\ store\ encoded\ bits"{}});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ Configure\ Polar\ encoder}}
\DoxyCodeLine{00085\ \ \ uint16\_t\ K\ =\ data.size()\ +\ CRC\_LEN;}
\DoxyCodeLine{00086\ \ \ code-\/>set(K,\ config.E,\ \mbox{\hyperlink{classsrsran_1_1polar__code_a126fc8fdd5ad1467d8e495f29c9b81d6}{polar\_code::NMAX\_LOG}}\ -\/\ 1,\ \mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dca4a153ad7c410eb31b5f30ddc19128119}{polar\_code\_ibil::not\_present}});}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ Attach\ CRC.\ Allocate\ extra\ L\ bits\ for\ leading\ 1s\ used\ in\ CRC\ calculation\ according\ to\ TS38.312\ Section\ 7.3.2.}}
\DoxyCodeLine{00089\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ c\ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(temp\_c).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(K\ +\ CRC\_LEN);}
\DoxyCodeLine{00090\ \ \ crc\_attach(c,\ data,\ config.rnti);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{comment}{//\ Encode}}
\DoxyCodeLine{00093\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ d\ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(temp\_d).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(code-\/>get\_N());}
\DoxyCodeLine{00094\ \ \ channel\_coding(d,\ c);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ Rate\ match}}
\DoxyCodeLine{00097\ \ \ rate\_matching(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}},\ d);}
\DoxyCodeLine{00098\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pdcch\+\_\+encoder\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pdcch\+\_\+encoder\+\_\+impl.\+cpp\end{DoxyCompactItemize}
