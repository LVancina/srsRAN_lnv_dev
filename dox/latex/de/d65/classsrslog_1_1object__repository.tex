\doxysection{srslog\+::object\+\_\+repository\texorpdfstring{$<$}{<} K, V \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrslog_1_1object__repository}{}\label{classsrslog_1_1object__repository}\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}


{\ttfamily \#include $<$object\+\_\+repository.\+h$>$}



Inheritance diagram for srslog\+::object\+\_\+repository\texorpdfstring{$<$}{<} K, V \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d45/classsrslog_1_1object__repository__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srslog\+::object\+\_\+repository\texorpdfstring{$<$}{<} K, V \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{dc/da5/classsrslog_1_1object__repository__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository_a0c43ce69b044c0bf4fb19170a8ad3ab7}{insert}} (const K \&key, V \&\&value)
\item 
{\footnotesize template$<$typename... Args$>$ }\\V \& \mbox{\hyperlink{classsrslog_1_1object__repository_ac0878d305f1bf6f564aee3b9fefc1f03}{emplace}} (Args \&\&... args)
\item 
V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository_a800b05a247d64fec8ea7420ca0ee5a7f}{find}} (const K \&key)
\item 
const V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository_ae11ac55f330509ab8f438a6b5f5de160}{find}} (const K \&key) const
\item 
std\+::vector$<$ V \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classsrslog_1_1object__repository_abb2710c7c2c18069654aed32aa12c455}{contents}} ()
\begin{DoxyCompactList}\small\item\em Returns a copy of the contents of the repository. \end{DoxyCompactList}\item 
std\+::vector$<$ const V \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classsrslog_1_1object__repository_a86e8637fd233ce69b5775b0d4acf681a}{contents}} () const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename K, typename V$>$\newline
class srslog\+::object\+\_\+repository$<$ K, V $>$}
This template class implements a very basic object repository with arbitrary key and value types. It allows registering new objects of type V indexed by key K, no element removal supported. NOTE\+: Thread safe class. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrslog_1_1object__repository_abb2710c7c2c18069654aed32aa12c455}\label{classsrslog_1_1object__repository_abb2710c7c2c18069654aed32aa12c455} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!contents@{contents}}
\index{contents@{contents}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{contents()}{contents()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
std\+::vector$<$ V \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::contents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns a copy of the contents of the repository. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ std::vector<V*>\ data;}
\DoxyCodeLine{00085\ \ \ \ \ data.reserve(repo.size());}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ elem\ :\ repo)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ data.push\_back(\&elem.second);}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordflow}{return}\ data;}
\DoxyCodeLine{00091\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1object__repository_a86e8637fd233ce69b5775b0d4acf681a}\label{classsrslog_1_1object__repository_a86e8637fd233ce69b5775b0d4acf681a} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!contents@{contents}}
\index{contents@{contents}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{contents()}{contents()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
std\+::vector$<$ const V \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::contents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ std::vector<const\ V*>\ data;}
\DoxyCodeLine{00097\ \ \ \ \ data.reserve(repo.size());}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ elem\ :\ repo)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ data.push\_back(\&elem.second);}
\DoxyCodeLine{00100\ \ \ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ data;}
\DoxyCodeLine{00103\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1object__repository_ac0878d305f1bf6f564aee3b9fefc1f03}\label{classsrslog_1_1object__repository_ac0878d305f1bf6f564aee3b9fefc1f03} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!emplace@{emplace}}
\index{emplace@{emplace}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
template$<$typename... Args$>$ \\
V \& \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::emplace (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inserts a new entry in-\/place into the repository if there is no element with the specified key. Returns a reference to the inserted element or to the already existing element if no insertion happened. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ insertion\ =\ repo.emplace(std::forward<Args>(args)...);}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{return}\ insertion.first-\/>second;}
\DoxyCodeLine{00062\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1object__repository_a800b05a247d64fec8ea7420ca0ee5a7f}\label{classsrslog_1_1object__repository_a800b05a247d64fec8ea7420ca0ee5a7f} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!find@{find}}
\index{find@{find}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{find()}{find()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::find (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Finds a value with the specified key in the repository. Returns a pointer to the value, otherwise nullptr if not found. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ it\ =\ repo.find(key);}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{return}\ (it\ !=\ repo.end())\ ?\ \&it-\/>second\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1object__repository_ae11ac55f330509ab8f438a6b5f5de160}\label{classsrslog_1_1object__repository_ae11ac55f330509ab8f438a6b5f5de160} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!find@{find}}
\index{find@{find}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{find()}{find()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
const V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::find (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ \ it\ =\ repo.find(key);}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{return}\ (it\ !=\ repo.cend())\ ?\ \&it-\/>second\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00077\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1object__repository_a0c43ce69b044c0bf4fb19170a8ad3ab7}\label{classsrslog_1_1object__repository_a0c43ce69b044c0bf4fb19170a8ad3ab7} 
\index{srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}!insert@{insert}}
\index{insert@{insert}!srslog::object\_repository$<$ K, V $>$@{srslog::object\_repository$<$ K, V $>$}}
\doxysubsubsection{\texorpdfstring{insert()}{insert()}}
{\footnotesize\ttfamily template$<$typename K , typename V $>$ \\
V \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1object__repository}{srslog\+::object\+\_\+repository}}$<$ K, V $>$\+::insert (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{V \&\&}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inserts a new entry into the repository. A pointer to the new entry is returned or nullptr when the key already exists. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ detail::scoped\_lock\ lock(m);}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ insertion\ =\ repo.emplace(key,\ std::move(value));}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (!insertion.second)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ \&insertion.first-\/>second;}
\DoxyCodeLine{00051\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/srslog/object\+\_\+repository.\+h\end{DoxyCompactItemize}
