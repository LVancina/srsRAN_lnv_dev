\doxysection{srsran\+::ue Class Reference}
\hypertarget{classsrsran_1_1ue}{}\label{classsrsran_1_1ue}\index{srsran::ue@{srsran::ue}}


Collaboration diagram for srsran\+::ue\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{d6/da9/classsrsran_1_1ue__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ue_a3223e6e18398296952f0a73705d6ab46}{ue}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ue__creation__command}{ue\+\_\+creation\+\_\+command}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}})
\item 
\Hypertarget{classsrsran_1_1ue_a835dda2644f573b00778d7afc6ef5b8a}\label{classsrsran_1_1ue_a835dda2644f573b00778d7afc6ef5b8a} 
{\bfseries ue} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue}{ue}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1ue_aa3313b66a607f9a04657e3cd9aaa0a14}\label{classsrsran_1_1ue_aa3313b66a607f9a04657e3cd9aaa0a14} 
{\bfseries ue} (\mbox{\hyperlink{classsrsran_1_1ue}{ue}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1ue_a118e8313ea08a29de37c374992593266}\label{classsrsran_1_1ue_a118e8313ea08a29de37c374992593266} 
\mbox{\hyperlink{classsrsran_1_1ue}{ue}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue}{ue}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1ue_a893648b69b03a0674892082fffaa5e9c}\label{classsrsran_1_1ue_a893648b69b03a0674892082fffaa5e9c} 
\mbox{\hyperlink{classsrsran_1_1ue}{ue}} \& {\bfseries operator=} (\mbox{\hyperlink{classsrsran_1_1ue}{ue}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_ae02d4673803222f8b6b494a1a893f47d}{slot\+\_\+indication}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} sl\+\_\+tx)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a900eb2fdbd79a50dfb97ac54da34b550}{deactivate}} ()
\item 
\mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1ue_a2a1ad0649b5d1df96188a7f72cfc4ead}{find\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1ue_a9585141fc769e53fc2225cbf236d4696}{find\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& \mbox{\hyperlink{classsrsran_1_1ue_a80a02c52f95845267a1542233eb81ef0}{get\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a43119bc16f40f319a0f1687fea2b1ff0}{ue\+\_\+cell\+\_\+index\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+cell\+\_\+index}})
\begin{DoxyCompactList}\small\item\em Fetch UE cell based on UE-\/specific cell identifier. E.\+g. PCell corresponds to ue\+\_\+cell\+\_\+index==0. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& \mbox{\hyperlink{classsrsran_1_1ue_a594dc4f71bae7ea42cc1386726ab855a}{get\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a43119bc16f40f319a0f1687fea2b1ff0}{ue\+\_\+cell\+\_\+index\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+cell\+\_\+index}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& \mbox{\hyperlink{classsrsran_1_1ue_a731245d82c06b3498ca7808f6f308687}{get\+\_\+pcell}} ()
\begin{DoxyCompactList}\small\item\em Fetch UE PCell. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& \mbox{\hyperlink{classsrsran_1_1ue_a08941bbabcd74a9edeaa387591ce5354}{get\+\_\+pcell}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_a9de6f41dc6573d6d299dcd5e6872e2c0}{nof\+\_\+cells}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Number of cells configured for the UE. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue_a076d514a26fac147ebf82b95171ae7eb}{is\+\_\+ca\+\_\+enabled}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a74f7191bea666ee5ac81bc940bcb9c05}{activate\+\_\+cells}} (\mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ MAX\+\_\+\+NOF\+\_\+\+DU\+\_\+\+CELLS $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{activ\+\_\+bitmap}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_afe6ffa6b3643cc597b1cf5ac30aec524}{handle\+\_\+sr\+\_\+indication}} ()
\begin{DoxyCompactList}\small\item\em Handle received SR indication. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a8f374bc3743fcdd79b84df74c242ae06}{reset\+\_\+sr\+\_\+indication}} ()
\begin{DoxyCompactList}\small\item\em Once an UL grant is given, the SR status of the UE must be reset. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a79028b53799d4031263027393f80ab89}{handle\+\_\+bsr\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__bsr__indication__message}{ul\+\_\+bsr\+\_\+indication\+\_\+message}} \&msg)
\begin{DoxyCompactList}\small\item\em Handles received BSR indication by updating UE UL logical channel states. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_ab06cee5ce80c446d93cac399c09a23b5}{handle\+\_\+ul\+\_\+n\+\_\+ta\+\_\+update\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index, \mbox{\hyperlink{classfloat}{float}} ul\+\_\+sinr, \mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\+\_\+ta\+\_\+diff}})
\begin{DoxyCompactList}\small\item\em Handles received N\+\_\+\+TA update indication by forwarding it to Timing Advance manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a14fb4b7ac6be46ef56289e76644e52b5}{handle\+\_\+dl\+\_\+mac\+\_\+ce\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__mac__ce__indication}{dl\+\_\+mac\+\_\+ce\+\_\+indication}} \&msg)
\begin{DoxyCompactList}\small\item\em Handles MAC CE indication. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a3a64e05a0ddbd8e891b9e3d9974f6f17}{handle\+\_\+dl\+\_\+buffer\+\_\+state\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__buffer__state__indication__message}{dl\+\_\+buffer\+\_\+state\+\_\+indication\+\_\+message}} \&msg)
\begin{DoxyCompactList}\small\item\em Handles DL Buffer State indication. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue_a54b15f89d5212b693b13d56d606e0eea}{handle\+\_\+reconfiguration\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ue__reconf__command}{ue\+\_\+reconf\+\_\+command}} \&params)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue_ab3cc9e4be962ce4f7a6b034d4ce27e7c}{has\+\_\+pending\+\_\+dl\+\_\+newtx\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks if there are DL pending bytes that are yet to be allocated in a DL HARQ. This method is faster than computing {\ttfamily \doxylink{classsrsran_1_1ue_afc6f3cfa61e50764d9123477048a9293}{pending\+\_\+dl\+\_\+newtx\+\_\+bytes()}} \texorpdfstring{$>$}{>} 0. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue_ad82e99f6833b42a830801f92bf9eac61}{has\+\_\+pending\+\_\+dl\+\_\+newtx\+\_\+bytes}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks if there are DL pending bytes for a specific LCID that are yet to be allocated in a DL HARQ. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue_a009850d92300e2137c65a21030ec7c1c}{is\+\_\+conres\+\_\+ce\+\_\+pending}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Whether MAC Con\+Res CE is pending. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_afc6f3cfa61e50764d9123477048a9293}{pending\+\_\+dl\+\_\+newtx\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Computes the number of DL pending bytes that are not already allocated in a DL HARQ. The value is used to derive the required transport block size for an DL grant. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_a19dc839b5e571e4179427b4a17ddf996}{pending\+\_\+dl\+\_\+srb0\+\_\+newtx\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Computes the number of DL pending bytes that are not already allocated in a DL HARQ for SRB0. The value is used to derive the required transport block size for an DL grant. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_aa85bfbd531157b05c894d20460782a60}{pending\+\_\+ul\+\_\+newtx\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Computes the number of UL pending bytes that are not already allocated in a UL HARQ. The value is used to derive the required transport block size for an UL grant. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue_a04b37df70e09bdd84ba955b8cba4d38b}{has\+\_\+pending\+\_\+sr}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns whether a SR indication handling is pending. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_a66338f2e37d78c01ea60b844d27fd806}{build\+\_\+dl\+\_\+transport\+\_\+block\+\_\+info}} (\mbox{\hyperlink{structsrsran_1_1dl__msg__tb__info}{dl\+\_\+msg\+\_\+tb\+\_\+info}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\+\_\+info}}, \mbox{\hyperlink{classunsigned}{unsigned}} tb\+\_\+size\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em Defines the list of sub\+PDUs, including LCID and payload size, that will compose the transport block. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue_ad31090f0d866dc8a3397931322afdfa5}{build\+\_\+dl\+\_\+srb0\+\_\+transport\+\_\+block\+\_\+info}} (\mbox{\hyperlink{structsrsran_1_1dl__msg__tb__info}{dl\+\_\+msg\+\_\+tb\+\_\+info}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\+\_\+info}}, \mbox{\hyperlink{classunsigned}{unsigned}} tb\+\_\+size\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em Defines the list of sub\+PDUs, including LCID and payload size, that will compose the transport block for SRB0. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ue_ae075167e052b576ac8d711b180270fdc}\label{classsrsran_1_1ue_ae075167e052b576ac8d711b180270fdc} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} {\bfseries ue\+\_\+index}
\item 
\Hypertarget{classsrsran_1_1ue_a94b1d756572da31f9992994ebf2cce78}\label{classsrsran_1_1ue_a94b1d756572da31f9992994ebf2cce78} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} {\bfseries crnti}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ue_a3223e6e18398296952f0a73705d6ab46}\label{classsrsran_1_1ue_a3223e6e18398296952f0a73705d6ab46} 
\index{srsran::ue@{srsran::ue}!ue@{ue}}
\index{ue@{ue}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{ue()}{ue()}}
{\footnotesize\ttfamily ue\+::ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ue__creation__command}{ue\+\_\+creation\+\_\+command}} \&}]{cmd }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00030\ \ \ ue\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg.ue\_index),}
\DoxyCodeLine{00031\ \ \ crnti(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg.crnti),}
\DoxyCodeLine{00032\ \ \ expert\_cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg.expert\_cfg()),}
\DoxyCodeLine{00033\ \ \ cell\_cfg\_common(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg.pcell\_cfg().cell\_cfg\_common),}
\DoxyCodeLine{00034\ \ \ ue\_ded\_cfg(\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg),}
\DoxyCodeLine{00035\ \ \ harq\_timeout\_notif(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.harq\_timeout\_notifier,\ ue\_index),}
\DoxyCodeLine{00036\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}SCHED"{}})),}
\DoxyCodeLine{00037\ \ \ ta\_mgr(expert\_cfg,\ cell\_cfg\_common.ul\_cfg\_common.init\_ul\_bwp.generic\_params.scs,\ \&dl\_lc\_ch\_mgr)}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Apply\ configuration.}}
\DoxyCodeLine{00040\ \ \ handle\_reconfiguration\_request(\mbox{\hyperlink{structsrsran_1_1ue__reconf__command}{ue\_reconf\_command}}\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg\});}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ cell\ :\ ue\_du\_cells)\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordflow}{if}\ (cell\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ cell-\/>set\_fallback\_state(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.starts\_in\_fallback);}
\DoxyCodeLine{00045\ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ue_a74f7191bea666ee5ac81bc940bcb9c05}\label{classsrsran_1_1ue_a74f7191bea666ee5ac81bc940bcb9c05} 
\index{srsran::ue@{srsran::ue}!activate\_cells@{activate\_cells}}
\index{activate\_cells@{activate\_cells}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{activate\_cells()}{activate\_cells()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::activate\+\_\+cells (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ MAX\+\_\+\+NOF\+\_\+\+DU\+\_\+\+CELLS $>$}]{activ\+\_\+bitmap }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \{\}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_ad31090f0d866dc8a3397931322afdfa5}\label{classsrsran_1_1ue_ad31090f0d866dc8a3397931322afdfa5} 
\index{srsran::ue@{srsran::ue}!build\_dl\_srb0\_transport\_block\_info@{build\_dl\_srb0\_transport\_block\_info}}
\index{build\_dl\_srb0\_transport\_block\_info@{build\_dl\_srb0\_transport\_block\_info}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{build\_dl\_srb0\_transport\_block\_info()}{build\_dl\_srb0\_transport\_block\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} ue\+::build\+\_\+dl\+\_\+srb0\+\_\+transport\+\_\+block\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__msg__tb__info}{dl\+\_\+msg\+\_\+tb\+\_\+info}} \&}]{tb\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tb\+\_\+size\+\_\+bytes }\end{DoxyParamCaption})}



Defines the list of sub\+PDUs, including LCID and payload size, that will compose the transport block for SRB0. 

\begin{DoxyReturn}{Returns}
Returns the number of bytes reserved in the TB for sub\+PDUs (other than padding). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00180\ \{}
\DoxyCodeLine{00181\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ =\ 0;}
\DoxyCodeLine{00182\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ +=\ \mbox{\hyperlink{namespacesrsran_aed42d74c88ec1afaaec74f9f30ba6d38}{allocate\_ue\_con\_res\_id\_mac\_ce}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_info}},\ dl\_lc\_ch\_mgr,\ tb\_size\_bytes);}
\DoxyCodeLine{00183\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ +=\ \mbox{\hyperlink{namespacesrsran_acde612b141c7c1fe5b09da768422ad23}{allocate\_mac\_sdus}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_info}},\ dl\_lc\_ch\_mgr,\ tb\_size\_bytes\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}});}
\DoxyCodeLine{00184\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}};}
\DoxyCodeLine{00185\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a66338f2e37d78c01ea60b844d27fd806}\label{classsrsran_1_1ue_a66338f2e37d78c01ea60b844d27fd806} 
\index{srsran::ue@{srsran::ue}!build\_dl\_transport\_block\_info@{build\_dl\_transport\_block\_info}}
\index{build\_dl\_transport\_block\_info@{build\_dl\_transport\_block\_info}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{build\_dl\_transport\_block\_info()}{build\_dl\_transport\_block\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} ue\+::build\+\_\+dl\+\_\+transport\+\_\+block\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__msg__tb__info}{dl\+\_\+msg\+\_\+tb\+\_\+info}} \&}]{tb\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tb\+\_\+size\+\_\+bytes }\end{DoxyParamCaption})}



Defines the list of sub\+PDUs, including LCID and payload size, that will compose the transport block. 

\begin{DoxyReturn}{Returns}
Returns the number of bytes reserved in the TB for sub\+PDUs (other than padding). 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
Excludes SRB0. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00172\ \{}
\DoxyCodeLine{00173\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ =\ 0;}
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ +=\ \mbox{\hyperlink{namespacesrsran_aa40765f29b6f83cd1cd2abd4a9c830ab}{allocate\_mac\_ces}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_info}},\ dl\_lc\_ch\_mgr,\ tb\_size\_bytes);}
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}}\ +=\ \mbox{\hyperlink{namespacesrsran_acde612b141c7c1fe5b09da768422ad23}{allocate\_mac\_sdus}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_info}},\ dl\_lc\_ch\_mgr,\ tb\_size\_bytes\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}});}
\DoxyCodeLine{00176\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_subpdu\_bytes}};}
\DoxyCodeLine{00177\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a900eb2fdbd79a50dfb97ac54da34b550}\label{classsrsran_1_1ue_a900eb2fdbd79a50dfb97ac54da34b550} 
\index{srsran::ue@{srsran::ue}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ue\+::deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00062\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Disable\ DL\ DRBs.}}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ lcid\ =\ LCID\_MIN\_DRB;\ lcid\ <=\ LCID\_MAX\_DRB;\ lcid++)\ \{}
\DoxyCodeLine{00065\ \ \ \ \ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50}{set\_status}}((\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\_t}})lcid,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ Disable\ UL\ SRBs\ and\ DRBs.}}
\DoxyCodeLine{00069\ \ \ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_a137c7c7a278f552578f8b8559b0ddfdf}{deactivate}}();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ Stop\ UL\ HARQ\ retransmissions.}}
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{//\ Note:\ We\ do\ no\ stop\ DL\ retransmissions\ because\ we\ are\ still\ relying\ on\ DL\ to\ send\ a\ potential\ RRC\ Release.}}
\DoxyCodeLine{00073\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ ue\_du\_cells.size();\ ++i)\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{if}\ (ue\_du\_cells[i]\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ ue\_du\_cells[i]-\/>deactivate();}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a2a1ad0649b5d1df96188a7f72cfc4ead}\label{classsrsran_1_1ue_a2a1ad0649b5d1df96188a7f72cfc4ead} 
\index{srsran::ue@{srsran::ue}!find\_cell@{find\_cell}}
\index{find\_cell@{find\_cell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{find\_cell()}{find\_cell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \texorpdfstring{$\ast$}{*} srsran\+::ue\+::find\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ srsran\_assert(cell\_index\ <\ MAX\_NOF\_DU\_CELLS,\ \textcolor{stringliteral}{"{}Invalid\ cell\_index=\{\}"{}},\ cell\_index);}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{return}\ ue\_du\_cells[cell\_index].get();}
\DoxyCodeLine{00066\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a9585141fc769e53fc2225cbf236d4696}\label{classsrsran_1_1ue_a9585141fc769e53fc2225cbf236d4696} 
\index{srsran::ue@{srsran::ue}!find\_cell@{find\_cell}}
\index{find\_cell@{find\_cell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{find\_cell()}{find\_cell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \texorpdfstring{$\ast$}{*} srsran\+::ue\+::find\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \ \ \{}
\DoxyCodeLine{00069\ \ \ \ \ srsran\_assert(cell\_index\ <\ MAX\_NOF\_DU\_CELLS,\ \textcolor{stringliteral}{"{}Invalid\ cell\_index=\{\}"{}},\ cell\_index);}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{return}\ ue\_du\_cells[cell\_index].get();}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a80a02c52f95845267a1542233eb81ef0}\label{classsrsran_1_1ue_a80a02c52f95845267a1542233eb81ef0} 
\index{srsran::ue@{srsran::ue}!get\_cell@{get\_cell}}
\index{get\_cell@{get\_cell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{get\_cell()}{get\_cell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& srsran\+::ue\+::get\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a43119bc16f40f319a0f1687fea2b1ff0}{ue\+\_\+cell\+\_\+index\+\_\+t}}}]{ue\+\_\+cell\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Fetch UE cell based on UE-\/specific cell identifier. E.\+g. PCell corresponds to ue\+\_\+cell\+\_\+index==0. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ <\ ue\_cells.size(),\ \textcolor{stringliteral}{"{}Invalid\ cell\_index=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}});}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{return}\ *ue\_cells[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}];}
\DoxyCodeLine{00078\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a594dc4f71bae7ea42cc1386726ab855a}\label{classsrsran_1_1ue_a594dc4f71bae7ea42cc1386726ab855a} 
\index{srsran::ue@{srsran::ue}!get\_cell@{get\_cell}}
\index{get\_cell@{get\_cell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{get\_cell()}{get\_cell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& srsran\+::ue\+::get\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a43119bc16f40f319a0f1687fea2b1ff0}{ue\+\_\+cell\+\_\+index\+\_\+t}}}]{ue\+\_\+cell\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ <\ ue\_cells.size(),\ \textcolor{stringliteral}{"{}Invalid\ cell\_index=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}});}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordflow}{return}\ *ue\_cells[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}];}
\DoxyCodeLine{00083\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a731245d82c06b3498ca7808f6f308687}\label{classsrsran_1_1ue_a731245d82c06b3498ca7808f6f308687} 
\index{srsran::ue@{srsran::ue}!get\_pcell@{get\_pcell}}
\index{get\_pcell@{get\_pcell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{get\_pcell()}{get\_pcell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& srsran\+::ue\+::get\+\_\+pcell (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Fetch UE PCell. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \{\ \textcolor{keywordflow}{return}\ *ue\_cells[0];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a08941bbabcd74a9edeaa387591ce5354}\label{classsrsran_1_1ue_a08941bbabcd74a9edeaa387591ce5354} 
\index{srsran::ue@{srsran::ue}!get\_pcell@{get\_pcell}}
\index{get\_pcell@{get\_pcell}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{get\_pcell()}{get\_pcell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\+\_\+cell}} \& srsran\+::ue\+::get\+\_\+pcell (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \{\ \textcolor{keywordflow}{return}\ *ue\_cells[0];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a79028b53799d4031263027393f80ab89}\label{classsrsran_1_1ue_a79028b53799d4031263027393f80ab89} 
\index{srsran::ue@{srsran::ue}!handle\_bsr\_indication@{handle\_bsr\_indication}}
\index{handle\_bsr\_indication@{handle\_bsr\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_bsr\_indication()}{handle\_bsr\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::handle\+\_\+bsr\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__bsr__indication__message}{ul\+\_\+bsr\+\_\+indication\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Handles received BSR indication by updating UE UL logical channel states. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00108\ \{\ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_adb32282c85b1d91b33cbdd9b60f48e86}{handle\_bsr\_indication}}(msg);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a3a64e05a0ddbd8e891b9e3d9974f6f17}\label{classsrsran_1_1ue_a3a64e05a0ddbd8e891b9e3d9974f6f17} 
\index{srsran::ue@{srsran::ue}!handle\_dl\_buffer\_state\_indication@{handle\_dl\_buffer\_state\_indication}}
\index{handle\_dl\_buffer\_state\_indication@{handle\_dl\_buffer\_state\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_dl\_buffer\_state\_indication()}{handle\_dl\_buffer\_state\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::handle\+\_\+dl\+\_\+buffer\+\_\+state\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__buffer__state__indication__message}{dl\+\_\+buffer\+\_\+state\+\_\+indication\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Handles DL Buffer State indication. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a43e9d09ec37edae4c764c89a6fd5e00b}{handle\_dl\_buffer\_status\_indication}}(msg.lcid,\ msg.bs);}
\DoxyCodeLine{00127\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a14fb4b7ac6be46ef56289e76644e52b5}\label{classsrsran_1_1ue_a14fb4b7ac6be46ef56289e76644e52b5} 
\index{srsran::ue@{srsran::ue}!handle\_dl\_mac\_ce\_indication@{handle\_dl\_mac\_ce\_indication}}
\index{handle\_dl\_mac\_ce\_indication@{handle\_dl\_mac\_ce\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_dl\_mac\_ce\_indication()}{handle\_dl\_mac\_ce\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::handle\+\_\+dl\+\_\+mac\+\_\+ce\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__mac__ce__indication}{dl\+\_\+mac\+\_\+ce\+\_\+indication}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Handles MAC CE indication. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \ \ \{}
\DoxyCodeLine{00120\ \ \ \ \ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_ab68a5d9cce32e5990eede9a1841f8ff4}{handle\_mac\_ce\_indication}}(\{.ce\_lcid\ =\ msg.ce\_lcid,\ .ce\_payload\ =\ \mbox{\hyperlink{namespacesrsran_a3209beb8bd127d07051671bab6684b12}{dummy\_ce\_payload}}\{\}\});}
\DoxyCodeLine{00121\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a54b15f89d5212b693b13d56d606e0eea}\label{classsrsran_1_1ue_a54b15f89d5212b693b13d56d606e0eea} 
\index{srsran::ue@{srsran::ue}!handle\_reconfiguration\_request@{handle\_reconfiguration\_request}}
\index{handle\_reconfiguration\_request@{handle\_reconfiguration\_request}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_reconfiguration\_request()}{handle\_reconfiguration\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ue\+::handle\+\_\+reconfiguration\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ue__reconf__command}{ue\+\_\+reconf\+\_\+command}} \&}]{params }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \{}
\DoxyCodeLine{00082\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg.nof\_cells()\ >\ 0,\ \textcolor{stringliteral}{"{}Creation\ of\ a\ UE\ requires\ at\ least\ PCell\ configuration."{}});}
\DoxyCodeLine{00083\ \ \ ue\_ded\_cfg\ =\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.cfg;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{//\ Configure\ Logical\ Channels.}}
\DoxyCodeLine{00086\ \ \ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abb87fcc621f70a007a577ff35adc79a2}{configure}}(ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_aa34c5aa67d050304a658b6af282684f3}{logical\_channels}}());}
\DoxyCodeLine{00087\ \ \ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_a11d395a722f45250013451e15e8c3152}{configure}}(ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_aa34c5aa67d050304a658b6af282684f3}{logical\_channels}}());}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ Cell\ configuration.}}
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Handle\ removed\ cells.}}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ ue\_du\_cells.size();\ ++i)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordflow}{if}\ (ue\_du\_cells[i]\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_a0323e346b22abe2fd27b98066fb05bc8}{contains}}(\mbox{\hyperlink{namespacesrsran_a85fcbfef630498e3919ccc9d5d48b07c}{to\_du\_cell\_index}}(i)))\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ Handle\ SCell\ deletions.}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ Handle\ new\ cell\ creations\ or\ reconfigurations.}}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ !=\ ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_a37fdd333dfb99c9672f7942aaed39741}{nof\_cells}}();\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}})\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\_cell\_index\_t}}\ cell\_index\ \ \ =\ ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_ace6d6bebba00309c98a6409439ccd586}{ue\_cell\_cfg}}(to\_ue\_cell\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}})).cell\_cfg\_common.cell\_index;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}\ =\ ue\_du\_cells[cell\_index];}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}\ =}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ std::make\_unique<ue\_cell>(ue\_index,\ crnti,\ ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_ace6d6bebba00309c98a6409439ccd586}{ue\_cell\_cfg}}(cell\_index),\ harq\_timeout\_notif);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ >=\ ue\_cells.size())\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ ue\_cells.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ +\ 1);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \textcolor{comment}{//\ Reconfiguration\ of\ the\ cell.}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}-\/>handle\_reconfiguration\_request(ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_ace6d6bebba00309c98a6409439ccd586}{ue\_cell\_cfg}}(cell\_index));}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ Recompute\ mapping\ of\ UE\ cell\ indexing\ to\ DU\ cell\ indexing.}}
\DoxyCodeLine{00115\ \ \ ue\_cells.resize(ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_a37fdd333dfb99c9672f7942aaed39741}{nof\_cells}}(),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}\ !=\ ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_a37fdd333dfb99c9672f7942aaed39741}{nof\_cells}}();\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}})\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}\ =}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ ue\_du\_cells[ue\_ded\_cfg-\/>\mbox{\hyperlink{classsrsran_1_1ue__configuration_ace6d6bebba00309c98a6409439ccd586}{ue\_cell\_cfg}}(to\_ue\_cell\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}})).cell\_cfg\_common.cell\_index];}
\DoxyCodeLine{00119\ \ \ \ \ ue\_cells[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_index}}]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_cell\_inst}}.get();}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_afe6ffa6b3643cc597b1cf5ac30aec524}\label{classsrsran_1_1ue_afe6ffa6b3643cc597b1cf5ac30aec524} 
\index{srsran::ue@{srsran::ue}!handle\_sr\_indication@{handle\_sr\_indication}}
\index{handle\_sr\_indication@{handle\_sr\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_sr\_indication()}{handle\_sr\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::handle\+\_\+sr\+\_\+indication (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Handle received SR indication. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \ \ \{}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Reception\ of\ SR\ means\ that\ the\ UE\ has\ applied\ its\ dedicated\ configuration.}}
\DoxyCodeLine{00100\ \ \ \ \ ue\_cells[0]-\/>set\_fallback\_state(\textcolor{keyword}{false});}
\DoxyCodeLine{00101\ \ \ \ \ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_a1b875a81148041c294df4eb21ec6cbee}{handle\_sr\_indication}}();}
\DoxyCodeLine{00102\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_ab06cee5ce80c446d93cac399c09a23b5}\label{classsrsran_1_1ue_ab06cee5ce80c446d93cac399c09a23b5} 
\index{srsran::ue@{srsran::ue}!handle\_ul\_n\_ta\_update\_indication@{handle\_ul\_n\_ta\_update\_indication}}
\index{handle\_ul\_n\_ta\_update\_indication@{handle\_ul\_n\_ta\_update\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{handle\_ul\_n\_ta\_update\_indication()}{handle\_ul\_n\_ta\_update\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::handle\+\_\+ul\+\_\+n\+\_\+ta\+\_\+update\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index,  }\item[{\mbox{\hyperlink{classfloat}{float}}}]{ul\+\_\+sinr,  }\item[{\mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}}}]{n\+\_\+ta\+\_\+diff }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Handles received N\+\_\+\+TA update indication by forwarding it to Timing Advance manager. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00112\ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{const}\ ue\_cell*\ ue\_cc\ =\ find\_cell(cell\_index);}
\DoxyCodeLine{00114\ \ \ \ \ ta\_mgr.\mbox{\hyperlink{classsrsran_1_1ta__manager_af47ef18ba441dd0980133ae66e98cecf}{handle\_ul\_n\_ta\_update\_indication}}(ue\_cc-\/>cfg().cfg\_dedicated().tag\_id,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\_ta\_diff}}.to\_Tc(),\ ul\_sinr);}
\DoxyCodeLine{00115\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_ab3cc9e4be962ce4f7a6b034d4ce27e7c}\label{classsrsran_1_1ue_ab3cc9e4be962ce4f7a6b034d4ce27e7c} 
\index{srsran::ue@{srsran::ue}!has\_pending\_dl\_newtx\_bytes@{has\_pending\_dl\_newtx\_bytes}}
\index{has\_pending\_dl\_newtx\_bytes@{has\_pending\_dl\_newtx\_bytes}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{has\_pending\_dl\_newtx\_bytes()}{has\_pending\_dl\_newtx\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ue\+::has\+\_\+pending\+\_\+dl\+\_\+newtx\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if there are DL pending bytes that are yet to be allocated in a DL HARQ. This method is faster than computing {\ttfamily \doxylink{classsrsran_1_1ue_afc6f3cfa61e50764d9123477048a9293}{pending\+\_\+dl\+\_\+newtx\+\_\+bytes()}} \texorpdfstring{$>$}{>} 0. 

\begin{DoxyRemark}{Remarks}
Excludes SRB0 and UE Contention Resolution Identity CE. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00134\ \{\ \textcolor{keywordflow}{return}\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}{has\_pending\_bytes}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_ad82e99f6833b42a830801f92bf9eac61}\label{classsrsran_1_1ue_ad82e99f6833b42a830801f92bf9eac61} 
\index{srsran::ue@{srsran::ue}!has\_pending\_dl\_newtx\_bytes@{has\_pending\_dl\_newtx\_bytes}}
\index{has\_pending\_dl\_newtx\_bytes@{has\_pending\_dl\_newtx\_bytes}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{has\_pending\_dl\_newtx\_bytes()}{has\_pending\_dl\_newtx\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ue\+::has\+\_\+pending\+\_\+dl\+\_\+newtx\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if there are DL pending bytes for a specific LCID that are yet to be allocated in a DL HARQ. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00137\ \{\ \textcolor{keywordflow}{return}\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}{has\_pending\_bytes}}(lcid);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a04b37df70e09bdd84ba955b8cba4d38b}\label{classsrsran_1_1ue_a04b37df70e09bdd84ba955b8cba4d38b} 
\index{srsran::ue@{srsran::ue}!has\_pending\_sr@{has\_pending\_sr}}
\index{has\_pending\_sr@{has\_pending\_sr}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{has\_pending\_sr()}{has\_pending\_sr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} ue\+::has\+\_\+pending\+\_\+sr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns whether a SR indication handling is pending. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00167\ \{}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{return}\ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_a12f67c67beacdb64a51b8c44f0346f6f}{has\_pending\_sr}}();}
\DoxyCodeLine{00169\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a076d514a26fac147ebf82b95171ae7eb}\label{classsrsran_1_1ue_a076d514a26fac147ebf82b95171ae7eb} 
\index{srsran::ue@{srsran::ue}!is\_ca\_enabled@{is\_ca\_enabled}}
\index{is\_ca\_enabled@{is\_ca\_enabled}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{is\_ca\_enabled()}{is\_ca\_enabled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ue\+::is\+\_\+ca\+\_\+enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00092\ \{\ \textcolor{keywordflow}{return}\ ue\_cells.size()\ >\ 1;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a009850d92300e2137c65a21030ec7c1c}\label{classsrsran_1_1ue_a009850d92300e2137c65a21030ec7c1c} 
\index{srsran::ue@{srsran::ue}!is\_conres\_ce\_pending@{is\_conres\_ce\_pending}}
\index{is\_conres\_ce\_pending@{is\_conres\_ce\_pending}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{is\_conres\_ce\_pending()}{is\_conres\_ce\_pending()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ue\+::is\+\_\+conres\+\_\+ce\+\_\+pending (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Whether MAC Con\+Res CE is pending. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00140\ \{\ \textcolor{keywordflow}{return}\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a6af84b109891d41880ef3ac622248b8f}{is\_con\_res\_id\_pending}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a9de6f41dc6573d6d299dcd5e6872e2c0}\label{classsrsran_1_1ue_a9de6f41dc6573d6d299dcd5e6872e2c0} 
\index{srsran::ue@{srsran::ue}!nof\_cells@{nof\_cells}}
\index{nof\_cells@{nof\_cells}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{nof\_cells()}{nof\_cells()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ue\+::nof\+\_\+cells (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Number of cells configured for the UE. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00090\ \{\ \textcolor{keywordflow}{return}\ ue\_cells.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_afc6f3cfa61e50764d9123477048a9293}\label{classsrsran_1_1ue_afc6f3cfa61e50764d9123477048a9293} 
\index{srsran::ue@{srsran::ue}!pending\_dl\_newtx\_bytes@{pending\_dl\_newtx\_bytes}}
\index{pending\_dl\_newtx\_bytes@{pending\_dl\_newtx\_bytes}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{pending\_dl\_newtx\_bytes()}{pending\_dl\_newtx\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} ue\+::pending\+\_\+dl\+\_\+newtx\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Computes the number of DL pending bytes that are not already allocated in a DL HARQ. The value is used to derive the required transport block size for an DL grant. 

\begin{DoxyRemark}{Remarks}
Excludes SRB0. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00124\ \{}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{return}\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}{pending\_bytes}}();}
\DoxyCodeLine{00126\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a19dc839b5e571e4179427b4a17ddf996}\label{classsrsran_1_1ue_a19dc839b5e571e4179427b4a17ddf996} 
\index{srsran::ue@{srsran::ue}!pending\_dl\_srb0\_newtx\_bytes@{pending\_dl\_srb0\_newtx\_bytes}}
\index{pending\_dl\_srb0\_newtx\_bytes@{pending\_dl\_srb0\_newtx\_bytes}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{pending\_dl\_srb0\_newtx\_bytes()}{pending\_dl\_srb0\_newtx\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} ue\+::pending\+\_\+dl\+\_\+srb0\+\_\+newtx\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Computes the number of DL pending bytes that are not already allocated in a DL HARQ for SRB0. The value is used to derive the required transport block size for an DL grant. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00129\ \{}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordtype}{unsigned}\ pending\_bytes\ =\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}{pending\_bytes}}(LCID\_SRB0);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{keywordflow}{if}\ (pending\_bytes\ >\ 0)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{//\ In\ case\ SRB0\ has\ data,\ only\ allocate\ SRB0\ and\ CEs.}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{return}\ pending\_bytes\ +\ dl\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a76712a47e40b6bba7c7cea75a42fe722}{pending\_ue\_con\_res\_id\_ce\_bytes}}();}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ \ \ \textcolor{keywordflow}{return}\ pending\_bytes;}
\DoxyCodeLine{00137\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_aa85bfbd531157b05c894d20460782a60}\label{classsrsran_1_1ue_aa85bfbd531157b05c894d20460782a60} 
\index{srsran::ue@{srsran::ue}!pending\_ul\_newtx\_bytes@{pending\_ul\_newtx\_bytes}}
\index{pending\_ul\_newtx\_bytes@{pending\_ul\_newtx\_bytes}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{pending\_ul\_newtx\_bytes()}{pending\_ul\_newtx\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} ue\+::pending\+\_\+ul\+\_\+newtx\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Computes the number of UL pending bytes that are not already allocated in a UL HARQ. The value is used to derive the required transport block size for an UL grant. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00140\ \{}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SR\_GRANT\_BYTES}}\ =\ 512;}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{//\ Sum\ the\ last\ BSRs.}}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordtype}{unsigned}\ pending\_bytes\ =\ ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_aa589e5c5a53a1b3c168d163d347b91dc}{pending\_bytes}}();}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{//\ Subtract\ the\ bytes\ already\ allocated\ in\ UL\ HARQs.}}
\DoxyCodeLine{00147\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue__cell}{ue\_cell}}*\ ue\_cc\ :\ ue\_cells)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{if}\ (pending\_bytes\ ==\ 0)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_bytes}}\ =\ 0;}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ ue\_cc-\/>harqs.nof\_ul\_harqs();\ ++i)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}\ =\ ue\_cc-\/>harqs.ul\_harq(i);}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}.empty())\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_bytes}}\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}.\mbox{\hyperlink{classsrsran_1_1ul__harq__process_af1871f29af526e12658a7dc8c9650af1}{last\_tx\_params}}().tbs\_bytes;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_bytes}}\ +=\ ue\_cc-\/>harqs.ntn\_get\_tbs\_pending\_crcs();}
\DoxyCodeLine{00159\ \ \ \ \ pending\_bytes\ -\/=\ std::min(pending\_bytes,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_bytes}});}
\DoxyCodeLine{00160\ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{comment}{//\ If\ there\ are\ no\ pending\ bytes,\ check\ if\ a\ SR\ is\ pending.}}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{return}\ pending\_bytes\ >\ 0\ ?\ pending\_bytes\ :\ (ul\_lc\_ch\_mgr.\mbox{\hyperlink{classsrsran_1_1ul__logical__channel__manager_a12f67c67beacdb64a51b8c44f0346f6f}{has\_pending\_sr}}()\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SR\_GRANT\_BYTES}}\ :\ 0);}
\DoxyCodeLine{00164\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_a8f374bc3743fcdd79b84df74c242ae06}\label{classsrsran_1_1ue_a8f374bc3743fcdd79b84df74c242ae06} 
\index{srsran::ue@{srsran::ue}!reset\_sr\_indication@{reset\_sr\_indication}}
\index{reset\_sr\_indication@{reset\_sr\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{reset\_sr\_indication()}{reset\_sr\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+::reset\+\_\+sr\+\_\+indication (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Once an UL grant is given, the SR status of the UE must be reset. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00105\ \{\ ul\_lc\_ch\_mgr.reset\_sr\_indication();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue_ae02d4673803222f8b6b494a1a893f47d}\label{classsrsran_1_1ue_ae02d4673803222f8b6b494a1a893f47d} 
\index{srsran::ue@{srsran::ue}!slot\_indication@{slot\_indication}}
\index{slot\_indication@{slot\_indication}!srsran::ue@{srsran::ue}}
\doxysubsubsection{\texorpdfstring{slot\_indication()}{slot\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ue\+::slot\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{sl\+\_\+tx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ ue\_du\_cells.size();\ ++i)\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (ue\_du\_cells[i]\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \textcolor{comment}{//\ Clear\ old\ HARQs.}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ ue\_du\_cells[i]-\/>harqs.slot\_indication(sl\_tx);}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ ta\_mgr.\mbox{\hyperlink{classsrsran_1_1ta__manager_a02a6c15cb2968b6ad23c8b3b3d011dfd}{slot\_indication}}(sl\_tx);}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/ue.\+h\item 
lib/scheduler/ue\+\_\+scheduling/ue.\+cpp\end{DoxyCompactItemize}
