\doxysection{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool\texorpdfstring{$<$}{<} Type \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1concurrent__thread__local__object__pool}{}\label{classsrsran_1_1concurrent__thread__local__object__pool}\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}


Concurrent pool of instances that are accessed depending on the thread.  




{\ttfamily \#include $<$concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool.\+h$>$}



Inheritance diagram for srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool\texorpdfstring{$<$}{<} Type \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db8/classsrsran_1_1concurrent__thread__local__object__pool__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool\texorpdfstring{$<$}{<} Type \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{da/d29/classsrsran_1_1concurrent__thread__local__object__pool__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_1_1custom__deleter}{custom\+\_\+deleter}}
\begin{DoxyCompactList}\small\item\em Custom deleter that moves the ownership of the pointer back into the pool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_af78f1516e4ddaefe9ad686647954b46a}\label{classsrsran_1_1concurrent__thread__local__object__pool_af78f1516e4ddaefe9ad686647954b46a} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries unique\+\_\+ptr} = std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}}, \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_1_1custom__deleter}{custom\+\_\+deleter}}$>$
\begin{DoxyCompactList}\small\item\em Specify unique pointer with custom deleter. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_abf59eb5f4efdd4ee13f311da0fdad20c}{concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}} (std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}})
\begin{DoxyCompactList}\small\item\em Creates a concurrent instance pool from a list of instances. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_ad15c45e0270232955b7a3313e5d3ae9f}{concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+elements}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Args}} \&\&... args)
\begin{DoxyCompactList}\small\item\em Creates a concurrent instance pool with a specific number of elements. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_a8a79d83467230e23bb605c834c961cf2}{\texorpdfstring{$\sim$}{\string~}concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}} ()
\begin{DoxyCompactList}\small\item\em Default destructor -\/ It triggers a failure if any instance has not been returned to que pool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} \& \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_a3da4fdeea0426e1c616c78346de9d7b0}{get}} ()
\begin{DoxyCompactList}\small\item\em Gets an instance from the pool. \end{DoxyCompactList}\item 
std\+::size\+\_\+t \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_a18f44611332c1eb9c7a4d22ee59a8642}{capacity}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the pool capacity. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}}$>$\newline
class srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool$<$ Type $>$}
Concurrent pool of instances that are accessed depending on the thread. 

The pool contains a vector of instances that are assigned to threads the first time they call \doxylink{classsrsran_1_1concurrent__thread__local__object__pool_a3da4fdeea0426e1c616c78346de9d7b0}{get()}. The instances are returned to the pool when the thread is terminated.

The main thread is a special case as it does not get deleted, in that case it is not returned to the pool.


\begin{DoxyTemplParams}{Template Parameters}
{\em Type} & Object pool type. \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_abf59eb5f4efdd4ee13f311da0fdad20c}\label{classsrsran_1_1concurrent__thread__local__object__pool_abf59eb5f4efdd4ee13f311da0fdad20c} 
\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}!concurrent\_thread\_local\_object\_pool@{concurrent\_thread\_local\_object\_pool}}
\index{concurrent\_thread\_local\_object\_pool@{concurrent\_thread\_local\_object\_pool}!srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}
\doxysubsubsection{\texorpdfstring{concurrent\_thread\_local\_object\_pool()}{concurrent\_thread\_local\_object\_pool()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ \\
\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ $>$}]{instances }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a concurrent instance pool from a list of instances. 

\begin{DoxyRemark}{Remarks}
An assertion is triggered if the list of instances is empty or if one of the elements is a {\ttfamily nullptr}. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00052\ \ \ \ \ main\_thread\_id(std::this\_thread::get\_id()),\ queue(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}}.size())}
\DoxyCodeLine{00053\ \ \ \{}
\DoxyCodeLine{00054\ \ \ \ \ srsran\_assert(!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}}.empty(),\ \textcolor{stringliteral}{"{}Pool\ is\ empty."{}});}
\DoxyCodeLine{00055\ \ \ \ \ srsran\_assert(std::none\_of(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}}.end(),\ [](\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{element}})\ \{\ return\ !element;\ \}),}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ instance\ in\ pool."{}});}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::unique\_ptr<Type>\&\ instance\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{instances}})\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a83c3ee3074579631ed08e3414377a541}{try\_push}}(std::move(instance));}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_ad15c45e0270232955b7a3313e5d3ae9f}\label{classsrsran_1_1concurrent__thread__local__object__pool_ad15c45e0270232955b7a3313e5d3ae9f} 
\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}!concurrent\_thread\_local\_object\_pool@{concurrent\_thread\_local\_object\_pool}}
\index{concurrent\_thread\_local\_object\_pool@{concurrent\_thread\_local\_object\_pool}!srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}
\doxysubsubsection{\texorpdfstring{concurrent\_thread\_local\_object\_pool()}{concurrent\_thread\_local\_object\_pool()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ \\
template$<$typename... Args$>$ \\
\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+elements,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Args}} \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a concurrent instance pool with a specific number of elements. 


\begin{DoxyTemplParams}{Template Parameters}
{\em Args} & Parameter pack used to construct the pool elements. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nof\+\_\+elements} & Number of pool elements to instantiate. \\
\hline
\mbox{\texttt{ in}}  & {\em args} & Element creation arguments. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ queue(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_elements}})}
\DoxyCodeLine{00070\ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_elem}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_elem}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_elements}};\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_elem}})\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =\ queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a83c3ee3074579631ed08e3414377a541}{try\_push}}(std::make\_unique<Type>(std::forward<Args>(args)...));}
\DoxyCodeLine{00073\ \ \ \ \ \ \ report\_error\_if\_not(success,\ \textcolor{stringliteral}{"{}Failed\ to\ push\ element\ into\ the\ queue."{}});}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_a8a79d83467230e23bb605c834c961cf2}\label{classsrsran_1_1concurrent__thread__local__object__pool_a8a79d83467230e23bb605c834c961cf2} 
\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}!````~concurrent\_thread\_local\_object\_pool@{\texorpdfstring{$\sim$}{\string~}concurrent\_thread\_local\_object\_pool}}
\index{````~concurrent\_thread\_local\_object\_pool@{\texorpdfstring{$\sim$}{\string~}concurrent\_thread\_local\_object\_pool}!srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}concurrent\_thread\_local\_object\_pool()}{\string~concurrent\_thread\_local\_object\_pool()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ \\
\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default destructor -\/ It triggers a failure if any instance has not been returned to que pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00079\ \ \ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{if}\ (main\_thread\_ptr)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ report\_error\_if\_not(queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a83c3ee3074579631ed08e3414377a541}{try\_push}}(std::move(main\_thread\_ptr)),}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Failed\ to\ push\ element\ into\ the\ queue\ (destructor)."{}});}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ \ \ \ \ report\_fatal\_error\_if\_not(queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a0775474918ef7b6fe6720f89156afd65}{size}}()\ ==\ queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a566b5bcfd15d0a7918eb01571046d952}{capacity}}(),\ \textcolor{stringliteral}{"{}Not\ all\ instances\ are\ returned\ to\ the\ pool."{}});}
\DoxyCodeLine{00085\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_a18f44611332c1eb9c7a4d22ee59a8642}\label{classsrsran_1_1concurrent__thread__local__object__pool_a18f44611332c1eb9c7a4d22ee59a8642} 
\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}!capacity@{capacity}}
\index{capacity@{capacity}!srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ \\
std\+::size\+\_\+t \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$\+::capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the pool capacity. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \{\ \textcolor{keywordflow}{return}\ queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_a566b5bcfd15d0a7918eb01571046d952}{capacity}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1concurrent__thread__local__object__pool_a3da4fdeea0426e1c616c78346de9d7b0}\label{classsrsran_1_1concurrent__thread__local__object__pool_a3da4fdeea0426e1c616c78346de9d7b0} 
\index{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}!get@{get}}
\index{get@{get}!srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$@{srsran::concurrent\_thread\_local\_object\_pool$<$ Type $>$}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} \& \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool}{srsran\+::concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Type}} $>$\+::get (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Gets an instance from the pool. 

The selected instance is fixed for the thread that calls the method. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{comment}{//\ Checks\ if\ the\ thread\ is\ the\ main.}}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::this\_thread::get\_id()\ ==\ main\_thread\_id)\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!main\_thread\_ptr)\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ report\_fatal\_error\_if\_not(queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_af92570524955aa703c2946900d7741b2}{try\_pop}}(main\_thread\_ptr),\ \textcolor{stringliteral}{"{}Insufficient\ number\ of\ instances\ (main\ thread)."{}});}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *main\_thread\_ptr;}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{thread\_local}\ \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_af78f1516e4ddaefe9ad686647954b46a}{unique\_ptr}}\ ptr\ =\ [\textcolor{keyword}{this}]()\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ std::unique\_ptr<Type>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{std\_ptr}};}
\DoxyCodeLine{00126\ \ \ \ \ \ \ report\_fatal\_error\_if\_not(queue.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_af92570524955aa703c2946900d7741b2}{try\_pop}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{std\_ptr}}),\ \textcolor{stringliteral}{"{}Insufficient\ number\ of\ instances."{}});}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1concurrent__thread__local__object__pool_af78f1516e4ddaefe9ad686647954b46a}{unique\_ptr}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{custom\_ptr}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{std\_ptr}}.get(),\ custom\_deleter(queue));}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{std\_ptr}}.release();}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{custom\_ptr}};}
\DoxyCodeLine{00133\ \ \ \ \ \}();}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ *ptr;}
\DoxyCodeLine{00136\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/memory\+\_\+pool/concurrent\+\_\+thread\+\_\+local\+\_\+object\+\_\+pool.\+h\end{DoxyCompactItemize}
