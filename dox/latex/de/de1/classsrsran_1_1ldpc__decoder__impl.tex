\doxysection{srsran\+::ldpc\+\_\+decoder\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ldpc__decoder__impl}{}\label{classsrsran_1_1ldpc__decoder__impl}\index{srsran::ldpc\_decoder\_impl@{srsran::ldpc\_decoder\_impl}}


Template LDPC decoder.  




{\ttfamily \#include $<$ldpc\+\_\+decoder\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::ldpc\+\_\+decoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d8/dcc/classsrsran_1_1ldpc__decoder__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ldpc\+\_\+decoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d1c/classsrsran_1_1ldpc__decoder__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_a12af9d38276e814b11414003e95919b3}\label{classsrsran_1_1ldpc__decoder__impl_a12af9d38276e814b11414003e95919b3} 
{\bfseries ldpc\+\_\+decoder\+\_\+impl} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a5a95504ab7eef4aa8e1951a2169d267b}{decode}} (\mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} \&output, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ input, \mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} \texorpdfstring{$\ast$}{*}crc, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ldpc__decoder_1_1configuration}{configuration}} \&cfg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Decodes a codeblock. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ldpc__decoder}{srsran\+::ldpc\+\_\+decoder}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}ldpc\+\_\+decoder} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{constexpr}} \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_ad5a770dd9b6432f7cc444bc57b7bd43c}{MAX\+\_\+\+CHECK\+\_\+\+NODE\+\_\+\+DEGREE}} = ldpc\+::\+MAX\+\_\+\+BG\+\_\+K + 5
\begin{DoxyCompactList}\small\item\em Maximum degree of a check node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_ac8afa2d587010ff3d7c0fb02424167ff}\label{classsrsran_1_1ldpc__decoder__impl_ac8afa2d587010ff3d7c0fb02424167ff} 
uint16\+\_\+t {\bfseries bg\+\_\+K} = 22
\begin{DoxyCompactList}\small\item\em Number of base graph variable nodes corresponding to information bits. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}\label{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6} 
uint16\+\_\+t {\bfseries lifting\+\_\+size} = 2
\begin{DoxyCompactList}\small\item\em Lifting size as a natural number (as opposed to an element from \doxylink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{srsran\+::ldpc\+::lifting\+\_\+size\+\_\+t}). \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_ac341e9d14dad59edc141043ee1603ad6}\label{classsrsran_1_1ldpc__decoder__impl_ac341e9d14dad59edc141043ee1603ad6} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries node\+\_\+size\+\_\+byte} = 2
\begin{DoxyCompactList}\small\item\em Number of bytes used to store a lifted node. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_ac23cfa18d64a4addb290f08b13c8a706}\label{classsrsran_1_1ldpc__decoder__impl_ac23cfa18d64a4addb290f08b13c8a706} 
\mbox{\hyperlink{classfloat}{float}} {\bfseries scaling\+\_\+factor} = 0.\+8
\begin{DoxyCompactList}\small\item\em Scaling factor of the normalized min-\/sum algorithm. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_a1742f8b7e7468437669104a7b2326ac2}\label{classsrsran_1_1ldpc__decoder__impl_a1742f8b7e7468437669104a7b2326ac2} 
std\+::array$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static\+\_\+cast}}$<$ size\+\_\+t $>$(ldpc\+::\+MAX\+\_\+\+BG\+\_\+\+N\+\_\+\+FULL \texorpdfstring{$\ast$}{*}ldpc\+::\+MAX\+\_\+\+LIFTING\+\_\+\+SIZE) {\bfseries soft\+\_\+bits} )
\begin{DoxyCompactList}\small\item\em Buffer to store the current value of the soft bits. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Template LDPC decoder. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_a5a95504ab7eef4aa8e1951a2169d267b}\label{classsrsran_1_1ldpc__decoder__impl_a5a95504ab7eef4aa8e1951a2169d267b} 
\index{srsran::ldpc\_decoder\_impl@{srsran::ldpc\_decoder\_impl}!decode@{decode}}
\index{decode@{decode}!srsran::ldpc\_decoder\_impl@{srsran::ldpc\_decoder\_impl}}
\doxysubsubsection{\texorpdfstring{decode()}{decode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ ldpc\+\_\+decoder\+\_\+impl\+::decode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} \&}]{output,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{input,  }\item[{\mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} \texorpdfstring{$\ast$}{*}}]{crc,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ldpc__decoder_1_1configuration}{configuration}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Decodes a codeblock. 

By passing a CRC calculator, the CRC is verified after each iteration allowing, when successful, an early stop of the decoding process.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em output} & Reconstructed message of information bits. \\
\hline
\mbox{\texttt{ in}}  & {\em input} & Log-\/likelihood ratios of the codeblock to be decoded. \\
\hline
\mbox{\texttt{ in}}  & {\em crc} & Pointer to a CRC calculator for early stopping. Set to {\ttfamily nullptr} for disabling early stopping. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Decoder configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the decoding is successful, returns the number of LDPC iterations needed by the decoder. Otherwise, no value is returned. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
A codeblock of all zero-\/valued log-\/likelihood ratios will automatically will return an empty value (i.\+e., failed CRC) and set all the output bits to one. 
\end{DoxyNote}


Implements \mbox{\hyperlink{classsrsran_1_1ldpc__decoder_af642ab7b931e5f06fb353e2043221c1f}{srsran\+::ldpc\+\_\+decoder}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \{}
\DoxyCodeLine{00065\ \ \ init(cfg);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ uint16\_t\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{message\_length}}\ \ \ =\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_ac8afa2d587010ff3d7c0fb02424167ff}{bg\_K}}\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}};}
\DoxyCodeLine{00068\ \ \ uint16\_t\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_input\_length}}\ =\ bg\_N\_short\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}};}
\DoxyCodeLine{00069\ \ \ srsran\_assert(output.\mbox{\hyperlink{classsrsran_1_1bit__buffer_a1fb9f58eca152546267cb24e18f9b6f0}{size}}()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{message\_length}},}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ output\ size\ \{\}\ is\ not\ equal\ to\ the\ message\ length\ \{\}."{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output.\mbox{\hyperlink{classsrsran_1_1bit__buffer_a1fb9f58eca152546267cb24e18f9b6f0}{size}}(),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{message\_length}});}
\DoxyCodeLine{00073\ \ \ srsran\_assert(input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_input\_length}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ input\ size\ \{\}\ exceeds\ the\ maximum\ message\ length\ \{\}."{}},}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_input\_length}});}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ The\ minimum\ input\ length\ is\ message\_length\ +\ two\ times\ the\ lifting\ size.}}
\DoxyCodeLine{00079\ \ \ uint16\_t\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{min\_input\_length}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{message\_length}}\ +\ 2\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}};}
\DoxyCodeLine{00080\ \ \ srsran\_assert(input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ >=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{min\_input\_length}},}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ input\ length\ \{\}\ does\ not\ reach\ minimum\ \{\}"{}},}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{min\_input\_length}});}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{//\ Find\ the\ last\ soft\ bit\ in\ the\ buffer\ and\ trim\ the\ output.}}
\DoxyCodeLine{00086\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\_likelihood\_ratio}}*\ last\ =}
\DoxyCodeLine{00087\ \ \ \ \ \ \ std::find\_if(input.\mbox{\hyperlink{classsrsran_1_1span_a361b82b09ac8f37a3657a1326707c3a2}{rbegin}}(),\ input.\mbox{\hyperlink{classsrsran_1_1span_a72dbbfc8baa69fba16b7f2462882d8af}{rend}}(),\ [](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\_likelihood\_ratio}}\&\ in)\ \{\ return\ in\ !=\ 0;\ \}).base();}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{if}\ (last\ ==\ input.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}())\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ If\ all\ input\ LLRs\ are\ zero,\ we\ won't\ be\ able\ to\ decode:\ set\ all\ bits\ to\ one\ (so\ that\ the\ CRC\ will\ fail).}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordflow}{if}\ (crc\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ output.\mbox{\hyperlink{classsrsran_1_1bit__buffer_ab6ec21d34f0d2931dd369e107e3aa87c}{one}}();}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a2e817fa4d4a8084eb1746ee8d1440679}{nullopt}};}
\DoxyCodeLine{00094\ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ Ensure\ check-\/to-\/variable\ messages\ are\ not\ initialized.}}
\DoxyCodeLine{00097\ \ \ std::fill(is\_check\_to\_var\_initialized.begin(),\ is\_check\_to\_var\_initialized.end(),\ \textcolor{keyword}{false});}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{input\_size}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(last\ -\/\ input.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}());}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ load\_soft\_bits(input);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ The\ minimum\ codeblock\ length\ is\ message\_length\ +\ four\ times\ the\ lifting\ size}}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ (that\ is,\ the\ length\ of\ the\ high-\/rate\ region).}}
\DoxyCodeLine{00105\ \ \ uint16\_t\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{min\_codeblock\_length}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{message\_length}}\ +\ 4\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}};}
\DoxyCodeLine{00106\ \ \ \textcolor{comment}{//\ The\ decoder\ works\ with\ at\ least\ min\_codeblock\_length\ bits.\ Recall\ that\ the\ encoder\ also\ shortens}}
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ the\ codeblock\ by\ 2\ *\ lifting\ size\ before\ returning\ it\ as\ output.}}
\DoxyCodeLine{00108\ \ \ codeblock\_length\ =\ std::max(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{input\_size}}\ +\ 2UL\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}},\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{min\_codeblock\_length}}));}
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{//\ The\ decoder\ works\ with\ a\ codeblock\ length\ that\ is\ a\ multiple\ of\ the\ lifting\ size.}}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{if}\ (codeblock\_length\ \%\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}}\ !=\ 0)\ \{}
\DoxyCodeLine{00111\ \ \ \ \ codeblock\_length\ =\ (codeblock\_length\ /\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}}\ +\ 1)\ *\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}};}
\DoxyCodeLine{00112\ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_layers\ =\ codeblock\_length\ /\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_a71bd1e6aeab1ee31f4dbd709e27d24d6}{lifting\_size}}\ -\/\ \mbox{\hyperlink{classsrsran_1_1ldpc__decoder__impl_ac8afa2d587010ff3d7c0fb02424167ff}{bg\_K}};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_iteration}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_iteration}}\ !=\ max\_iterations;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_iteration}})\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ !=\ nof\_layers;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}})\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ update\_variable\_to\_check\_messages(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}});}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ update\_check\_to\_variable\_messages(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}});}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ update\_soft\_bits(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}});}
\DoxyCodeLine{00123\ \ \ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ If\ a\ CRC\ calculator\ was\ passed\ with\ the\ configuration\ parameters}}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{if}\ (crc\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ get\_hard\_bits(output);}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \textcolor{comment}{//\ Early\ stop}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (crc-\/>\mbox{\hyperlink{classsrsran_1_1crc__calculator_aef578a5a33ab7a680911acb2ddcae963}{calculate}}(output.\mbox{\hyperlink{classsrsran_1_1bit__buffer_abba52fc044021e0e4492726fc8a4dc24}{first}}(nof\_significant\_bits))\ ==\ 0)\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_iteration}}\ +\ 1;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ If\ a\ CRC\ calculator\ was\ passed\ with\ the\ configuration\ parameters\ and\ we\ hit\ this\ point,\ the\ codeblock\ wasn't}}
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//\ decoded\ correctly.}}
\DoxyCodeLine{00138\ \ \ \textcolor{keywordflow}{if}\ (crc\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{comment}{//\ We\ reach\ this\ point\ only\ if\ we\ don't\ have\ a\ CRC\ calculator\ for\ early\ stopping:\ we\ return\ whatever\ message\ we\ could}}
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{//\ reconstruct\ after\ max\_iterations\ (note\ that\ we\ don't\ know\ whether\ the\ message\ is\ correct\ or\ not).}}
\DoxyCodeLine{00144\ \ \ get\_hard\_bits(output);}
\DoxyCodeLine{00145\ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00146\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classsrsran_1_1ldpc__decoder__impl_ad5a770dd9b6432f7cc444bc57b7bd43c}\label{classsrsran_1_1ldpc__decoder__impl_ad5a770dd9b6432f7cc444bc57b7bd43c} 
\index{srsran::ldpc\_decoder\_impl@{srsran::ldpc\_decoder\_impl}!MAX\_CHECK\_NODE\_DEGREE@{MAX\_CHECK\_NODE\_DEGREE}}
\index{MAX\_CHECK\_NODE\_DEGREE@{MAX\_CHECK\_NODE\_DEGREE}!srsran::ldpc\_decoder\_impl@{srsran::ldpc\_decoder\_impl}}
\doxysubsubsection{\texorpdfstring{MAX\_CHECK\_NODE\_DEGREE}{MAX\_CHECK\_NODE\_DEGREE}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{constexpr}} \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ldpc\+\_\+decoder\+\_\+impl\+::\+MAX\+\_\+\+CHECK\+\_\+\+NODE\+\_\+\+DEGREE = ldpc\+::\+MAX\+\_\+\+BG\+\_\+K + 5\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Maximum degree of a check node. 

In the base graph, each check node is connected, at most, to all variable nodes in the high-\/rate region (of maximum length max\+\_\+\+BG\+\_\+K + 4) and an extra variable node in the extension region. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+coding/ldpc/\mbox{\hyperlink{ldpc__decoder__impl_8h}{ldpc\+\_\+decoder\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+coding/ldpc/ldpc\+\_\+decoder\+\_\+impl.\+cpp\end{DoxyCompactItemize}
