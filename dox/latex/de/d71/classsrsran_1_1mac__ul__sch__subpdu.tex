\doxysection{srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu Class Reference}
\hypertarget{classsrsran_1_1mac__ul__sch__subpdu}{}\label{classsrsran_1_1mac__ul__sch__subpdu}\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}


Collaboration diagram for srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{d5/d04/classsrsran_1_1mac__ul__sch__subpdu__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1expected}{error\+\_\+type}}$<$ std\+::string $>$ \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_af185644e40f0f7291e8f0bd5af5bf7f1}{unpack}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer__reader}{byte\+\_\+buffer\+\_\+reader}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\+\_\+reader}})
\begin{DoxyCompactList}\small\item\em Unpacks a sub\+PDU from a byte buffer reader. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1expected}{error\+\_\+type}}$<$ std\+::string $>$ \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_a1bfe0865d15925ad467f05dcad515a0e}{unpack}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&subpdu)
\begin{DoxyCompactList}\small\item\em Unpacks a sub\+PDU from a byte buffer containing a sub\+PDU. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1lcid__ul__sch__t}{lcid\+\_\+ul\+\_\+sch\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_a1b27e3143b1649c0c0873708b6b0424a}{lcid}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Get LCID of the unpacked sub\+PDU. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_a45af115977aed7d480b4db4af07f9e0d}{total\+\_\+length}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\+\_\+buffer\+\_\+view}} \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_ababda3f4665d6705bcaceb27ba330d7a}{payload}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_af83a53960d31b997b812e8ab8ecc5e0d}{sdu\+\_\+length}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_a1b27e3143b1649c0c0873708b6b0424a}\label{classsrsran_1_1mac__ul__sch__subpdu_a1b27e3143b1649c0c0873708b6b0424a} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!lcid@{lcid}}
\index{lcid@{lcid}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{lcid()}{lcid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1lcid__ul__sch__t}{lcid\+\_\+ul\+\_\+sch\+\_\+t}} srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::lcid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get LCID of the unpacked sub\+PDU. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{\ \textcolor{keywordflow}{return}\ lcid\_val;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_ababda3f4665d6705bcaceb27ba330d7a}\label{classsrsran_1_1mac__ul__sch__subpdu_ababda3f4665d6705bcaceb27ba330d7a} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!payload@{payload}}
\index{payload@{payload}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{payload()}{payload()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\+\_\+buffer\+\_\+view}} srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::payload (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \{\ \textcolor{keywordflow}{return}\ payload\_view;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_af83a53960d31b997b812e8ab8ecc5e0d}\label{classsrsran_1_1mac__ul__sch__subpdu_af83a53960d31b997b812e8ab8ecc5e0d} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!sdu\_length@{sdu\_length}}
\index{sdu\_length@{sdu\_length}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{sdu\_length()}{sdu\_length()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::sdu\+\_\+length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{\ \textcolor{keywordflow}{return}\ payload\_view.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_a45af115977aed7d480b4db4af07f9e0d}\label{classsrsran_1_1mac__ul__sch__subpdu_a45af115977aed7d480b4db4af07f9e0d} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!total\_length@{total\_length}}
\index{total\_length@{total\_length}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{total\_length()}{total\_length()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} srsran\+::mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::total\+\_\+length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \{\ \textcolor{keywordflow}{return}\ header\_length\ +\ payload().\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_a779c0f30d8ccff3944084130af6adde3}{length}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_af185644e40f0f7291e8f0bd5af5bf7f1}\label{classsrsran_1_1mac__ul__sch__subpdu_af185644e40f0f7291e8f0bd5af5bf7f1} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!unpack@{unpack}}
\index{unpack@{unpack}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{unpack()}{unpack()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1expected}{error\+\_\+type}}$<$ std\+::string $>$ mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::unpack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer__reader}{byte\+\_\+buffer\+\_\+reader}} \&}]{subpdu\+\_\+reader }\end{DoxyParamCaption})}



Unpacks a sub\+PDU from a byte buffer reader. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}.length();}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ ==\ 0)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{return}\ std::string\{\textcolor{stringliteral}{"{}Empty\ subPDU."{}}\};}
\DoxyCodeLine{00039\ \ \ \}}
\DoxyCodeLine{00040\ \ \ payload\_view\ =\ \{\};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{//\ Skip\ R,\ read\ F\ bit\ and\ LCID}}
\DoxyCodeLine{00043\ \ \ F\_bit\ \ \ \ =\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}\ \&\ 0x40U)\ >\ 0;}
\DoxyCodeLine{00044\ \ \ lcid\_val\ =\ *\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}\ \&\ 0x3fU;}
\DoxyCodeLine{00045\ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}};}
\DoxyCodeLine{00046\ \ \ header\_length\ =\ 1;}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ lcid\_val.\mbox{\hyperlink{classsrsran_1_1lcid__ul__sch__t_a0c4db4dd387372bb736182164064ff31}{is\_valid\_lcid}}())\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}Unrecognized\ lcid=\{\}."{}},\ lcid\_val);}
\DoxyCodeLine{00050\ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{classuint32__t}{uint32\_t}}\ sdu\_length\ =\ 0;}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}\ (lcid\_val.\mbox{\hyperlink{classsrsran_1_1lcid__ul__sch__t_af37c0cb4e60f006a21f14a0ade1d3edb}{has\_length\_field}}())\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ Variable-\/sized\ MAC\ CEs\ or\ SDUs}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ <\ (F\_bit\ ?\ 3\ :\ 2))\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}Not\ enough\ bytes\ remaining\ in\ PDU\ to\ decode\ length\ prefix."{}});}
\DoxyCodeLine{00058\ \ \ \ \ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ Read\ first\ length\ byte}}
\DoxyCodeLine{00061\ \ \ \ \ sdu\_length\ =\ (\mbox{\hyperlink{classuint32__t}{uint32\_t}})*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}};}
\DoxyCodeLine{00062\ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}};}
\DoxyCodeLine{00063\ \ \ \ \ header\_length++;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{if}\ (F\_bit)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{comment}{//\ add\ second\ length\ byte}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ sdu\_length\ =\ sdu\_length\ <<\ 8U\ |\ ((\mbox{\hyperlink{classuint32__t}{uint32\_t}})*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}\ \&\ 0xffU);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ header\_length++;}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ <\ header\_length\ +\ sdu\_length)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ enough\ bytes\ remaining\ in\ PDU\ to\ decode\ SDU\ payload\ (\{\}\ <\ \{\})."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ -\/\ header\_length,\ sdu\_length);}
\DoxyCodeLine{00075\ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ payload\_view\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}.split\_and\_advance(sdu\_length);}
\DoxyCodeLine{00077\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Fixed-\/sized\ MAC\ CEs}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{if}\ (lcid\_val\ ==\ lcid\_ul\_sch\_t::PADDING)\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \textcolor{comment}{//\ set\ subPDU\ length\ to\ rest\ of\ PDU}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \textcolor{comment}{//\ 1\ Byte\ R/LCID\ MAC\ subheader}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ payload\_view\ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}.\mbox{\hyperlink{classsrsran_1_1byte__buffer__view_aa374f409b1bee0caf3c1a86bf2cebe83}{view}}();}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}\ =\ \{\};}
\DoxyCodeLine{00084\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ sdu\_length\ =\ lcid\_val.sizeof\_ce();}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ <\ header\_length\ +\ sdu\_length)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}Not\ enough\ bytes\ remaining\ in\ PDU\ to\ decode\ CE\ payload\ (\{\}\ <\ \{\})."{}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_len}}\ -\/\ header\_length,}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sdu\_length);}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ payload\_view\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subpdu\_reader}}.split\_and\_advance(sdu\_length);}
\DoxyCodeLine{00093\ \ \ \ \ \}}
\DoxyCodeLine{00094\ \ \ \}}
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00096\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__ul__sch__subpdu_a1bfe0865d15925ad467f05dcad515a0e}\label{classsrsran_1_1mac__ul__sch__subpdu_a1bfe0865d15925ad467f05dcad515a0e} 
\index{srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}!unpack@{unpack}}
\index{unpack@{unpack}!srsran::mac\_ul\_sch\_subpdu@{srsran::mac\_ul\_sch\_subpdu}}
\doxysubsubsection{\texorpdfstring{unpack()}{unpack()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1expected}{error\+\_\+type}}$<$ std\+::string $>$ mac\+\_\+ul\+\_\+sch\+\_\+subpdu\+::unpack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{subpdu }\end{DoxyParamCaption})}



Unpacks a sub\+PDU from a byte buffer containing a sub\+PDU. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer__reader}{byte\_buffer\_reader}}\ reader\ =\ subpdu;}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1mac__ul__sch__subpdu_af185644e40f0f7291e8f0bd5af5bf7f1}{unpack}}(reader);}
\DoxyCodeLine{00032\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/mac/mac\+\_\+ul/mac\+\_\+ul\+\_\+sch\+\_\+pdu.\+h\item 
lib/mac/mac\+\_\+ul/mac\+\_\+ul\+\_\+sch\+\_\+pdu.\+cpp\end{DoxyCompactItemize}
