\doxysection{srsran\+::downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1downlink__processor__single__executor__impl}{}\label{classsrsran_1_1downlink__processor__single__executor__impl}\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}


Implementation of a downlink processor.  




{\ttfamily \#include $<$downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl.\+h$>$}

Inheritance diagram for srsran\+::downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.866667cm]{classsrsran_1_1downlink__processor__single__executor__impl}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_a1f14f44dcdd7321a2088b4079c0c9313}{downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1upper__phy__rg__gateway}{upper\+\_\+phy\+\_\+rg\+\_\+gateway}} \&gateway\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__processor}{pdcch\+\_\+processor}} $>$ pdcch\+\_\+proc\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdsch__processor}{pdsch\+\_\+processor}} $>$ pdsch\+\_\+proc\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ssb__processor}{ssb\+\_\+processor}} $>$ ssb\+\_\+proc\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1nzp__csi__rs__generator}{nzp\+\_\+csi\+\_\+rs\+\_\+generator}} $>$ csi\+\_\+rs\+\_\+proc\+\_\+, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&executor\+\_\+, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&logger\+\_\+)
\begin{DoxyCompactList}\small\item\em Builds a downlink processor single executor impl object with the given parameters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_a53227edd4ce38455ad9a43b6e5f9a292}{process\+\_\+pdcch}} (const \mbox{\hyperlink{structsrsran_1_1pdcch__processor_1_1pdu__t}{pdcch\+\_\+processor\+::pdu\+\_\+t}} \&pdu) override
\begin{DoxyCompactList}\small\item\em Process the given PDCCH PDU. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_a684de28891246b05ed6b3ff4e8109226}{process\+\_\+pdsch}} (const \mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$, \mbox{\hyperlink{classsrsran_1_1pdsch__processor_a6c6105b34bc5b25ffb234eddcbfe3f71}{pdsch\+\_\+processor\+::\+MAX\+\_\+\+NOF\+\_\+\+TRANSPORT\+\_\+\+BLOCKS}} $>$ \&data, const \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&pdu) override
\begin{DoxyCompactList}\small\item\em Process the given PDSCH PDU and its related data, which it is given in data parameter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_a213c7fbda264c76ceb2da92cf666242b}{process\+\_\+ssb}} (const \mbox{\hyperlink{structsrsran_1_1ssb__processor_1_1pdu__t}{ssb\+\_\+processor\+::pdu\+\_\+t}} \&pdu) override
\begin{DoxyCompactList}\small\item\em Process the given SSB PDU. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_a8b6e19abc85061f9d880a7b6912a370e}{process\+\_\+nzp\+\_\+csi\+\_\+rs}} (const \mbox{\hyperlink{structsrsran_1_1nzp__csi__rs__generator_1_1config__t}{nzp\+\_\+csi\+\_\+rs\+\_\+generator\+::config\+\_\+t}} \&config) override
\begin{DoxyCompactList}\small\item\em Process the given NZP-\/\+CSI-\/\+RS configuration. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_ad86585896a4c6f860576c8ecf11f1c33}{configure\+\_\+resource\+\_\+grid}} (const \mbox{\hyperlink{structsrsran_1_1resource__grid__context}{resource\+\_\+grid\+\_\+context}} \&context, \mbox{\hyperlink{classsrsran_1_1resource__grid}{resource\+\_\+grid}} \&grid) override
\begin{DoxyCompactList}\small\item\em Configures the resource grid of the \doxylink{classsrsran_1_1downlink__processor}{downlink\+\_\+processor}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}{finish\+\_\+processing\+\_\+pdus}} () override
\begin{DoxyCompactList}\small\item\em Stops accepting PDUs. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of a downlink processor. 

This implementation process the PDUs and config using one executor, which hides the execution threading model. The implementation ensures that all the PDUs and configs will be processed before transmitting the resource grid through the gateway, even if \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}{finish\+\_\+processing\+\_\+pdus()} method is called before every PDU is processed. \begin{DoxyNote}{Note}
This implementation follows the same method order that the interface. Not following this order will result in undefined behaviour. As a reminder, the order is the following\+: first configure the downlink processor by calling \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad86585896a4c6f860576c8ecf11f1c33}{configure\+\_\+resource\+\_\+grid()}. After it is configured it can start to process PDUs. Finally, when no more PDUs need to be processed, \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}{finish\+\_\+processing\+\_\+pdus()} can be called so the grid can be send through the gateway. Note that \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}{finish\+\_\+processing\+\_\+pdus()} can be called before the PDUs finished processing, but the resource grid is sent through the gateway as soon as every enqueued PDU before \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}{finish\+\_\+processing\+\_\+pdus()} is processed . This is controlled counting the PDUs that are processed and finished processing. 

Thread safe class. 
\end{DoxyNote}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_a1f14f44dcdd7321a2088b4079c0c9313}\label{classsrsran_1_1downlink__processor__single__executor__impl_a1f14f44dcdd7321a2088b4079c0c9313} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!downlink\_processor\_single\_executor\_impl@{downlink\_processor\_single\_executor\_impl}}
\index{downlink\_processor\_single\_executor\_impl@{downlink\_processor\_single\_executor\_impl}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{downlink\_processor\_single\_executor\_impl()}{downlink\_processor\_single\_executor\_impl()}}
{\footnotesize\ttfamily downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rg__gateway}{upper\+\_\+phy\+\_\+rg\+\_\+gateway}} \&}]{gateway\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__processor}{pdcch\+\_\+processor}} $>$}]{pdcch\+\_\+proc\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdsch__processor}{pdsch\+\_\+processor}} $>$}]{pdsch\+\_\+proc\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ssb__processor}{ssb\+\_\+processor}} $>$}]{ssb\+\_\+proc\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1nzp__csi__rs__generator}{nzp\+\_\+csi\+\_\+rs\+\_\+generator}} $>$}]{csi\+\_\+rs\+\_\+proc\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{executor\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})}



Builds a downlink processor single executor impl object with the given parameters. 


\begin{DoxyParams}{Parameters}
{\em gateway\+\_\+} & Gateway that will be used to send the resource grids. \\
\hline
{\em pdcch\+\_\+proc\+\_\+} & PDSCH processor used to process PDSCH PDUs. \\
\hline
{\em pdsch\+\_\+proc\+\_\+} & PDCCH processor used to process PDCCH PDUs. \\
\hline
{\em ssb\+\_\+proc\+\_\+} & SSB processor used to process SSB PDUs. \\
\hline
{\em csi\+\_\+rs\+\_\+proc\+\_\+} & CSI-\/\+RS processor used to process CSI-\/\+RS configurations. \\
\hline
{\em executor\+\_\+} & Task executor that will be used to process every PDU. \\
\hline
{\em logger\+\_\+} & Logger instance. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_ad86585896a4c6f860576c8ecf11f1c33}\label{classsrsran_1_1downlink__processor__single__executor__impl_ad86585896a4c6f860576c8ecf11f1c33} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!configure\_resource\_grid@{configure\_resource\_grid}}
\index{configure\_resource\_grid@{configure\_resource\_grid}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{configure\_resource\_grid()}{configure\_resource\_grid()}}
{\footnotesize\ttfamily bool downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::configure\+\_\+resource\+\_\+grid (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsrsran_1_1resource__grid__context}{resource\+\_\+grid\+\_\+context}} \&}]{context,  }\item[{\mbox{\hyperlink{classsrsran_1_1resource__grid}{resource\+\_\+grid}} \&}]{grid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Configures the resource grid of the \doxylink{classsrsran_1_1downlink__processor}{downlink\+\_\+processor}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em context} & Resource grid context that contains the information of the processing slot. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Resource grid that will contain the data of the processed downlink channels. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the resource grid is successfully configured, {\ttfamily false} otherwise.
\end{DoxyReturn}
\begin{DoxyNote}{Note}

\begin{DoxyItemize}
\item Calling this method is mandatory before processing any PDU.
\item The resource grid number of ports and bandwidth must be sufficient to accommodate all the PDUs. 
\end{DoxyItemize}
\end{DoxyNote}


Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_af578458d6d55670d62a9bf920b5f0bf4}{srsran\+::downlink\+\_\+processor}}.

\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889}\label{classsrsran_1_1downlink__processor__single__executor__impl_ad6a698a53afd112a0172d30570284889} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!finish\_processing\_pdus@{finish\_processing\_pdus}}
\index{finish\_processing\_pdus@{finish\_processing\_pdus}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{finish\_processing\_pdus()}{finish\_processing\_pdus()}}
{\footnotesize\ttfamily void srsran\+::downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::finish\+\_\+processing\+\_\+pdus (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Stops accepting PDUs. 

When this method is called, the interface will not expect to process more PDUs, so once it finishes to process all the enqueued PDUs, the resource grid will be sent to the lower bound gateway using the {\ttfamily context} from \doxylink{classsrsran_1_1downlink__processor__single__executor__impl_ad86585896a4c6f860576c8ecf11f1c33}{configure\+\_\+resource\+\_\+grid()} to provide the processing context of the resource grid in the lower physical layer. 

Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_af279e448ba47bb0008b4786a3983c5d5}{srsran\+::downlink\+\_\+processor}}.

\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_a8b6e19abc85061f9d880a7b6912a370e}\label{classsrsran_1_1downlink__processor__single__executor__impl_a8b6e19abc85061f9d880a7b6912a370e} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!process\_nzp\_csi\_rs@{process\_nzp\_csi\_rs}}
\index{process\_nzp\_csi\_rs@{process\_nzp\_csi\_rs}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_nzp\_csi\_rs()}{process\_nzp\_csi\_rs()}}
{\footnotesize\ttfamily void downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::process\+\_\+nzp\+\_\+csi\+\_\+rs (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsrsran_1_1nzp__csi__rs__generator_1_1config__t}{nzp\+\_\+csi\+\_\+rs\+\_\+generator\+::config\+\_\+t}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Process the given NZP-\/\+CSI-\/\+RS configuration. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & NZP-\/\+CSI-\/\+RS configuration to process. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_ae825b50a21b77917fa5cfec453ce0c65}{srsran\+::downlink\+\_\+processor}}.

\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_a53227edd4ce38455ad9a43b6e5f9a292}\label{classsrsran_1_1downlink__processor__single__executor__impl_a53227edd4ce38455ad9a43b6e5f9a292} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!process\_pdcch@{process\_pdcch}}
\index{process\_pdcch@{process\_pdcch}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_pdcch()}{process\_pdcch()}}
{\footnotesize\ttfamily void downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::process\+\_\+pdcch (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsrsran_1_1pdcch__processor_1_1pdu__t}{pdcch\+\_\+processor\+::pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Process the given PDCCH PDU. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pdu} & PDCCH PDU to process. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_a270cb11a434b2f13de896d50e7624840}{srsran\+::downlink\+\_\+processor}}.

\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_a684de28891246b05ed6b3ff4e8109226}\label{classsrsran_1_1downlink__processor__single__executor__impl_a684de28891246b05ed6b3ff4e8109226} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!process\_pdsch@{process\_pdsch}}
\index{process\_pdsch@{process\_pdsch}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_pdsch()}{process\_pdsch()}}
{\footnotesize\ttfamily void downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::process\+\_\+pdsch (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$, \mbox{\hyperlink{classsrsran_1_1pdsch__processor_a6c6105b34bc5b25ffb234eddcbfe3f71}{pdsch\+\_\+processor\+::\+MAX\+\_\+\+NOF\+\_\+\+TRANSPORT\+\_\+\+BLOCKS}} $>$ \&}]{data,  }\item[{const \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Process the given PDSCH PDU and its related data, which it is given in data parameter. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Contains the PDSCH transport blocks. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & PDSCH PDU to process. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_a1291046c6450686f6363442c8460b332}{srsran\+::downlink\+\_\+processor}}.

\Hypertarget{classsrsran_1_1downlink__processor__single__executor__impl_a213c7fbda264c76ceb2da92cf666242b}\label{classsrsran_1_1downlink__processor__single__executor__impl_a213c7fbda264c76ceb2da92cf666242b} 
\index{srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}!process\_ssb@{process\_ssb}}
\index{process\_ssb@{process\_ssb}!srsran::downlink\_processor\_single\_executor\_impl@{srsran::downlink\_processor\_single\_executor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_ssb()}{process\_ssb()}}
{\footnotesize\ttfamily void downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl\+::process\+\_\+ssb (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsrsran_1_1ssb__processor_1_1pdu__t}{ssb\+\_\+processor\+::pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Process the given SSB PDU. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pdu} & SSB PDU to pr \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1downlink__processor_ae74690336558a5a3419b59e58eebdb42}{srsran\+::downlink\+\_\+processor}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl.\+h\item 
lib/phy/upper/downlink\+\_\+processor\+\_\+single\+\_\+executor\+\_\+impl.\+cpp\end{DoxyCompactItemize}
