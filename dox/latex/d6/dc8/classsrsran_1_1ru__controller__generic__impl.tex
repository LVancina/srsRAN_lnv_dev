\doxysection{srsran\+::ru\+\_\+controller\+\_\+generic\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ru__controller__generic__impl}{}\label{classsrsran_1_1ru__controller__generic__impl}\index{srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}}


Radio Unit controller generic implementation.  




{\ttfamily \#include $<$ru\+\_\+controller\+\_\+generic\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::ru\+\_\+controller\+\_\+generic\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{dd/dc3/classsrsran_1_1ru__controller__generic__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ru\+\_\+controller\+\_\+generic\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{d2/dca/classsrsran_1_1ru__controller__generic__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ru__controller__generic__impl_a9bde84cb4cdc619537e6b5f83fabb012}{ru\+\_\+controller\+\_\+generic\+\_\+impl}} (std\+::vector$<$ \mbox{\hyperlink{classsrsran_1_1lower__phy__controller}{lower\+\_\+phy\+\_\+controller}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{low\+\_\+phy\+\_\+crtl\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1radio__session}{radio\+\_\+session}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{radio\+\_\+}}, \mbox{\hyperlink{classdouble}{double}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srate\+\_\+\+MHz\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ru__controller__generic__impl_a46846e1738b074ec287afc1eec02bdb4}{start}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Starts the Radio Unit operation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ru__controller__generic__impl_a533c7d492255cd6d46eeb6117f4530e4}{stop}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Stops the Radio Unit operation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ru__controller}{srsran\+::ru\+\_\+controller}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}ru\+\_\+controller} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Radio Unit controller generic implementation. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ru__controller__generic__impl_a9bde84cb4cdc619537e6b5f83fabb012}\label{classsrsran_1_1ru__controller__generic__impl_a9bde84cb4cdc619537e6b5f83fabb012} 
\index{srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}!ru\_controller\_generic\_impl@{ru\_controller\_generic\_impl}}
\index{ru\_controller\_generic\_impl@{ru\_controller\_generic\_impl}!srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}}
\doxysubsubsection{\texorpdfstring{ru\_controller\_generic\_impl()}{ru\_controller\_generic\_impl()}}
{\footnotesize\ttfamily ru\+\_\+controller\+\_\+generic\+\_\+impl\+::ru\+\_\+controller\+\_\+generic\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classsrsran_1_1lower__phy__controller}{lower\+\_\+phy\+\_\+controller}} \texorpdfstring{$\ast$}{*} $>$}]{low\+\_\+phy\+\_\+crtl\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1radio__session}{radio\+\_\+session}} \&}]{radio\+\_\+,  }\item[{\mbox{\hyperlink{classdouble}{double}}}]{srate\+\_\+\+MHz\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00033\ \ \ low\_phy\_crtl(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{low\_phy\_crtl\_}})),\ radio(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{radio\_}}),\ srate\_MHz(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srate\_MHz\_}})}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ru__controller__generic__impl_a46846e1738b074ec287afc1eec02bdb4}\label{classsrsran_1_1ru__controller__generic__impl_a46846e1738b074ec287afc1eec02bdb4} 
\index{srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}!start@{start}}
\index{start@{start}!srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ru\+\_\+controller\+\_\+generic\+\_\+impl\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Starts the Radio Unit operation. 

\begin{DoxyNote}{Note}
Caller will be blocked until the controller is fully started. 
\end{DoxyNote}


Implements \mbox{\hyperlink{classsrsran_1_1ru__controller_aa376dda6d88a80ee23bfe0b7cae42390}{srsran\+::ru\+\_\+controller}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Calculate\ starting\ time\ from\ the\ radio\ current\ time\ plus\ one\ hundred\ milliseconds\ and\ rounded\ to\ the\ next\ subframe.}}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delay\_s}}\ \ \ \ \ \ =\ 0.1;}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{baseband\_gateway\_timestamp}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{current\_time}}\ =\ radio.\mbox{\hyperlink{classsrsran_1_1radio__session_a0994b4d52fda9184950ef2b941ef1a7b}{read\_current\_time}}();}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{baseband\_gateway\_timestamp}}\ start\_time\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{current\_time}}\ +\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delay\_s}}\ *\ srate\_MHz\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e6}});}
\DoxyCodeLine{00043\ \ \ start\_time\ =\ \mbox{\hyperlink{namespacesrsran_a6e5aee1d553dc6e825017842e4059adb}{divide\_ceil}}(start\_time,\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(srate\_MHz\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e3}}))\ *\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(srate\_MHz\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e3}});}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ radio.\mbox{\hyperlink{classsrsran_1_1radio__session_a793081cb27d4a66be880959af97fa9ea}{start}}(start\_time);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ low\_phy\ :\ low\_phy\_crtl)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ low\_phy-\/>start(start\_time);}
\DoxyCodeLine{00049\ \ \ \}}
\DoxyCodeLine{00050\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ru__controller__generic__impl_a533c7d492255cd6d46eeb6117f4530e4}\label{classsrsran_1_1ru__controller__generic__impl_a533c7d492255cd6d46eeb6117f4530e4} 
\index{srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}!stop@{stop}}
\index{stop@{stop}!srsran::ru\_controller\_generic\_impl@{srsran::ru\_controller\_generic\_impl}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ru\+\_\+controller\+\_\+generic\+\_\+impl\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Stops the Radio Unit operation. 

\begin{DoxyNote}{Note}
Caller will be blocked until the controller is fully stopped. 
\end{DoxyNote}


Implements \mbox{\hyperlink{classsrsran_1_1ru__controller_afcbd930becd497bda9c1459f10c40914}{srsran\+::ru\+\_\+controller}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ radio.\mbox{\hyperlink{classsrsran_1_1radio__session_aeb7baacf9aa88b71e9968d8e46d970c2}{stop}}();}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ low\_phy\ :\ low\_phy\_crtl)\ \{}
\DoxyCodeLine{00057\ \ \ \ \ low\_phy-\/>stop();}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ru/generic/ru\+\_\+controller\+\_\+generic\+\_\+impl.\+h\item 
lib/ru/generic/ru\+\_\+controller\+\_\+generic\+\_\+impl.\+cpp\end{DoxyCompactItemize}
