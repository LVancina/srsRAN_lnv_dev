\doxysection{srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+stream Class Reference}
\hypertarget{classsrsran_1_1radio__zmq__tx__stream}{}\label{classsrsran_1_1radio__zmq__tx__stream}\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}


Implements a gateway receiver based on ZMQ transmit socket.  




{\ttfamily \#include $<$radio\+\_\+zmq\+\_\+tx\+\_\+stream.\+h$>$}



Inheritance diagram for srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2e/classsrsran_1_1radio__zmq__tx__stream__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d0b/classsrsran_1_1radio__zmq__tx__stream__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__stream_1_1stream__description}{stream\+\_\+description}}
\begin{DoxyCompactList}\small\item\em Describes the necessary parameters to create a ZMQ Tx stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_a2ae4b2d509edad1f92092ef7cee7c152}{radio\+\_\+zmq\+\_\+tx\+\_\+stream}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}zmq\+\_\+context, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__stream_1_1stream__description}{stream\+\_\+description}} \&config, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{async\+\_\+executor\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1radio__notification__handler}{radio\+\_\+notification\+\_\+handler}} \&notification\+\_\+handler)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_a36b98f94c895397bb3cccb82adbd692f}{is\+\_\+successful}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_acb619000e009c142b780f39cf13a2f25}{align}} (\mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{baseband\+\_\+gateway\+\_\+timestamp}} timestamp, std\+::chrono\+::milliseconds timeout) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Aligns a transmit stream by transmitting zeros until the indicated timestamp. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_a64f362755de9b17882bc6990430d27f7}{transmit}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1baseband__gateway__buffer__reader}{baseband\+\_\+gateway\+\_\+buffer\+\_\+reader}} \&data, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1baseband__gateway__transmitter__metadata}{baseband\+\_\+gateway\+\_\+transmitter\+\_\+metadata}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{md}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Transmits a set of baseband samples at the time instant provided in the metadata. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_a618b8b05c0ef6880cc87d754ef91b09d}{start}} (\mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{baseband\+\_\+gateway\+\_\+timestamp}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{init\+\_\+time}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_a41ca337efe612bbba7a47ce947916e52}{stop}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_acd1f89aa1c6a163c16752f7824792351}{wait\+\_\+stop}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{srsran\+::baseband\+\_\+gateway\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}baseband\+\_\+gateway\+\_\+base} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Provides default destructor. \end{DoxyCompactList}\item 
{\bfseries baseband\+\_\+gateway\+\_\+base} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\begin{DoxyCompactList}\small\item\em Forbid copy constructor. \end{DoxyCompactList}\item 
{\bfseries baseband\+\_\+gateway\+\_\+base} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \&\&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\begin{DoxyCompactList}\small\item\em Forbid move constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\begin{DoxyCompactList}\small\item\em Forbid copy assigment operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \& {\bfseries operator=} (\mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{baseband\+\_\+gateway\+\_\+base}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\begin{DoxyCompactList}\small\item\em Forbid move assigment operator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__align__interface}{srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+align\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}radio\+\_\+zmq\+\_\+tx\+\_\+align\+\_\+interface} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1baseband__gateway__base}{srsran\+::baseband\+\_\+gateway\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries baseband\+\_\+gateway\+\_\+base} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Allow default constructor for child. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements a gateway receiver based on ZMQ transmit socket. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_a2ae4b2d509edad1f92092ef7cee7c152}\label{classsrsran_1_1radio__zmq__tx__stream_a2ae4b2d509edad1f92092ef7cee7c152} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!radio\_zmq\_tx\_stream@{radio\_zmq\_tx\_stream}}
\index{radio\_zmq\_tx\_stream@{radio\_zmq\_tx\_stream}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{radio\_zmq\_tx\_stream()}{radio\_zmq\_tx\_stream()}}
{\footnotesize\ttfamily radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::radio\+\_\+zmq\+\_\+tx\+\_\+stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}}]{zmq\+\_\+context,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__stream_1_1stream__description}{stream\+\_\+description}} \&}]{config,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{async\+\_\+executor\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1radio__notification__handler}{radio\+\_\+notification\+\_\+handler}} \&}]{notification\+\_\+handler }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00031\ \ \ notification\_handler(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notification\_handler\_}})}
\DoxyCodeLine{00032\ \{}
\DoxyCodeLine{00033\ \ \ \textcolor{comment}{//\ For\ each\ channel...}}
\DoxyCodeLine{00034\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ channel\_id\ =\ 0;\ channel\_id\ !=\ config.address.size();\ ++channel\_id)\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//\ Prepare\ configuration.}}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description}{radio\_zmq\_tx\_channel::channel\_description}}\ channel\_description;}
\DoxyCodeLine{00037\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_ac3f972dc39e9de86c9320a3e9bbeee8c}{socket\_type}}\ \ \ \ \ \ \ =\ config.socket\_type;}
\DoxyCodeLine{00038\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_ace456f5d1d54815714ca9d15892aec1c}{address}}\ \ \ \ \ \ \ \ \ \ \ =\ config.address[channel\_id];}
\DoxyCodeLine{00039\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_a01ff4d5734de07076d9102860a0b2684}{stream\_id}}\ \ \ \ \ \ \ \ \ =\ config.stream\_id;}
\DoxyCodeLine{00040\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_a0f72d9abcbd29121ae300b8b80ba4a8f}{channel\_id}}\ \ \ \ \ \ \ \ =\ channel\_id;}
\DoxyCodeLine{00041\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_aa84d348b7f362b5fd1293118175a5a8e}{channel\_id\_str}}\ \ \ \ =\ config.stream\_id\_str\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ std::to\_string(channel\_id);}
\DoxyCodeLine{00042\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_ac27846f67f88f5befb950be32e20a546}{log\_level}}\ \ \ \ \ \ \ \ \ =\ config.log\_level;}
\DoxyCodeLine{00043\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_ad13bb165eea93dac1eefcb1b6ff32895}{trx\_timeout\_ms}}\ \ \ \ =\ config.trx\_timeout\_ms;}
\DoxyCodeLine{00044\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_a1209a5cbe417bd0c42fa7568773f525e}{linger\_timeout\_ms}}\ =\ config.linger\_timeout\_ms;}
\DoxyCodeLine{00045\ \ \ \ \ channel\_description.\mbox{\hyperlink{structsrsran_1_1radio__zmq__tx__channel_1_1channel__description_ace743f074592e82c58199ef107dcb83d}{buffer\_size}}\ \ \ \ \ \ \ =\ config.buffer\_size;}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ Create\ channel.}}
\DoxyCodeLine{00048\ \ \ \ \ channels.emplace\_back(std::make\_unique<radio\_zmq\_tx\_channel>(}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ zmq\_context,\ channel\_description,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notification\_handler\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{async\_executor\_}}));}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ channel\ construction\ was\ successful.}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (!channels.back()-\/>is\_successful())\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ successful\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00058\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_acb619000e009c142b780f39cf13a2f25}\label{classsrsran_1_1radio__zmq__tx__stream_acb619000e009c142b780f39cf13a2f25} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!align@{align}}
\index{align@{align}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{align()}{align()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::align (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{baseband\+\_\+gateway\+\_\+timestamp}}}]{timestamp,  }\item[{std\+::chrono\+::milliseconds}]{timeout }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Aligns a transmit stream by transmitting zeros until the indicated timestamp. 



Implements \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__align__interface_a8a454b83268598a702be10decf69bcff}{srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+align\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \{}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ at\ least\ one\ channel\ is\ in\ the\ past.}}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ channel\ :\ channels)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}}\ ||\ channel-\/>align(timestamp,\ timeout);}
\DoxyCodeLine{00087\ \ \ \}}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}};}
\DoxyCodeLine{00089\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_a36b98f94c895397bb3cccb82adbd692f}\label{classsrsran_1_1radio__zmq__tx__stream_a36b98f94c895397bb3cccb82adbd692f} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!is\_successful@{is\_successful}}
\index{is\_successful@{is\_successful}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{is\_successful()}{is\_successful()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::is\+\_\+successful (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ \{\ \textcolor{keywordflow}{return}\ successful;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_a618b8b05c0ef6880cc87d754ef91b09d}\label{classsrsran_1_1radio__zmq__tx__stream_a618b8b05c0ef6880cc87d754ef91b09d} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!start@{start}}
\index{start@{start}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a4057ba65348ba48e6202d60aea8e6235}{srsran\+::baseband\+\_\+gateway\+\_\+timestamp}}}]{init\+\_\+time }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00061\ \{}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ channel\ :\ channels)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ channel-\/>start(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{init\_time}});}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_a41ca337efe612bbba7a47ce947916e52}\label{classsrsran_1_1radio__zmq__tx__stream_a41ca337efe612bbba7a47ce947916e52} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!stop@{stop}}
\index{stop@{stop}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \{}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ channel\ :\ channels)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ channel-\/>stop();}
\DoxyCodeLine{00071\ \ \ \}}
\DoxyCodeLine{00072\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_a64f362755de9b17882bc6990430d27f7}\label{classsrsran_1_1radio__zmq__tx__stream_a64f362755de9b17882bc6990430d27f7} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!transmit@{transmit}}
\index{transmit@{transmit}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{transmit()}{transmit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::transmit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1baseband__gateway__buffer__reader}{baseband\+\_\+gateway\+\_\+buffer\+\_\+reader}} \&}]{data,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1baseband__gateway__transmitter__metadata}{baseband\+\_\+gateway\+\_\+transmitter\+\_\+metadata}} \&}]{metadata }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Transmits a set of baseband samples at the time instant provided in the metadata. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Buffer of baseband samples to transmit. \\
\hline
\mbox{\texttt{ in}}  & {\em metadata} & Additional parameters for transmission. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The data buffers must have the same number of channels as the stream. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1baseband__gateway__transmitter_ac3f8ab3290997985e26afbaec57f8119}{srsran\+::baseband\+\_\+gateway\+\_\+transmitter}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \ \ report\_fatal\_error\_if\_not(data.get\_nof\_channels()\ ==\ channels.size(),}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ number\ of\ channels\ (\{\})\ expected\ \{\}."{}},}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.get\_nof\_channels(),}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ channels.size());}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ Align\ stream\ to\ the\ new\ timestamp.}}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}}\ =\ \mbox{\hyperlink{classsrsran_1_1radio__zmq__tx__stream_acb619000e009c142b780f39cf13a2f25}{align}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{md}}.ts,\ TRANSMIT\_TS\_ALIGN\_TIMEOUT);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ Notify\ that\ a\ timestamp\ is\ late.}}
\DoxyCodeLine{00103\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timestamp\_passed}})\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description}{radio\_notification\_handler::event\_description}}\ event\_description;}
\DoxyCodeLine{00105\ \ \ \ \ event\_description.\mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description_a3f49f91a7ca868389088332fd4a16386}{stream\_id}}\ \ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_a8afbb07c418abcb0cf1237fae5a52a4a}{radio\_notification\_handler::UNKNOWN\_ID}};}
\DoxyCodeLine{00106\ \ \ \ \ event\_description.\mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description_a580d960a54861ba14530a9e6ffb077d9}{channel\_id}}\ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_a8afbb07c418abcb0cf1237fae5a52a4a}{radio\_notification\_handler::UNKNOWN\_ID}};}
\DoxyCodeLine{00107\ \ \ \ \ event\_description.\mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description_af4d280f079f4f65848159b4858dd245d}{source}}\ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_1_1event__source_a7f23df937678f1d803ac52f8af7d91b3a149b528ca682d08b0e3789e03d050fd8}{radio\_notification\_handler::event\_source::TRANSMIT}};}
\DoxyCodeLine{00108\ \ \ \ \ event\_description.\mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description_a1482c13a2ae59d37645e16c95165a630}{type}}\ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_1_1event__type_ada92c8b313b55717e4f4f4be58a1ab58a6648a01a7ae6ecf549b9d1813b49c791}{radio\_notification\_handler::event\_type::LATE}};}
\DoxyCodeLine{00109\ \ \ \ \ notification\_handler.\mbox{\hyperlink{classsrsran_1_1radio__notification__handler_a8b4a990b42877a8054ac67c85543c541}{on\_radio\_rt\_event}}(event\_description);}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00111\ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ channel\_id\ =\ 0;\ channel\_id\ !=\ channels.size();\ ++channel\_id)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ channels[channel\_id]-\/>transmit(data.get\_channel\_buffer(channel\_id));}
\DoxyCodeLine{00115\ \ \ \}}
\DoxyCodeLine{00116\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__tx__stream_acd1f89aa1c6a163c16752f7824792351}\label{classsrsran_1_1radio__zmq__tx__stream_acd1f89aa1c6a163c16752f7824792351} 
\index{srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}!wait\_stop@{wait\_stop}}
\index{wait\_stop@{wait\_stop}!srsran::radio\_zmq\_tx\_stream@{srsran::radio\_zmq\_tx\_stream}}
\doxysubsubsection{\texorpdfstring{wait\_stop()}{wait\_stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+tx\+\_\+stream\+::wait\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \{}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ channel\ :\ channels)\ \{}
\DoxyCodeLine{00077\ \ \ \ \ channel-\/>wait\_stop();}
\DoxyCodeLine{00078\ \ \ \}}
\DoxyCodeLine{00079\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/radio/zmq/radio\+\_\+zmq\+\_\+tx\+\_\+stream.\+h\item 
lib/radio/zmq/radio\+\_\+zmq\+\_\+tx\+\_\+stream.\+cpp\end{DoxyCompactItemize}
