\doxysection{srsran\+::hal\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository Class Reference}
\hypertarget{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository}{}\label{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository}\index{srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}}


Abstracted interfacing to bbdev-\/based hardware-\/accelerators.  




{\ttfamily \#include $<$ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository.\+h$>$}



Collaboration diagram for srsran\+::hal\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=221pt]{d1/d19/classsrsran_1_1hal_1_1ext__harq__buffer__context__repository__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_ae1f39190fa5421cf2c5e20c02ca4d306}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+codeblocks\+\_\+}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ext\+\_\+harq\+\_\+buff\+\_\+size}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{debug\+\_\+mode\+\_\+}})
\item 
\mbox{\hyperlink{structsrsran_1_1hal_1_1ext__harq__buffer__context__entry}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+entry}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a8b73e61f028f2509da90e4e9debe267e}{get}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\+\_\+codeblock\+\_\+id}}, \mbox{\hyperlink{classbool}{bool}} new\+\_\+data)
\begin{DoxyCompactList}\small\item\em Get the entry for the provided absolute codeblock identifier. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a65ca95e21b59b4c49cf9b04b4540a774}{free}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\+\_\+codeblock\+\_\+id}})
\begin{DoxyCompactList}\small\item\em Free the entry reserved for the provided absolute codeblock identifier. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Abstracted interfacing to bbdev-\/based hardware-\/accelerators. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_ae1f39190fa5421cf2c5e20c02ca4d306}\label{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_ae1f39190fa5421cf2c5e20c02ca4d306} 
\index{srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}!ext\_harq\_buffer\_context\_repository@{ext\_harq\_buffer\_context\_repository}}
\index{ext\_harq\_buffer\_context\_repository@{ext\_harq\_buffer\_context\_repository}!srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}}
\doxysubsubsection{\texorpdfstring{ext\_harq\_buffer\_context\_repository()}{ext\_harq\_buffer\_context\_repository()}}
{\footnotesize\ttfamily srsran\+::hal\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+codeblocks\+\_\+,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{ext\+\_\+harq\+\_\+buff\+\_\+size,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{debug\+\_\+mode\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}

Creates a harq buffer context repository. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nof\+\_\+codeblocks\+\_\+} & Indicates the number of codeblocks to store in the repository. \\
\hline
\mbox{\texttt{ in}}  & {\em ext\+\_\+harq\+\_\+buff\+\_\+size} & Size of the external HARQ buffer (in bytes). \\
\hline
\mbox{\texttt{ in}}  & {\em debug\+\_\+mode\+\_\+} & Requests to implement the debug mode (meant for unittesting). \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00055\ \ \ \ \ nof\_codeblocks(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codeblocks\_}})}
\DoxyCodeLine{00056\ \ \ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{requested\_size}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codeblocks\_}}\ *\ HARQ\_INCR;}
\DoxyCodeLine{00058\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{requested\_size}}\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ext\_harq\_buff\_size}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Requested\ size\ (\{\}\ bytes)\ for\ \{\}\ codeblocks\ exceeds\ external\ HARQ\ buffer\ capacity\ (\{\}\ bytes)."{}},}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{requested\_size}},}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codeblocks\_}},}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ext\_harq\_buff\_size}});}
\DoxyCodeLine{00063\ \ \ \ \ repo.resize(nof\_codeblocks);}
\DoxyCodeLine{00064\ \ \ \ \ debug\_mode\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{debug\_mode\_}};}
\DoxyCodeLine{00065\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a65ca95e21b59b4c49cf9b04b4540a774}\label{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a65ca95e21b59b4c49cf9b04b4540a774} 
\index{srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}!free@{free}}
\index{free@{free}!srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}}
\doxysubsubsection{\texorpdfstring{free()}{free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::hal\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository\+::free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{absolute\+\_\+codeblock\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Free the entry reserved for the provided absolute codeblock identifier. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}\ <\ nof\_codeblocks,}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Absolute\ CB\ index\ \{\}\ out\ of\ bounds\ -\/\ HARQ\ buffer\ context\ has\ capacity\ for\ \{\}\ CBs."{}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_codeblocks);}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Free\ the\ entry.}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ Note\ that\ in\ debug\ mode,\ the\ entry\ won't\ be\ freed\ to\ enable\ HARQ\ unitesting.}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordflow}{if}\ (!debug\_mode)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ repo[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}].empty\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a8b73e61f028f2509da90e4e9debe267e}\label{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository_a8b73e61f028f2509da90e4e9debe267e} 
\index{srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}!get@{get}}
\index{get@{get}!srsran::hal::ext\_harq\_buffer\_context\_repository@{srsran::hal::ext\_harq\_buffer\_context\_repository}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1hal_1_1ext__harq__buffer__context__entry}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+entry}} \texorpdfstring{$\ast$}{*} srsran\+::hal\+::ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository\+::get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{absolute\+\_\+codeblock\+\_\+id,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{new\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the entry for the provided absolute codeblock identifier. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}\ <\ nof\_codeblocks,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Absolute\ CB\ index\ \{\}\ out\ of\ bounds\ -\/\ HARQ\ buffer\ context\ has\ capacity\ for\ \{\}\ CBs."{}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}},}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_codeblocks);}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//\ Initialize\ the\ entry\ if\ not\ already\ created\ (or\ in\ first\ transmissions).}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{if}\ (repo[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}].empty\ ||\ new\_data)\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ repo[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}].soft\_data\_len\ =\ 0;}
\DoxyCodeLine{00077\ \ \ \ \ \ \ repo[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}].empty\ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{return}\ \&repo[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{absolute\_codeblock\_id}}];}
\DoxyCodeLine{00081\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/hal/phy/upper/channel\+\_\+processors/pusch/\mbox{\hyperlink{ext__harq__buffer__context__repository_8h}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository.\+h}}\end{DoxyCompactItemize}
