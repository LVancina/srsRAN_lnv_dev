\doxysection{srsran\+::precoding\+\_\+weight\+\_\+matrix Class Reference}
\hypertarget{classsrsran_1_1precoding__weight__matrix}{}\label{classsrsran_1_1precoding__weight__matrix}\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}


Precoding matrix, consisting of complex coefficients arranged by i) transmit layers and ii) antenna ports.  




{\ttfamily \#include $<$precoding\+\_\+weight\+\_\+matrix.\+h$>$}



Collaboration diagram for srsran\+::precoding\+\_\+weight\+\_\+matrix\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{db/d7e/classsrsran_1_1precoding__weight__matrix__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_af7fdb2169041474e7fdb65c84a819427}{dims}} \+: unsigned \{ {\bfseries layer} = 0
, {\bfseries port}
, {\bfseries all}
 \}
\begin{DoxyCompactList}\small\item\em Precoding coefficient dimensions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a722e37a024a75e9aa5adbba9167bca62}\label{classsrsran_1_1precoding__weight__matrix_a722e37a024a75e9aa5adbba9167bca62} 
{\bfseries precoding\+\_\+weight\+\_\+matrix} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor -\/ constructs a precoding weight matrix with no coefficients. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_af05ae6d5234615fe9900765590631f2e}{precoding\+\_\+weight\+\_\+matrix}} (\mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+layers, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+ports)
\begin{DoxyCompactList}\small\item\em Constructs a weight matrix with the desired number of layers and ports. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a6965b483a700d44cb0b7228e7bc6a683}{precoding\+\_\+weight\+\_\+matrix}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+layers, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+ports)
\begin{DoxyCompactList}\small\item\em Constructs a precoding weight matrix with the desired number of layers and ports. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a82e72fbf5af648cdd8fcf03a8bd316af}{precoding\+\_\+weight\+\_\+matrix}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+layers, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+ports)
\begin{DoxyCompactList}\small\item\em Constructs a weight matrix with the desired number of layers and ports. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_abfa385ba96a6b3a7d0a734c13b9af55f}{precoding\+\_\+weight\+\_\+matrix}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \& \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_ab80d27b6dbb2029f67135f935fe479fa}{operator=}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})
\begin{DoxyCompactList}\small\item\em Overload assigment operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a20633eccbebe56061bcd3981b24b527f}{operator==}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Overload equality comparison operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a68b69bf1d2c091da930182c1e8c7bd1f}{operator!=}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Overload inequality comparison operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\+\_\+nof\+\_\+layers}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the current number of layers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\+\_\+nof\+\_\+ports}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the current number of ports. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_ab78059d72753bb01706ee54c5472166d}{get\+\_\+port\+\_\+coefficients}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+port}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets a read-\/only view of the precoding weights for a given port. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a2a6e895305a4721195d8188c20e1f3f0}{get\+\_\+port\+\_\+coefficients}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+port}})
\begin{DoxyCompactList}\small\item\em Gets a read-\/write view of the precoding weights for a given port. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a5e0e6a59be716c453f4bc3f74a629a2a}{get\+\_\+coefficient}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+layer}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+port}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets a precoding coefficient from the matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_ac430303f5318f89caa614438db1f62f0}{set\+\_\+coefficient}} (\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coefficient}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+layer}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+port}})
\begin{DoxyCompactList}\small\item\em Sets a precoding coefficient in the matrix to a specified value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \& \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_ab72c1b3022ec12514fc59853c431cf07}{operator\texorpdfstring{$\ast$}{*}=}} (\mbox{\hyperlink{classfloat}{float}} scale)
\begin{DoxyCompactList}\small\item\em Scales all the weights by a scaling factor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Precoding matrix, consisting of complex coefficients arranged by i) transmit layers and ii) antenna ports. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_af7fdb2169041474e7fdb65c84a819427}\label{classsrsran_1_1precoding__weight__matrix_af7fdb2169041474e7fdb65c84a819427} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!dims@{dims}}
\index{dims@{dims}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{dims}{dims}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{enum}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{class}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_af7fdb2169041474e7fdb65c84a819427}{srsran\+::precoding\+\_\+weight\+\_\+matrix\+::dims}} \+: \mbox{\hyperlink{classunsigned}{unsigned}}\hspace{0.3cm}{\ttfamily [strong]}}



Precoding coefficient dimensions. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ :\ \textcolor{keywordtype}{unsigned}\ \{\ layer\ =\ 0,\ port,\ all\ \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_af05ae6d5234615fe9900765590631f2e}\label{classsrsran_1_1precoding__weight__matrix_af05ae6d5234615fe9900765590631f2e} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!precoding\_weight\_matrix@{precoding\_weight\_matrix}}
\index{precoding\_weight\_matrix@{precoding\_weight\_matrix}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{precoding\_weight\_matrix()}{precoding\_weight\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily srsran\+::precoding\+\_\+weight\+\_\+matrix\+::precoding\+\_\+weight\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+layers,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+ports }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs a weight matrix with the desired number of layers and ports. 

The coefficients are set to zero.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nof\+\_\+layers} & Number of layers. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+ports} & Number of ports. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the number of layers exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+LAYERS. 

An assertion is triggered if the number of ports exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+PORTS. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ data(\{nof\_layers,\ nof\_ports\})}
\DoxyCodeLine{00052\ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ srsran\_assert(nof\_layers\ <=\ precoding\_constants::MAX\_NOF\_LAYERS,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ layers\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_layers,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precoding\_constants::MAX\_NOF\_LAYERS);}
\DoxyCodeLine{00057\ \ \ \ \ srsran\_assert(nof\_ports\ <=\ precoding\_constants::MAX\_NOF\_PORTS,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ ports\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_ports,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precoding\_constants::MAX\_NOF\_PORTS);}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ Zero\ all\ data.}}
\DoxyCodeLine{00063\ \ \ \ \ srsvec::zero(data.\mbox{\hyperlink{classsrsran_1_1static__tensor_a4a29f86b7d16e71ffbe4a5e31f211f51}{get\_data}}());}
\DoxyCodeLine{00064\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a6965b483a700d44cb0b7228e7bc6a683}\label{classsrsran_1_1precoding__weight__matrix_a6965b483a700d44cb0b7228e7bc6a683} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!precoding\_weight\_matrix@{precoding\_weight\_matrix}}
\index{precoding\_weight\_matrix@{precoding\_weight\_matrix}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{precoding\_weight\_matrix()}{precoding\_weight\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily srsran\+::precoding\+\_\+weight\+\_\+matrix\+::precoding\+\_\+weight\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \&}]{weights,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+layers,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+ports }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs a precoding weight matrix with the desired number of layers and ports. 

Creates a precoding weight matrix with the specified dimensions, and sets its contents to the provided weight values.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em weights} & Precoding weight list, arranged by i) layer and ii) antenna port. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+layers} & Number of layers. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+ports} & Number of ports. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the number of layers exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+LAYERS. 

An assertion is triggered if the number of ports exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+PORTS. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a722e37a024a75e9aa5adbba9167bca62}{precoding\_weight\_matrix}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<const\ cf\_t>}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}.end()),\ nof\_layers,\ nof\_ports)}
\DoxyCodeLine{00078\ \ \ \{}
\DoxyCodeLine{00079\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a82e72fbf5af648cdd8fcf03a8bd316af}\label{classsrsran_1_1precoding__weight__matrix_a82e72fbf5af648cdd8fcf03a8bd316af} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!precoding\_weight\_matrix@{precoding\_weight\_matrix}}
\index{precoding\_weight\_matrix@{precoding\_weight\_matrix}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{precoding\_weight\_matrix()}{precoding\_weight\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily srsran\+::precoding\+\_\+weight\+\_\+matrix\+::precoding\+\_\+weight\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{weights,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+layers,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+ports }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs a weight matrix with the desired number of layers and ports. 

Creates a precoding weight matrix with the specified dimensions, and sets its contents to the provided weight values.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em weights} & Precoding weight list, arranged by i) layer and ii) antenna port. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+layers} & Number of layers. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+ports} & Number of ports. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the number of layers exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+LAYERS. 

An assertion is triggered if the number of ports exceeds precoding\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+PORTS. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00092\ \ \ \ \ data(\{nof\_layers,\ nof\_ports\})}
\DoxyCodeLine{00093\ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ srsran\_assert(}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}.size()\ ==\ nof\_ports\ *\ nof\_layers,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ weights,\ i.e.,\ \{\},\ does\ not\ match\ the\ specified\ matrix\ dimensions,\ i.e.,\ \{\}\ layers,\ \{\}\ ports."{}},}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}}.size(),}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ nof\_layers,}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ nof\_ports);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ srsran\_assert(nof\_layers\ <=\ precoding\_constants::MAX\_NOF\_LAYERS,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ layers\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_layers,}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precoding\_constants::MAX\_NOF\_LAYERS);}
\DoxyCodeLine{00105\ \ \ \ \ srsran\_assert(nof\_ports\ <=\ precoding\_constants::MAX\_NOF\_PORTS,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ ports\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_ports,}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precoding\_constants::MAX\_NOF\_PORTS);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ weights\ into\ the\ tensor.}}
\DoxyCodeLine{00111\ \ \ \ \ srsvec::copy(data.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(dims::all)>(\{\}),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{weights}});}
\DoxyCodeLine{00112\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_abfa385ba96a6b3a7d0a734c13b9af55f}\label{classsrsran_1_1precoding__weight__matrix_abfa385ba96a6b3a7d0a734c13b9af55f} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!precoding\_weight\_matrix@{precoding\_weight\_matrix}}
\index{precoding\_weight\_matrix@{precoding\_weight\_matrix}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{precoding\_weight\_matrix()}{precoding\_weight\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily srsran\+::precoding\+\_\+weight\+\_\+matrix\+::precoding\+\_\+weight\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Copy constructor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ data(\{\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_layers(),\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_ports()\})}
\DoxyCodeLine{00116\ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ weights\ into\ the\ tensor.}}
\DoxyCodeLine{00118\ \ \ \ \ srsvec::copy(data.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(dims::all)>(\{\}),}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.data.get\_view<\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(dims::all)>(\{\}));}
\DoxyCodeLine{00120\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a5e0e6a59be716c453f4bc3f74a629a2a}\label{classsrsran_1_1precoding__weight__matrix_a5e0e6a59be716c453f4bc3f74a629a2a} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!get\_coefficient@{get\_coefficient}}
\index{get\_coefficient@{get\_coefficient}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{get\_coefficient()}{get\_coefficient()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::get\+\_\+coefficient (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+layer,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+port }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets a precoding coefficient from the matrix. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i\+\_\+layer} & Layer identifier. \\
\hline
\mbox{\texttt{ in}}  & {\em i\+\_\+port} & Port identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The precoding coefficient for the given layer and port. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00209\ \ \ \{}
\DoxyCodeLine{00210\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}(),}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ layer\ identifier\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}()\ -\/\ 1);}
\DoxyCodeLine{00214\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}(),}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ ports\ identifier\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}()\ -\/\ 1);}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return}\ data[\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\}];}
\DoxyCodeLine{00219\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}\label{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!get\_nof\_layers@{get\_nof\_layers}}
\index{get\_nof\_layers@{get\_nof\_layers}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{get\_nof\_layers()}{get\_nof\_layers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::get\+\_\+nof\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the current number of layers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00168\ \{\ \textcolor{keywordflow}{return}\ data.\mbox{\hyperlink{classsrsran_1_1tensor_a8e4d9592972c991c7fede35886d09398}{get\_dimension\_size}}(dims::layer);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}\label{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!get\_nof\_ports@{get\_nof\_ports}}
\index{get\_nof\_ports@{get\_nof\_ports}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ports()}{get\_nof\_ports()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::get\+\_\+nof\+\_\+ports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the current number of ports. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00171\ \{\ \textcolor{keywordflow}{return}\ data.\mbox{\hyperlink{classsrsran_1_1tensor_a8e4d9592972c991c7fede35886d09398}{get\_dimension\_size}}(dims::port);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a2a6e895305a4721195d8188c20e1f3f0}\label{classsrsran_1_1precoding__weight__matrix_a2a6e895305a4721195d8188c20e1f3f0} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!get\_port\_coefficients@{get\_port\_coefficients}}
\index{get\_port\_coefficients@{get\_port\_coefficients}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{get\_port\_coefficients()}{get\_port\_coefficients()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::precoding\+\_\+weight\+\_\+matrix\+::get\+\_\+port\+\_\+coefficients (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Gets a read-\/write view of the precoding weights for a given port. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i\+\_\+port} & Port identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The corresponding precoding weights, indexed by layer. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the port identifier is greater than or equal to \doxylink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\+\_\+nof\+\_\+ports()}. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ srsran\_assert((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}()),}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ requested\ antenna\ port,\ i.e.,\ \{\},\ must\ be\ smaller\ than\ the\ number\ of\ ports,\ i.e.,\ \{\}."{}},}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}());}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{return}\ data.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\});}
\DoxyCodeLine{00201\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_ab78059d72753bb01706ee54c5472166d}\label{classsrsran_1_1precoding__weight__matrix_ab78059d72753bb01706ee54c5472166d} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!get\_port\_coefficients@{get\_port\_coefficients}}
\index{get\_port\_coefficients@{get\_port\_coefficients}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{get\_port\_coefficients()}{get\_port\_coefficients()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::precoding\+\_\+weight\+\_\+matrix\+::get\+\_\+port\+\_\+coefficients (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+port }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets a read-\/only view of the precoding weights for a given port. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i\+\_\+port} & Port identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The corresponding precoding weights, indexed by layer. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the port identifier is greater than or equal to \doxylink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\+\_\+nof\+\_\+ports()}. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00179\ \ \ \{}
\DoxyCodeLine{00180\ \ \ \ \ srsran\_assert((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}()),}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ requested\ antenna\ port,\ i.e.,\ \{\},\ must\ be\ smaller\ than\ the\ number\ of\ ports,\ i.e.,\ \{\}."{}},}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}());}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordflow}{return}\ data.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\});}
\DoxyCodeLine{00186\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a68b69bf1d2c091da930182c1e8c7bd1f}\label{classsrsran_1_1precoding__weight__matrix_a68b69bf1d2c091da930182c1e8c7bd1f} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!operator"!=@{operator"!=}}
\index{operator"!=@{operator"!=}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{operator"!=()}{operator!=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::operator!= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&}]{other }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Overload inequality comparison operator. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00165\ \{\ \textcolor{keywordflow}{return}\ !(*\textcolor{keyword}{this}\ ==\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}});\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_ab72c1b3022ec12514fc59853c431cf07}\label{classsrsran_1_1precoding__weight__matrix_ab72c1b3022ec12514fc59853c431cf07} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!operator\texorpdfstring{$\ast$}{*}=@{operator\texorpdfstring{$\ast$}{*}=}}
\index{operator\texorpdfstring{$\ast$}{*}=@{operator\texorpdfstring{$\ast$}{*}=}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{operator\texorpdfstring{$\ast$}{*}=()}{operator*=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \& srsran\+::precoding\+\_\+weight\+\_\+matrix\+::operator\texorpdfstring{$\ast$}{*}= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{scale }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Scales all the weights by a scaling factor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00240\ \ \ \{}
\DoxyCodeLine{00241\ \ \ \ \ srsvec::sc\_prod(data.\mbox{\hyperlink{classsrsran_1_1static__tensor_a4a29f86b7d16e71ffbe4a5e31f211f51}{get\_data}}(),\ scale,\ data.\mbox{\hyperlink{classsrsran_1_1static__tensor_a4a29f86b7d16e71ffbe4a5e31f211f51}{get\_data}}());}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00243\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_ab80d27b6dbb2029f67135f935fe479fa}\label{classsrsran_1_1precoding__weight__matrix_ab80d27b6dbb2029f67135f935fe479fa} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!operator=@{operator=}}
\index{operator=@{operator=}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \& srsran\+::precoding\+\_\+weight\+\_\+matrix\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Overload assigment operator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em other} & Precoding weight matrix to copy. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ ==\ \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}})\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00128\ \ \ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{comment}{//\ Resize\ the\ tensor.}}
\DoxyCodeLine{00131\ \ \ \ \ resize(\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_layers(),\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_ports());}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ weights\ into\ the\ tensor.}}
\DoxyCodeLine{00133\ \ \ \ \ srsvec::copy(data.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(dims::all)>(\{\}),}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.data.get\_view<\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(dims::all)>(\{\}));}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00136\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_a20633eccbebe56061bcd3981b24b527f}\label{classsrsran_1_1precoding__weight__matrix_a20633eccbebe56061bcd3981b24b527f} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!operator==@{operator==}}
\index{operator==@{operator==}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{operator==()}{operator==()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::operator== (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&}]{other }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Overload equality comparison operator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em other} & Precoding weight matrix to compare against. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if both precoding matrices are exactly the same, {\ttfamily false} otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00142\ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ nof\_layers\ =\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}();}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ nof\_ports\ \ =\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}();}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordflow}{if}\ (nof\_layers\ !=\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_layers())\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{if}\ (nof\_ports\ !=\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_nof\_ports())\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ !=\ nof\_layers;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}})\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ !=\ nof\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}})\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a5e0e6a59be716c453f4bc3f74a629a2a}{get\_coefficient}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}})\ !=\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.get\_coefficient(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}))\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00162\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1precoding__weight__matrix_ac430303f5318f89caa614438db1f62f0}\label{classsrsran_1_1precoding__weight__matrix_ac430303f5318f89caa614438db1f62f0} 
\index{srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}!set\_coefficient@{set\_coefficient}}
\index{set\_coefficient@{set\_coefficient}!srsran::precoding\_weight\_matrix@{srsran::precoding\_weight\_matrix}}
\doxysubsubsection{\texorpdfstring{set\_coefficient()}{set\_coefficient()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::precoding\+\_\+weight\+\_\+matrix\+::set\+\_\+coefficient (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}}}]{coefficient,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+layer,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets a precoding coefficient in the matrix to a specified value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i\+\_\+layer} & Layer identifier. \\
\hline
\mbox{\texttt{ in}}  & {\em i\+\_\+port} & Port identifier. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00226\ \ \ \{}
\DoxyCodeLine{00227\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}(),}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ layer\ identifier\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}()\ -\/\ 1);}
\DoxyCodeLine{00231\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ <\ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}(),}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ ports\ identifier\ (i.e.,\ \{\})\ exceeds\ the\ maximum\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}()\ -\/\ 1);}
\DoxyCodeLine{00235\ \ \ \ \ data[\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\}]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coefficient}};}
\DoxyCodeLine{00236\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/ran/precoding/precoding\+\_\+weight\+\_\+matrix.\+h\end{DoxyCompactItemize}
