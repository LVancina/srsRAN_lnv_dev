\doxysection{srsran\+::general\+\_\+task\+\_\+worker\texorpdfstring{$<$}{<} Queue\+Policy, Wait\+Policy \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1general__task__worker}{}\label{classsrsran_1_1general__task__worker}\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}


Single thread worker with a locking MPSC input task queue. This worker type is ideal for the cases where there is low contention between task producers.  




{\ttfamily \#include $<$task\+\_\+worker.\+h$>$}



Inheritance diagram for srsran\+::general\+\_\+task\+\_\+worker\texorpdfstring{$<$}{<} Queue\+Policy, Wait\+Policy \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d7/d54/classsrsran_1_1general__task__worker__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::general\+\_\+task\+\_\+worker\texorpdfstring{$<$}{<} Queue\+Policy, Wait\+Policy \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{dc/d66/classsrsran_1_1general__task__worker__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} W = Wait\+Policy, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{W}}==concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable, \mbox{\hyperlink{classint}{int}} $>$  = 0$>$ }\\\mbox{\hyperlink{classsrsran_1_1general__task__worker_afe8228780fee476a55d205a20d60f797}{general\+\_\+task\+\_\+worker}} (std\+::string thread\+\_\+name, \mbox{\hyperlink{classunsigned}{unsigned}} queue\+\_\+size, \mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority}{os\+\_\+thread\+\_\+realtime\+\_\+priority}} prio=\mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority_af2cf72da038c74badffd988ce6a08e46}{os\+\_\+thread\+\_\+realtime\+\_\+priority\+::no\+\_\+realtime}}(), \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\+\_\+sched\+\_\+affinity\+\_\+bitmask}} \&\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}}=\{\})
\begin{DoxyCompactList}\small\item\em Creates a task worker instance that uses a condition variable to notify pushes of new tasks. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} W = Wait\+Policy, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{W}}==concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::sleep, \mbox{\hyperlink{classint}{int}} $>$  = 0$>$ }\\\mbox{\hyperlink{classsrsran_1_1general__task__worker_aabf92a2ad956c95166e3f6589bd7150b}{general\+\_\+task\+\_\+worker}} (std\+::string thread\+\_\+name, \mbox{\hyperlink{classunsigned}{unsigned}} queue\+\_\+size, std\+::chrono\+::microseconds wait\+\_\+sleep\+\_\+time, \mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority}{os\+\_\+thread\+\_\+realtime\+\_\+priority}} prio=\mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority_af2cf72da038c74badffd988ce6a08e46}{os\+\_\+thread\+\_\+realtime\+\_\+priority\+::no\+\_\+realtime}}(), \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\+\_\+sched\+\_\+affinity\+\_\+bitmask}} \&\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}}=\{\})
\begin{DoxyCompactList}\small\item\em Creates a task worker instance that uses a condition variable to notify pushes of new tasks. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1general__task__worker_aa60c441f80e09120745b0131655fb258}\label{classsrsran_1_1general__task__worker_aa60c441f80e09120745b0131655fb258} 
{\bfseries general\+\_\+task\+\_\+worker} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1general__task__worker_ad408bc68e43f564e4bc041dea10c7a30}\label{classsrsran_1_1general__task__worker_ad408bc68e43f564e4bc041dea10c7a30} 
{\bfseries general\+\_\+task\+\_\+worker} (\mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1general__task__worker_a02d2153da65fdf50837f6655326c7910}\label{classsrsran_1_1general__task__worker_a02d2153da65fdf50837f6655326c7910} 
\mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1general__task__worker_a9a5b192d2369347e473c35336d658387}\label{classsrsran_1_1general__task__worker_a9a5b192d2369347e473c35336d658387} 
\mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \& {\bfseries operator=} (\mbox{\hyperlink{classsrsran_1_1general__task__worker}{general\+\_\+task\+\_\+worker}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_a5854f9ea03b5592f87f3bbdfbba17edc}{stop}} ()
\begin{DoxyCompactList}\small\item\em Stop task worker, if running. \end{DoxyCompactList}\item 
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_ad8a2f53181eee17a52f231f1cd73eed8}{push\+\_\+task}} (\mbox{\hyperlink{classsrsran_1_1unique__function}{task\+\_\+t}} \&\&task)
\begin{DoxyCompactList}\small\item\em Push a new task to FIFO to be processed by the task worker. If the task FIFO is full, enqueueing fails. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_a4234eab02e6d076ed51c3ae4debed0cb}{push\+\_\+task\+\_\+blocking}} (\mbox{\hyperlink{classsrsran_1_1unique__function}{task\+\_\+t}} \&\&task)
\begin{DoxyCompactList}\small\item\em Push a new task to FIFO to be processed by the task worker. If the task FIFO is full, this call blocks, until the FIFO has space to enqueue the task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_a4be630c0aab42c483e48056b2866258f}{wait\+\_\+pending\+\_\+tasks}} ()
\begin{DoxyCompactList}\small\item\em Wait for all the currently enqueued tasks to complete. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_a33f90259b8bbfcd0480d6abcb5e5c677}{nof\+\_\+pending\+\_\+tasks}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Number of pending tasks. It requires locking mutex. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1general__task__worker_adb079942b2c16d3e2a657556a406b71a}{max\+\_\+pending\+\_\+tasks}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Maximum number of pending tasks the task FIFO can hold. \end{DoxyCompactList}\item 
std\+::thread\+::id \mbox{\hyperlink{classsrsran_1_1general__task__worker_aef133f3f020336d759d68bb4a51e2149}{get\+\_\+id}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Get worker thread id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1general__task__worker_aa2ef57fd194c6abad6a1e95a30089850}{worker\+\_\+name}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Get worker thread name. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$\newline
class srsran\+::general\+\_\+task\+\_\+worker$<$ Queue\+Policy, Wait\+Policy $>$}
Single thread worker with a locking MPSC input task queue. This worker type is ideal for the cases where there is low contention between task producers. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1general__task__worker_afe8228780fee476a55d205a20d60f797}\label{classsrsran_1_1general__task__worker_afe8228780fee476a55d205a20d60f797} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!general\_task\_worker@{general\_task\_worker}}
\index{general\_task\_worker@{general\_task\_worker}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{general\_task\_worker()}{general\_task\_worker()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
template$<$\mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} W = Wait\+Policy, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{W}}==concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable, \mbox{\hyperlink{classint}{int}} $>$  = 0$>$ \\
\mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::general\+\_\+task\+\_\+worker (\begin{DoxyParamCaption}\item[{std\+::string}]{thread\+\_\+name,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{queue\+\_\+size,  }\item[{\mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority}{os\+\_\+thread\+\_\+realtime\+\_\+priority}}}]{prio = {\ttfamily \mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority_af2cf72da038c74badffd988ce6a08e46}{os\+\_\+thread\+\_\+realtime\+\_\+priority\+::no\+\_\+realtime}}()},  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\+\_\+sched\+\_\+affinity\+\_\+bitmask}} \&}]{mask = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a task worker instance that uses a condition variable to notify pushes of new tasks. 


\begin{DoxyParams}{Parameters}
{\em thread\+\_\+name} & Name of the thread instantiated by this task worker. \\
\hline
{\em queue\+\_\+size} & Number of pending tasks that this task worker can hold. \\
\hline
{\em prio} & OS thread realtime priority. \\
\hline
{\em mask} & OS scheduler thread affinity mask. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\})\ :}
\DoxyCodeLine{00055\ \ \ \ \ pending\_tasks(queue\_size),\ t\_handle(thread\_name,\ prio,\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}},\ make\_blocking\_pop\_task())}
\DoxyCodeLine{00056\ \ \ \{}
\DoxyCodeLine{00057\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_aabf92a2ad956c95166e3f6589bd7150b}\label{classsrsran_1_1general__task__worker_aabf92a2ad956c95166e3f6589bd7150b} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!general\_task\_worker@{general\_task\_worker}}
\index{general\_task\_worker@{general\_task\_worker}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{general\_task\_worker()}{general\_task\_worker()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
template$<$\mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} W = Wait\+Policy, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{W}}==concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::sleep, \mbox{\hyperlink{classint}{int}} $>$  = 0$>$ \\
\mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::general\+\_\+task\+\_\+worker (\begin{DoxyParamCaption}\item[{std\+::string}]{thread\+\_\+name,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{queue\+\_\+size,  }\item[{std\+::chrono\+::microseconds}]{wait\+\_\+sleep\+\_\+time,  }\item[{\mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority}{os\+\_\+thread\+\_\+realtime\+\_\+priority}}}]{prio = {\ttfamily \mbox{\hyperlink{classsrsran_1_1os__thread__realtime__priority_af2cf72da038c74badffd988ce6a08e46}{os\+\_\+thread\+\_\+realtime\+\_\+priority\+::no\+\_\+realtime}}()},  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\+\_\+sched\+\_\+affinity\+\_\+bitmask}} \&}]{mask = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a task worker instance that uses a condition variable to notify pushes of new tasks. 


\begin{DoxyParams}{Parameters}
{\em thread\+\_\+name} & Name of the thread instantiated by this task worker. \\
\hline
{\em queue\+\_\+size} & Number of pending tasks that this task worker can hold. \\
\hline
{\em wait\+\_\+sleep\+\_\+time} & Time the worker spends sleeping when there are no enqueued tasks. \\
\hline
{\em prio} & OS thread realtime priority. \\
\hline
{\em mask} & OS scheduler thread affinity mask. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\})\ :}
\DoxyCodeLine{00072\ \ \ \ \ pending\_tasks(queue\_size,\ wait\_sleep\_time),\ t\_handle(thread\_name,\ prio,\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}},\ make\_blocking\_pop\_task())}
\DoxyCodeLine{00073\ \ \ \{}
\DoxyCodeLine{00074\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_a580bf57c15241f457a18a1ca96f7c478}\label{classsrsran_1_1general__task__worker_a580bf57c15241f457a18a1ca96f7c478} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!````~general\_task\_worker@{\texorpdfstring{$\sim$}{\string~}general\_task\_worker}}
\index{````~general\_task\_worker@{\texorpdfstring{$\sim$}{\string~}general\_task\_worker}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}general\_task\_worker()}{\string~general\_task\_worker()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy$>$ \\
general\+\_\+task\+\_\+worker\+::\texorpdfstring{$\sim$}{\string~}general\+\_\+task\+\_\+worker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{classsrsran_1_1general__task__worker_a5854f9ea03b5592f87f3bbdfbba17edc}{stop}}();}
\DoxyCodeLine{00032\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1general__task__worker_aef133f3f020336d759d68bb4a51e2149}\label{classsrsran_1_1general__task__worker_aef133f3f020336d759d68bb4a51e2149} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!get\_id@{get\_id}}
\index{get\_id@{get\_id}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{get\_id()}{get\_id()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
std\+::thread\+::id \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::get\+\_\+id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get worker thread id. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00109\ \{\ \textcolor{keywordflow}{return}\ t\_handle.\mbox{\hyperlink{classsrsran_1_1unique__thread_a506b32d60dea751b50dc4dba41d71e6e}{get\_id}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_adb079942b2c16d3e2a657556a406b71a}\label{classsrsran_1_1general__task__worker_adb079942b2c16d3e2a657556a406b71a} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!max\_pending\_tasks@{max\_pending\_tasks}}
\index{max\_pending\_tasks@{max\_pending\_tasks}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{max\_pending\_tasks()}{max\_pending\_tasks()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::max\+\_\+pending\+\_\+tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Maximum number of pending tasks the task FIFO can hold. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \{\ \textcolor{keywordflow}{return}\ pending\_tasks.capacity();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_a33f90259b8bbfcd0480d6abcb5e5c677}\label{classsrsran_1_1general__task__worker_a33f90259b8bbfcd0480d6abcb5e5c677} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!nof\_pending\_tasks@{nof\_pending\_tasks}}
\index{nof\_pending\_tasks@{nof\_pending\_tasks}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{nof\_pending\_tasks()}{nof\_pending\_tasks()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::nof\+\_\+pending\+\_\+tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Number of pending tasks. It requires locking mutex. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00103\ \{\ \textcolor{keywordflow}{return}\ pending\_tasks.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_ad8a2f53181eee17a52f231f1cd73eed8}\label{classsrsran_1_1general__task__worker_ad8a2f53181eee17a52f231f1cd73eed8} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!push\_task@{push\_task}}
\index{push\_task@{push\_task}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{push\_task()}{push\_task()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::push\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1unique__function}{task\+\_\+t}} \&\&}]{task }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Push a new task to FIFO to be processed by the task worker. If the task FIFO is full, enqueueing fails. 

\begin{DoxyReturn}{Returns}
true if task was successfully enqueued. False if task FIFO was full. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \{\ \textcolor{keywordflow}{return}\ pending\_tasks.try\_push(std::move(task));\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_a4234eab02e6d076ed51c3ae4debed0cb}\label{classsrsran_1_1general__task__worker_a4234eab02e6d076ed51c3ae4debed0cb} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!push\_task\_blocking@{push\_task\_blocking}}
\index{push\_task\_blocking@{push\_task\_blocking}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{push\_task\_blocking()}{push\_task\_blocking()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::push\+\_\+task\+\_\+blocking (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1unique__function}{task\+\_\+t}} \&\&}]{task }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Push a new task to FIFO to be processed by the task worker. If the task FIFO is full, this call blocks, until the FIFO has space to enqueue the task. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \ \ \{}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ pending\_tasks.push\_blocking(std::move(task)))\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}ALL"{}}).debug(\textcolor{stringliteral}{"{}Cannot\ push\ more\ tasks\ into\ the\ \{\}\ worker\ queue\ because\ it\ was\ closed"{}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\_handle.\mbox{\hyperlink{classsrsran_1_1unique__thread_a61a0f14b7d89b7af324f7f61d5093101}{get\_name}}());}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_a5854f9ea03b5592f87f3bbdfbba17edc}\label{classsrsran_1_1general__task__worker_a5854f9ea03b5592f87f3bbdfbba17edc} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!stop@{stop}}
\index{stop@{stop}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} general\+\_\+task\+\_\+worker\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop task worker, if running. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \{}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{if}\ (t\_handle.\mbox{\hyperlink{classsrsran_1_1unique__thread_ade3531118006dbc03da985ffdcc557c3}{running}}())\ \{}
\DoxyCodeLine{00038\ \ \ \ \ pending\_tasks.request\_stop();}
\DoxyCodeLine{00039\ \ \ \ \ t\_handle.\mbox{\hyperlink{classsrsran_1_1unique__thread_acf2634d669666d9a559c440dbae1957c}{join}}();}
\DoxyCodeLine{00040\ \ \ \}}
\DoxyCodeLine{00041\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_a4be630c0aab42c483e48056b2866258f}\label{classsrsran_1_1general__task__worker_a4be630c0aab42c483e48056b2866258f} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!wait\_pending\_tasks@{wait\_pending\_tasks}}
\index{wait\_pending\_tasks@{wait\_pending\_tasks}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{wait\_pending\_tasks()}{wait\_pending\_tasks()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} general\+\_\+task\+\_\+worker\+::wait\+\_\+pending\+\_\+tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Wait for all the currently enqueued tasks to complete. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \ \ std::packaged\_task<\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}}()>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pkg\_task}}([]()\ \{\ \textcolor{comment}{/*\ do\ nothing\ */}\ \});}
\DoxyCodeLine{00062\ \ \ std::future<void>\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fut}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pkg\_task}}.get\_future();}
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{classsrsran_1_1general__task__worker_a4234eab02e6d076ed51c3ae4debed0cb}{push\_task\_blocking}}(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pkg\_task}}));}
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{//\ blocks\ for\ enqueued\ task\ to\ complete.}}
\DoxyCodeLine{00065\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fut}}.get();}
\DoxyCodeLine{00066\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1general__task__worker_aa2ef57fd194c6abad6a1e95a30089850}\label{classsrsran_1_1general__task__worker_aa2ef57fd194c6abad6a1e95a30089850} 
\index{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}!worker\_name@{worker\_name}}
\index{worker\_name@{worker\_name}!srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$@{srsran::general\_task\_worker$<$ QueuePolicy, WaitPolicy $>$}}
\doxysubsubsection{\texorpdfstring{worker\_name()}{worker\_name()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a08f31ae01c088c535705650443feec0c}{concurrent\+\_\+queue\+\_\+policy}} Queue\+Policy = concurrent\+\_\+queue\+\_\+policy\+::locking\+\_\+mpsc, \mbox{\hyperlink{namespacesrsran_a1aa5b9ae2fbb3e003686513bd761c0a4}{concurrent\+\_\+queue\+\_\+wait\+\_\+policy}} Wait\+Policy = concurrent\+\_\+queue\+\_\+wait\+\_\+policy\+::condition\+\_\+variable$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1general__task__worker}{srsran\+::general\+\_\+task\+\_\+worker}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Queue\+Policy}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Wait\+Policy}} $>$\+::worker\+\_\+name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get worker thread name. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00112\ \{\ \textcolor{keywordflow}{return}\ t\_handle.\mbox{\hyperlink{classsrsran_1_1unique__thread_a61a0f14b7d89b7af324f7f61d5093101}{get\_name}}();\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/executors/task\+\_\+worker.\+h\item 
lib/support/executors/task\+\_\+worker.\+cpp\end{DoxyCompactItemize}
