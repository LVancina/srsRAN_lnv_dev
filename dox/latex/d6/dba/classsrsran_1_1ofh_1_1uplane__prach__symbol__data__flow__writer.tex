\doxysection{srsran\+::ofh\+::uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer Class Reference}
\hypertarget{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer}{}\label{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer}\index{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer@{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer}}


Open Fronthaul User-\/\+Plane PRACH symbol data flow writer.  




{\ttfamily \#include $<$ofh\+\_\+uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer.\+h$>$}



Collaboration diagram for srsran\+::ofh\+::uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{dd/d89/classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_ad860587f8cf7c74af4ad0954e5b05410}{uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\+\_\+eaxc\+\_\+}}, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}}, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository}{prach\+\_\+context\+\_\+repository}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\+\_\+context\+\_\+repo\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_a2a8793ff9a661b3fa40a3f02ff19091b}{write\+\_\+to\+\_\+prach\+\_\+buffer}} (\mbox{\hyperlink{classunsigned}{unsigned}} eaxc, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__decoder__results}{uplane\+\_\+message\+\_\+decoder\+\_\+results}} \&results)
\begin{DoxyCompactList}\small\item\em Writes the given decoder results in the corresponding PRACH buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Open Fronthaul User-\/\+Plane PRACH symbol data flow writer. 

Writes IQ data received in an Open Fronthaul message to the corresponding PRACH buffer. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_ad860587f8cf7c74af4ad0954e5b05410}\label{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_ad860587f8cf7c74af4ad0954e5b05410} 
\index{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer@{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer}!uplane\_prach\_symbol\_data\_flow\_writer@{uplane\_prach\_symbol\_data\_flow\_writer}}
\index{uplane\_prach\_symbol\_data\_flow\_writer@{uplane\_prach\_symbol\_data\_flow\_writer}!srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer@{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer}}
\doxysubsubsection{\texorpdfstring{uplane\_prach\_symbol\_data\_flow\_writer()}{uplane\_prach\_symbol\_data\_flow\_writer()}}
{\footnotesize\ttfamily srsran\+::ofh\+::uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer\+::uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{prach\+\_\+eaxc\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository}{prach\+\_\+context\+\_\+repository}} $>$}]{prach\+\_\+context\+\_\+repo\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00041\ \ \ \ \ prach\_eaxc(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_eaxc\_}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_eaxc\_}}.end()),}
\DoxyCodeLine{00042\ \ \ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),}
\DoxyCodeLine{00043\ \ \ \ \ prach\_context\_repo\_ptr(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_context\_repo\_}}),}
\DoxyCodeLine{00044\ \ \ \ \ prach\_context\_repo(*prach\_context\_repo\_ptr)}
\DoxyCodeLine{00045\ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ srsran\_assert(prach\_context\_repo\_ptr,\ \textcolor{stringliteral}{"{}Invalid\ PRACH\ context\ repository"{}});}
\DoxyCodeLine{00047\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_a2a8793ff9a661b3fa40a3f02ff19091b}\label{classsrsran_1_1ofh_1_1uplane__prach__symbol__data__flow__writer_a2a8793ff9a661b3fa40a3f02ff19091b} 
\index{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer@{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer}!write\_to\_prach\_buffer@{write\_to\_prach\_buffer}}
\index{write\_to\_prach\_buffer@{write\_to\_prach\_buffer}!srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer@{srsran::ofh::uplane\_prach\_symbol\_data\_flow\_writer}}
\doxysubsubsection{\texorpdfstring{write\_to\_prach\_buffer()}{write\_to\_prach\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer\+::write\+\_\+to\+\_\+prach\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{eaxc,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__decoder__results}{uplane\+\_\+message\+\_\+decoder\+\_\+results}} \&}]{results }\end{DoxyParamCaption})}



Writes the given decoder results in the corresponding PRACH buffer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \{}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\_point}}\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}\ =\ results.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__decoder__results_a1bfb6f342eb04856f25868ddbf63ab86}{params}}.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__params_a7bc40d1c233418403b95c754ef436c85}{slot}};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}\ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}\ =\ prach\_context\_repo.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_a74374b9920c3d9dd87333ea81a62b029}{get}}(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}});}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a06f26303bee030b5fb6587714c61dae3}{empty}}())\ \{}
\DoxyCodeLine{00036\ \ \ \ \ logger.info(}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Dropped\ received\ Open\ Fronthaul\ message\ as\ no\ uplink\ PRACH\ context\ was\ found\ for\ slot\ '\{\}'\ and\ eAxC\ '\{\}'"{}},}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ eaxc);}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00041\ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Find\ resource\ grid\ port\ with\ eAxC.}}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordtype}{unsigned}\ port\ =\ std::distance(prach\_eaxc.begin(),\ std::find(prach\_eaxc.begin(),\ prach\_eaxc.end(),\ eaxc));}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordflow}{if}\ (port\ >=\ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a2cf07870a5f62b9247d122df176b30d6}{get\_max\_nof\_ports}}())\ \{}
\DoxyCodeLine{00046\ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}Skipping\ eAxC\ value\ '\{\}'\ as\ the\ stored\ PRACH\ buffer\ only\ supports\ up\ to\ '\{\}'\ ports"{}},}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eaxc,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a2cf07870a5f62b9247d122df176b30d6}{get\_max\_nof\_ports}}());}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_res}}\ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_ac941e34993b27db07826bda80d168669}{get\_prach\_nof\_re}}();}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}}\ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\_context}}.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a52bac6da9d3e99f0818229a00d17be8b}{get\_prach\_offset\_to\_first\_re}}();}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}}\ \ \ \ \ \ \ \ \ \ =\ std::ceil(\textcolor{keywordtype}{float}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_res}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}})\ /\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}});}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_after\_prach\_data}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}}\ *\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}}\ -\/\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_res}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}});}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_data\_start\_prb}}\ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}}\ /\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}\ :\ results.sections)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ Section\ PRBs\ are\ above\ the\ last\ PRB\ of\ the\ PRACH.\ Do\ not\ copy.}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ >=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}})\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ Section\ PRBs\ are\ below\ the\ first\ PRB\ of\ the\ PRACH.\ Do\ not\ copy.}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.nof\_prbs\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_data\_start\_prb}})\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ By\ default,\ try\ to\ copy\ all\ the\ expected\ PRBs.}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_prbs\_to\_write}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}}\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb;}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ Section\ contains\ less\ PRBs\ than\ the\ PRACH\ buffer.\ Copy\ the\ whole\ section.}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.nof\_prbs\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}})\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_prbs\_to\_write}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.nof\_prbs;}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ start\ resource\ element\ for\ the\ PRACH\ buffer.}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\_re}}\ =\ std::max<int>(0,\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ *\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}}\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}}));}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ Section\ RE\ start\ and\ number\ of\ REs.}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_start\_re}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ *\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}};}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_nof\_re}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_prbs\_to\_write}}\ *\ \mbox{\hyperlink{namespacesrsran_a1d73f866251b700d7747204655a84500}{NOF\_SUBCARRIERS\_PER\_RB}};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ unused\ REs\ from\ the\ last\ PRB.}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.start\_prb\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.nof\_prbs\ >=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_prbs}})\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_nof\_re}}\ -\/=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_after\_prach\_data}};}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Start\ RE\ in\ the\ section\ IQ\ data.}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_start\_re}}\ =\ 0U;}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ If\ the\ first\ RE\ of\ the\ section\ is\ smaller\ than\ the\ offset\ to\ the\ first\ RE\ that\ contains\ data,\ adjust\ the\ first\ RE}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ that\ has\ data\ in\ the\ IQ\ data.}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_start\_re}}\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}})\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_start\_re}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_to\_prach\_data}}\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_start\_re}};}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ offset\ REs\ from\ the\ number\ of\ REs\ of\ the\ section.}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_nof\_re}}\ -\/=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_start\_re}};}
\DoxyCodeLine{00098\ \ \ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ number\ of\ REs\ to\ copy\ from\ the\ IQ\ data.}}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_size\_re}}\ =\ std::min(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section\_nof\_re}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_nof\_res}});}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ Grab\ the\ data.}}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ cf\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_in\_data}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<const\ cf\_t>}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{section}}.iq\_samples).\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_start\_re}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_size\_re}});}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ data\ in\ the\ buffer.}}
\DoxyCodeLine{00107\ \ \ \ \ prach\_context\_repo.\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_a09f1b33181ffe9c2d0672ddf190ce62a}{write\_iq}}(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ port,\ results.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__decoder__results_a1bfb6f342eb04856f25868ddbf63ab86}{params}}.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__params_a2f81ffaafaa1fce4f6c64ef77d0827c2}{symbol\_id}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\_re}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_in\_data}});}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Handling\ PRACH\ in\ slot\ '\{\}',\ symbol\ '\{\}'\ and\ port\ '\{\}'"{}},\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ results.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__decoder__results_a1bfb6f342eb04856f25868ddbf63ab86}{params}}.\mbox{\hyperlink{structsrsran_1_1ofh_1_1uplane__message__params_a2f81ffaafaa1fce4f6c64ef77d0827c2}{symbol\_id}},\ port);}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ofh/receiver/ofh\+\_\+uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer.\+h\item 
lib/ofh/receiver/ofh\+\_\+uplane\+\_\+prach\+\_\+symbol\+\_\+data\+\_\+flow\+\_\+writer.\+cpp\end{DoxyCompactItemize}
