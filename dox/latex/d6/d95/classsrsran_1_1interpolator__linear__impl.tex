\doxysection{srsran\+::interpolator\+\_\+linear\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1interpolator__linear__impl}{}\label{classsrsran_1_1interpolator__linear__impl}\index{srsran::interpolator\_linear\_impl@{srsran::interpolator\_linear\_impl}}


Linear interpolator.  




{\ttfamily \#include $<$interpolator\+\_\+linear\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::interpolator\+\_\+linear\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{d6/de6/classsrsran_1_1interpolator__linear__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::interpolator\+\_\+linear\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{d3/daf/classsrsran_1_1interpolator__linear__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1interpolator__linear__impl_a189a58afd4c0b021a0dcab815baa9553}{interpolate}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ output, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ input, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1interpolator_1_1configuration}{configuration}} \&cfg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Interpolates the missing data in a sequence. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1interpolator}{srsran\+::interpolator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}interpolator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Defalut destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Linear interpolator. 

Missing data between two known values are interpolated linearly. Missing data at the beginning (end, respectively) of the sequence are extrapolated by repeating the first (last, respectively) known value. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1interpolator__linear__impl_a189a58afd4c0b021a0dcab815baa9553}\label{classsrsran_1_1interpolator__linear__impl_a189a58afd4c0b021a0dcab815baa9553} 
\index{srsran::interpolator\_linear\_impl@{srsran::interpolator\_linear\_impl}!interpolate@{interpolate}}
\index{interpolate@{interpolate}!srsran::interpolator\_linear\_impl@{srsran::interpolator\_linear\_impl}}
\doxysubsubsection{\texorpdfstring{interpolate()}{interpolate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} interpolator\+\_\+linear\+\_\+impl\+::interpolate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{output,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{input,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1interpolator_1_1configuration}{configuration}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Interpolates the missing data in a sequence. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em output} & Interpolated data sequence. \\
\hline
\mbox{\texttt{ in}}  & {\em input} & Known data. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Configuration\+: describes the position of the known values in the output data sequence. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The output length should be sufficient to process all input data according to the configured pattern. 

The function extrapolates all values at the beginning and at the end of the output sequence (that is, before the first and after the last known values, respectively). 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1interpolator_a2eb1dbc9f8b17bcbb08aca3e898c23bb}{srsran\+::interpolator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ srsran\_assert(output.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ >=\ (input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ -\/\ 1)\ *\ cfg.stride\ +\ 1\ +\ cfg.offset,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ output\ length\ is\ \{\}.\ With\ input\ length\ \{\},\ offset\ \{\}\ and\ stride\ \{\}\ it\ should\ be\ at\ least\ \{\}."{}},}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.offset,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.stride,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ -\/\ 1)\ *\ cfg.stride\ +\ 1\ +\ cfg.offset);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ srsran\_assert(!input.\mbox{\hyperlink{classsrsran_1_1span_a06f3393981b96d556095d9023b894a8f}{empty}}(),\ \textcolor{stringliteral}{"{}At\ least\ one\ known\ value\ should\ be\ provided."{}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ srsran\_assert(cfg.stride\ >\ 0,\ \textcolor{stringliteral}{"{}The\ pattern\ stride\ \{\}\ cannot\ be\ less\ than\ 1."{}},\ cfg.stride);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ Trivial\ case\ -\/\ no\ missing\ values,\ nothing\ to\ do\ but\ copying.}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{if}\ (output.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ ==\ input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}())\ \{}
\DoxyCodeLine{00048\ \ \ \ \ srsvec::copy(output,\ input);}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00050\ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ Trivial\ case\ -\/\ only\ one\ value\ given,\ repeat\ it\ throughout\ the\ output.}}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}\ (input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ ==\ 1)\ \{}
\DoxyCodeLine{00054\ \ \ \ \ std::fill(output.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}(),\ output.\mbox{\hyperlink{classsrsran_1_1span_ab0dddc814f190b4e022e9cbfbf1f2400}{end}}(),\ input[0]);}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ =\ cfg.offset;}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}}\ \ =\ 0;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//\ First,\ fill\ the\ offset\ with\ the\ first\ known\ value.}}
\DoxyCodeLine{00062\ \ \ std::fill\_n(output.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ +\ 1,\ input[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}}]);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{//\ Linear\ interpolation.}}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ next\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ +\ cfg.stride,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_length}}\ =\ output.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}();\ next\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_length}};\ next\ +=\ cfg.stride)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\_t}}\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{jump}}\ \ \ \ \ \ \ =\ (input[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}}\ +\ 1]\ -\/\ input[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}}])\ /\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(cfg.stride);}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<cf\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{output\_tmp}}\ =\ output.\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ +\ 1,\ cfg.stride);}
\DoxyCodeLine{00068\ \ \ \ \ std::generate(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{output\_tmp}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{output\_tmp}}.end(),\ [\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{jump}},\ val\ =\ output[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}]]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ val\ +=\ jump;}
\DoxyCodeLine{00070\ \ \ \ \ \ \ return\ val;}
\DoxyCodeLine{00071\ \ \ \ \ \});}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ =\ next;}
\DoxyCodeLine{00073\ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}};}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ At\ this\ point,\ "{}current"{}\ points\ at\ the\ last\ known\ observation.\ Repeat\ its\ value\ for\ all\ the\ remaining\ missing}}
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ observations.}}
\DoxyCodeLine{00078\ \ \ std::fill(output.\mbox{\hyperlink{classsrsran_1_1span_a6202eea0b4569bf9ba5bf5b1574a03ae}{begin}}()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_output}}\ +\ 1,\ output.\mbox{\hyperlink{classsrsran_1_1span_ab0dddc814f190b4e022e9cbfbf1f2400}{end}}(),\ input[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_input}}]);}
\DoxyCodeLine{00079\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/support/interpolator/\mbox{\hyperlink{interpolator__linear__impl_8h}{interpolator\+\_\+linear\+\_\+impl.\+h}}\item 
lib/phy/support/interpolator/\mbox{\hyperlink{interpolator__linear__impl_8cpp}{interpolator\+\_\+linear\+\_\+impl.\+cpp}}\end{DoxyCompactItemize}
