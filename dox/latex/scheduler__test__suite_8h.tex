\doxysection{tests/unittests/scheduler/test\+\_\+utils/scheduler\+\_\+test\+\_\+suite.h File Reference}
\hypertarget{scheduler__test__suite_8h}{}\label{scheduler__test__suite_8h}\index{tests/unittests/scheduler/test\_utils/scheduler\_test\_suite.h@{tests/unittests/scheduler/test\_utils/scheduler\_test\_suite.h}}


In this file, we provide a list of common checks to verify the validity of the scheduler output for a given cell configuration. To maximize their applicability, these chosen checks should solely depend on the (assumed immutable) cell configuration, and shouldn\textquotesingle{}t depend on the scheduler or UE states. We assume that unit tests checks should cover the latter cases.  


{\ttfamily \#include "{}lib/scheduler/cell/resource\+\_\+grid.\+h"{}}\newline
{\ttfamily \#include "{}srsran/scheduler/scheduler\+\_\+slot\+\_\+handler.\+h"{}}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacesrsran}{srsran}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespacesrsran_a41cdde0e45110fe7cdc8fbf12f790b7f}{srsran\+::assert\+\_\+tdd\+\_\+pattern\+\_\+consistency}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} sl\+\_\+tx, const \mbox{\hyperlink{structsrsran_1_1sched__result}{sched\+\_\+result}} \&result)
\begin{DoxyCompactList}\small\item\em Current checks\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacesrsran_a1a9d18ee22bb9b1d5054b4292e6709ae}{srsran\+::assert\+\_\+pdcch\+\_\+pdsch\+\_\+common\+\_\+consistency}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1pdcch__dl__information}{pdcch\+\_\+dl\+\_\+information}} \&pdcch, const \mbox{\hyperlink{structsrsran_1_1pdsch__information}{pdsch\+\_\+information}} \&pdsch)
\begin{DoxyCompactList}\small\item\em Current checks\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacesrsran_ae3f4a62143e58e360a7ab229c83a7a59}{srsran\+::assert\+\_\+pdcch\+\_\+pdsch\+\_\+common\+\_\+consistency}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&cell\+\_\+res\+\_\+grid)
\begin{DoxyCompactList}\small\item\em Verifies that DL PDCCHs have an associated PDSCH and that the common parameters between both match. Current checks\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacesrsran_ad175f8563f282d8192c2b781d356b466}{srsran\+::test\+\_\+pdsch\+\_\+sib\+\_\+consistency}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{structsrsran_1_1sib__information}{sib\+\_\+information}} $>$ sibs)
\begin{DoxyCompactList}\small\item\em Current checks\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacesrsran_a7e666eae0cdb472c8dfdedc1f186bd6c}{srsran\+::test\+\_\+pdsch\+\_\+rar\+\_\+consistency}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{structsrsran_1_1rar__information}{rar\+\_\+information}} $>$ rars)
\begin{DoxyCompactList}\small\item\em Verify RAR content is valid. Current checks\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacesrsran_a4e674c7ca84cede0761473c869e6f6e4}{srsran\+::test\+\_\+prach\+\_\+opportunity\+\_\+validity}} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{structsrsran_1_1prach__occasion__info}{prach\+\_\+occasion\+\_\+info}} $>$ prachs)
\begin{DoxyCompactList}\small\item\em Current checks\+: \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_a1ce02b742c2b50b9f404faab9e1525a7}\label{namespacesrsran_a1ce02b742c2b50b9f404faab9e1525a7} 
void {\bfseries srsran\+::test\+\_\+dl\+\_\+resource\+\_\+grid\+\_\+collisions} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1dl__sched__result}{dl\+\_\+sched\+\_\+result}} \&result)
\begin{DoxyCompactList}\small\item\em Detects collisions in the "{}\+RB x symbol"{} DL resource grid. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_a9783b31d5d5d584dc4b5a66f03586c57}\label{namespacesrsran_a9783b31d5d5d584dc4b5a66f03586c57} 
void {\bfseries srsran\+::test\+\_\+ul\+\_\+resource\+\_\+grid\+\_\+collisions} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1ul__sched__result}{ul\+\_\+sched\+\_\+result}} \&result)
\begin{DoxyCompactList}\small\item\em Detects collisions in the "{}\+RB x symbol"{} UL resource grid. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_aeba6cd8a932df941ccea56aa8b9c508e}\label{namespacesrsran_aeba6cd8a932df941ccea56aa8b9c508e} 
void {\bfseries srsran\+::test\+\_\+scheduler\+\_\+result\+\_\+consistency} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} sl\+\_\+tx, const \mbox{\hyperlink{structsrsran_1_1sched__result}{sched\+\_\+result}} \&result)
\begin{DoxyCompactList}\small\item\em Run all consistency checks for the scheduler result. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_aebfdffb2766a890ae792f5e17e772cca}\label{namespacesrsran_aebfdffb2766a890ae792f5e17e772cca} 
void {\bfseries srsran\+::test\+\_\+scheduler\+\_\+result\+\_\+consistency} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&cell\+\_\+res\+\_\+grid)
\begin{DoxyCompactList}\small\item\em Run all consistency checks for multiple slot scheduler results. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_a536d17e3baf235422a80591b897dec60}\label{namespacesrsran_a536d17e3baf235422a80591b897dec60} 
bool {\bfseries srsran\+::assert\+\_\+ul\+\_\+resource\+\_\+grid\+\_\+filled} (const \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, const \mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&cell\+\_\+res\+\_\+grid, unsigned tx\+\_\+delay, bool expect\+\_\+grants=false)
\begin{DoxyCompactList}\small\item\em Verifies that the cell resource grid PRBs and symbols was filled with the allocated PUCCHs. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_a8d347cdf043572db062b889e3ae5dec1}\label{namespacesrsran_a8d347cdf043572db062b889e3ae5dec1} 
bool {\bfseries srsran\+::test\+\_\+res\+\_\+grid\+\_\+has\+\_\+re\+\_\+set} (const \mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&cell\+\_\+res\+\_\+grid, \mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}} grant, unsigned tx\+\_\+delay)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
In this file, we provide a list of common checks to verify the validity of the scheduler output for a given cell configuration. To maximize their applicability, these chosen checks should solely depend on the (assumed immutable) cell configuration, and shouldn\textquotesingle{}t depend on the scheduler or UE states. We assume that unit tests checks should cover the latter cases. 

