\doxysection{rlc\+\_\+rx\+\_\+am\+\_\+test Class Reference}
\hypertarget{classrlc__rx__am__test}{}\label{classrlc__rx__am__test}\index{rlc\_rx\_am\_test@{rlc\_rx\_am\_test}}


Fixture class for RLC TM Rx tests.  


Inheritance diagram for rlc\+\_\+rx\+\_\+am\+\_\+test\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.142857cm]{classrlc__rx__am__test}
\end{center}
\end{figure}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classrlc__rx__am__test_a7b2f9269b32d5dba7a938d6707988c58}\label{classrlc__rx__am__test_a7b2f9269b32d5dba7a938d6707988c58} 
void {\bfseries Set\+Up} () override
\item 
\Hypertarget{classrlc__rx__am__test_afd37539fcaedade16dbe091ad9243a59}\label{classrlc__rx__am__test_afd37539fcaedade16dbe091ad9243a59} 
void {\bfseries Tear\+Down} () override
\item 
\Hypertarget{classrlc__rx__am__test_ac056a3d691c91bd4ab705451e699433f}\label{classrlc__rx__am__test_ac056a3d691c91bd4ab705451e699433f} 
size\+\_\+t {\bfseries copy\+\_\+bytes} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$ dst, \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\+\_\+buffer\+\_\+view}} src) const
\item 
void \mbox{\hyperlink{classrlc__rx__am__test_a359ebc26a2bf09273be1b6b981f269bf}{create\+\_\+pdus}} (std\+::list$<$ std\+::vector$<$ uint8\+\_\+t $>$ $>$ \&pdu\+\_\+list, \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&sdu, uint32\+\_\+t sn, uint32\+\_\+t sdu\+\_\+size, uint32\+\_\+t segment\+\_\+size, uint8\+\_\+t first\+\_\+byte=0) const
\begin{DoxyCompactList}\small\item\em Creates a list of RLC AMD PDU(s) containing either one RLC SDU or multiple RLC SDU segments. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrlc__rx__am__test_aa90dc18385dc9275d9f51b1adfebb919}{rx\+\_\+full\+\_\+sdus}} (uint32\+\_\+t \&sn\+\_\+state, uint32\+\_\+t n\+\_\+sdus, uint32\+\_\+t sdu\+\_\+size=1, bool reverse\+\_\+sdus=false)
\begin{DoxyCompactList}\small\item\em Injects RLC AMD PDUs with full SDUs into the RLC AM entity starting from Sequence number sn\+\_\+state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrlc__rx__am__test_a64cc43c8479a925a1cb479778c0aed56}{rx\+\_\+sdu\+\_\+segments}} (uint32\+\_\+t \&sn\+\_\+state, uint32\+\_\+t n\+\_\+sdus, uint32\+\_\+t sdu\+\_\+size=3, uint32\+\_\+t segment\+\_\+size=1, bool reverse\+\_\+sdus=false, bool reverse\+\_\+segments=false)
\begin{DoxyCompactList}\small\item\em Injects RLC AMD PDUs with SDU segments into the RLC AM entity starting from Sequence number sn\+\_\+state. \end{DoxyCompactList}\item 
\Hypertarget{classrlc__rx__am__test_ac72d04d89882360cf47aeffdf42cf553}\label{classrlc__rx__am__test_ac72d04d89882360cf47aeffdf42cf553} 
void {\bfseries rx\+\_\+overlapping\+\_\+sdu\+\_\+segments} (uint32\+\_\+t \&sn\+\_\+state, uint32\+\_\+t sdu\+\_\+size=12, uint32\+\_\+t segment\+\_\+size\+\_\+a=3, uint32\+\_\+t segment\+\_\+size\+\_\+b=4, uint32\+\_\+t skip\+\_\+a1=0, uint32\+\_\+t skip\+\_\+a2=0)
\item 
\Hypertarget{classrlc__rx__am__test_af415f871cc53955680ff0bade8bc5966}\label{classrlc__rx__am__test_af415f871cc53955680ff0bade8bc5966} 
void {\bfseries tick} ()
\item 
\Hypertarget{classrlc__rx__am__test_a7b2f9269b32d5dba7a938d6707988c58}\label{classrlc__rx__am__test_a7b2f9269b32d5dba7a938d6707988c58} 
void {\bfseries Set\+Up} () override
\item 
\Hypertarget{classrlc__rx__am__test_afd37539fcaedade16dbe091ad9243a59}\label{classrlc__rx__am__test_afd37539fcaedade16dbe091ad9243a59} 
void {\bfseries Tear\+Down} () override
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classrlc__rx__am__test_ae3825500954bd3a549ec9fd63e06523a}\label{classrlc__rx__am__test_ae3825500954bd3a549ec9fd63e06523a} 
\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \& {\bfseries logger} = srslog\+::fetch\+\_\+basic\+\_\+logger("{}TEST"{}, false)
\item 
\Hypertarget{classrlc__rx__am__test_a625fe8fdd4d3e95007a69f2c00515260}\label{classrlc__rx__am__test_a625fe8fdd4d3e95007a69f2c00515260} 
\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config}{rlc\+\_\+rx\+\_\+am\+\_\+config}} {\bfseries config} = Get\+Param()
\item 
\Hypertarget{classrlc__rx__am__test_ae15dd20a97a865d19f2dcedef3bf3999}\label{classrlc__rx__am__test_ae15dd20a97a865d19f2dcedef3bf3999} 
\mbox{\hyperlink{namespacesrsran_a8b7450158a751f78ab498cc921d3eae7}{rlc\+\_\+am\+\_\+sn\+\_\+size}} {\bfseries sn\+\_\+size} = config.\+sn\+\_\+field\+\_\+length
\item 
\Hypertarget{classrlc__rx__am__test_a44206bda75afd70d54b6ec93e55aae77}\label{classrlc__rx__am__test_a44206bda75afd70d54b6ec93e55aae77} 
\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\+\_\+manager}} {\bfseries timers}
\item 
\Hypertarget{classrlc__rx__am__test_a47d5a4f0693c801630678dfff284c5f9}\label{classrlc__rx__am__test_a47d5a4f0693c801630678dfff284c5f9} 
\mbox{\hyperlink{classsrsran_1_1manual__task__worker}{manual\+\_\+task\+\_\+worker}} {\bfseries ue\+\_\+worker} \{128\}
\item 
\Hypertarget{classrlc__rx__am__test_a256cedc7f0340e5ee6747c1169d31990}\label{classrlc__rx__am__test_a256cedc7f0340e5ee6747c1169d31990} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classrlc__rx__am__test__frame}{rlc\+\_\+rx\+\_\+am\+\_\+test\+\_\+frame}} $>$ {\bfseries tester}
\item 
\Hypertarget{classrlc__rx__am__test_af1de4e5670090a1e4960b060c360a700}\label{classrlc__rx__am__test_af1de4e5670090a1e4960b060c360a700} 
\mbox{\hyperlink{classsrsran_1_1null__rlc__pcap}{null\+\_\+rlc\+\_\+pcap}} {\bfseries pcap}
\item 
\Hypertarget{classrlc__rx__am__test_a43d76fcc380f72afcb6ff17d51147cc2}\label{classrlc__rx__am__test_a43d76fcc380f72afcb6ff17d51147cc2} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity}{rlc\+\_\+rx\+\_\+am\+\_\+entity}} $>$ {\bfseries rlc}
\item 
\Hypertarget{classrlc__rx__am__test_a9ea5470e8da9bcdf3223f8f27eb57caa}\label{classrlc__rx__am__test_a9ea5470e8da9bcdf3223f8f27eb57caa} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classrlc__rx__tm__test__frame}{rlc\+\_\+rx\+\_\+tm\+\_\+test\+\_\+frame}} $>$ {\bfseries tester}
\item 
\Hypertarget{classrlc__rx__am__test_a0458814d0d984c9a75266579736ff9a4}\label{classrlc__rx__am__test_a0458814d0d984c9a75266579736ff9a4} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1rlc__rx__tm__entity}{rlc\+\_\+rx\+\_\+tm\+\_\+entity}} $>$ {\bfseries rlc}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classrlc__trx__test}{rlc\+\_\+trx\+\_\+test}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \mbox{\hyperlink{classrlc__trx__test_af2541ed03c78bc797a9a1da48d90d584}{create\+\_\+sdu}} (uint32\+\_\+t sdu\+\_\+size, uint8\+\_\+t first\+\_\+byte=0) const
\begin{DoxyCompactList}\small\item\em Creates a byte\+\_\+buffer serving as SDU for RLC. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Fixture class for RLC TM Rx tests. 

Fixture class for RLC AM Rx tests. It requires TEST\+\_\+\+P() and INSTANTIATE\+\_\+\+TEST\+\_\+\+SUITE\+\_\+\+P() to create/spawn tests for each config 

\doxysubsection{Member Function Documentation}
\Hypertarget{classrlc__rx__am__test_a359ebc26a2bf09273be1b6b981f269bf}\label{classrlc__rx__am__test_a359ebc26a2bf09273be1b6b981f269bf} 
\index{rlc\_rx\_am\_test@{rlc\_rx\_am\_test}!create\_pdus@{create\_pdus}}
\index{create\_pdus@{create\_pdus}!rlc\_rx\_am\_test@{rlc\_rx\_am\_test}}
\doxysubsubsection{\texorpdfstring{create\_pdus()}{create\_pdus()}}
{\footnotesize\ttfamily void rlc\+\_\+rx\+\_\+am\+\_\+test\+::create\+\_\+pdus (\begin{DoxyParamCaption}\item[{std\+::list$<$ std\+::vector$<$ uint8\+\_\+t $>$ $>$ \&}]{pdu\+\_\+list,  }\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{sdu,  }\item[{uint32\+\_\+t}]{sn,  }\item[{uint32\+\_\+t}]{sdu\+\_\+size,  }\item[{uint32\+\_\+t}]{segment\+\_\+size,  }\item[{uint8\+\_\+t}]{first\+\_\+byte = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Creates a list of RLC AMD PDU(s) containing either one RLC SDU or multiple RLC SDU segments. 

The associated SDU contains an incremental sequence of bytes starting with the value given by first\+\_\+byte, i.\+e. if first\+\_\+byte = 0xfc and no segmentation, the PDU will be $<$header$>$ 0xfc 0xfe 0xff 0x00 0x01 ...

Note\+: Segmentation is applied if segment\+\_\+size \texorpdfstring{$<$}{<} sdu\+\_\+size; Otherwise only one PDU with full SDU is produced, and the resulting list will hold only one PDU


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em pdu\+\_\+list} & Reference to a list$<$byte\+\_\+buffer$>$ that is filled with the produced PDU(s) \\
\hline
\mbox{\texttt{ out}}  & {\em sdu} & Reference to a byte\+\_\+buffer that is filled with the associated SDU \\
\hline
\mbox{\texttt{ in}}  & {\em sn} & The sequence number to be put in the PDU header \\
\hline
\mbox{\texttt{ in}}  & {\em sdu\+\_\+size} & Size of the SDU \\
\hline
\mbox{\texttt{ in}}  & {\em segment\+\_\+size} & Maximum payload size of each SDU or SDU segment. \\
\hline
\mbox{\texttt{ in}}  & {\em first\+\_\+byte} & Value of the first SDU payload byte \\
\hline
\end{DoxyParams}
\Hypertarget{classrlc__rx__am__test_aa90dc18385dc9275d9f51b1adfebb919}\label{classrlc__rx__am__test_aa90dc18385dc9275d9f51b1adfebb919} 
\index{rlc\_rx\_am\_test@{rlc\_rx\_am\_test}!rx\_full\_sdus@{rx\_full\_sdus}}
\index{rx\_full\_sdus@{rx\_full\_sdus}!rlc\_rx\_am\_test@{rlc\_rx\_am\_test}}
\doxysubsubsection{\texorpdfstring{rx\_full\_sdus()}{rx\_full\_sdus()}}
{\footnotesize\ttfamily void rlc\+\_\+rx\+\_\+am\+\_\+test\+::rx\+\_\+full\+\_\+sdus (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \&}]{sn\+\_\+state,  }\item[{uint32\+\_\+t}]{n\+\_\+sdus,  }\item[{uint32\+\_\+t}]{sdu\+\_\+size = {\ttfamily 1},  }\item[{bool}]{reverse\+\_\+sdus = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Injects RLC AMD PDUs with full SDUs into the RLC AM entity starting from Sequence number sn\+\_\+state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em sn\+\_\+state} & Reference to the sequence number for the first SDU. Will be incremented for each SDU \\
\hline
\mbox{\texttt{ in}}  & {\em n\+\_\+sdus} & Number of SDUs \\
\hline
\mbox{\texttt{ in}}  & {\em sdu\+\_\+size} & SDU payload size \\
\hline
\mbox{\texttt{ in}}  & {\em reverse\+\_\+sdus} & Inject PDUs in reverse SDU order \\
\hline
\end{DoxyParams}
\Hypertarget{classrlc__rx__am__test_a64cc43c8479a925a1cb479778c0aed56}\label{classrlc__rx__am__test_a64cc43c8479a925a1cb479778c0aed56} 
\index{rlc\_rx\_am\_test@{rlc\_rx\_am\_test}!rx\_sdu\_segments@{rx\_sdu\_segments}}
\index{rx\_sdu\_segments@{rx\_sdu\_segments}!rlc\_rx\_am\_test@{rlc\_rx\_am\_test}}
\doxysubsubsection{\texorpdfstring{rx\_sdu\_segments()}{rx\_sdu\_segments()}}
{\footnotesize\ttfamily void rlc\+\_\+rx\+\_\+am\+\_\+test\+::rx\+\_\+sdu\+\_\+segments (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \&}]{sn\+\_\+state,  }\item[{uint32\+\_\+t}]{n\+\_\+sdus,  }\item[{uint32\+\_\+t}]{sdu\+\_\+size = {\ttfamily 3},  }\item[{uint32\+\_\+t}]{segment\+\_\+size = {\ttfamily 1},  }\item[{bool}]{reverse\+\_\+sdus = {\ttfamily false},  }\item[{bool}]{reverse\+\_\+segments = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Injects RLC AMD PDUs with SDU segments into the RLC AM entity starting from Sequence number sn\+\_\+state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em sn\+\_\+state} & Reference to the sequence number for the first SDU. Will be incremented for each SDU \\
\hline
\mbox{\texttt{ in}}  & {\em n\+\_\+sdus} & Number of SDUs \\
\hline
\mbox{\texttt{ in}}  & {\em sdu\+\_\+size} & SDU payload size \\
\hline
\mbox{\texttt{ in}}  & {\em segment\+\_\+size} & Maximum size of each SDU segment \\
\hline
\mbox{\texttt{ in}}  & {\em reverse\+\_\+sdus} & Reverse SDU order of injected PDUs \\
\hline
\mbox{\texttt{ in}}  & {\em reverse\+\_\+segments} & Reverse segment order of injected PDUs \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tests/unittests/rlc/rlc\+\_\+rx\+\_\+am\+\_\+test.\+cpp\item 
tests/unittests/rlc/rlc\+\_\+rx\+\_\+tm\+\_\+test.\+cpp\end{DoxyCompactItemize}
