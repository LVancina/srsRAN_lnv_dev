\doxysection{srsran\+::dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder Class Reference}
\hypertarget{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder}{}\label{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder}\index{srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}}


Encoder of a MAC SDU.  




{\ttfamily \#include $<$dl\+\_\+sch\+\_\+pdu\+\_\+assembler.\+h$>$}



Collaboration diagram for srsran\+::dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{d9/d8f/classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a826169d485ada3501e9f4f2147af69f1}{mac\+\_\+sdu\+\_\+encoder}} (\mbox{\hyperlink{classsrsran_1_1dl__sch__pdu}{dl\+\_\+sch\+\_\+pdu}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcid\+\_\+}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subhdr\+\_\+len\+\_\+}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\+\_\+sdu\+\_\+size\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a8162f951ee8ae0eeb36853dce4e988cf}{valid}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ae609c4924a0522c5e9f25d828a9239a7}{sdu\+\_\+space}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the space that is reserved for this MAC SDU payload. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ac00971196b747cde0901e4cd0d442fbc}{encode\+\_\+sdu}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\+\_\+bytes\+\_\+written}})
\begin{DoxyCompactList}\small\item\em Updates the DL-\/\+SCH PDU with the encoded MAC SDU subheader and payload. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Encoder of a MAC SDU. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a826169d485ada3501e9f4f2147af69f1}\label{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a826169d485ada3501e9f4f2147af69f1} 
\index{srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}!mac\_sdu\_encoder@{mac\_sdu\_encoder}}
\index{mac\_sdu\_encoder@{mac\_sdu\_encoder}!srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}}
\doxysubsubsection{\texorpdfstring{mac\_sdu\_encoder()}{mac\_sdu\_encoder()}}
{\footnotesize\ttfamily dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder\+::mac\+\_\+sdu\+\_\+encoder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1dl__sch__pdu}{dl\+\_\+sch\+\_\+pdu}} \&}]{pdu\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid\+\_\+,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{subhdr\+\_\+len\+\_\+,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{max\+\_\+sdu\+\_\+size\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00045\ \ \ pdu(\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_}}),\ lcid(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcid\_}}),\ subhr\_len(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{subhdr\_len\_}}),\ max\_sdu\_size(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_sdu\_size\_}})}
\DoxyCodeLine{00046\ \{}
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ac00971196b747cde0901e4cd0d442fbc}\label{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ac00971196b747cde0901e4cd0d442fbc} 
\index{srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}!encode\_sdu@{encode\_sdu}}
\index{encode\_sdu@{encode\_sdu}!srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}}
\doxysubsubsection{\texorpdfstring{encode\_sdu()}{encode\_sdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder\+::encode\+\_\+sdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{sdu\+\_\+bytes\+\_\+written }\end{DoxyParamCaption})}



Updates the DL-\/\+SCH PDU with the encoded MAC SDU subheader and payload. 

\begin{DoxyReturn}{Returns}
Number of bytes written to the DL-\/\+SCH PDU (MAC SDU subheader + payload). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00059\ \{}
\DoxyCodeLine{00060\ \ \ srsran\_assert(pdu\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{stringliteral}{"{}encode\_sdu\ called\ for\ invalid\ MAC\ grant"{}});}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_bytes\_written}}\ ==\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_bytes\_written}}\ >\ max\_sdu\_size)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ Encode\ MAC\ SubHeader.}}
\DoxyCodeLine{00066\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ F\_bit\ =\ subhr\_len\ >\ MIN\_MAC\_SDU\_SUBHEADER\_SIZE;}
\DoxyCodeLine{00067\ \ \ pdu-\/>encode\_subheader(F\_bit,\ lcid,\ subhr\_len,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_bytes\_written}});}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{//\ Advance\ byte\ offset\ to\ account\ for\ MAC\ SDU.}}
\DoxyCodeLine{00070\ \ \ pdu-\/>byte\_offset\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_bytes\_written}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{return}\ subhr\_len\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_bytes\_written}};}
\DoxyCodeLine{00073\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ae609c4924a0522c5e9f25d828a9239a7}\label{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_ae609c4924a0522c5e9f25d828a9239a7} 
\index{srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}!sdu\_space@{sdu\_space}}
\index{sdu\_space@{sdu\_space}!srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}}
\doxysubsubsection{\texorpdfstring{sdu\_space()}{sdu\_space()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder\+::sdu\+\_\+space (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the space that is reserved for this MAC SDU payload. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (pdu\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_offset}}\ =\ pdu-\/>byte\_offset\ +\ subhr\_len;}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordflow}{return}\ pdu-\/>pdu.\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_offset}},\ max\_sdu\_size);}
\DoxyCodeLine{00056\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a8162f951ee8ae0eeb36853dce4e988cf}\label{classsrsran_1_1dl__sch__pdu_1_1mac__sdu__encoder_a8162f951ee8ae0eeb36853dce4e988cf} 
\index{srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}!valid@{valid}}
\index{valid@{valid}!srsran::dl\_sch\_pdu::mac\_sdu\_encoder@{srsran::dl\_sch\_pdu::mac\_sdu\_encoder}}
\doxysubsubsection{\texorpdfstring{valid()}{valid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+sch\+\_\+pdu\+::mac\+\_\+sdu\+\_\+encoder\+::valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{\ \textcolor{keywordflow}{return}\ pdu\ !=\ \textcolor{keyword}{nullptr};\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/mac/mac\+\_\+dl/dl\+\_\+sch\+\_\+pdu\+\_\+assembler.\+h\item 
lib/mac/mac\+\_\+dl/dl\+\_\+sch\+\_\+pdu\+\_\+assembler.\+cpp\end{DoxyCompactItemize}
