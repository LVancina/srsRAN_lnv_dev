\doxysection{srsran\+::harq\+\_\+entity Class Reference}
\hypertarget{classsrsran_1_1harq__entity}{}\label{classsrsran_1_1harq__entity}\index{srsran::harq\_entity@{srsran::harq\_entity}}


{\ttfamily \#include $<$harq\+\_\+process.\+h$>$}



Collaboration diagram for srsran\+::harq\+\_\+entity\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{de/d76/classsrsran_1_1harq__entity__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1harq__entity_a5eb0652618d233bfe1b57855981f85a9}{harq\+\_\+entity}} (\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} rnti, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+dl\+\_\+harq\+\_\+procs}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+ul\+\_\+harq\+\_\+procs}}, \mbox{\hyperlink{classsrsran_1_1ue__harq__timeout__notifier}{ue\+\_\+harq\+\_\+timeout\+\_\+notifier}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\+\_\+notif}}, \mbox{\hyperlink{classunsigned}{unsigned}} ntn\+\_\+cs\+\_\+koffset=0, \mbox{\hyperlink{classunsigned}{unsigned}} max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots=\mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process}{detail\+::harq\+\_\+process}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$\+::\+DEFAULT\+\_\+\+ACK\+\_\+\+TIMEOUT\+\_\+\+SLOTS)
\begin{DoxyCompactList}\small\item\em Creates a HARQ entity for a given UE cell. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1harq__entity_ae9e1342bc87ff9035b8e98535aaaa4d7}{slot\+\_\+indication}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{slot\+\_\+tx\+\_\+}})
\begin{DoxyCompactList}\small\item\em Update slot, and checks if there are HARQ processes that have reached max\+Re\+Tx with no ACK. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1dl__harq__process_1_1dl__ack__info__result}{dl\+\_\+harq\+\_\+process\+::dl\+\_\+ack\+\_\+info\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1harq__entity_aa2828a14b911b195b07d3cfae323f9bc}{dl\+\_\+ack\+\_\+info}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\+\_\+slot}}, \mbox{\hyperlink{namespacesrsran_ad15571815e2fd31523e75ed1b2b5012a}{mac\+\_\+harq\+\_\+ack\+\_\+report\+\_\+status}} ack, \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} harq\+\_\+bit\+\_\+idx, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\+\_\+snr}})
\begin{DoxyCompactList}\small\item\em Update the state of the DL HARQ for the specified UCI slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classsrsran_1_1harq__entity_ac7d8dd718225b1f0260eb66022fc5282}{ul\+\_\+crc\+\_\+info}} (\mbox{\hyperlink{namespacesrsran_a5afde872b5d597c47d3674cc7f86b19b}{harq\+\_\+id\+\_\+t}} h\+\_\+id, \mbox{\hyperlink{classbool}{bool}} ack, \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+slot}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1harq__entity_a107e35d945d967f5909099ec376a1f0d}{dl\+\_\+ack\+\_\+info\+\_\+cancelled}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\+\_\+slot}})
\begin{DoxyCompactList}\small\item\em The UCI scheduling associated with a given slot was cancelled. The associated DL HARQs will be NACKEd. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1harq__entity_a02203388cf3b782c03a37d457425ab4a}{nof\+\_\+dl\+\_\+harqs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1harq__entity_ae4f9dd72625e4a7f373659498023d77b}{nof\+\_\+ul\+\_\+harqs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \& \mbox{\hyperlink{classsrsran_1_1harq__entity_a2c6e295ba23e2b4dd1ecadfc54b42605}{dl\+\_\+harq}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \& \mbox{\hyperlink{classsrsran_1_1harq__entity_adce88051184823a47364347f9211687a}{dl\+\_\+harq}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \& \mbox{\hyperlink{classsrsran_1_1harq__entity_abb5ae8046d51bf5098a6fdf078560db3}{ul\+\_\+harq}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \& \mbox{\hyperlink{classsrsran_1_1harq__entity_adadb5c972379770e38aa356ff061f7d8}{ul\+\_\+harq}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}})
\item 
\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_afd46fd403cef029d1a01a57d4e015e9b}{find\+\_\+pending\+\_\+dl\+\_\+retx}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a9a46293d46adf71292455bedad2986a0}{find\+\_\+pending\+\_\+dl\+\_\+retx}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a9e2b7070e9859dd6a2df4e37e0eb458d}{find\+\_\+pending\+\_\+ul\+\_\+retx}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a32bb25b007e30fd8c17fb6bd4f13d619}{find\+\_\+pending\+\_\+ul\+\_\+retx}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a94396ffa9dcbebd79b5f360f68d15fcb}{find\+\_\+empty\+\_\+dl\+\_\+harq}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a0f992b8edf9bc26786affb2df786e79b}{find\+\_\+empty\+\_\+dl\+\_\+harq}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_ae8b216d7464da8ec18a76893fc0bfc69}{find\+\_\+empty\+\_\+ul\+\_\+harq}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_aaa857be57a96c860d9ea9c3d5d3b6486}{find\+\_\+empty\+\_\+ul\+\_\+harq}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_a0e37db0359a747f9c69b468d1b7757dc}{find\+\_\+dl\+\_\+harq\+\_\+waiting\+\_\+ack}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_aa767c2fd38afd3a56fc2cdfea30e5fa8}{find\+\_\+ul\+\_\+harq\+\_\+waiting\+\_\+ack}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1harq__entity_aa38074bee1035326a99f2c7d4a30209e}{find\+\_\+dl\+\_\+harq\+\_\+waiting\+\_\+ack\+\_\+slot}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sl\+\_\+ack}}, \mbox{\hyperlink{classunsigned}{unsigned}} harq\+\_\+bit\+\_\+idx)
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1harq__entity_a8bfa81cf4a52e9e9b2815ec5a5ad133c}{ntn\+\_\+get\+\_\+tbs\+\_\+pending\+\_\+crcs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This object handles the DL and UL HARQ processes for each UE\textquotesingle{}s Component Carrier; therefore, for each UE, we instantiate as many \doxylink{classsrsran_1_1harq__entity}{harq\+\_\+entity} object as CCs 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1harq__entity_a5eb0652618d233bfe1b57855981f85a9}\label{classsrsran_1_1harq__entity_a5eb0652618d233bfe1b57855981f85a9} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!harq\_entity@{harq\_entity}}
\index{harq\_entity@{harq\_entity}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{harq\_entity()}{harq\_entity()}}
{\footnotesize\ttfamily harq\+\_\+entity\+::harq\+\_\+entity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{rnti,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+dl\+\_\+harq\+\_\+procs,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+ul\+\_\+harq\+\_\+procs,  }\item[{\mbox{\hyperlink{classsrsran_1_1ue__harq__timeout__notifier}{ue\+\_\+harq\+\_\+timeout\+\_\+notifier}}}]{timeout\+\_\+notif,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{ntn\+\_\+cs\+\_\+koffset = {\ttfamily 0},  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots = {\ttfamily \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process}{detail\+::harq\+\_\+process}}$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}}$>$\+:\+:DEFAULT\+\_\+ACK\+\_\+TIMEOUT\+\_\+SLOTS} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Creates a HARQ entity for a given UE cell. 


\begin{DoxyParams}{Parameters}
{\em rnti} & RNTI of the UE \\
\hline
{\em nof\+\_\+dl\+\_\+harq\+\_\+procs} & Number of DL HARQ processes that the UE can support. This value is derived based on the UE capabilities, and passed to the UE via RRC signalling. See TS38.\+331, "{}nrof\+HARQ-\/\+Processes\+For\+PDSCH"{}. Values\+: \{2, 4, 6, 10, 12, 16\}. \\
\hline
{\em nof\+\_\+ul\+\_\+harq\+\_\+procs} & Number of UL HARQ processes that g\+NB can support. This value is implementation-\/defined and can up to 16 (there are up to 4 bits for HARQ-\/\+Id signalling). \\
\hline
{\em max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots} & Duration in slots before a HARQ process acknowledgement is considered to have gone missing and that the HARQ can be reset. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00375\ \ \ rnti(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rnti\_}}),}
\DoxyCodeLine{00376\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}SCHED"{}})),}
\DoxyCodeLine{00377\ \ \ dl\_h\_logger(logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rnti\_}},\ \mbox{\hyperlink{namespacesrsran_a85fcbfef630498e3919ccc9d5d48b07c}{to\_du\_cell\_index}}(0),\ \textcolor{keyword}{true}),}
\DoxyCodeLine{00378\ \ \ ul\_h\_logger(logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rnti\_}},\ \mbox{\hyperlink{namespacesrsran_a85fcbfef630498e3919ccc9d5d48b07c}{to\_du\_cell\_index}}(0),\ \textcolor{keyword}{false}),}
\DoxyCodeLine{00379\ \ \ nop\_timeout\_notifier(),}
\DoxyCodeLine{00380\ \ \ ntn\_harq(ntn\_cs\_koffset)}
\DoxyCodeLine{00381\ \{}
\DoxyCodeLine{00382\ \ \ \textcolor{comment}{//\ Create\ HARQ\ processes}}
\DoxyCodeLine{00383\ \ \ dl\_harqs.reserve(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_dl\_harq\_procs}});}
\DoxyCodeLine{00384\ \ \ ul\_harqs.reserve(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_ul\_harq\_procs}});}
\DoxyCodeLine{00385\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{id}\ =\ 0;\ \textcolor{keywordtype}{id}\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_dl\_harq\_procs}};\ ++id)\ \{}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00387\ \ \ \ \ \ \ dl\_harqs.emplace\_back(to\_harq\_id(\textcolor{keywordtype}{id}),\ dl\_h\_logger,\ nop\_timeout\_notifier,\ ntn\_harq.ntn\_harq\_timeout);}
\DoxyCodeLine{00388\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00389\ \ \ \ \ \ \ dl\_harqs.emplace\_back(to\_harq\_id(\textcolor{keywordtype}{id}),\ dl\_h\_logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\_notif}},\ max\_ack\_wait\_in\_slots);}
\DoxyCodeLine{00390\ \ \ \ \ \}}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{id}\ =\ 0;\ \textcolor{keywordtype}{id}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_ul\_harq\_procs}};\ ++id)\ \{}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00395\ \ \ \ \ \ \ ul\_harqs.emplace\_back(to\_harq\_id(\textcolor{keywordtype}{id}),\ ul\_h\_logger,\ nop\_timeout\_notifier,\ ntn\_harq.ntn\_harq\_timeout);}
\DoxyCodeLine{00396\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00397\ \ \ \ \ \ \ ul\_harqs.emplace\_back(to\_harq\_id(\textcolor{keywordtype}{id}),\ ul\_h\_logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\_notif}},\ max\_ack\_wait\_in\_slots);}
\DoxyCodeLine{00398\ \ \ \ \ \}}
\DoxyCodeLine{00399\ \ \ \}}
\DoxyCodeLine{00400\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1harq__entity_aa2828a14b911b195b07d3cfae323f9bc}\label{classsrsran_1_1harq__entity_aa2828a14b911b195b07d3cfae323f9bc} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!dl\_ack\_info@{dl\_ack\_info}}
\index{dl\_ack\_info@{dl\_ack\_info}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{dl\_ack\_info()}{dl\_ack\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1dl__harq__process_1_1dl__ack__info__result}{dl\+\_\+harq\+\_\+process\+::dl\+\_\+ack\+\_\+info\+\_\+result}} harq\+\_\+entity\+::dl\+\_\+ack\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{uci\+\_\+slot,  }\item[{\mbox{\hyperlink{namespacesrsran_ad15571815e2fd31523e75ed1b2b5012a}{mac\+\_\+harq\+\_\+ack\+\_\+report\+\_\+status}}}]{ack,  }\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{harq\+\_\+bit\+\_\+idx,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{pucch\+\_\+snr }\end{DoxyParamCaption})}



Update the state of the DL HARQ for the specified UCI slot. 

\begin{DoxyReturn}{Returns}
struct containing the HARQ process ID, MCS, TBS and status update. ACK/\+NACK was directed was found. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00423\ \{}
\DoxyCodeLine{00424\ \ \ \textcolor{comment}{//\ For\ the\ time\ being,\ we\ assume\ 1\ TB\ only.}}
\DoxyCodeLine{00425\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}}\ =\ 0;}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}\ :\ dl\_harqs)\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.is\_waiting\_ack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}})\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.slot\_ack()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\_slot}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.tb(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}}).harq\_bit\_idx\ ==\ harq\_bit\_idx)\ \{}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ HARQ\ state.}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1dl__harq__process_ac54b21b50c80ee2addc6624668107cb1}{dl\_harq\_process::status\_update}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\_upd}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.ack\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}},\ ack,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_snr}});}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.id,}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.last\_alloc\_params().tb[0]-\/>mcs\_table,}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.last\_alloc\_params().tb[0]-\/>mcs,}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.last\_alloc\_params().tb[0]-\/>tbs\_bytes,}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\_upd}}\};}
\DoxyCodeLine{00437\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ntn\_harq.pop\_ack\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\_slot}},\ ack);}
\DoxyCodeLine{00439\ \ \ \ \ \}}
\DoxyCodeLine{00440\ \ \ \}}
\DoxyCodeLine{00441\ \ \ logger.warning(\textcolor{stringliteral}{"{}DL\ HARQ\ for\ rnti=\{\},\ uci\ slot=\{\}\ not\ found."{}},\ rnti,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\_slot}});}
\DoxyCodeLine{00442\ \ \ \textcolor{keywordflow}{return}\ \{INVALID\_HARQ\_ID,\ \mbox{\hyperlink{namespacesrsran_a7360cbf57f4cd82cfda032d47fa58e81afe97d5927e34d78b68330ae92f2773cb}{pdsch\_mcs\_table::qam64}},\ \mbox{\hyperlink{classsrsran_1_1bounded__integer}{sch\_mcs\_index}}\{0\},\ 0,\ dl\_harq\_process::status\_update::error\};}
\DoxyCodeLine{00443\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a107e35d945d967f5909099ec376a1f0d}\label{classsrsran_1_1harq__entity_a107e35d945d967f5909099ec376a1f0d} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!dl\_ack\_info\_cancelled@{dl\_ack\_info\_cancelled}}
\index{dl\_ack\_info\_cancelled@{dl\_ack\_info\_cancelled}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{dl\_ack\_info\_cancelled()}{dl\_ack\_info\_cancelled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} harq\+\_\+entity\+::dl\+\_\+ack\+\_\+info\+\_\+cancelled (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{uci\+\_\+slot }\end{DoxyParamCaption})}



The UCI scheduling associated with a given slot was cancelled. The associated DL HARQs will be NACKEd. 

This function can be called for instance when there is an error indication coming from lower layers. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00463\ \{}
\DoxyCodeLine{00464\ \ \ \textcolor{comment}{//\ Maximum\ number\ of\ UCI\ indications\ that\ a\ HARQ\ process\ can\ expect.\ We\ set\ this\ conservative\ limit\ to\ account\ for}}
\DoxyCodeLine{00465\ \ \ \textcolor{comment}{//\ the\ state\ when\ SR,\ HARQ-\/ACK+SR,\ common\ PUCCH\ are\ scheduled.}}
\DoxyCodeLine{00466\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_ACKS\_PER\_HARQ}}\ =\ 4;}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}\ :\ dl\_harqs)\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.empty()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.slot\_ack()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{uci\_slot}})\ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1dl__harq__process_ac54b21b50c80ee2addc6624668107cb1}{dl\_harq\_process::status\_update}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ =\ dl\_harq\_process::status\_update::no\_update;}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ count\ =\ 0;\ count\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_ACKS\_PER\_HARQ}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ ==\ dl\_harq\_process::status\_update::no\_update;}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ ++count)\ \{}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.ack\_info(0,\ mac\_harq\_ack\_report\_status::dtx,\ \mbox{\hyperlink{namespacesrsran_a2e817fa4d4a8084eb1746ee8d1440679}{nullopt}});}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ ==\ dl\_harq\_process::status\_update::no\_update)\ \{}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ dl\_h\_logger.warning(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.id,\ \textcolor{stringliteral}{"{}DL\ HARQ\ in\ an\ invalid\ state.\ Resetting\ it..."{}});}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_dl}}.reset();}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00479\ \ \ \ \ \}}
\DoxyCodeLine{00480\ \ \ \}}
\DoxyCodeLine{00481\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_adce88051184823a47364347f9211687a}\label{classsrsran_1_1harq__entity_adce88051184823a47364347f9211687a} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!dl\_harq@{dl\_harq}}
\index{dl\_harq@{dl\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{dl\_harq()}{dl\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \& srsran\+::harq\+\_\+entity\+::dl\+\_\+harq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{pid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00476\ \{\ \textcolor{keywordflow}{return}\ dl\_harqs[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a2c6e295ba23e2b4dd1ecadfc54b42605}\label{classsrsran_1_1harq__entity_a2c6e295ba23e2b4dd1ecadfc54b42605} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!dl\_harq@{dl\_harq}}
\index{dl\_harq@{dl\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{dl\_harq()}{dl\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \& srsran\+::harq\+\_\+entity\+::dl\+\_\+harq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{pid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00475\ \{\ \textcolor{keywordflow}{return}\ dl\_harqs[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a0e37db0359a747f9c69b468d1b7757dc}\label{classsrsran_1_1harq__entity_a0e37db0359a747f9c69b468d1b7757dc} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_dl\_harq\_waiting\_ack@{find\_dl\_harq\_waiting\_ack}}
\index{find\_dl\_harq\_waiting\_ack@{find\_dl\_harq\_waiting\_ack}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_dl\_harq\_waiting\_ack()}{find\_dl\_harq\_waiting\_ack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+dl\+\_\+harq\+\_\+waiting\+\_\+ack (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00521\ \ \ \{}
\DoxyCodeLine{00522\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_harq\_waiting\_ack(dl\_harqs);}
\DoxyCodeLine{00523\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&dl\_harqs[h\_id];}
\DoxyCodeLine{00524\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_aa38074bee1035326a99f2c7d4a30209e}\label{classsrsran_1_1harq__entity_aa38074bee1035326a99f2c7d4a30209e} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_dl\_harq\_waiting\_ack\_slot@{find\_dl\_harq\_waiting\_ack\_slot}}
\index{find\_dl\_harq\_waiting\_ack\_slot@{find\_dl\_harq\_waiting\_ack\_slot}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_dl\_harq\_waiting\_ack\_slot()}{find\_dl\_harq\_waiting\_ack\_slot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+dl\+\_\+harq\+\_\+waiting\+\_\+ack\+\_\+slot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{sl\+\_\+ack,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{harq\+\_\+bit\+\_\+idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00532\ \ \ \{}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{comment}{//\ For\ the\ time\ being,\ we\ assume\ 1\ TB\ only.}}
\DoxyCodeLine{00534\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}}\ =\ 0;}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ dl\_harqs.size();\ ++i)\ \{}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dl\_harqs[i].tb(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}}).harq\_bit\_idx\ ==\ harq\_bit\_idx\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ dl\_harqs[i].is\_waiting\_ack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tb\_index}})\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ dl\_harqs[i].slot\_ack()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sl\_ack}})\ \{}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&dl\_harqs[to\_harq\_id(i)];}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00541\ \ \ \ \ \}}
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00543\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a94396ffa9dcbebd79b5f360f68d15fcb}\label{classsrsran_1_1harq__entity_a94396ffa9dcbebd79b5f360f68d15fcb} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_empty\_dl\_harq@{find\_empty\_dl\_harq}}
\index{find\_empty\_dl\_harq@{find\_empty\_dl\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_empty\_dl\_harq()}{find\_empty\_dl\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+empty\+\_\+dl\+\_\+harq (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00501\ \ \ \{}
\DoxyCodeLine{00502\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_empty\_harq(dl\_harqs);}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&dl\_harqs[h\_id];}
\DoxyCodeLine{00504\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a0f992b8edf9bc26786affb2df786e79b}\label{classsrsran_1_1harq__entity_a0f992b8edf9bc26786affb2df786e79b} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_empty\_dl\_harq@{find\_empty\_dl\_harq}}
\index{find\_empty\_dl\_harq@{find\_empty\_dl\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_empty\_dl\_harq()}{find\_empty\_dl\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+empty\+\_\+dl\+\_\+harq (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00506\ \ \ \{}
\DoxyCodeLine{00507\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_empty\_harq(dl\_harqs);}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&dl\_harqs[h\_id];}
\DoxyCodeLine{00509\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_ae8b216d7464da8ec18a76893fc0bfc69}\label{classsrsran_1_1harq__entity_ae8b216d7464da8ec18a76893fc0bfc69} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_empty\_ul\_harq@{find\_empty\_ul\_harq}}
\index{find\_empty\_ul\_harq@{find\_empty\_ul\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_empty\_ul\_harq()}{find\_empty\_ul\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+empty\+\_\+ul\+\_\+harq (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00511\ \ \ \{}
\DoxyCodeLine{00512\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_empty\_harq(ul\_harqs);}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&ul\_harqs[h\_id];}
\DoxyCodeLine{00514\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_aaa857be57a96c860d9ea9c3d5d3b6486}\label{classsrsran_1_1harq__entity_aaa857be57a96c860d9ea9c3d5d3b6486} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_empty\_ul\_harq@{find\_empty\_ul\_harq}}
\index{find\_empty\_ul\_harq@{find\_empty\_ul\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_empty\_ul\_harq()}{find\_empty\_ul\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+empty\+\_\+ul\+\_\+harq (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00516\ \ \ \{}
\DoxyCodeLine{00517\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_empty\_harq(ul\_harqs);}
\DoxyCodeLine{00518\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&ul\_harqs[h\_id];}
\DoxyCodeLine{00519\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_afd46fd403cef029d1a01a57d4e015e9b}\label{classsrsran_1_1harq__entity_afd46fd403cef029d1a01a57d4e015e9b} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_pending\_dl\_retx@{find\_pending\_dl\_retx}}
\index{find\_pending\_dl\_retx@{find\_pending\_dl\_retx}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_pending\_dl\_retx()}{find\_pending\_dl\_retx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+pending\+\_\+dl\+\_\+retx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00481\ \ \ \{}
\DoxyCodeLine{00482\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_oldest\_harq\_retx(dl\_harqs);}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&dl\_harqs[h\_id];}
\DoxyCodeLine{00484\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a9a46293d46adf71292455bedad2986a0}\label{classsrsran_1_1harq__entity_a9a46293d46adf71292455bedad2986a0} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_pending\_dl\_retx@{find\_pending\_dl\_retx}}
\index{find\_pending\_dl\_retx@{find\_pending\_dl\_retx}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_pending\_dl\_retx()}{find\_pending\_dl\_retx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+pending\+\_\+dl\+\_\+retx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00486\ \ \ \{}
\DoxyCodeLine{00487\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_oldest\_harq\_retx(dl\_harqs);}
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&dl\_harqs[h\_id];}
\DoxyCodeLine{00489\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a9e2b7070e9859dd6a2df4e37e0eb458d}\label{classsrsran_1_1harq__entity_a9e2b7070e9859dd6a2df4e37e0eb458d} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_pending\_ul\_retx@{find\_pending\_ul\_retx}}
\index{find\_pending\_ul\_retx@{find\_pending\_ul\_retx}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_pending\_ul\_retx()}{find\_pending\_ul\_retx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+pending\+\_\+ul\+\_\+retx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00491\ \ \ \{}
\DoxyCodeLine{00492\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_oldest\_harq\_retx(ul\_harqs);}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&ul\_harqs[h\_id];}
\DoxyCodeLine{00494\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a32bb25b007e30fd8c17fb6bd4f13d619}\label{classsrsran_1_1harq__entity_a32bb25b007e30fd8c17fb6bd4f13d619} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_pending\_ul\_retx@{find\_pending\_ul\_retx}}
\index{find\_pending\_ul\_retx@{find\_pending\_ul\_retx}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_pending\_ul\_retx()}{find\_pending\_ul\_retx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+pending\+\_\+ul\+\_\+retx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00496\ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_oldest\_harq\_retx(ul\_harqs);}
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&ul\_harqs[h\_id];}
\DoxyCodeLine{00499\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_aa767c2fd38afd3a56fc2cdfea30e5fa8}\label{classsrsran_1_1harq__entity_aa767c2fd38afd3a56fc2cdfea30e5fa8} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!find\_ul\_harq\_waiting\_ack@{find\_ul\_harq\_waiting\_ack}}
\index{find\_ul\_harq\_waiting\_ack@{find\_ul\_harq\_waiting\_ack}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{find\_ul\_harq\_waiting\_ack()}{find\_ul\_harq\_waiting\_ack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \texorpdfstring{$\ast$}{*} srsran\+::harq\+\_\+entity\+::find\+\_\+ul\+\_\+harq\+\_\+waiting\+\_\+ack (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00526\ \ \ \{}
\DoxyCodeLine{00527\ \ \ \ \ harq\_id\_t\ h\_id\ =\ find\_harq\_waiting\_ack(ul\_harqs);}
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keywordflow}{return}\ h\_id\ ==\ INVALID\_HARQ\_ID\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}\ :\ \&ul\_harqs[h\_id];}
\DoxyCodeLine{00529\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a02203388cf3b782c03a37d457425ab4a}\label{classsrsran_1_1harq__entity_a02203388cf3b782c03a37d457425ab4a} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!nof\_dl\_harqs@{nof\_dl\_harqs}}
\index{nof\_dl\_harqs@{nof\_dl\_harqs}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{nof\_dl\_harqs()}{nof\_dl\_harqs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} srsran\+::harq\+\_\+entity\+::nof\+\_\+dl\+\_\+harqs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00473\ \{\ \textcolor{keywordflow}{return}\ dl\_harqs.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_ae4f9dd72625e4a7f373659498023d77b}\label{classsrsran_1_1harq__entity_ae4f9dd72625e4a7f373659498023d77b} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!nof\_ul\_harqs@{nof\_ul\_harqs}}
\index{nof\_ul\_harqs@{nof\_ul\_harqs}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{nof\_ul\_harqs()}{nof\_ul\_harqs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} srsran\+::harq\+\_\+entity\+::nof\+\_\+ul\+\_\+harqs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00474\ \{\ \textcolor{keywordflow}{return}\ ul\_harqs.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_a8bfa81cf4a52e9e9b2815ec5a5ad133c}\label{classsrsran_1_1harq__entity_a8bfa81cf4a52e9e9b2815ec5a5ad133c} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!ntn\_get\_tbs\_pending\_crcs@{ntn\_get\_tbs\_pending\_crcs}}
\index{ntn\_get\_tbs\_pending\_crcs@{ntn\_get\_tbs\_pending\_crcs}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{ntn\_get\_tbs\_pending\_crcs()}{ntn\_get\_tbs\_pending\_crcs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::harq\+\_\+entity\+::ntn\+\_\+get\+\_\+tbs\+\_\+pending\+\_\+crcs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00546\ \ \ \{}
\DoxyCodeLine{00547\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ntn\_harq.get\_total\_tbs();}
\DoxyCodeLine{00549\ \ \ \ \ \}}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00551\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_ae9e1342bc87ff9035b8e98535aaaa4d7}\label{classsrsran_1_1harq__entity_ae9e1342bc87ff9035b8e98535aaaa4d7} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!slot\_indication@{slot\_indication}}
\index{slot\_indication@{slot\_indication}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{slot\_indication()}{slot\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} harq\+\_\+entity\+::slot\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot\+\_\+tx\+\_\+ }\end{DoxyParamCaption})}



Update slot, and checks if there are HARQ processes that have reached max\+Re\+Tx with no ACK. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00403\ \{}
\DoxyCodeLine{00404\ \ \ slot\_tx\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{slot\_tx\_}};}
\DoxyCodeLine{00405\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1dl__harq__process}{dl\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_h}}\ :\ dl\_harqs)\ \{}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ ntn\_harq.save\_dl\_harq\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_h}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{slot\_tx\_}});}
\DoxyCodeLine{00408\ \ \ \ \ \}}
\DoxyCodeLine{00409\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_h}}.slot\_indication(slot\_tx);}
\DoxyCodeLine{00410\ \ \ \}}
\DoxyCodeLine{00411\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_h}}\ :\ ul\_harqs)\ \{}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00413\ \ \ \ \ \ \ ntn\_harq.save\_ul\_harq\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_h}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{slot\_tx\_}});}
\DoxyCodeLine{00414\ \ \ \ \ \}}
\DoxyCodeLine{00415\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_h}}.slot\_indication(slot\_tx);}
\DoxyCodeLine{00416\ \ \ \}}
\DoxyCodeLine{00417\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_ac7d8dd718225b1f0260eb66022fc5282}\label{classsrsran_1_1harq__entity_ac7d8dd718225b1f0260eb66022fc5282} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!ul\_crc\_info@{ul\_crc\_info}}
\index{ul\_crc\_info@{ul\_crc\_info}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{ul\_crc\_info()}{ul\_crc\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} harq\+\_\+entity\+::ul\+\_\+crc\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5afde872b5d597c47d3674cc7f86b19b}{harq\+\_\+id\+\_\+t}}}]{h\+\_\+id,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{ack,  }\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{pusch\+\_\+slot }\end{DoxyParamCaption})}

Update UL HARQ state given the received CRC indication. \begin{DoxyReturn}{Returns}
Transport Block size of the HARQ whose state was updated. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00446\ \{}
\DoxyCodeLine{00447\ \ \ \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\_harq\_process}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}\ =\ ul\_harq(h\_id);}
\DoxyCodeLine{00448\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}.empty()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}.slot\_ack()\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}})\ \{}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordflow}{if}\ (ntn\_harq.active())\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ack\ ==\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ntn\_harq.pop\_tbs(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}});}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ ntn\_harq.clear\_tbs(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}});}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ \ \ \ \ \}}
\DoxyCodeLine{00456\ \ \ \ \ ul\_h\_logger.warning(h\_id,\ \textcolor{stringliteral}{"{}Discarding\ CRC.\ Cause:\ No\ active\ UL\ HARQ\ expecting\ a\ CRC\ at\ slot=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}});}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00458\ \ \ \}}
\DoxyCodeLine{00459\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{h\_ul}}.crc\_info(ack);}
\DoxyCodeLine{00460\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_adadb5c972379770e38aa356ff061f7d8}\label{classsrsran_1_1harq__entity_adadb5c972379770e38aa356ff061f7d8} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!ul\_harq@{ul\_harq}}
\index{ul\_harq@{ul\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{ul\_harq()}{ul\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \& srsran\+::harq\+\_\+entity\+::ul\+\_\+harq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{pid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00478\ \{\ \textcolor{keywordflow}{return}\ ul\_harqs[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1harq__entity_abb5ae8046d51bf5098a6fdf078560db3}\label{classsrsran_1_1harq__entity_abb5ae8046d51bf5098a6fdf078560db3} 
\index{srsran::harq\_entity@{srsran::harq\_entity}!ul\_harq@{ul\_harq}}
\index{ul\_harq@{ul\_harq}!srsran::harq\_entity@{srsran::harq\_entity}}
\doxysubsubsection{\texorpdfstring{ul\_harq()}{ul\_harq()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process}{ul\+\_\+harq\+\_\+process}} \& srsran\+::harq\+\_\+entity\+::ul\+\_\+harq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{pid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00477\ \{\ \textcolor{keywordflow}{return}\ ul\_harqs[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pid}}];\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+h\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+cpp\end{DoxyCompactItemize}
