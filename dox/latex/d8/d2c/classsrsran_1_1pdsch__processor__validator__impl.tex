\doxysection{srsran\+::pdsch\+\_\+processor\+\_\+validator\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pdsch__processor__validator__impl}{}\label{classsrsran_1_1pdsch__processor__validator__impl}\index{srsran::pdsch\_processor\_validator\_impl@{srsran::pdsch\_processor\_validator\_impl}}


Implements a parameter validator for \doxylink{classsrsran_1_1pdsch__processor__impl}{pdsch\+\_\+processor\+\_\+impl}.  




{\ttfamily \#include $<$pdsch\+\_\+processor\+\_\+validator\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::pdsch\+\_\+processor\+\_\+validator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{d7/d27/classsrsran_1_1pdsch__processor__validator__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pdsch\+\_\+processor\+\_\+validator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{d0/d52/classsrsran_1_1pdsch__processor__validator__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdsch__processor__validator__impl_a98a04e4d823a913d59f31fb82cd17c21}{is\+\_\+valid}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Validates PDSCH processor configuration parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdsch__pdu__validator}{srsran\+::pdsch\+\_\+pdu\+\_\+validator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pdsch\+\_\+pdu\+\_\+validator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdsch__processor__validator__impl_a256b4cf840b7151c03757d9d30b076ad}{assert\+\_\+pdu}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&pdu)
\begin{DoxyCompactList}\small\item\em Asserts PDU. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements a parameter validator for \doxylink{classsrsran_1_1pdsch__processor__impl}{pdsch\+\_\+processor\+\_\+impl}. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pdsch__processor__validator__impl_a256b4cf840b7151c03757d9d30b076ad}\label{classsrsran_1_1pdsch__processor__validator__impl_a256b4cf840b7151c03757d9d30b076ad} 
\index{srsran::pdsch\_processor\_validator\_impl@{srsran::pdsch\_processor\_validator\_impl}!assert\_pdu@{assert\_pdu}}
\index{assert\_pdu@{assert\_pdu}!srsran::pdsch\_processor\_validator\_impl@{srsran::pdsch\_processor\_validator\_impl}}
\doxysubsubsection{\texorpdfstring{assert\_pdu()}{assert\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdsch\+\_\+processor\+\_\+validator\+\_\+impl\+::assert\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Asserts PDU. 

It triggers an assertion if the PDU is not valid for this processor. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Recover\ parameters\ from\ the\ PDU.}}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ nof\_layers\ \ \ \ \ \ \ =\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_a78eeca8376d722f128340ed3c58fbfbd}{get\_nof\_layers}}();}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codewords}}\ \ \ \ =\ (nof\_layers\ >\ 4)\ ?\ 2\ :\ 1;}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}}\ =\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa461eded5279d7a1a116ceb1e0ad6d98}{cp}});}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_config}}\ =\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa9caad952070547bc02999a1a8446a93}{dmrs}}\ ==\ dmrs\_type::TYPE1)\ ?\ dmrs\_config\_type::type1\ :\ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}::type2;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a0409da263eb1ccdc8cb491aac2a43bda}{size}}()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}},}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ DM-\/RS\ symbol\ mask\ size\ (i.e.,\ \{\}),\ must\ be\ equal\ to\ the\ number\ of\ symbols\ in\ the\ slot\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a0409da263eb1ccdc8cb491aac2a43bda}{size}}(),}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}});}
\DoxyCodeLine{00053\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_ae4011c726db20e6038f6e7918f31c0bd}{any}}(),\ \textcolor{stringliteral}{"{}The\ number\ of\ OFDM\ symbols\ carrying\ DM-\/RS\ must\ be\ greater\ than\ zero."{}});}
\DoxyCodeLine{00054\ \ \ srsran\_assert(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_aa2de3a0528dbe3ab78a6c764bef1eb0f}{find\_lowest}}(\textcolor{keyword}{true}))\ >=\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ index\ of\ the\ first\ OFDM\ symbol\ carrying\ DM-\/RS\ (i.e.,\ \{\})\ must\ be\ equal\ to\ or\ greater\ than\ the\ "{}}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}first\ symbol\ allocated\ to\ transmission\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_aa2de3a0528dbe3ab78a6c764bef1eb0f}{find\_lowest}}(\textcolor{keyword}{true}),}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}});}
\DoxyCodeLine{00059\ \ \ srsran\_assert(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a4113d614afd53f3e204dce4ec89963b9}{find\_highest}}(\textcolor{keyword}{true}))\ <}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}}),}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ index\ of\ the\ last\ OFDM\ symbol\ carrying\ DM-\/RS\ (i.e.,\ \{\})\ must\ be\ less\ than\ or\ equal\ to\ the\ last\ "{}}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}symbol\ allocated\ to\ transmission\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a4113d614afd53f3e204dce4ec89963b9}{find\_highest}}(\textcolor{keyword}{true}),}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}}\ -\/\ 1);}
\DoxyCodeLine{00065\ \ \ srsran\_assert((pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}})\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}},}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ transmission\ with\ time\ allocation\ [\{\},\ \{\})\ exceeds\ the\ slot\ boundary\ of\ \{\}\ symbols."{}},}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}},}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}},}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}});}
\DoxyCodeLine{00070\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa7128634346bcd88a123ec9bff527c44}{freq\_alloc}}.\mbox{\hyperlink{classsrsran_1_1rb__allocation_aff159e20220d4f65d552a24fbf6bf651}{is\_bwp\_valid}}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a6916c68dddd4440713283ca2f506df63}{bwp\_start\_rb}},\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ac2b85499561940341a66a410d9c071bc}{bwp\_size\_rb}}),}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ BWP\ configuration\ [\{\},\ \{\})\ for\ the\ given\ frequency\ allocation\ \{\}."{}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a6916c68dddd4440713283ca2f506df63}{bwp\_start\_rb}},}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a6916c68dddd4440713283ca2f506df63}{bwp\_start\_rb}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ac2b85499561940341a66a410d9c071bc}{bwp\_size\_rb}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa7128634346bcd88a123ec9bff527c44}{freq\_alloc}});}
\DoxyCodeLine{00075\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa9caad952070547bc02999a1a8446a93}{dmrs}}\ ==\ dmrs\_type::TYPE1,\ \textcolor{stringliteral}{"{}Only\ DM-\/RS\ Type\ 1\ is\ currently\ supported."{}});}
\DoxyCodeLine{00076\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa7128634346bcd88a123ec9bff527c44}{freq\_alloc}}.\mbox{\hyperlink{classsrsran_1_1rb__allocation_a371f2f118ca976f0a2958c7f6d4baf0e}{is\_contiguous}}(),\ \textcolor{stringliteral}{"{}Only\ contiguous\ allocation\ is\ currently\ supported."{}});}
\DoxyCodeLine{00077\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a4118d22caf8c23b7326459ed41c94ab8}{nof\_cdm\_groups\_without\_data}}\ <=\ get\_max\_nof\_cdm\_groups\_without\_data(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_config}}),}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ CDM\ groups\ without\ data\ (i.e.,\ \{\})\ must\ not\ exceed\ the\ maximum\ supported\ by\ the\ DM-\/RS\ "{}}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}type\ (i.e.,\ \{\})."{}},}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a4118d22caf8c23b7326459ed41c94ab8}{nof\_cdm\_groups\_without\_data}},}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_max\_nof\_cdm\_groups\_without\_data(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_config}}));}
\DoxyCodeLine{00082\ \ \ srsran\_assert(nof\_layers\ !=\ 0,\ \textcolor{stringliteral}{"{}No\ transmit\ layers\ are\ active."{}});}
\DoxyCodeLine{00083\ \ \ srsran\_assert(nof\_layers\ <=\ 4,\ \textcolor{stringliteral}{"{}Only\ 1\ to\ 4\ layers\ are\ currently\ supported.\ \{\}\ layers\ requested."{}},\ nof\_layers);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a012cfe29d5bc124b0873f28040da18e8}{codewords}}.size()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codewords}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Expected\ \{\}\ codewords\ and\ got\ \{\}\ for\ \{\}\ layers."{}},}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_codewords}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a012cfe29d5bc124b0873f28040da18e8}{codewords}}.size(),}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_layers);}
\DoxyCodeLine{00090\ \ \ srsran\_assert(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ab936487289ebfac376a88ab169f3b385}{tbs\_lbrm\_bytes}}\ >\ 0\ \&\&\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ab936487289ebfac376a88ab169f3b385}{tbs\_lbrm\_bytes}}\ <=\ ldpc::MAX\_CODEBLOCK\_SIZE\ /\ 8,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ LBRM\ size\ (\{\}\ bytes).\ It\ must\ be\ non-\/zero,\ less\ than\ or\ equal\ to\ \{\}\ bytes"{}},}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ab936487289ebfac376a88ab169f3b385}{tbs\_lbrm\_bytes}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ldpc::MAX\_CODEBLOCK\_SIZE\ /\ 8);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ srsran\_assert(!check\_dmrs\_and\_reserved\_collision(pdu),}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ DM-\/RS\ symbol\ mask\ must\ not\ collide\ with\ reserved\ elements."{}});}
\DoxyCodeLine{00097\ \};}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdsch__processor__validator__impl_a98a04e4d823a913d59f31fb82cd17c21}\label{classsrsran_1_1pdsch__processor__validator__impl_a98a04e4d823a913d59f31fb82cd17c21} 
\index{srsran::pdsch\_processor\_validator\_impl@{srsran::pdsch\_processor\_validator\_impl}!is\_valid@{is\_valid}}
\index{is\_valid@{is\_valid}!srsran::pdsch\_processor\_validator\_impl@{srsran::pdsch\_processor\_validator\_impl}}
\doxysubsubsection{\texorpdfstring{is\_valid()}{is\_valid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} pdsch\+\_\+processor\+\_\+validator\+\_\+impl\+::is\+\_\+valid (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t}{pdsch\+\_\+processor\+::pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Validates PDSCH processor configuration parameters. 

\begin{DoxyReturn}{Returns}
True if the parameters contained in {\ttfamily pdu} are supported, false otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pdsch__pdu__validator_a3309b89eeb71baadae6216a168fbaa08}{srsran\+::pdsch\+\_\+pdu\+\_\+validator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}}\ =\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa461eded5279d7a1a116ceb1e0ad6d98}{cp}});}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_config}}\ =\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa9caad952070547bc02999a1a8446a93}{dmrs}}\ ==\ dmrs\_type::TYPE1)\ ?\ dmrs\_config\_type::type1\ :\ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}::type2;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ The\ frequency\ allocation\ is\ not\ compatible\ with\ the\ BWP\ parameters.}}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{if}\ (!pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa7128634346bcd88a123ec9bff527c44}{freq\_alloc}}.\mbox{\hyperlink{classsrsran_1_1rb__allocation_aff159e20220d4f65d552a24fbf6bf651}{is\_bwp\_valid}}(pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a6916c68dddd4440713283ca2f506df63}{bwp\_start\_rb}},\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ac2b85499561940341a66a410d9c071bc}{bwp\_size\_rb}}))\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{//\ The\ size\ of\ the\ DM-\/RS\ symbol\ mask\ must\ coincide\ with\ the\ number\ of\ symbols\ in\ the\ slot.}}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{if}\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a0409da263eb1ccdc8cb491aac2a43bda}{size}}()\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}})\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00112\ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ The\ number\ of\ OFDM\ symbols\ carrying\ DM-\/RS\ must\ be\ greater\ than\ zero.}}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordflow}{if}\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a6b8af8c1aa9562158deeb79275d6c170}{empty}}())\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00117\ \ \ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \textcolor{comment}{//\ The\ index\ of\ the\ first\ OFDM\ symbol\ carrying\ DM-\/RS\ shall\ be\ equal\ to\ or\ greater\ than\ the\ first\ symbol\ allocated\ to}}
\DoxyCodeLine{00120\ \ \ \textcolor{comment}{//\ transmission.}}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{first\_dmrs\_symbol\_index}}\ =\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_aa2de3a0528dbe3ab78a6c764bef1eb0f}{find\_lowest}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00122\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{first\_dmrs\_symbol\_index}})\ <\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00124\ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//\ The\ index\ of\ the\ last\ OFDM\ symbol\ carrying\ DM-\/RS\ shall\ not\ be\ larger\ than\ the\ last\ symbol\ allocated\ to}}
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//\ transmission.}}
\DoxyCodeLine{00128\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{last\_dmrs\_symbol\_index}}\ =\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a2a393e3096917a4dfd2042d0f996d596}{dmrs\_symbol\_mask}}.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a4113d614afd53f3e204dce4ec89963b9}{find\_highest}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00129\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{last\_dmrs\_symbol\_index}})\ >=\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}}))\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00131\ \ \ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \textcolor{comment}{//\ None\ of\ the\ occupied\ symbols\ must\ exceed\ the\ slot\ size.}}
\DoxyCodeLine{00134\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_symbols\_slot}}\ <\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1d462887b96278983f6babe6aca16c09}{start\_symbol\_index}}\ +\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a9db6629fca3b6b7324ff23039ce99fb3}{nof\_symbols}}))\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ Only\ DM-\/RS\ Type\ 1\ is\ supported.}}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{if}\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa9caad952070547bc02999a1a8446a93}{dmrs}}\ !=\ dmrs\_type::TYPE1)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00141\ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{//\ The\ number\ of\ CDM\ groups\ without\ data\ must\ not\ exceed\ the\ maximum\ supported\ by\ the\ DM-\/RS\ type.}}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordflow}{if}\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a4118d22caf8c23b7326459ed41c94ab8}{nof\_cdm\_groups\_without\_data}}\ >\ get\_max\_nof\_cdm\_groups\_without\_data(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_config}}))\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \textcolor{comment}{//\ Only\ contiguous\ allocation\ is\ currently\ supported.}}
\DoxyCodeLine{00149\ \ \ \textcolor{keywordflow}{if}\ (!pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_aa7128634346bcd88a123ec9bff527c44}{freq\_alloc}}.\mbox{\hyperlink{classsrsran_1_1rb__allocation_a371f2f118ca976f0a2958c7f6d4baf0e}{is\_contiguous}}())\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00151\ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//\ Only\ one\ to\ four\ antenna\ ports\ are\ currently\ supported.}}
\DoxyCodeLine{00154\ \ \ \textcolor{keywordflow}{if}\ ((pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_acdca559896b9c54658537e244ce89085}{get\_nof\_ports}}()\ ==\ 0)\ ||\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_acdca559896b9c54658537e244ce89085}{get\_nof\_ports}}()\ >\ 4))\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00156\ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \textcolor{comment}{//\ The\ number\ of\ layers\ cannot\ be\ zero\ or\ larger\ than\ the\ number\ of\ ports.}}
\DoxyCodeLine{00159\ \ \ \textcolor{keywordflow}{if}\ ((pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_a78eeca8376d722f128340ed3c58fbfbd}{get\_nof\_layers}}()\ ==\ 0)\ ||\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_a78eeca8376d722f128340ed3c58fbfbd}{get\_nof\_layers}}()\ >\ pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a1a4bf2bba7be58fdd76dd814ead6236c}{precoding}}.\mbox{\hyperlink{classsrsran_1_1precoding__configuration_acdca559896b9c54658537e244ce89085}{get\_nof\_ports}}()))\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{//\ Only\ one\ codeword\ is\ currently\ supported.}}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{if}\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_a012cfe29d5bc124b0873f28040da18e8}{codewords}}.size()\ !=\ 1)\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00166\ \ \ \}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \textcolor{comment}{//\ The\ limited\ buffer\ for\ rate\ matching\ size\ must\ be\ within\ limits.}}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordflow}{if}\ ((pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ab936487289ebfac376a88ab169f3b385}{tbs\_lbrm\_bytes}}\ ==\ 0)\ ||\ (pdu.\mbox{\hyperlink{structsrsran_1_1pdsch__processor_1_1pdu__t_ab936487289ebfac376a88ab169f3b385}{tbs\_lbrm\_bytes}}\ >\ ldpc::MAX\_CODEBLOCK\_SIZE\ /\ 8))\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00171\ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ DM-\/RS\ and\ the\ reserved\ resource\ elements\ do\ not\ collide.}}
\DoxyCodeLine{00174\ \ \ \textcolor{keywordflow}{if}\ (check\_dmrs\_and\_reserved\_collision(pdu))\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00176\ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00179\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pdsch\+\_\+processor\+\_\+validator\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pdsch\+\_\+processor\+\_\+validator\+\_\+impl.\+cpp\end{DoxyCompactItemize}
