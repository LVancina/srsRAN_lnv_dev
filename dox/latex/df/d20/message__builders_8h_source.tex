\doxysection{message\+\_\+builders.\+h}
\hypertarget{message__builders_8h_source}{}\label{message__builders_8h_source}\index{include/srsran/fapi/message\_builders.h@{include/srsran/fapi/message\_builders.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/bitmap\_utils.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/optional.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/span.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/fapi/messages.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/ran/dmrs.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/ran/pdcch/coreset.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/ran/pdcch/dci\_packing.h"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/math\_utils.h"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{algorithm}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{namespace}\ fapi\ \{}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{comment}{//\ :TODO:\ Review\ the\ builders\ documentation\ so\ it\ matches\ the\ UCI\ builder.}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{comment}{///\ Helper\ class\ to\ fill\ the\ transmission\ precoding\ and\ beamforming\ parameters\ specified\ in\ SCF-\/222\ v4.0}}
\DoxyCodeLine{00041\ \textcolor{comment}{///\ section\ 3.4.2.5.}}
\DoxyCodeLine{00042\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu}{tx\_precoding\_and\_beamforming\_pdu}}\&\ pdu;}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{explicit}\ tx\_precoding\_and\_beamforming\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu}{tx\_precoding\_and\_beamforming\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)}
\DoxyCodeLine{00048\ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ tx\ precoding\ and\ beamforming\ pdu\ as\ used\ when\ this\ builder\ is\ called.}}
\DoxyCodeLine{00050\ \ \ \ \ pdu\mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu_a80a9c375e8b800b5458b37ad03777fb4}{.}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu_a80a9c375e8b800b5458b37ad03777fb4}{trp\_scheme}}\ =\ 0U;}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Initialize\ number\ of\ digital\ beamforming\ interfaces.}}
\DoxyCodeLine{00052\ \ \ \ \ pdu.dig\_bf\_interfaces\ =\ 0U;}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ for\ the\ fields\ of\ the\ tranmission\ precoding\ and\ beamforming\ PDU.}}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.5,\ in\ table\ Tx\ precoding\ and\ beamforming\ PDU.}}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder_a7ee5bc9e4741a7167d72df067fa827b3}{set\_basic\_parameters}}(\textcolor{keywordtype}{unsigned}\ prg\_size,\ \textcolor{keywordtype}{unsigned}\ dig\_bf\_interfaces)}
\DoxyCodeLine{00058\ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ pdu.prg\_size\ \ \ \ \ \ \ \ \ \ =\ prg\_size;}
\DoxyCodeLine{00060\ \ \ \ \ pdu.dig\_bf\_interfaces\ =\ dig\_bf\_interfaces;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{///\ Adds\ a\ PRG\ to\ the\ transmission\ precoding\ and\ beamforming\ PDU.}}
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.5,\ in\ table\ Tx\ precoding\ and\ beamforming\ PDU.}}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder_ad38c3673be2a8e0f8af073ccf491b2ce}{add\_prg}}(\textcolor{keywordtype}{unsigned}\ pm\_index,\ span<\textcolor{keyword}{const}\ uint16\_t>\ beam\_index)}
\DoxyCodeLine{00068\ \ \ \{}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu}{tx\_precoding\_and\_beamforming\_pdu}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu_1_1prgs__info}{prgs\_info}}\&\ prg\ =\ pdu.prgs.emplace\_back();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(pdu.dig\_bf\_interfaces\ ==\ beam\_index.size(),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Error\ number\ of\ beam\ indexes=\{\}\ does\ not\ match\ the\ expected=\{\}"{}},}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ beam\_index.size(),}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.dig\_bf\_interfaces);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ prg.pm\_index\ =\ pm\_index;}
\DoxyCodeLine{00077\ \ \ \ \ prg.beam\_index.assign(beam\_index.begin(),\ beam\_index.end());}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00080\ \ \ \}}
\DoxyCodeLine{00081\ \};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{comment}{///\ Helper\ class\ to\ fill\ in\ the\ DL\ SSB\ PDU\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4.}}
\DoxyCodeLine{00084\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}}
\DoxyCodeLine{00085\ \{}
\DoxyCodeLine{00086\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{explicit}\ dl\_ssb\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__ssb__pdu}{dl\_ssb\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_),\ v3(pdu\_.ssb\_maintenance\_v3)}
\DoxyCodeLine{00088\ \ \ \{}
\DoxyCodeLine{00089\ \ \ \ \ v3.ss\_pbch\_block\_power\_scaling\ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>::min();}
\DoxyCodeLine{00090\ \ \ \ \ v3.beta\_pss\_profile\_sss\ \ \ \ \ \ \ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>::min();}
\DoxyCodeLine{00091\ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ for\ the\ fields\ of\ the\ SSB/PBCH\ PDU.}}
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ SSB/PBCH\ PDU.}}
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{set\_basic\_parameters}}(pci\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ phys\_cell\_id,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ beta\_pss\_profile\_type\ beta\_pss\_profile\_nr,}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_block\_index,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_subcarrier\_offset,}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ssb__offset__to__pointA}{ssb\_offset\_to\_pointA}}\ \ ssb\_offset\_pointA)}
\DoxyCodeLine{00100\ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ pdu.phys\_cell\_id\ \ \ \ \ \ \ \ \ \ =\ phys\_cell\_id;}
\DoxyCodeLine{00102\ \ \ \ \ pdu.beta\_pss\_profile\_nr\ \ \ =\ beta\_pss\_profile\_nr;}
\DoxyCodeLine{00103\ \ \ \ \ pdu.ssb\_block\_index\ \ \ \ \ \ \ =\ ssb\_block\_index;}
\DoxyCodeLine{00104\ \ \ \ \ pdu.ssb\_subcarrier\_offset\ =\ ssb\_subcarrier\_offset;}
\DoxyCodeLine{00105\ \ \ \ \ pdu.ssb\_offset\_pointA\ \ \ \ \ =\ ssb\_offset\_pointA;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00108\ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{///\ Sets\ the\ BCH\ payload\ configured\ by\ the\ MAC\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ Use\ this\ function\ when\ the\ MAC\ generates\ the\ full\ PBCH\ payload.}}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ MAC\ generated\ MIB\ PDU.}}
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ This\ function\ assumes\ that\ given\ bch\_payload\ value\ is\ codified\ as:\ a0,a1,a2,...,a29,a30,a31,\ with\ the\ most}}
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{///\ significant\ bit\ being\ the\ leftmost\ (in\ this\ case\ a0\ in\ position\ 31\ of\ the\ uint32\_t).}}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa73b39ea335a74644d7dfb2572b36b48}{set\_bch\_payload\_mac\_full}}(uint32\_t\ bch\_payload)}
\DoxyCodeLine{00116\ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ Configure\ the\ BCH\ payload\ as\ fully\ generated\ by\ the\ MAC.}}
\DoxyCodeLine{00118\ \ \ \ \ pdu.bch\_payload\_flag\ \ \ \ \ \ \ \ =\ bch\_payload\_type::mac\_full;}
\DoxyCodeLine{00119\ \ \ \ \ pdu.bch\_payload.bch\_payload\ =\ bch\_payload;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00122\ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{///\ Sets\ the\ BCH\ payload\ and\ returns\ a\ reference\ to\ the\ builder.\ PHY\ configures\ the\ timing\ PBCH\ bits.}}
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ Use\ this\ function\ when\ the\ PHY\ generates\ the\ timing\ PBCH\ information.}}
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ MAC\ generated\ MIB\ PDU.}}
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ This\ function\ assumes\ that\ given\ bch\_payload\ value\ is\ codified\ as:\ 0,0,0,0,0,0,0,0,a0,a1,a2,...,a21,a22,a23,}}
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{///\ with\ the\ most\ significant\ bit\ being\ the\ leftmost\ (in\ this\ case\ a0\ in\ position\ 24\ of\ the\ uint32\_t).}}
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_a7b3e0a6d5690635f9a4de1f8d3930fcf}{set\_bch\_payload\_phy\_timing\_info}}(uint32\_t\ bch\_payload)}
\DoxyCodeLine{00130\ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ MAX\_SIZE\ =\ (1U\ <<\ 24U);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(bch\_payload\ <\ MAX\_SIZE,\ \textcolor{stringliteral}{"{}BCH\ payload\ value\ out\ of\ bounds"{}});}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ pdu.bch\_payload\_flag\ =\ bch\_payload\_type::phy\_timing\_info;}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ Clear\ unused\ bits\ in\ the\ high\ part\ of\ the\ payload.}}
\DoxyCodeLine{00137\ \ \ \ \ pdu.bch\_payload.bch\_payload\ =\ bch\_payload\ \&\ (MAX\_SIZE\ -\/\ 1);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{comment}{///\ Sets\ the\ BCH\ payload\ configured\ by\ the\ PHY\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ Use\ this\ function\ when\ the\ PHY\ generates\ the\ full\ PBCH\ payload.}}
\DoxyCodeLine{00144\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ PHY\ generated\ MIB\ PDU.}}
\DoxyCodeLine{00145\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_a04136dc2bfdeb84b7b047463ad2458ea}{set\_bch\_payload\_phy\_full}}(\mbox{\hyperlink{namespacesrsran_a3c5416bf7ff59c183bb2047d936b55ef}{dmrs\_typeA\_position}}\ dmrs\_type\_a\_position,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ pdcch\_config\_sib1,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cell\_barred,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ intra\_freq\_reselection)}
\DoxyCodeLine{00149\ \ \ \{}
\DoxyCodeLine{00150\ \ \ \ \ pdu.bch\_payload\_flag\ =\ bch\_payload\_type::phy\_full;}
\DoxyCodeLine{00151\ \ \ \ \ pdu.bch\_payload.phy\_mib\_pdu.dmrs\_typeA\_position\ =}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ (dmrs\_type\_a\_position\ ==\ \mbox{\hyperlink{namespacesrsran_a3c5416bf7ff59c183bb2047d936b55ef}{dmrs\_typeA\_position}}::pos2)\ ?\ dmrs\_typeA\_pos::pos2\ :\ dmrs\_typeA\_pos::pos3;}
\DoxyCodeLine{00153\ \ \ \ \ pdu.bch\_payload.phy\_mib\_pdu.pdcch\_config\_sib1\ \ \ \ \ =\ pdcch\_config\_sib1;}
\DoxyCodeLine{00154\ \ \ \ \ pdu.bch\_payload.phy\_mib\_pdu.cell\_barred\ \ \ \ \ \ \ \ \ \ \ =\ cell\_barred;}
\DoxyCodeLine{00155\ \ \ \ \ pdu.bch\_payload.phy\_mib\_pdu.intrafreq\_reselection\ =\ intra\_freq\_reselection;}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00158\ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00161\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ SSB/PBCH\ PDU\ maintenance\ FAPIv3.}}
\DoxyCodeLine{00162\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ ssbPduIndex\ field\ is\ automatically\ filled\ when\ adding\ a\ new\ SSB\ PDU\ to\ the\ DL\ TTI\ request\ message.}}
\DoxyCodeLine{00163\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&}
\DoxyCodeLine{00164\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_ac34c73b33f3facaf8cc9e6065a56f985}{set\_maintenance\_v3\_basic\_parameters}}(\mbox{\hyperlink{namespacesrsran_a4b8eb97251264b1aee7123a8765e1d3e}{ssb\_pattern\_case}}\ case\_type,\ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ uint8\_t\ L\_max)}
\DoxyCodeLine{00165\ \ \ \{}
\DoxyCodeLine{00166\ \ \ \ \ v3.case\_type\ =\ case\_type;}
\DoxyCodeLine{00167\ \ \ \ \ v3.scs\ \ \ \ \ \ \ =\ scs;}
\DoxyCodeLine{00168\ \ \ \ \ v3.L\_max\ \ \ \ \ =\ L\_max;}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00171\ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{///\ Sets\ the\ SSB\ power\ information\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.4,\ in\ table\ SSB/PBCH\ PDU\ maintenance\ FAPIv3.}}
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa497f6bc4a634426a624c46821a598e5}{set\_maintenance\_v3\_tx\_power\_info}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ power\_scaling\_ss\_pbch\_dB,}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ pss\_to\_sss\_ratio\_dB)}
\DoxyCodeLine{00177\ \ \ \{}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ Power\ scaling\ in\ SS-\/PBCH\ in\ hundredths\ of\ dBs.}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordtype}{int}\ ss\_block\_power\ =\ (power\_scaling\_ss\_pbch\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(power\_scaling\_ss\_pbch\_dB.value()\ *\ 100)\ :\ -\/32768;}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(ss\_block\_power\ <=\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>::max(),}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SS\ PBCH\ block\ power\ scaling\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ss\_block\_power,}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>::max());}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(ss\_block\_power\ >=\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>::min(),}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SS\ PBCH\ block\ power\ scaling\ (\{\})\ does\ not\ reach\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ss\_block\_power,}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>::min());}
\DoxyCodeLine{00188\ \ \ \ \ v3.ss\_pbch\_block\_power\_scaling\ =\ \textcolor{keyword}{static\_cast}<\textcolor{keyword}{decltype}(v3.ss\_pbch\_block\_power\_scaling)>(ss\_block\_power);}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{comment}{//\ SSS\ to\ PSS\ ratio\ in\ thousandths\ of\ dBs.}}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{int}\ beta\_pss\ =\ (pss\_to\_sss\_ratio\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(pss\_to\_sss\_ratio\_dB.value()\ *\ 1000)\ :\ -\/32768;}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(beta\_pss\ <=\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>::max(),}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PSS\ to\ SSS\ ratio\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ beta\_pss,}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>::max());}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(beta\_pss\ >=\ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>::min(),}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PSS\ to\ SSS\ ratio\ (\{\})\ does\ not\ reach\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ beta\_pss,}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>::min());}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ v3.beta\_pss\_profile\_sss\ =\ \textcolor{keyword}{static\_cast}<\textcolor{keyword}{decltype}(v3.beta\_pss\_profile\_sss)>(beta\_pss);}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{comment}{///\ Returns\ a\ transmission\ precoding\ and\ beamforming\ PDU\ builder\ of\ this\ SSB\ PDU.}}
\DoxyCodeLine{00207\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_acf71e96ec452adb36b317f554e4eb52c}{get\_tx\_precoding\_and\_beamforming\_pdu\_builder}}()}
\DoxyCodeLine{00208\ \ \ \{}
\DoxyCodeLine{00209\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ builder(pdu.precoding\_and\_beamforming);}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00212\ \ \ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00215\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__ssb__pdu}{dl\_ssb\_pdu}}\&\ \ \ \ \ \ \ \ \ \ \ \ pdu;}
\DoxyCodeLine{00216\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__ssb__maintenance__v3}{dl\_ssb\_maintenance\_v3}}\&\ v3;}
\DoxyCodeLine{00217\ \};}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \textcolor{comment}{///\ Helper\ class\ to\ fill\ in\ the\ DL\ DCI\ PDU\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ including\ the\ PDCCH\ PDU}}
\DoxyCodeLine{00220\ \textcolor{comment}{///\ maintenance\ FAPIv3\ and\ PDCCH\ PDU\ FAPIv4\ parameters.}}
\DoxyCodeLine{00221\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}}
\DoxyCodeLine{00222\ \{}
\DoxyCodeLine{00223\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00224\ \ \ dl\_dci\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__dci__pdu}{dl\_dci\_pdu}}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu\_,}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3}{dl\_pdcch\_pdu\_maintenance\_v3}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3_1_1maintenance__info}{maintenance\_info}}\&\ pdu\_v3\_,}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__parameters__v4}{dl\_pdcch\_pdu\_parameters\_v4}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__parameters__v4_1_1dci__params}{dci\_params}}\&\ \ \ \ \ \ \ \ pdu\_v4\_)\ :}
\DoxyCodeLine{00227\ \ \ \ \ pdu(pdu\_),\ pdu\_v3(pdu\_v3\_),\ pdu\_v4(pdu\_v4\_)}
\DoxyCodeLine{00228\ \ \ \{}
\DoxyCodeLine{00229\ \ \ \ \ pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss\ =}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>::min();}
\DoxyCodeLine{00231\ \ \ \ \ pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss\ =}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::min();}
\DoxyCodeLine{00233\ \ \ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ for\ the\ fields\ of\ the\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00236\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00237\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_aa3569a56223d183f85c3f6185102de40}{set\_basic\_parameters}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \ \ rnti,}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ nid\_pdcch\_data,}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ nrnti\_pdcch\_data,}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ cce\_index,}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ aggregation\_level)}
\DoxyCodeLine{00242\ \ \ \{}
\DoxyCodeLine{00243\ \ \ \ \ pdu.rnti\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ rnti;}
\DoxyCodeLine{00244\ \ \ \ \ pdu.nid\_pdcch\_data\ \ \ \ =\ nid\_pdcch\_data;}
\DoxyCodeLine{00245\ \ \ \ \ pdu.nrnti\_pdcch\_data\ \ =\ nrnti\_pdcch\_data;}
\DoxyCodeLine{00246\ \ \ \ \ pdu.cce\_index\ \ \ \ \ \ \ \ \ =\ cce\_index;}
\DoxyCodeLine{00247\ \ \ \ \ pdu.aggregation\_level\ =\ aggregation\_level;}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00250\ \ \ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \textcolor{comment}{///\ Sets\ the\ transmission\ power\ info\ parameters\ for\ the\ fields\ of\ the\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00253\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00254\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_adac5cffb3279a47f71a9dd0f05d05efc}{set\_tx\_power\_info\_parameter}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ power\_control\_offset\_ss\_profile\_nr\_dB)}
\DoxyCodeLine{00255\ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{int}\ value\ =\ (power\_control\_offset\_ss\_profile\_nr\_dB)}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(power\_control\_offset\_ss\_profile\_nr\_dB.value())}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ -\/127;}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu.power\_control\_offset\_ss\_profile\_nr)>::max(),}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SS\ profile\ NR\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu.power\_control\_offset\_ss\_profile\_nr)>::max());}
\DoxyCodeLine{00264\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<int8\_t>::min(),}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SS\ profile\ NR\ (\{\})\ does\ not\ reach\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu.power\_control\_offset\_ss\_profile\_nr)>::min());}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \ \ pdu.power\_control\_offset\_ss\_profile\_nr\ =\ \textcolor{keyword}{static\_cast}<\textcolor{keyword}{decltype}(pdu.power\_control\_offset\_ss\_profile\_nr)>(value);}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00272\ \ \ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \textcolor{comment}{///\ Sets\ the\ payload\ of\ the\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00275\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00276\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_ada7a36386cf57d2bdbd69933ef16a394}{set\_payload}}(\textcolor{keyword}{const}\ dci\_payload\&\ payload)}
\DoxyCodeLine{00277\ \ \ \{}
\DoxyCodeLine{00278\ \ \ \ \ pdu.payload\ =\ payload;}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00281\ \ \ \}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ DCI\ parameters\ of\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ PDCCH\ PDU\ maintenance\ FAPIv3.}}
\DoxyCodeLine{00285\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_a6db9a51c279ffa2b1fc6c3ee93d60f7d}{set\_maintenance\_v3\_dci\_parameters}}(\textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ collocated\_al16\_candidate\_present,}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ pdcch\_dmrs\_power\_offset\_profile\_sss\_dB,}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ pdcch\_data\_power\_offset\_profile\_sss\_dB)}
\DoxyCodeLine{00288\ \ \ \{}
\DoxyCodeLine{00289\ \ \ \ \ pdu\_v3.collocated\_AL16\_candidate\ =\ collocated\_al16\_candidate\_present;}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ USE\_OTHER\_FIELDS\ =}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::min();}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordtype}{int}\ value\ =\ (pdcch\_dmrs\_power\_offset\_profile\_sss\_dB)}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(pdcch\_dmrs\_power\_offset\_profile\_sss\_dB.value()\ *\ 1000)}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ USE\_OTHER\_FIELDS;}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::max(),}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDCCH\ DMRS\ power\ offset\ profile\ SSS\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::max());}
\DoxyCodeLine{00302\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::min(),}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDCCH\ DMRS\ power\ offset\ profile\ SSS\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>::min());}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss\ =}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast}<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_dmrs\_power\_offset\_profile\_sss)>(value);}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ value\ =\ (pdcch\_data\_power\_offset\_profile\_sss\_dB)}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(pdcch\_data\_power\_offset\_profile\_sss\_dB.value()\ *\ 1000)}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ USE\_OTHER\_FIELDS;}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>::max(),}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDCCH\ data\ power\ offset\ profile\ SSS\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>::max());}
\DoxyCodeLine{00318\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>::min(),}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDCCH\ data\ power\ offset\ profile\ SSS\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>::min());}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \ \ \ \ pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss\ =}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast}<\textcolor{keyword}{decltype}(pdu\_v3.pdcch\_data\_power\_offset\_profile\_sss)>(value);}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00327\ \ \ \}}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \textcolor{comment}{///\ Sets\ the\ DCI\ parameters\ of\ the\ PDCCH\ parameters\ v4.}}
\DoxyCodeLine{00330\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ PDCCH\ PDU\ parameters\ FAPIv4.}}
\DoxyCodeLine{00331\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_af8218400f9c48fa102895d8afb76b689}{set\_parameters\_v4\_dci}}(uint16\_t\ nid\_pdcch\_dmrs)}
\DoxyCodeLine{00332\ \ \ \{}
\DoxyCodeLine{00333\ \ \ \ \ pdu\_v4.nid\_pdcch\_dmrs\ =\ nid\_pdcch\_dmrs;}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00336\ \ \ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \textcolor{comment}{///\ Sets\ the\ PDCCH\ context\ as\ vendor\ specific.}}
\DoxyCodeLine{00339\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}}
\DoxyCodeLine{00340\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_ac2198272a5a81bce375622fe32616eb2}{set\_context\_vendor\_specific}}(\mbox{\hyperlink{namespacesrsran_afe2121fadc4c77d28089c1db677a67b6}{search\_space\_id}}\ ss\_id,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dci\_format,\ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ harq\_feedback\_timing)}
\DoxyCodeLine{00341\ \ \ \{}
\DoxyCodeLine{00342\ \ \ \ \ pdu.context\ =\ pdcch\_context(ss\_id,\ dci\_format,\ harq\_feedback\_timing);}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00344\ \ \ \}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{comment}{///\ Returns\ a\ transmission\ precoding\ and\ beamforming\ PDU\ builder\ of\ this\ DL\ DCI\ PDU.}}
\DoxyCodeLine{00347\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder_ae06c3b96aeb00e30bd9b67dc7d15ecdc}{get\_tx\_precoding\_and\_beamforming\_pdu\_builder}}()}
\DoxyCodeLine{00348\ \ \ \{}
\DoxyCodeLine{00349\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ builder(pdu.precoding\_and\_beamforming);}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00352\ \ \ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00355\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__dci__pdu}{dl\_dci\_pdu}}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu;}
\DoxyCodeLine{00356\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3}{dl\_pdcch\_pdu\_maintenance\_v3}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3_1_1maintenance__info}{maintenance\_info}}\&\ pdu\_v3;}
\DoxyCodeLine{00357\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__parameters__v4}{dl\_pdcch\_pdu\_parameters\_v4}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__parameters__v4_1_1dci__params}{dci\_params}}\&\ \ \ \ \ \ \ \ pdu\_v4;}
\DoxyCodeLine{00358\ \};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \textcolor{comment}{///\ Helper\ class\ to\ fill\ in\ the\ DL\ PDCCH\ PDU\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1.}}
\DoxyCodeLine{00361\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}}
\DoxyCodeLine{00362\ \{}
\DoxyCodeLine{00363\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00364\ \ \ \textcolor{keyword}{explicit}\ dl\_pdcch\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu}{dl\_pdcch\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \textcolor{comment}{///\ Sets\ the\ BWP\ parameters\ for\ the\ fields\ of\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{00367\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ PDCCH\ PDU.}}
\DoxyCodeLine{00368\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\&}
\DoxyCodeLine{00369\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder_a7309ed58ea805d834a0d535fdbfe2e60}{set\_bwp\_parameters}}(uint16\_t\ coreset\_bwp\_size,\ uint16\_t\ coreset\_bwp\_start,\ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\_prefix}}\ cp)}
\DoxyCodeLine{00370\ \ \ \{}
\DoxyCodeLine{00371\ \ \ \ \ pdu.coreset\_bwp\_size\ \ =\ coreset\_bwp\_size;}
\DoxyCodeLine{00372\ \ \ \ \ pdu.coreset\_bwp\_start\ =\ coreset\_bwp\_start;}
\DoxyCodeLine{00373\ \ \ \ \ pdu.scs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ scs;}
\DoxyCodeLine{00374\ \ \ \ \ pdu.cp\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ cp;}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00377\ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \textcolor{comment}{///\ Sets\ the\ coreset\ parameters\ for\ the\ fields\ of\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{00380\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ PDCCH\ PDU.}}
\DoxyCodeLine{00381\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder_a4a57629f7ea512d729eb51b69d9eb9fe}{set\_coreset\_parameters}}(uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_symbol\_index,}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ duration\_symbols,}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ freq\_resource\_bitmap\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ freq\_domain\_resource,}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cce\_to\_reg\_mapping\_type\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cce\_req\_mapping\_type,}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reg\_bundle\_size,}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ interleaver\_size,}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdcch\_coreset\_type\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ coreset\_type,}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift\_index,}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1coreset__configuration}{coreset\_configuration}}::precoder\_granularity\_type\ precoder\_granularity)}
\DoxyCodeLine{00390\ \ \ \{}
\DoxyCodeLine{00391\ \ \ \ \ pdu.start\_symbol\_index\ \ \ =\ start\_symbol\_index;}
\DoxyCodeLine{00392\ \ \ \ \ pdu.duration\_symbols\ \ \ \ \ =\ duration\_symbols;}
\DoxyCodeLine{00393\ \ \ \ \ pdu.freq\_domain\_resource\ =\ freq\_domain\_resource;}
\DoxyCodeLine{00394\ \ \ \ \ pdu.cce\_reg\_mapping\_type\ =\ cce\_req\_mapping\_type;}
\DoxyCodeLine{00395\ \ \ \ \ pdu.reg\_bundle\_size\ \ \ \ \ \ =\ reg\_bundle\_size;}
\DoxyCodeLine{00396\ \ \ \ \ pdu.interleaver\_size\ \ \ \ \ =\ interleaver\_size;}
\DoxyCodeLine{00397\ \ \ \ \ pdu.coreset\_type\ \ \ \ \ \ \ \ \ =\ coreset\_type;}
\DoxyCodeLine{00398\ \ \ \ \ pdu.shift\_index\ \ \ \ \ \ \ \ \ \ =\ shift\_index;}
\DoxyCodeLine{00399\ \ \ \ \ pdu.precoder\_granularity\ =\ precoder\_granularity;}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00402\ \ \ \}}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \ \ \textcolor{comment}{///\ Adds\ a\ DL\ DCI\ PDU\ to\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{00405\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.1,\ in\ table\ PDCCH\ PDU.}}
\DoxyCodeLine{00406\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder_a04621b11a56a5d34a795c789681e82db}{add\_dl\_dci}}()}
\DoxyCodeLine{00407\ \ \ \{}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{comment}{//\ Save\ the\ size\ as\ the\ index\ value\ for\ the\ DL\ DCI.}}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ dci\_id\ =\ pdu.dl\_dci.size();}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ DL\ DCI\ index.}}
\DoxyCodeLine{00412\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3}{dl\_pdcch\_pdu\_maintenance\_v3}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3_1_1maintenance__info}{maintenance\_info}}\&\ info\ =\ pdu.maintenance\_v3.info.emplace\_back();}
\DoxyCodeLine{00413\ \ \ \ \ info.dci\_index\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ dci\_id;}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__dci__pdu__builder}{dl\_dci\_pdu\_builder}}\ builder(pdu.dl\_dci.emplace\_back(),\ info,\ pdu.parameters\_v4.params.emplace\_back());}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00418\ \ \ \}}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00420\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00421\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu}{dl\_pdcch\_pdu}}\&\ pdu;}
\DoxyCodeLine{00422\ \};}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \textcolor{comment}{///\ Builder\ that\ helps\ to\ fill\ the\ parameters\ of\ a\ DL\ PDSCH\ codeword.}}
\DoxyCodeLine{00425\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder}{dl\_pdsch\_codeword\_builder}}}
\DoxyCodeLine{00426\ \{}
\DoxyCodeLine{00427\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00428\ \ \ dl\_pdsch\_codeword\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__codeword}{dl\_pdsch\_codeword}}\&\ cw\_,\ uint8\_t\&\ cbg\_tx\_information\_)\ :}
\DoxyCodeLine{00429\ \ \ \ \ cw(cw\_),\ cbg\_tx\_information(cbg\_tx\_information\_)}
\DoxyCodeLine{00430\ \ \ \{}
\DoxyCodeLine{00431\ \ \ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \textcolor{comment}{///\ Sets\ the\ codeword\ basic\ parameters.}}
\DoxyCodeLine{00434\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00435\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder}{dl\_pdsch\_codeword\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder_a9ccf8632d93fbb0353e698e4a2f39544}{set\_basic\_parameters}}(\textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ target\_code\_rate,}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ qam\_mod,}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ mcs\_index,}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ mcs\_table,}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ rv\_index,}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ units::\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{bytes}}\ tb\_size)}
\DoxyCodeLine{00441\ \ \ \{}
\DoxyCodeLine{00442\ \ \ \ \ cw.target\_code\_rate\ =\ target\_code\_rate\ *\ 10.F;}
\DoxyCodeLine{00443\ \ \ \ \ cw.qam\_mod\_order\ \ \ \ =\ qam\_mod;}
\DoxyCodeLine{00444\ \ \ \ \ cw.mcs\_index\ \ \ \ \ \ \ \ =\ mcs\_index;}
\DoxyCodeLine{00445\ \ \ \ \ cw.mcs\_table\ \ \ \ \ \ \ \ =\ mcs\_table;}
\DoxyCodeLine{00446\ \ \ \ \ cw.rv\_index\ \ \ \ \ \ \ \ \ =\ rv\_index;}
\DoxyCodeLine{00447\ \ \ \ \ cw.tb\_size\ \ \ \ \ \ \ \ \ \ =\ tb\_size;}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00450\ \ \ \}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ parameters\ of\ the\ codeword.}}
\DoxyCodeLine{00453\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ V3.}}
\DoxyCodeLine{00454\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder}{dl\_pdsch\_codeword\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder_a530e323e5ae774f5d0c2c6fd950bf088}{set\_maintenance\_v3\_parameters}}(uint8\_t\ cbg\_tx\_info)}
\DoxyCodeLine{00455\ \ \ \{}
\DoxyCodeLine{00456\ \ \ \ \ cbg\_tx\_information\ =\ cbg\_tx\_info;}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00459\ \ \ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00462\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__codeword}{dl\_pdsch\_codeword}}\&\ cw;}
\DoxyCodeLine{00463\ \ \ uint8\_t\&\ \ \ \ \ \ \ \ \ \ \ cbg\_tx\_information;}
\DoxyCodeLine{00464\ \};}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \textcolor{comment}{///\ DL\ PDSCH\ PDU\ builder\ that\ helps\ to\ fill\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2.}}
\DoxyCodeLine{00467\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}}
\DoxyCodeLine{00468\ \{}
\DoxyCodeLine{00469\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00470\ \ \ \textcolor{keyword}{explicit}\ dl\_pdsch\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)}
\DoxyCodeLine{00471\ \ \ \{}
\DoxyCodeLine{00472\ \ \ \ \ pdu.pdu\_bitmap\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0U;}
\DoxyCodeLine{00473\ \ \ \ \ pdu.is\_last\_cb\_present\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0U;}
\DoxyCodeLine{00474\ \ \ \ \ pdu.pdsch\_maintenance\_v3.tb\_crc\_required\ =\ 0U;}
\DoxyCodeLine{00475\ \ \ \ \ pdu.rb\_bitmap.fill(0);}
\DoxyCodeLine{00476\ \ \ \ \ pdu.dl\_tb\_crc\_cw.fill(0);}
\DoxyCodeLine{00477\ \ \ \ \ pdu.pdsch\_maintenance\_v3.ssb\_pdus\_for\_rate\_matching.fill(0);}
\DoxyCodeLine{00478\ \ \ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \textcolor{comment}{///\ Returns\ the\ PDU\ index.}}
\DoxyCodeLine{00481\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_ad2431ffe71d53b393df58e29ff7fbd17}{get\_pdu\_id}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ pdu.pdu\_index;\ \}}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00484\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00485\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a3bbbde38c286c99e2c694090e70d469e}{set\_basic\_parameters}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti)}
\DoxyCodeLine{00486\ \ \ \{}
\DoxyCodeLine{00487\ \ \ \ \ pdu.rnti\ =\ rnti;}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00490\ \ \ \}}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \textcolor{comment}{///\ Sets\ the\ BWP\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00493\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00494\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&}
\DoxyCodeLine{00495\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a23f106cbf7063a51cd209ed141de4a62}{set\_bwp\_parameters}}(uint16\_t\ bwp\_size,\ uint16\_t\ bwp\_start,\ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\_prefix}}\ cp)}
\DoxyCodeLine{00496\ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ pdu.bwp\_size\ \ =\ bwp\_size;}
\DoxyCodeLine{00498\ \ \ \ \ pdu.bwp\_start\ =\ bwp\_start;}
\DoxyCodeLine{00499\ \ \ \ \ pdu.scs\ \ \ \ \ \ \ =\ scs;}
\DoxyCodeLine{00500\ \ \ \ \ pdu.cp\ \ \ \ \ \ \ \ =\ cp;}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00503\ \ \ \}}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \textcolor{comment}{///\ Adds\ a\ codeword\ to\ the\ PDSCH\ PDU\ and\ returns\ a\ codeword\ builder\ to\ fill\ the\ codeword\ parameters.}}
\DoxyCodeLine{00506\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00507\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder}{dl\_pdsch\_codeword\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a417bcb547baf1cc5a6813e8a7d96eb13}{add\_codeword}}()}
\DoxyCodeLine{00508\ \ \ \{}
\DoxyCodeLine{00509\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__codeword__builder}{dl\_pdsch\_codeword\_builder}}\ builder(pdu.cws.emplace\_back(),}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.pdsch\_maintenance\_v3.cbg\_tx\_information.emplace\_back());}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00513\ \ \ \}}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \ \ \textcolor{comment}{///\ Sets\ the\ codeword\ information\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00516\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00517\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a457f04c011b40015f4ac5d663dabe7bb}{set\_codeword\_information\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ n\_id\_pdsch,}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_layers,}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ trasnmission\_scheme,}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdsch\_ref\_point\_type\ ref\_point)}
\DoxyCodeLine{00521\ \ \ \{}
\DoxyCodeLine{00522\ \ \ \ \ pdu.nid\_pdsch\ \ \ \ \ \ \ \ \ \ \ =\ n\_id\_pdsch;}
\DoxyCodeLine{00523\ \ \ \ \ pdu.num\_layers\ \ \ \ \ \ \ \ \ \ =\ num\_layers;}
\DoxyCodeLine{00524\ \ \ \ \ pdu.transmission\_scheme\ =\ trasnmission\_scheme;}
\DoxyCodeLine{00525\ \ \ \ \ pdu.ref\_point\ \ \ \ \ \ \ \ \ \ \ =\ ref\_point;}
\DoxyCodeLine{00526\ }
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00528\ \ \ \}}
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00530\ \ \ \textcolor{comment}{///\ Sets\ the\ DMRS\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00531\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00532\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_af1fcb9bfd70e9c6b80ccbefb12ee645a}{set\_dmrs\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ dl\_dmrs\_symb\_pos,}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}\ \ \ dmrs\_type,}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ pdsch\_dmrs\_scrambling\_id,}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ pdsch\_dmrs\_scrambling\_id\_complement,}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ low\_papr\_dmrs\_type\ low\_parp\_dmrs,}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ nscid,}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ num\_dmrs\_cdm\_groups\_no\_data,}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ dmrs\_ports)}
\DoxyCodeLine{00540\ \ \ \{}
\DoxyCodeLine{00541\ \ \ \ \ pdu.dl\_dmrs\_symb\_pos\ =\ dl\_dmrs\_symb\_pos;}
\DoxyCodeLine{00542\ \ \ \ \ pdu.dmrs\_type\ \ \ \ \ \ \ \ =\ (dmrs\_type\ ==\ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}::type1)\ ?\ dmrs\_cfg\_type::type\_1\ :\ dmrs\_cfg\_type::type\_2;}
\DoxyCodeLine{00543\ \ \ \ \ pdu.pdsch\_dmrs\_scrambling\_id\ \ \ \ \ \ \ =\ pdsch\_dmrs\_scrambling\_id;}
\DoxyCodeLine{00544\ \ \ \ \ pdu.pdsch\_dmrs\_scrambling\_id\_compl\ =\ pdsch\_dmrs\_scrambling\_id\_complement;}
\DoxyCodeLine{00545\ \ \ \ \ pdu.low\_papr\_dmrs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ low\_parp\_dmrs;}
\DoxyCodeLine{00546\ \ \ \ \ pdu.nscid\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ nscid;}
\DoxyCodeLine{00547\ \ \ \ \ pdu.num\_dmrs\_cdm\_grps\_no\_data\ \ \ \ \ \ =\ num\_dmrs\_cdm\_groups\_no\_data;}
\DoxyCodeLine{00548\ \ \ \ \ pdu.dmrs\_ports\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ dmrs\_ports;}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00551\ \ \ \}}
\DoxyCodeLine{00552\ }
\DoxyCodeLine{00553\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH\ allocation\ in\ frequency\ type\ 0\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00554\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00555\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a5695aee69e3f18d9cfb8e7ae34b8a543}{set\_pdsch\_allocation\_in\_frequency\_type\_0}}(span<\textcolor{keyword}{const}\ uint8\_t>\ \ \ \ \ rb\_map,}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vrb\_to\_prb\_mapping\_type\ vrb\_to\_prb\_mapping)}
\DoxyCodeLine{00557\ \ \ \{}
\DoxyCodeLine{00558\ \ \ \ \ pdu.resource\_alloc\ \ \ \ \ =\ resource\_allocation\_type::type\_0;}
\DoxyCodeLine{00559\ \ \ \ \ pdu.vrb\_to\_prb\_mapping\ =\ vrb\_to\_prb\_mapping;}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rb\_map.size()\ <=\ dl\_pdsch\_pdu::MAX\_SIZE\_RB\_BITMAP,}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[PDSCH\ Builder]\ -\/\ Incoming\ RB\ bitmap\ size\ \{\}\ exceeds\ FAPI\ bitmap\ field\ \{\}"{}},}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rb\_map.size(),}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}(dl\_pdsch\_pdu::MAX\_SIZE\_RB\_BITMAP));}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \ \ \ \ std::copy(rb\_map.begin(),\ rb\_map.end(),\ pdu.rb\_bitmap.begin());}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{comment}{//\ Fill\ in\ these\ fields,\ although\ they\ belong\ to\ allocation\ type\ 1.}}
\DoxyCodeLine{00569\ \ \ \ \ pdu.rb\_start\ =\ 0;}
\DoxyCodeLine{00570\ \ \ \ \ pdu.rb\_size\ \ =\ 0;}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00573\ \ \ \}}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH\ allocation\ in\ frequency\ type\ 1\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00576\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00577\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_abcbc57eb231891c544e492209b456837}{set\_pdsch\_allocation\_in\_frequency\_type\_1}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rb\_start,}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rb\_size,}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vrb\_to\_prb\_mapping\_type\ vrb\_to\_prb\_mapping)}
\DoxyCodeLine{00580\ \ \ \{}
\DoxyCodeLine{00581\ \ \ \ \ pdu.resource\_alloc\ \ \ \ \ =\ resource\_allocation\_type::type\_1;}
\DoxyCodeLine{00582\ \ \ \ \ pdu.rb\_start\ \ \ \ \ \ \ \ \ \ \ =\ rb\_start;}
\DoxyCodeLine{00583\ \ \ \ \ pdu.rb\_size\ \ \ \ \ \ \ \ \ \ \ \ =\ rb\_size;}
\DoxyCodeLine{00584\ \ \ \ \ pdu.vrb\_to\_prb\_mapping\ =\ vrb\_to\_prb\_mapping;}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00587\ \ \ \}}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH\ allocation\ in\ time\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00590\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00591\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a97e0cc9773d944235908768f04ca1201}{set\_pdsch\_allocation\_in\_time\_parameters}}(uint8\_t\ start\_symbol\_index,\ uint8\_t\ nof\_symbols)}
\DoxyCodeLine{00592\ \ \ \{}
\DoxyCodeLine{00593\ \ \ \ \ pdu.start\_symbol\_index\ =\ start\_symbol\_index;}
\DoxyCodeLine{00594\ \ \ \ \ pdu.nr\_of\_symbols\ \ \ \ \ \ =\ nof\_symbols;}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00597\ \ \ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ set\_ptrs\_params()}
\DoxyCodeLine{00600\ \ \ \{}
\DoxyCodeLine{00601\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_a83d956d980ee47ebcc0fcfea7fb77daa}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_a83d956d980ee47ebcc0fcfea7fb77daa}{PDU\_BITMAP\_PTRS\_BIT}});}
\DoxyCodeLine{00602\ \ \ \ \ \textcolor{comment}{//\ :TODO:\ Implement\ me!}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00605\ \ \ \}}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00607\ \ \ \textcolor{comment}{//\ :TODO:\ Beamforming.}}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ \ \ \textcolor{comment}{///\ Sets\ the\ Tx\ Power\ info\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00610\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00611\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_ab1a7bbe4d12ee0100a2fd7ba9990c15c}{set\_tx\_power\_info\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{int}>\ \ \ \ \ \ \ \ \ \ power\_control\_offset\_profile\_nr,}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nzp\_csi\_rs\_epre\_to\_ssb\ ss\_profile\_nr)}
\DoxyCodeLine{00613\ \ \ \{}
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ power\_profile\_nr\ =}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ power\_control\_offset\_profile\_nr\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(power\_control\_offset\_profile\_nr.value()\ +\ 8U)\ :\ 255U;}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(power\_profile\_nr\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Power\ control\ offset\ Profile\ NR\ value\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ power\_profile\_nr);}
\DoxyCodeLine{00620\ }
\DoxyCodeLine{00621\ \ \ \ \ pdu.power\_control\_offset\_profile\_nr\ =\ \textcolor{keyword}{static\_cast}<uint8\_t>(power\_profile\_nr);}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ \ \ pdu.power\_control\_offset\_ss\_profile\_nr\ =\ ss\_profile\_nr;}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00626\ \ \ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \ \ \textcolor{comment}{///\ Sets\ the\ CBG\ ReTx\ Ctrl\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00629\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PDU.}}
\DoxyCodeLine{00630\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_ad7b14ae548411378e95278a82b6a3249}{set\_cbg\_re\_tx\_ctrl\_parameters}}(\textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_cb\_present\_first\_tb,}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_cb\_present\_second\_tb,}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inline\_tb\_crc\_type\ \ \ tb\_crc,}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint32\_t>\ dl\_tb\_crc\_cw)}
\DoxyCodeLine{00634\ \ \ \{}
\DoxyCodeLine{00635\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_acd3c198b8660f448a59e10fd496ddf5e}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_acd3c198b8660f448a59e10fd496ddf5e}{PDU\_BITMAP\_CBG\_RETX\_CTRL\_BIT}});}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ \ \ set\_bitmap\_bit<uint8\_t>(}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ pdu.is\_last\_cb\_present,\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_af3e20fe1651e06c5a53c1e2403b60b92}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_af3e20fe1651e06c5a53c1e2403b60b92}{LAST\_CB\_BITMAP\_FIRST\_TB\_BIT}},\ last\_cb\_present\_first\_tb);}
\DoxyCodeLine{00639\ \ \ \ \ set\_bitmap\_bit<uint8\_t>(}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ pdu.is\_last\_cb\_present,\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_a9e70b9a27698c0d49501c0e01a131e66}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu_a9e70b9a27698c0d49501c0e01a131e66}{LAST\_CB\_BITMAP\_SECOND\_TB\_BIT}},\ last\_cb\_present\_second\_tb);}
\DoxyCodeLine{00641\ }
\DoxyCodeLine{00642\ \ \ \ \ pdu.is\_inline\_tb\_crc\ =\ tb\_crc;}
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00644\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(dl\_tb\_crc\_cw.size()\ <=\ dl\_pdsch\_pdu::MAX\_SIZE\_DL\_TB\_CRC,}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[PDSCH\ Builder]\ -\/\ Incoming\ DL\ TB\ CRC\ size\ (\{\})\ out\ of\ bounds\ (\{\})"{}},}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dl\_tb\_crc\_cw.size(),}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}(dl\_pdsch\_pdu::MAX\_SIZE\_DL\_TB\_CRC));}
\DoxyCodeLine{00648\ \ \ \ \ std::copy(dl\_tb\_crc\_cw.begin(),\ dl\_tb\_crc\_cw.end(),\ pdu.dl\_tb\_crc\_cw.begin());}
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00651\ \ \ \}}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ BWP\ information\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00654\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00655\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a16b058c61b8437e20969b2d3cc817c51}{set\_maintenance\_v3\_bwp\_parameters}}(pdsch\_trans\_type\ trans\_type,}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ coreset\_start\_point,}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ initial\_dl\_bwp\_size)}
\DoxyCodeLine{00658\ \ \ \{}
\DoxyCodeLine{00659\ \ \ \ \ pdu.pdsch\_maintenance\_v3.trans\_type\ \ \ \ \ \ \ \ \ \ =\ trans\_type;}
\DoxyCodeLine{00660\ \ \ \ \ pdu.pdsch\_maintenance\_v3.coreset\_start\_point\ =\ coreset\_start\_point;}
\DoxyCodeLine{00661\ \ \ \ \ pdu.pdsch\_maintenance\_v3.initial\_dl\_bwp\_size\ =\ initial\_dl\_bwp\_size;}
\DoxyCodeLine{00662\ }
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00664\ \ \ \}}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00666\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ codeword\ information\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00667\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00668\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_adc68b6902155b7089c45087d30d090dc}{set\_maintenance\_v3\_codeword\_parameters}}(\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\_base\_graph\_type}}\ ldpc\_base\_graph,}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ units::\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{bytes}}\ \ \ \ \ \ \ \ \ tb\_size\_lbrm\_bytes,}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tb\_crc\_first\_tb\_required,}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tb\_crc\_second\_tb\_required)}
\DoxyCodeLine{00672\ \ \ \{}
\DoxyCodeLine{00673\ \ \ \ \ pdu.pdsch\_maintenance\_v3.ldpc\_base\_graph\ \ \ \ =\ ldpc\_base\_graph;}
\DoxyCodeLine{00674\ \ \ \ \ pdu.pdsch\_maintenance\_v3.tb\_size\_lbrm\_bytes\ =\ tb\_size\_lbrm\_bytes;}
\DoxyCodeLine{00675\ }
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ bitmap.}}
\DoxyCodeLine{00677\ \ \ \ \ set\_bitmap\_bit<uint8\_t>(pdu.pdsch\_maintenance\_v3.tb\_crc\_required,}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3}{dl\_pdsch\_maintenance\_parameters\_v3}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3_a7da682932b8ba6cf78b78e3e18ded293}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3_a7da682932b8ba6cf78b78e3e18ded293}{TB\_BITMAP\_FIRST\_TB\_BIT}},}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tb\_crc\_first\_tb\_required);}
\DoxyCodeLine{00680\ \ \ \ \ set\_bitmap\_bit<uint8\_t>(pdu.pdsch\_maintenance\_v3.tb\_crc\_required,}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3}{dl\_pdsch\_maintenance\_parameters\_v3}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3_adf3ee164e3d108c476b89040f1744d69}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__maintenance__parameters__v3_adf3ee164e3d108c476b89040f1744d69}{TB\_BITMAP\_SECOND\_TB\_BIT}},}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tb\_crc\_second\_tb\_required);}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00685\ \ \ \}}
\DoxyCodeLine{00686\ }
\DoxyCodeLine{00687\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ CSI-\/RS\ rate\ matching\ references\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00688\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00689\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a5b14c3869a415d4f5676afa19bc8e41f}{set\_maintenance\_v3\_csi\_rm\_references}}(span<\textcolor{keyword}{const}\ uint16\_t>\ csi\_rs\_for\_rm)}
\DoxyCodeLine{00690\ \ \ \{}
\DoxyCodeLine{00691\ \ \ \ \ pdu.pdsch\_maintenance\_v3.csi\_for\_rm.assign(csi\_rs\_for\_rm.begin(),\ csi\_rs\_for\_rm.end());}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00694\ \ \ \}}
\DoxyCodeLine{00695\ }
\DoxyCodeLine{00696\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ rate\ matching\ references\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00697\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00698\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&}
\DoxyCodeLine{00699\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a1fbf078aed30eb860ae4e5f171da9caa}{set\_maintenance\_v3\_rm\_references\_parameters}}(span<\textcolor{keyword}{const}\ uint16\_t>\ ssb\_pdus\_for\_rm,}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_config\_for\_rm,}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ prb\_sym\_rm\_pattern\_bitmap\_size,}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ \ prb\_sym\_rm\_pattern\_bitmap\_by\_reference,}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ pdcch\_pdu\_index,}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ dci\_index,}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ lte\_crs\_rm\_pattern\_bitmap\_size,}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ \ lte\_crs\_rm\_pattern)}
\DoxyCodeLine{00707\ \ \ \{}
\DoxyCodeLine{00708\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(ssb\_pdus\_for\_rm.size()\ <=\ dl\_pdsch\_maintenance\_parameters\_v3::MAX\_SIZE\_SSB\_PDU\_FOR\_RM,}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[PDSCH\ Builder]\ -\/\ Incoming\ SSB\ PDUs\ for\ RM\ matching\ size\ (\{\})\ doesn't\ fit\ the\ field\ (\{\})"{}},}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_pdus\_for\_rm.size(),}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}(dl\_pdsch\_maintenance\_parameters\_v3::MAX\_SIZE\_SSB\_PDU\_FOR\_RM));}
\DoxyCodeLine{00712\ \ \ \ \ std::copy(}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ ssb\_pdus\_for\_rm.begin(),\ ssb\_pdus\_for\_rm.end(),\ pdu.pdsch\_maintenance\_v3.ssb\_pdus\_for\_rate\_matching.begin());}
\DoxyCodeLine{00714\ }
\DoxyCodeLine{00715\ \ \ \ \ pdu.pdsch\_maintenance\_v3.ssb\_config\_for\_rate\_matching\ \ \ \ \ \ \ \ \ =\ ssb\_config\_for\_rm;}
\DoxyCodeLine{00716\ \ \ \ \ pdu.pdsch\_maintenance\_v3.prb\_sym\_rm\_pattern\_bitmap\_size\_byref\ =\ prb\_sym\_rm\_pattern\_bitmap\_size;}
\DoxyCodeLine{00717\ \ \ \ \ pdu.pdsch\_maintenance\_v3.prb\_sym\_rm\_patt\_bmp\_byref.assign(prb\_sym\_rm\_pattern\_bitmap\_by\_reference.begin(),}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prb\_sym\_rm\_pattern\_bitmap\_by\_reference.end());}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{comment}{//\ These\ two\ parameters\ are\ set\ to\ 0\ for\ this\ release\ FAPI\ v4.}}
\DoxyCodeLine{00721\ \ \ \ \ pdu.pdsch\_maintenance\_v3.num\_prb\_sym\_rm\_patts\_by\_value\ =\ 0U;}
\DoxyCodeLine{00722\ \ \ \ \ pdu.pdsch\_maintenance\_v3.num\_coreset\_rm\_patterns\ \ \ \ \ \ \ =\ 0U;}
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00724\ \ \ \ \ pdu.pdsch\_maintenance\_v3.pdcch\_pdu\_index\ =\ pdcch\_pdu\_index;}
\DoxyCodeLine{00725\ \ \ \ \ pdu.pdsch\_maintenance\_v3.dci\_index\ \ \ \ \ \ \ =\ dci\_index;}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \ \ \ \ pdu.pdsch\_maintenance\_v3.lte\_crs\_rm\_pattern\_bitmap\_size\ =\ lte\_crs\_rm\_pattern\_bitmap\_size;}
\DoxyCodeLine{00728\ \ \ \ \ pdu.pdsch\_maintenance\_v3.lte\_crs\_rm\_pattern.assign(lte\_crs\_rm\_pattern.begin(),\ lte\_crs\_rm\_pattern.end());}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00731\ \ \ \}}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ Tx\ power\ info\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00734\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00735\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_ae3340b6c3075bc61d72741957623b99b}{set\_maintenance\_v3\_tx\_power\_info\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ dmrs\_power\_offset\_profile\_sss,}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ data\_power\_offset\_profile\_sss)}
\DoxyCodeLine{00737\ \ \ \{}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ USE\_OTHER\_FIELDS\ =\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{00739\ }
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keywordtype}{int}\ value\ =\ (dmrs\_power\_offset\_profile\_sss)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(dmrs\_power\_offset\_profile\_sss.value()\ *\ 1000)}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ USE\_OTHER\_FIELDS;}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ DMRS\ power\ offset\ profile\ SSS\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{00747\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ DMRS\ power\ offset\ profile\ SSS\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ \ \ pdu.pdsch\_maintenance\_v3.pdsch\_dmrs\_power\_offset\_profile\_sss\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(value);}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \ \ \ \ value\ =\ (data\_power\_offset\_profile\_sss)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(data\_power\_offset\_profile\_sss.value()\ *\ 1000)}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ USE\_OTHER\_FIELDS;}
\DoxyCodeLine{00756\ }
\DoxyCodeLine{00757\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ data\ power\ offset\ profile\ SSS\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{00761\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ data\ power\ offset\ profile\ SSS\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \ \ \ \ pdu.pdsch\_maintenance\_v3.pdsch\_data\_power\_offset\_profile\_sss\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(value);}
\DoxyCodeLine{00767\ }
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00769\ \ \ \}}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \textcolor{comment}{///\ Sets\ the\ maintenance\ v3\ CBG\ retx\ control\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00772\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ parameters\ v3.}}
\DoxyCodeLine{00773\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a47cd2d614d3e878421aa95fdf19645d3}{set\_maintenance\_v3\_cbg\_tx\_crtl\_parameters}}(uint8\_t\ max\_num\_cbg\_per\_tb)}
\DoxyCodeLine{00774\ \ \ \{}
\DoxyCodeLine{00775\ \ \ \ \ pdu.pdsch\_maintenance\_v3.max\_num\_cbg\_per\_tb\ =\ max\_num\_cbg\_per\_tb;}
\DoxyCodeLine{00776\ }
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00778\ \ \ \}}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH-\/PTRS\ Tx\ power\ info\ parameter\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00781\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ PTRS\ maintenance}}
\DoxyCodeLine{00782\ \ \ \textcolor{comment}{///\ parameters\ v3.}}
\DoxyCodeLine{00783\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a4ce4e856962eec8a9ba9f3d581151806}{set\_ptrs\_maintenance\_v3\_tx\_power\_info\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ ptrs\_power\_offset\_profile\_sss)}
\DoxyCodeLine{00784\ \ \ \{}
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ USE\_OTHER\_FIELDS\ =\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{00786\ }
\DoxyCodeLine{00787\ \ \ \ \ \textcolor{keywordtype}{int}\ value\ =\ ptrs\_power\_offset\_profile\_sss\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(ptrs\_power\_offset\_profile\_sss.value()\ *\ 1000)}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ USE\_OTHER\_FIELDS;}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ PTRS\ power\ offset\ profile\ SSS\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{00794\ }
\DoxyCodeLine{00795\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PDSCH\ PTRS\ power\ offset\ profile\ SSS\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \ \ \ \ pdu.ptrs\_maintenance\_v3.pdsch\_ptrs\_power\_offset\_profile\_sss\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(value);}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00803\ \ \ \}}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH\ maintenance\ v4\ basic\ parameters\ for\ the\ fields\ of\ the\ PDSCH\ PDU.}}
\DoxyCodeLine{00806\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.2,\ in\ table\ PDSCH\ maintenance\ FAPIv4.}}
\DoxyCodeLine{00807\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a0077eeeed474886a745f5864c750bdd8}{set\_maintenance\_v4\_basic\_parameters}}(uint8\_t\ coreset\_rm\_pattern\_bitmap\_by\_reference\_bitmap\_size,}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ coreset\_rm\_pattern\_bitmap\_by\_reference,}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ lte\_crs\_mbsfn\_derivation\_method,}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ lte\_crs\_mbsfn\_pattern)}
\DoxyCodeLine{00811\ \ \ \{}
\DoxyCodeLine{00812\ \ \ \ \ pdu.pdsch\_parameters\_v4.lte\_crs\_mbsfn\_derivation\_method\ \ \ \ \ \ \ =\ lte\_crs\_mbsfn\_derivation\_method;}
\DoxyCodeLine{00813\ \ \ \ \ pdu.pdsch\_parameters\_v4.coreset\_rm\_pattern\_bitmap\_size\_by\_ref\ =\ coreset\_rm\_pattern\_bitmap\_by\_reference\_bitmap\_size;}
\DoxyCodeLine{00814\ }
\DoxyCodeLine{00815\ \ \ \ \ pdu.pdsch\_parameters\_v4.coreset\_rm\_pattern\_bmp\_by\_ref.assign(coreset\_rm\_pattern\_bitmap\_by\_reference.begin(),}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ coreset\_rm\_pattern\_bitmap\_by\_reference.end());}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ \ \ pdu.pdsch\_parameters\_v4.lte\_crs\_mbsfn\_pattern.assign(lte\_crs\_mbsfn\_pattern.begin(),\ lte\_crs\_mbsfn\_pattern.end());}
\DoxyCodeLine{00819\ }
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00821\ \ \ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \textcolor{comment}{///\ Sets\ the\ PDSCH\ context\ as\ vendor\ specific.}}
\DoxyCodeLine{00824\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a0504fbafcee5056356bdf6e436a825e8}{set\_context\_vendor\_specific}}(harq\_id\_t\ harq\_id,\ \textcolor{keywordtype}{unsigned}\ k1,\ \textcolor{keywordtype}{unsigned}\ nof\_retxs)}
\DoxyCodeLine{00825\ \ \ \{}
\DoxyCodeLine{00826\ \ \ \ \ pdu.context\ =\ \mbox{\hyperlink{classsrsran_1_1pdsch__context}{pdsch\_context}}\mbox{\hyperlink{classsrsran_1_1pdsch__context_a224b70a706e2b6edfe1ddfcf203e4bdd}{(}}harq\_id\mbox{\hyperlink{classsrsran_1_1pdsch__context_a224b70a706e2b6edfe1ddfcf203e4bdd}{,}}\ k1\mbox{\hyperlink{classsrsran_1_1pdsch__context_a224b70a706e2b6edfe1ddfcf203e4bdd}{,}}\ nof\_retxs\mbox{\hyperlink{classsrsran_1_1pdsch__context_a224b70a706e2b6edfe1ddfcf203e4bdd}{)}};}
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00828\ \ \ \}}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \ \ \textcolor{comment}{///\ Returns\ a\ transmission\ precoding\ and\ beamforming\ PDU\ builder\ of\ this\ PDSCH\ PDU.}}
\DoxyCodeLine{00831\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_ac86ee43dd716fc82966095b70bc8a26d}{get\_tx\_precoding\_and\_beamforming\_pdu\_builder}}()}
\DoxyCodeLine{00832\ \ \ \{}
\DoxyCodeLine{00833\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ builder(pdu.precoding\_and\_beamforming);}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00836\ \ \ \}}
\DoxyCodeLine{00837\ }
\DoxyCodeLine{00838\ \ \ \textcolor{comment}{//\ :TODO:\ FAPIv4\ MU-\/MIMO.}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00841\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdsch__pdu}{dl\_pdsch\_pdu}}\&\ pdu;}
\DoxyCodeLine{00842\ \};}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \textcolor{comment}{///\ CSI-\/RS\ PDU\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.3.}}
\DoxyCodeLine{00845\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}}
\DoxyCodeLine{00846\ \{}
\DoxyCodeLine{00847\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__csi__rs__pdu}{dl\_csi\_rs\_pdu}}\&\ pdu;}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00850\ \ \ \textcolor{keyword}{explicit}\ dl\_csi\_rs\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__csi__rs__pdu}{dl\_csi\_rs\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\}}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \textcolor{comment}{///\ Sets\ the\ CSI-\/RS\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00853\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.3\ in\ table\ CSI-\/RS\ PDU.}}
\DoxyCodeLine{00854\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{set\_basic\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_rb,}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_rbs,}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a1553c168be2e5dc5ed6ac0825d9f6d8f}{csi\_rs\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type,}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ row,}
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\_bitset}}<12,\ \textcolor{keyword}{false}>\&\ freq\_domain,}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symb\_l0,}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symb\_l1,}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a92130846fc1b19cec1dd589c82c15dcb}{csi\_rs\_cdm\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cdm\_type,}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a4eb15f40fbf154cfbb954bf0cbefaf35}{csi\_rs\_freq\_density\_type}}\ \ \ \ \ \ \ \ \ freq\_density,}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scrambling\_id)}
\DoxyCodeLine{00864\ \ \ \{}
\DoxyCodeLine{00865\ \ \ \ \ pdu.start\_rb\ \ \ \ \ =\ start\_rb;}
\DoxyCodeLine{00866\ \ \ \ \ pdu.num\_rbs\ \ \ \ \ \ =\ nof\_rbs;}
\DoxyCodeLine{00867\ \ \ \ \ pdu.type\ \ \ \ \ \ \ \ \ =\ type;}
\DoxyCodeLine{00868\ \ \ \ \ pdu.row\ \ \ \ \ \ \ \ \ \ =\ row;}
\DoxyCodeLine{00869\ \ \ \ \ pdu.freq\_domain\ \ =\ freq\_domain;}
\DoxyCodeLine{00870\ \ \ \ \ pdu.symb\_L0\ \ \ \ \ \ =\ symb\_l0;}
\DoxyCodeLine{00871\ \ \ \ \ pdu.symb\_L1\ \ \ \ \ \ =\ symb\_l1;}
\DoxyCodeLine{00872\ \ \ \ \ pdu.cdm\_type\ \ \ \ \ =\ cdm\_type;}
\DoxyCodeLine{00873\ \ \ \ \ pdu.freq\_density\ =\ freq\_density;}
\DoxyCodeLine{00874\ \ \ \ \ pdu.scramb\_id\ \ \ \ =\ scrambling\_id;}
\DoxyCodeLine{00875\ }
\DoxyCodeLine{00876\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00877\ \ \ \}}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \ \ \textcolor{comment}{///\ Sets\ the\ CSI-\/RS\ PDU\ BWP\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00880\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.3\ in\ table\ CSI-\/RS\ PDU.}}
\DoxyCodeLine{00881\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_aa24a74285db8b73b5860c57d386793f4}{set\_bwp\_parameters}}(\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\_prefix}}\ cp)}
\DoxyCodeLine{00882\ \ \ \{}
\DoxyCodeLine{00883\ \ \ \ \ pdu.scs\ =\ scs;}
\DoxyCodeLine{00884\ \ \ \ \ pdu.cp\ \ =\ cp;}
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00887\ \ \ \}}
\DoxyCodeLine{00888\ }
\DoxyCodeLine{00889\ \ \ \textcolor{comment}{///\ Sets\ the\ CSI-\/RS\ PDU\ tx\ power\ info\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00890\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.3\ in\ table\ CSI-\/RS\ PDU.}}
\DoxyCodeLine{00891\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a061f4509a1d08de9ac60deedff502a50}{set\_tx\_power\_info\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ \ \ \ \ power\_control\_offset\_profile\_nr,}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nzp\_csi\_rs\_epre\_to\_ssb\ ss\_profile\_nr)}
\DoxyCodeLine{00893\ \ \ \{}
\DoxyCodeLine{00894\ \ \ \ \ pdu.power\_control\_offset\_ss\_profile\_nr\ =\ ss\_profile\_nr;}
\DoxyCodeLine{00895\ }
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ value\ =\ (power\_control\_offset\_profile\_nr)}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(power\_control\_offset\_profile\_nr.value()\ +\ 8U)}
\DoxyCodeLine{00898\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Ratio\ of\ PDSCH\ EPRE\ to\ NZP\ CSI-\/RS\ EPRE\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint8\_t>::max());}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \ \ \ \ pdu.power\_control\_offset\_profile\_nr\ =\ \textcolor{keyword}{static\_cast}<uint8\_t>(value);}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00908\ \ \ \}}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ \ \ \textcolor{comment}{///\ Sets\ the\ CSI-\/RS\ PDU\ mainterance\ v3\ tx\ power\ info\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00911\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.3\ in\ table\ CSI-\/RS\ PDU.}}
\DoxyCodeLine{00912\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a5ec53e820d9246361ccd603074b3c856}{set\_maintenance\_v3\_tx\_power\_info\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ profile\_sss\_dB)}
\DoxyCodeLine{00913\ \ \ \{}
\DoxyCodeLine{00914\ \ \ \ \ \textcolor{keywordtype}{int}\ value\ =}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ (profile\_sss\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(profile\_sss\_dB.value()\ *\ 1000.F)\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Ratio\ of\ CSI-\/RS\ EPRE\ to\ SSS\ EPRE\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(value\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Ratio\ of\ CSI-\/RS\ EPRE\ to\ SSS\ EPRE\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value,}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \ \ \ \ pdu.csi\_rs\_maintenance\_v3.csi\_rs\_power\_offset\_profile\_sss\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(value);}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00930\ \ \ \}}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ \textcolor{comment}{///\ Returns\ a\ transmission\ precoding\ and\ beamforming\ PDU\ builder\ of\ this\ CSI-\/RS\ PDU.}}
\DoxyCodeLine{00933\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_aacc20fbb57d230c21aadb224bb85d003}{get\_tx\_precoding\_and\_beamforming\_pdu\_builder}}()}
\DoxyCodeLine{00934\ \ \ \{}
\DoxyCodeLine{00935\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__precoding__and__beamforming__pdu__builder}{tx\_precoding\_and\_beamforming\_pdu\_builder}}\ builder(pdu.precoding\_and\_beamforming);}
\DoxyCodeLine{00936\ }
\DoxyCodeLine{00937\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00938\ \ \ \}}
\DoxyCodeLine{00939\ \};}
\DoxyCodeLine{00940\ }
\DoxyCodeLine{00941\ \textcolor{comment}{///\ DL\_TTI.request\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2.}}
\DoxyCodeLine{00942\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder}{dl\_tti\_request\_message\_builder}}}
\DoxyCodeLine{00943\ \{}
\DoxyCodeLine{00944\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00945\ \ \ \textcolor{comment}{///\ Constructs\ a\ builder\ that\ will\ help\ to\ fill\ the\ given\ DL\ TTI\ request\ message.}}
\DoxyCodeLine{00946\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a8febf4f8d7b3b27cd6c25ac8725333c4}{dl\_tti\_request\_message\_builder}}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message}{dl\_tti\_request\_message}}\&\ msg\_)\ :\ msg(msg\_)}
\DoxyCodeLine{00947\ \ \ \{}
\DoxyCodeLine{00948\ \ \ \ \ msg\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_aebee6045acbc5f6f1c1ba8f45c143303}{.}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_aebee6045acbc5f6f1c1ba8f45c143303}{is\_last\_message\_in\_slot}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00949\ \ \ \}}
\DoxyCodeLine{00950\ }
\DoxyCodeLine{00951\ \ \ \textcolor{comment}{///\ Sets\ the\ DL\_TTI.request\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{00952\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ nPDUs\ and\ nPDUsOfEachType\ properties\ are\ filled\ by\ the\ add\_*\_pdu()\ functions.}}
\DoxyCodeLine{00953\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.2\ in\ table\ DL\_TTI.request\ message\ body.}}
\DoxyCodeLine{00954\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder}{dl\_tti\_request\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a76ae9fd42322348d380b1fb180a635cc}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot,\ uint16\_t\ n\_groups)}
\DoxyCodeLine{00955\ \ \ \{}
\DoxyCodeLine{00956\ \ \ \ \ msg.sfn\ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{00957\ \ \ \ \ msg.slot\ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{00958\ \ \ \ \ msg.num\_groups\ =\ n\_groups;}
\DoxyCodeLine{00959\ }
\DoxyCodeLine{00960\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00961\ \ \ \}}
\DoxyCodeLine{00962\ }
\DoxyCodeLine{00963\ \ \ \textcolor{comment}{///\ Adds\ a\ PDCCH\ PDU\ to\ the\ message,\ fills\ its\ basic\ parameters\ using\ the\ given\ arguments\ and\ returns\ a\ PDCCH\ PDU}}
\DoxyCodeLine{00964\ \ \ \textcolor{comment}{///\ builder.}}
\DoxyCodeLine{00965\ \ \ \textcolor{comment}{///\ \(\backslash\)param[in]\ nof\_dci\_in\_pdu\ Number\ of\ DCIs\ in\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{00966\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a18c3ce124642291feedccd0436a31709}{add\_pdcch\_pdu}}(\textcolor{keywordtype}{unsigned}\ nof\_dci\_in\_pdu)}
\DoxyCodeLine{00967\ \ \ \{}
\DoxyCodeLine{00968\ \ \ \ \ \textcolor{comment}{//\ Add\ a\ new\ pdu.}}
\DoxyCodeLine{00969\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__pdu}{dl\_tti\_request\_pdu}}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{00970\ }
\DoxyCodeLine{00971\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ PDCCH\ PDU\ index\ value.\ The\ index\ value\ will\ be\ the\ index\ of\ the\ pdu\ in\ the\ array\ of\ PDCCH\ pdus.}}
\DoxyCodeLine{00972\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__pdcch__pdu__maintenance__v3}{dl\_pdcch\_pdu\_maintenance\_v3}}\&\ info\ \ \ \ \ \ \ \ \ \ =\ pdu.pdcch\_pdu.maintenance\_v3;}
\DoxyCodeLine{00973\ \ \ \ \ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_pdcch\_pdu\ =\ msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<size\_t>(dl\_pdu\_type::PDCCH)];}
\DoxyCodeLine{00974\ \ \ \ \ info.pdcch\_pdu\_index\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ num\_pdcch\_pdu;}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \ \ \ \ \textcolor{comment}{//\ Increase\ the\ number\ of\ PDCCH\ pdus\ in\ the\ request.}}
\DoxyCodeLine{00977\ \ \ \ \ ++num\_pdcch\_pdu;}
\DoxyCodeLine{00978\ \ \ \ \ msg.num\_pdus\_of\_each\_type[\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message}{dl\_tti\_request\_message}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_a0a7bfa809f8d71b6471589fe20e81594}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_a0a7bfa809f8d71b6471589fe20e81594}{DL\_DCI\_INDEX}}]\ +=\ nof\_dci\_in\_pdu;}
\DoxyCodeLine{00979\ }
\DoxyCodeLine{00980\ \ \ \ \ pdu.pdu\_type\ =\ dl\_pdu\_type::PDCCH;}
\DoxyCodeLine{00981\ }
\DoxyCodeLine{00982\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\ builder(pdu.pdcch\_pdu);}
\DoxyCodeLine{00983\ }
\DoxyCodeLine{00984\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00985\ \ \ \}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \ \ \textcolor{comment}{///\ Adds\ a\ PDSCH\ PDU\ to\ the\ message,\ fills\ its\ basic\ parameters\ using\ the\ given\ arguments\ and\ returns\ a\ PDSCH\ PDU}}
\DoxyCodeLine{00988\ \ \ \textcolor{comment}{///\ builder.}}
\DoxyCodeLine{00989\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a66aacfdb5d8eecc3d8af021e061f3413}{add\_pdsch\_pdu}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti)}
\DoxyCodeLine{00990\ \ \ \{}
\DoxyCodeLine{00991\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\ builder\ =\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_af92537ed3dbb4b7074959974e4cf34d7}{add\_pdsch\_pdu}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_af92537ed3dbb4b7074959974e4cf34d7}{(}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_af92537ed3dbb4b7074959974e4cf34d7}{)}};}
\DoxyCodeLine{00992\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a3bbbde38c286c99e2c694090e70d469e}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a3bbbde38c286c99e2c694090e70d469e}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a3bbbde38c286c99e2c694090e70d469e}{(}}rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder_a3bbbde38c286c99e2c694090e70d469e}{)}};}
\DoxyCodeLine{00993\ }
\DoxyCodeLine{00994\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{00995\ \ \ \}}
\DoxyCodeLine{00996\ }
\DoxyCodeLine{00997\ \ \ \textcolor{comment}{///\ Adds\ a\ PDSCH\ PDU\ to\ the\ message,\ fills\ its\ basic\ parameters\ using\ the\ given\ arguments\ and\ returns\ a\ PDSCH\ PDU}}
\DoxyCodeLine{00998\ \ \ \textcolor{comment}{///\ builder.}}
\DoxyCodeLine{00999\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_af92537ed3dbb4b7074959974e4cf34d7}{add\_pdsch\_pdu}}()}
\DoxyCodeLine{01000\ \ \ \{}
\DoxyCodeLine{01001\ \ \ \ \ \textcolor{comment}{//\ Add\ a\ new\ PDU.}}
\DoxyCodeLine{01002\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__pdu}{dl\_tti\_request\_pdu}}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01003\ }
\DoxyCodeLine{01004\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ PDSCH\ PDU\ index\ value.\ The\ index\ value\ will\ be\ the\ index\ of\ the\ PDU\ in\ the\ array\ of\ PDSCH\ PDUs.}}
\DoxyCodeLine{01005\ \ \ \ \ \textcolor{keyword}{auto}\&\ num\_pdsch\_pdu\ \ \ \ \ =\ msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<size\_t>(dl\_pdu\_type::PDSCH)];}
\DoxyCodeLine{01006\ \ \ \ \ pdu.pdsch\_pdu.pdu\_index\ =\ num\_pdsch\_pdu;}
\DoxyCodeLine{01007\ }
\DoxyCodeLine{01008\ \ \ \ \ \textcolor{comment}{//\ Increase\ the\ number\ of\ PDSCH\ PDU.}}
\DoxyCodeLine{01009\ \ \ \ \ ++num\_pdsch\_pdu;}
\DoxyCodeLine{01010\ }
\DoxyCodeLine{01011\ \ \ \ \ pdu.pdu\_type\ =\ dl\_pdu\_type::PDSCH;}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdsch__pdu__builder}{dl\_pdsch\_pdu\_builder}}\ builder(pdu.pdsch\_pdu);}
\DoxyCodeLine{01014\ }
\DoxyCodeLine{01015\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01016\ \ \ \}}
\DoxyCodeLine{01017\ }
\DoxyCodeLine{01018\ \ \ \textcolor{comment}{///\ Adds\ a\ CSI-\/RS\ PDU\ to\ the\ message\ and\ returns\ a\ CSI-\/RS\ PDU\ builder.}}
\DoxyCodeLine{01019\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a899bf25f4af31472c125fb5b0b89696e}{add\_csi\_rs\_pdu}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_rb,}
\DoxyCodeLine{01020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_rbs,}
\DoxyCodeLine{01021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a1553c168be2e5dc5ed6ac0825d9f6d8f}{csi\_rs\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type,}
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ row,}
\DoxyCodeLine{01023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\_bitset}}<12,\ \textcolor{keyword}{false}>\&\ freq\_domain,}
\DoxyCodeLine{01024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symb\_l0,}
\DoxyCodeLine{01025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symb\_l1,}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a92130846fc1b19cec1dd589c82c15dcb}{csi\_rs\_cdm\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cdm\_type,}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a4eb15f40fbf154cfbb954bf0cbefaf35}{csi\_rs\_freq\_density\_type}}\ \ \ \ \ \ \ \ \ freq\_density,}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scrambling\_id)}
\DoxyCodeLine{01029\ \ \ \{}
\DoxyCodeLine{01030\ \ \ \ \ \textcolor{comment}{//\ Add\ a\ new\ PDU.}}
\DoxyCodeLine{01031\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__pdu}{dl\_tti\_request\_pdu}}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01032\ }
\DoxyCodeLine{01033\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ CSI\ PDU\ index\ value.\ The\ index\ value\ will\ be\ the\ index\ of\ the\ PDU\ in\ the\ array\ of\ CSI\ PDUs.}}
\DoxyCodeLine{01034\ \ \ \ \ \textcolor{keyword}{auto}\&\ num\_csi\_pdu\ =\ msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<size\_t>(dl\_pdu\_type::CSI\_RS)];}
\DoxyCodeLine{01035\ \ \ \ \ pdu.csi\_rs\_pdu.csi\_rs\_maintenance\_v3.csi\_rs\_pdu\_index\ =\ num\_csi\_pdu;}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \ \ \ \ \textcolor{comment}{//\ Increase\ the\ number\ of\ CSI\ PDU.}}
\DoxyCodeLine{01038\ \ \ \ \ ++num\_csi\_pdu;}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \ \ pdu.pdu\_type\ =\ dl\_pdu\_type::CSI\_RS;}
\DoxyCodeLine{01041\ }
\DoxyCodeLine{01042\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder}{dl\_csi\_rs\_pdu\_builder}}\ builder(pdu.csi\_rs\_pdu);}
\DoxyCodeLine{01043\ }
\DoxyCodeLine{01044\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{(}}}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ start\_rb\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ nof\_rbs\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ type\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ row\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ freq\_domain\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ symb\_l0\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ symb\_l1\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ cdm\_type\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ freq\_density\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{,}}\ scrambling\_id\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__csi__rs__pdu__builder_a47c53628a20433ef5e7a156f9c5440c9}{)}};}
\DoxyCodeLine{01046\ }
\DoxyCodeLine{01047\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01048\ \ \ \}}
\DoxyCodeLine{01049\ }
\DoxyCodeLine{01050\ \ \ \textcolor{comment}{///\ Adds\ a\ SSB\ PDU\ to\ the\ message,\ fills\ its\ basic\ parameters\ using\ the\ given\ arguments\ and\ returns\ a\ SSB\ PDU\ builder.}}
\DoxyCodeLine{01051\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a1cab991b7c74880bf065e978ee11aebf}{add\_ssb\_pdu}}(pci\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ phys\_cell\_id,}
\DoxyCodeLine{01052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ beta\_pss\_profile\_type\ beta\_pss\_profile\_nr,}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_block\_index,}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssb\_subcarrier\_offset,}
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ssb__offset__to__pointA}{ssb\_offset\_to\_pointA}}\ \ ssb\_offset\_pointA)}
\DoxyCodeLine{01056\ \ \ \{}
\DoxyCodeLine{01057\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\ builder\ =\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a68b4c6dae6d1a22354e53027699a31ec}{add\_ssb\_pdu}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a68b4c6dae6d1a22354e53027699a31ec}{(}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a68b4c6dae6d1a22354e53027699a31ec}{)}};}
\DoxyCodeLine{01058\ }
\DoxyCodeLine{01059\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ PDU\ basic\ parameters.}}
\DoxyCodeLine{01060\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{(}}}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ phys\_cell\_id\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{,}}\ beta\_pss\_profile\_nr\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{,}}\ ssb\_block\_index\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{,}}\ ssb\_subcarrier\_offset\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{,}}\ ssb\_offset\_pointA\mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder_aa57fed0eded0b8a5106c145628bc3ccf}{)}};}
\DoxyCodeLine{01062\ }
\DoxyCodeLine{01063\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01064\ \ \ \}}
\DoxyCodeLine{01065\ }
\DoxyCodeLine{01066\ \ \ \textcolor{comment}{///\ Adds\ a\ SSB\ PDU\ to\ the\ message\ and\ returns\ a\ SSB\ PDU\ builder.}}
\DoxyCodeLine{01067\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a68b4c6dae6d1a22354e53027699a31ec}{add\_ssb\_pdu}}()}
\DoxyCodeLine{01068\ \ \ \{}
\DoxyCodeLine{01069\ \ \ \ \ \textcolor{comment}{//\ Add\ a\ new\ PDU.}}
\DoxyCodeLine{01070\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__pdu}{dl\_tti\_request\_pdu}}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01071\ }
\DoxyCodeLine{01072\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ SSB\ PDU\ index\ value.\ The\ index\ value\ will\ be\ the\ index\ of\ the\ PDU\ in\ the\ array\ of\ SSB\ pdus.}}
\DoxyCodeLine{01073\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__ssb__maintenance__v3}{dl\_ssb\_maintenance\_v3}}\&\ info\ \ \ \ \ \ \ \ =\ pdu.ssb\_pdu.ssb\_maintenance\_v3;}
\DoxyCodeLine{01074\ \ \ \ \ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_ssb\_pdu\ =\ msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<size\_t>(dl\_pdu\_type::SSB)];}
\DoxyCodeLine{01075\ \ \ \ \ info.ssb\_pdu\_index\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ num\_ssb\_pdu;}
\DoxyCodeLine{01076\ }
\DoxyCodeLine{01077\ \ \ \ \ \textcolor{comment}{//\ Increase\ the\ number\ of\ SSB\ PDUs\ in\ the\ request.}}
\DoxyCodeLine{01078\ \ \ \ \ ++num\_ssb\_pdu;}
\DoxyCodeLine{01079\ }
\DoxyCodeLine{01080\ \ \ \ \ pdu.pdu\_type\ =\ dl\_pdu\_type::SSB;}
\DoxyCodeLine{01081\ }
\DoxyCodeLine{01082\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__ssb__pdu__builder}{dl\_ssb\_pdu\_builder}}\ builder(pdu.ssb\_pdu);}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01085\ \ \ \}}
\DoxyCodeLine{01086\ }
\DoxyCodeLine{01087\ \ \ \textcolor{comment}{///\ Sets\ the\ flag\ of\ the\ last\ message\ in\ slot.}}
\DoxyCodeLine{01088\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder}{dl\_tti\_request\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__tti__request__message__builder_a58649be053dc74f93a4c1b0538b4bd87}{set\_last\_message\_in\_slot\_flag}}()}
\DoxyCodeLine{01089\ \ \ \{}
\DoxyCodeLine{01090\ \ \ \ \ msg\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_aebee6045acbc5f6f1c1ba8f45c143303}{.}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message_aebee6045acbc5f6f1c1ba8f45c143303}{is\_last\_message\_in\_slot}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01091\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01092\ \ \ \}}
\DoxyCodeLine{01093\ }
\DoxyCodeLine{01094\ \ \ \textcolor{comment}{//:\ TODO:\ PDU\ groups\ array}}
\DoxyCodeLine{01095\ \ \ \textcolor{comment}{//:\ TODO:\ top\ level\ rate\ match\ patterns}}
\DoxyCodeLine{01096\ }
\DoxyCodeLine{01097\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01098\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1dl__tti__request__message}{dl\_tti\_request\_message}}\&\ msg;}
\DoxyCodeLine{01099\ \};}
\DoxyCodeLine{01100\ }
\DoxyCodeLine{01101\ \textcolor{comment}{///\ UL\_DCI.request\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.4.}}
\DoxyCodeLine{01102\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder}{ul\_dci\_request\_message\_builder}}}
\DoxyCodeLine{01103\ \{}
\DoxyCodeLine{01104\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__dci__request__message}{ul\_dci\_request\_message}}\&\ msg;}
\DoxyCodeLine{01105\ }
\DoxyCodeLine{01106\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01107\ \ \ \textcolor{keyword}{explicit}\ ul\_dci\_request\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__dci__request__message}{ul\_dci\_request\_message}}\&\ msg\_)\ :\ msg(msg\_)}
\DoxyCodeLine{01108\ \ \ \{}
\DoxyCodeLine{01109\ \ \ \ \ msg.num\_pdus\_of\_each\_type.fill(0);}
\DoxyCodeLine{01110\ \ \ \ \ msg.is\_last\_message\_in\_slot\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01111\ \ \ \}}
\DoxyCodeLine{01112\ }
\DoxyCodeLine{01113\ \ \ \textcolor{comment}{///\ Sets\ the\ UL\_DCI.request\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01114\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.4\ in\ table\ UL\_DCI.request\ message\ body.}}
\DoxyCodeLine{01115\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder}{ul\_dci\_request\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder_a041c8a09cfb978867062199351723127}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01116\ \ \ \{}
\DoxyCodeLine{01117\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01118\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01121\ \ \ \}}
\DoxyCodeLine{01122\ }
\DoxyCodeLine{01123\ \ \ \textcolor{comment}{///\ Adds\ a\ PDCCH\ PDU\ to\ the\ UL\_DCI.request\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ PDCCH\ PDU\ builder.}}
\DoxyCodeLine{01124\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.4\ in\ table\ UL\_DCI.request\ message\ body.}}
\DoxyCodeLine{01125\ \ \ \textcolor{comment}{///\ \(\backslash\)param[in]\ nof\_dci\_in\_pdu\ Number\ of\ DCIs\ in\ the\ PDCCH\ PDU.}}
\DoxyCodeLine{01126\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder_a4aa6959b99fabe9846a9d723a1c585de}{add\_pdcch\_pdu}}(\textcolor{keywordtype}{unsigned}\ nof\_dci\_in\_pdu)}
\DoxyCodeLine{01127\ \ \ \{}
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ pdcch\_index\ =\ msg.pdus.size();}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{keyword}{auto}\&\ \ \ \ pdu\ \ \ \ \ \ \ \ \ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01130\ }
\DoxyCodeLine{01131\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ pdcch\ pdu\ index\ value.\ The\ index\ value\ will\ be\ the\ index\ of\ the\ pdu\ in\ the\ array\ of\ PDCCH\ pdus.}}
\DoxyCodeLine{01132\ \ \ \ \ pdu.pdu.maintenance\_v3.pdcch\_pdu\_index\ =\ pdcch\_index;}
\DoxyCodeLine{01133\ }
\DoxyCodeLine{01134\ \ \ \ \ \textcolor{comment}{//\ Increase\ the\ number\ of\ PDCCH\ pdus\ in\ the\ request.}}
\DoxyCodeLine{01135\ \ \ \ \ ++msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<size\_t>(dl\_pdu\_type::PDCCH)];}
\DoxyCodeLine{01136\ \ \ \ \ msg.num\_pdus\_of\_each\_type[\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__dci__request__message}{ul\_dci\_request\_message}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__dci__request__message_aedf8b333c0d01bd046c509c8d4488c70}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__dci__request__message_aedf8b333c0d01bd046c509c8d4488c70}{DCI\_INDEX}}]\ +=\ nof\_dci\_in\_pdu;}
\DoxyCodeLine{01137\ }
\DoxyCodeLine{01138\ \ \ \ \ pdu.pdu\_type\ =\ ul\_dci\_pdu\_type::PDCCH;}
\DoxyCodeLine{01139\ }
\DoxyCodeLine{01140\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1dl__pdcch__pdu__builder}{dl\_pdcch\_pdu\_builder}}\ builder(pdu.pdu);}
\DoxyCodeLine{01141\ }
\DoxyCodeLine{01142\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01143\ \ \ \}}
\DoxyCodeLine{01144\ }
\DoxyCodeLine{01145\ \ \ \textcolor{comment}{///\ Sets\ the\ flag\ of\ the\ last\ message\ in\ slot.}}
\DoxyCodeLine{01146\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder}{ul\_dci\_request\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__dci__request__message__builder_a276403455c5e9399adee3a5648cbb672}{set\_last\_message\_in\_slot\_flag}}()}
\DoxyCodeLine{01147\ \ \ \{}
\DoxyCodeLine{01148\ \ \ \ \ msg.is\_last\_message\_in\_slot\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01149\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01150\ \ \ \}}
\DoxyCodeLine{01151\ \};}
\DoxyCodeLine{01152\ }
\DoxyCodeLine{01153\ \textcolor{comment}{///\ Tx\_Data.request\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.6.}}
\DoxyCodeLine{01154\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__data__request__builder}{tx\_data\_request\_builder}}}
\DoxyCodeLine{01155\ \{}
\DoxyCodeLine{01156\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01157\ \ \ \textcolor{keyword}{explicit}\ tx\_data\_request\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__data__request__message}{tx\_data\_request\_message}}\&\ msg\_)\ :\ msg(msg\_)\ \{\}}
\DoxyCodeLine{01158\ }
\DoxyCodeLine{01159\ \ \ \textcolor{comment}{///\ Sets\ the\ Tx\_Data.request\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01160\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.6\ in\ table\ Tx\_Data.request\ message\ body.}}
\DoxyCodeLine{01161\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__data__request__builder}{tx\_data\_request\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__data__request__builder_a24ca1bec3028e6ca663e6202a809e3b2}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01162\ \ \ \{}
\DoxyCodeLine{01163\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01164\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01165\ }
\DoxyCodeLine{01166\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Set\ to\ 0\ temporarily.}}
\DoxyCodeLine{01167\ \ \ \ \ msg.control\_length\ =\ 0U;}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01170\ \ \ \}}
\DoxyCodeLine{01171\ }
\DoxyCodeLine{01172\ \ \ \textcolor{comment}{///\ Adds\ a\ new\ PDU\ to\ the\ Tx\_Data.request\ message\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01173\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.6\ in\ table\ Tx\_Data.request\ message\ body.}}
\DoxyCodeLine{01174\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__data__request__builder}{tx\_data\_request\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1tx__data__request__builder_a6d396c9df82f6ebce8913b7eacf8d4cd}{add\_pdu\_custom\_payload}}(uint16\_t\ pdu\_index,\ uint8\_t\ cw\_index,\ span<\textcolor{keyword}{const}\ uint8\_t>\ payload)}
\DoxyCodeLine{01175\ \ \ \{}
\DoxyCodeLine{01176\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01177\ }
\DoxyCodeLine{01178\ \ \ \ \ pdu.pdu\_index\ =\ pdu\_index;}
\DoxyCodeLine{01179\ \ \ \ \ pdu.cw\_index\ \ =\ cw\_index;}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \ \ \ \ \textcolor{comment}{//\ Fill\ custom\ TLV.\ This\ TLV\ always\ uses\ a\ pointer\ to\ the\ payload.}}
\DoxyCodeLine{01182\ \ \ \ \ pdu.tlv\_custom.length\ \ =\ units::bytes(payload.size());}
\DoxyCodeLine{01183\ \ \ \ \ pdu.tlv\_custom.payload\ =\ payload.data();}
\DoxyCodeLine{01184\ }
\DoxyCodeLine{01185\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01186\ \ \ \}}
\DoxyCodeLine{01187\ }
\DoxyCodeLine{01188\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01189\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1tx__data__request__message}{tx\_data\_request\_message}}\&\ msg;}
\DoxyCodeLine{01190\ \};}
\DoxyCodeLine{01191\ }
\DoxyCodeLine{01192\ \textcolor{comment}{///\ CRC.indication\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.8.}}
\DoxyCodeLine{01193\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1crc__indication__message__builder}{crc\_indication\_message\_builder}}}
\DoxyCodeLine{01194\ \{}
\DoxyCodeLine{01195\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1crc__indication__message}{crc\_indication\_message}}\&\ msg;}
\DoxyCodeLine{01196\ }
\DoxyCodeLine{01197\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01198\ \ \ \textcolor{keyword}{explicit}\ crc\_indication\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1crc__indication__message}{crc\_indication\_message}}\&\ msg\_)\ :\ msg(msg\_)\ \{\}}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \ \ \textcolor{comment}{///\ Sets\ the\ CRC.indication\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01201\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.8\ in\ table\ CRC.indication\ message\ body.}}
\DoxyCodeLine{01202\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1crc__indication__message__builder}{crc\_indication\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1crc__indication__message__builder_a62669b2b6f9a2773ff8aa9ebc553f67a}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01203\ \ \ \{}
\DoxyCodeLine{01204\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01205\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01206\ }
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01208\ \ \ \}}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \ \textcolor{comment}{///\ Adds\ a\ CRC.indication\ PDU\ to\ the\ message\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01211\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.8\ in\ table\ CRC.indication\ message\ body.}}
\DoxyCodeLine{01212\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1crc__indication__message__builder}{crc\_indication\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1crc__indication__message__builder_ae5dd3cdb45c72ad052102857489f728d}{add\_pdu}}(uint32\_t\ \ \ \ \ \ \ \ \ \ \ \ handle,}
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ rnti,}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<uint8\_t>\ \ \ rapid,}
\DoxyCodeLine{01215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ harq\_id,}
\DoxyCodeLine{01216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tb\_crc\_status\_ok,}
\DoxyCodeLine{01217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ num\_cb,}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ cb\_crc\_status,}
\DoxyCodeLine{01219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ \ ul\_sinr\_dB,}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ \ timing\_advance\_offset,}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{int}>\ \ \ \ \ \ \ timing\_advance\_offset\_in\_ns,}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ \ rssi\_dB,}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ \ rsrp,}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01225\ \ \ \{}
\DoxyCodeLine{01226\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01227\ }
\DoxyCodeLine{01228\ \ \ \ \ pdu.handle\ \ \ \ \ \ \ \ \ \ \ =\ handle;}
\DoxyCodeLine{01229\ \ \ \ \ pdu.rnti\ \ \ \ \ \ \ \ \ \ \ \ \ =\ rnti;}
\DoxyCodeLine{01230\ \ \ \ \ pdu.rapid\ \ \ \ \ \ \ \ \ \ \ \ =\ (rapid)\ ?\ rapid.value()\ :\ 255U;}
\DoxyCodeLine{01231\ \ \ \ \ pdu.harq\_id\ \ \ \ \ \ \ \ \ \ =\ harq\_id;}
\DoxyCodeLine{01232\ \ \ \ \ pdu.tb\_crc\_status\_ok\ =\ tb\_crc\_status\_ok;}
\DoxyCodeLine{01233\ \ \ \ \ pdu.num\_cb\ \ \ \ \ \ \ \ \ \ \ =\ num\_cb;}
\DoxyCodeLine{01234\ \ \ \ \ pdu.cb\_crc\_status.assign(cb\_crc\_status.begin(),\ cb\_crc\_status.end());}
\DoxyCodeLine{01235\ \ \ \ \ pdu.timing\_advance\_offset\ =}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ (timing\_advance\_offset)\ ?\ timing\_advance\_offset.value()\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01237\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ (timing\_advance\_offset\_in\_ns)\ ?\ timing\_advance\_offset\_in\_ns.value()\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01239\ }
\DoxyCodeLine{01240\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rssi\ =}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ (rssi\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rssi\_dB.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01242\ }
\DoxyCodeLine{01243\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rssi\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rssi,}
\DoxyCodeLine{01246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rssi);}
\DoxyCodeLine{01249\ }
\DoxyCodeLine{01250\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rsrp\_value\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rsrp.value()\ +\ ((rsrp\_use\_dBm)\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01252\ }
\DoxyCodeLine{01253\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rsrp\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_value,}
\DoxyCodeLine{01256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rsrp\_value);}
\DoxyCodeLine{01259\ }
\DoxyCodeLine{01260\ \ \ \ \ \textcolor{keywordtype}{int}\ ul\_sinr\ =\ (ul\_sinr\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(ul\_sinr\_dB.value()\ *\ 500.F)\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01261\ }
\DoxyCodeLine{01262\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(ul\_sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ul\_sinr,}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01266\ }
\DoxyCodeLine{01267\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(ul\_sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ul\_sinr,}
\DoxyCodeLine{01270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01271\ }
\DoxyCodeLine{01272\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(ul\_sinr);}
\DoxyCodeLine{01273\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01274\ \ \ \}}
\DoxyCodeLine{01275\ \};}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01277\ \textcolor{comment}{///\ RACH.indication\ PDU\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11.}}
\DoxyCodeLine{01278\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\_indication\_pdu\_builder}}}
\DoxyCodeLine{01279\ \{}
\DoxyCodeLine{01280\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__pdu}{rach\_indication\_pdu}}\&\ pdu;}
\DoxyCodeLine{01281\ }
\DoxyCodeLine{01282\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01283\ \ \ \textcolor{keyword}{explicit}\ rach\_indication\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__pdu}{rach\_indication\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\}}
\DoxyCodeLine{01284\ }
\DoxyCodeLine{01285\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ of\ the\ RACH.indication\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01286\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11\ in\ table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{01287\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\_indication\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_af10ad80cdbab874d8cc16f6a17410b1f}{set\_basic\_params}}(uint16\_t\ \ \ \ \ \ \ \ handle,}
\DoxyCodeLine{01288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ symbol\_index,}
\DoxyCodeLine{01289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ slot\_index,}
\DoxyCodeLine{01290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ ra\_index,}
\DoxyCodeLine{01291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ avg\_rssi\_dB,}
\DoxyCodeLine{01292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ rsrp,}
\DoxyCodeLine{01293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ avg\_snr\_dB,}
\DoxyCodeLine{01294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01295\ }
\DoxyCodeLine{01296\ \ \ \{}
\DoxyCodeLine{01297\ \ \ \ \ pdu.handle\ \ \ \ \ \ \ =\ handle;}
\DoxyCodeLine{01298\ \ \ \ \ pdu.symbol\_index\ =\ symbol\_index;}
\DoxyCodeLine{01299\ \ \ \ \ pdu.slot\_index\ \ \ =\ slot\_index;}
\DoxyCodeLine{01300\ \ \ \ \ pdu.ra\_index\ \ \ \ \ =\ ra\_index;}
\DoxyCodeLine{01301\ }
\DoxyCodeLine{01302\ \ \ \ \ pdu.avg\_rssi\ =\ (avg\_rssi\_dB)\ ?\ \textcolor{keyword}{static\_cast}<uint32\_t>((avg\_rssi\_dB.value()\ +\ 140.F)\ *\ 1000.F)}
\DoxyCodeLine{01303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint32\_t>::max();}
\DoxyCodeLine{01304\ }
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ avg\_snr\ =}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ (avg\_snr\_dB)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((avg\_snr\_dB.value()\ +\ 64.F)\ *\ 2)\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01307\ }
\DoxyCodeLine{01308\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(avg\_snr\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{01309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Average\ SNR\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ avg\_snr,}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint8\_t>::max());}
\DoxyCodeLine{01312\ \ \ \ \ pdu.avg\_snr\ =\ \textcolor{keyword}{static\_cast}<uint8\_t>(avg\_snr);}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rsrp\_value\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rsrp.value()\ +\ ((rsrp\_use\_dBm)\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01316\ }
\DoxyCodeLine{01317\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rsrp\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_value,}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01321\ }
\DoxyCodeLine{01322\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rsrp\_value);}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01325\ \ \ \}}
\DoxyCodeLine{01326\ }
\DoxyCodeLine{01327\ \ \ \textcolor{comment}{///\ Adds\ a\ preamble\ to\ the\ RACH.indication\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01328\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11\ in\ table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{01329\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ Units\ for\ timing\ advace\ offset\ parameter\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11\ in\ table}}
\DoxyCodeLine{01330\ \ \ \textcolor{comment}{///\ RACH.indication\ message\ body,\ and\ this\ function\ expect\ this\ units.}}
\DoxyCodeLine{01331\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\_indication\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_abbb4bf3d6534e187e656dd3f800a5918}{add\_preamble}}(\textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ preamble\_index,}
\DoxyCodeLine{01332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ timing\_advance\_offset,}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<uint32\_t>\ timing\_advance\_offset\_ns,}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ preamble\_power,}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ preamble\_snr)}
\DoxyCodeLine{01336\ }
\DoxyCodeLine{01337\ \ \ \{}
\DoxyCodeLine{01338\ \ \ \ \ \textcolor{keyword}{auto}\&\ preamble\ =\ pdu.preambles.emplace\_back();}
\DoxyCodeLine{01339\ }
\DoxyCodeLine{01340\ \ \ \ \ preamble.preamble\_index\ =\ preamble\_index;}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ \ \ \ \ preamble.timing\_advance\_offset\ =}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ (timing\_advance\_offset)\ ?\ timing\_advance\_offset.value()\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \ \ \ \ preamble.timing\_advance\_offset\_ns\ =}
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ (timing\_advance\_offset\_ns)\ ?\ timing\_advance\_offset\_ns.value()\ :\ std::numeric\_limits<uint32\_t>::max();}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ \ \ \ \ preamble.preamble\_pwr\ =\ (preamble\_power)\ ?\ \textcolor{keyword}{static\_cast}<uint32\_t>((preamble\_power.value()\ +\ 140.F)\ *\ 1000.F)}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint32\_t>::max();}
\DoxyCodeLine{01350\ }
\DoxyCodeLine{01351\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ snr\ =\ (preamble\_snr)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((preamble\_snr.value()\ +\ 64.F)\ *\ 2.F)}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(snr\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Preamble\ SNR\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ snr,}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint8\_t>::max());}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \ \ preamble.preamble\_snr\ =\ \textcolor{keyword}{static\_cast}<uint8\_t>(snr);}
\DoxyCodeLine{01360\ }
\DoxyCodeLine{01361\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01362\ \ \ \}}
\DoxyCodeLine{01363\ \};}
\DoxyCodeLine{01364\ }
\DoxyCodeLine{01365\ \textcolor{comment}{///\ \(\backslash\)e\ RACH.indication\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.11.}}
\DoxyCodeLine{01366\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__message__builder}{rach\_indication\_message\_builder}}}
\DoxyCodeLine{01367\ \{}
\DoxyCodeLine{01368\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__message}{rach\_indication\_message}}\&\ msg;}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01371\ \ \ \textcolor{keyword}{explicit}\ rach\_indication\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__message}{rach\_indication\_message}}\&\ msg\_)\ :\ msg(msg\_)\ \{\}}
\DoxyCodeLine{01372\ }
\DoxyCodeLine{01373\ \ \ \textcolor{comment}{///\ Sets\ the\ basic\ parameters\ of\ the\ RACH.indication\ message\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01374\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11\ in\ table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{01375\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__message__builder}{rach\_indication\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__message__builder_a4c21df5bf41a3d67bdbd986fc063ff64}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01376\ \ \ \{}
\DoxyCodeLine{01377\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01378\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01379\ }
\DoxyCodeLine{01380\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01381\ \ \ \}}
\DoxyCodeLine{01382\ }
\DoxyCodeLine{01383\ \ \ \textcolor{comment}{///\ Adds\ a\ PDU\ to\ the\ RACH.indication\ message\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01384\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.11\ in\ table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{01385\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\_indication\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__message__builder_a6d39c31b78ab213b69ace24e4eaab3b9}{add\_pdu}}(uint16\_t\ \ \ \ \ \ \ \ handle,}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ symbol\_index,}
\DoxyCodeLine{01387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ slot\_index,}
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ ra\_index,}
\DoxyCodeLine{01389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ avg\_rssi,}
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ rsrp,}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ avg\_snr,}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01393\ \ \ \{}
\DoxyCodeLine{01394\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01395\ }
\DoxyCodeLine{01396\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\_indication\_pdu\_builder}}\ builder(pdu);}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \ \ \ \ builder.set\_basic\_params(handle,\ symbol\_index,\ slot\_index,\ ra\_index,\ avg\_rssi,\ rsrp,\ avg\_snr,\ rsrp\_use\_dBm);}
\DoxyCodeLine{01399\ }
\DoxyCodeLine{01400\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01401\ \ \ \}}
\DoxyCodeLine{01402\ \};}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \textcolor{comment}{///\ UCI\ PUSCH\ PDU\ builder\ that\ helps\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.9.1.}}
\DoxyCodeLine{01405\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}}
\DoxyCodeLine{01406\ \{}
\DoxyCodeLine{01407\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\_pusch\_pdu}}\&\ pdu;}
\DoxyCodeLine{01408\ }
\DoxyCodeLine{01409\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01410\ \ \ \textcolor{keyword}{explicit}\ uci\_pusch\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\_pusch\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\ pdu.pdu\_bitmap\ =\ 0;\ \}}
\DoxyCodeLine{01411\ }
\DoxyCodeLine{01412\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUSCH\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01413\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.1\ in\ Table\ UCI\ PUSCH\ PDU.}}
\DoxyCodeLine{01414\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{set\_basic\_parameters}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti)}
\DoxyCodeLine{01415\ \ \ \{}
\DoxyCodeLine{01416\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{01417\ \ \ \ \ pdu.rnti\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{to\_value}}\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{(}}rnti\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{)}};}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01420\ \ \ \}}
\DoxyCodeLine{01421\ }
\DoxyCodeLine{01422\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUSCH\ PDU\ metrics\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01423\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.1\ in\ Table\ UCI\ PUSCH\ PDU.}}
\DoxyCodeLine{01424\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_af47a3c764e5068d523c8798ee4855977}{set\_metrics\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ ul\_sinr\_metric,}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ timing\_advance\_offset,}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{int}>\ \ \ \ \ \ timing\_advance\_offset\_ns,}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rssi,}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rsrp,}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01430\ \ \ \{}
\DoxyCodeLine{01431\ \ \ \ \ pdu.timing\_advance\_offset\ \ \ \ =\ (timing\_advance\_offset)\ ?\ \textcolor{keyword}{static\_cast}<uint16\_t>(timing\_advance\_offset.value())}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01433\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =\ (timing\_advance\_offset\_ns)\ ?\ \textcolor{keyword}{static\_cast}<int16\_t>(timing\_advance\_offset\_ns.value())}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \ \ \ \ \textcolor{comment}{//\ SINR.}}
\DoxyCodeLine{01437\ \ \ \ \ \textcolor{keywordtype}{int}\ sinr\ =}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ (ul\_sinr\_metric)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(ul\_sinr\_metric.value()\ *\ 500.F)\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01444\ }
\DoxyCodeLine{01445\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01449\ }
\DoxyCodeLine{01450\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(sinr);}
\DoxyCodeLine{01451\ }
\DoxyCodeLine{01452\ \ \ \ \ \textcolor{comment}{//\ RSSI.}}
\DoxyCodeLine{01453\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rssi\_value\ =}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ (rssi)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rssi.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01455\ }
\DoxyCodeLine{01456\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rssi\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rssi\_value,}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01460\ }
\DoxyCodeLine{01461\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rssi\_value);}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \ \ \ \ \textcolor{comment}{//\ RSRP.}}
\DoxyCodeLine{01464\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rsrp\_value\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rsrp.value()\ +\ ((rsrp\_use\_dBm)\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rsrp\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_value,}
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01471\ }
\DoxyCodeLine{01472\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rsrp\_value);}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01474\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01475\ \ \ \}}
\DoxyCodeLine{01476\ }
\DoxyCodeLine{01477\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ HARQ\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01478\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ HARQ\ PDU\ for\ Format\ 2,\ Format\ 3\ or}}
\DoxyCodeLine{01479\ \ \ \textcolor{comment}{///\ Format\ 4\ or\ for\ PUSCH.}}
\DoxyCodeLine{01480\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a26696e91048d47de100b245b141ec759}{set\_harq\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ detection,}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_HARQ\_BITS>\&\ payload)}
\DoxyCodeLine{01483\ \ \ \{}
\DoxyCodeLine{01484\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\_pusch\_pdu}}::HARQ\_BIT);}
\DoxyCodeLine{01485\ }
\DoxyCodeLine{01486\ \ \ \ \ \textcolor{keyword}{auto}\&\ harq\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.harq;}
\DoxyCodeLine{01487\ \ \ \ \ harq.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01488\ \ \ \ \ harq.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01489\ \ \ \ \ harq.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01490\ }
\DoxyCodeLine{01491\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01492\ \ \ \}}
\DoxyCodeLine{01493\ }
\DoxyCodeLine{01494\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ CSI\ Part\ 1\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01495\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ CSI\ Part\ 1\ PDU.}}
\DoxyCodeLine{01496\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\&}
\DoxyCodeLine{01497\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_ab1b2849582947e72b851ef92ce391ae0}{set\_csi\_part1\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detection,}
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_CSI\_PART1\_OR\_PART2\_BITS>\&\ payload)}
\DoxyCodeLine{01500\ \ \ \{}
\DoxyCodeLine{01501\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\_pusch\_pdu}}::CSI\_PART1\_BIT);}
\DoxyCodeLine{01502\ }
\DoxyCodeLine{01503\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part1;}
\DoxyCodeLine{01504\ \ \ \ \ csi.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01505\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01506\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01507\ }
\DoxyCodeLine{01508\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01509\ \ \ \}}
\DoxyCodeLine{01510\ }
\DoxyCodeLine{01511\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ CSI\ Part\ 2\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01512\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ CSI\ Part\ 2\ PDU.}}
\DoxyCodeLine{01513\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\&}
\DoxyCodeLine{01514\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a36f6a874a35aaa7ba90d9f5721e841a9}{set\_csi\_part2\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detection,}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_CSI\_PART1\_OR\_PART2\_BITS>\&\ payload)}
\DoxyCodeLine{01517\ \ \ \{}
\DoxyCodeLine{01518\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\_pusch\_pdu}}::CSI\_PART2\_BIT);}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part2;}
\DoxyCodeLine{01521\ \ \ \ \ csi.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01522\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01523\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01524\ }
\DoxyCodeLine{01525\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01526\ \ \ \}}
\DoxyCodeLine{01527\ \};}
\DoxyCodeLine{01528\ }
\DoxyCodeLine{01529\ \textcolor{comment}{///\ UCI\ PUCCH\ PDU\ Format\ 0\ or\ Format\ 1\ builder\ that\ helps\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0}}
\DoxyCodeLine{01530\ \textcolor{comment}{///\ Section\ 3.4.9.2.}}
\DoxyCodeLine{01531\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}}
\DoxyCodeLine{01532\ \{}
\DoxyCodeLine{01533\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}\&\ pdu;}
\DoxyCodeLine{01534\ }
\DoxyCodeLine{01535\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01536\ \ \ \textcolor{keyword}{explicit}\ uci\_pucch\_pdu\_format\_0\_1\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\ pdu.pdu\_bitmap\ =\ 0;\ \}}
\DoxyCodeLine{01537\ }
\DoxyCodeLine{01538\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUCCH\ PDU\ Format\ 0\ and\ Format\ 1\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01539\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.2\ in\ Table\ UCI\ PUCCH\ Format\ 0\ or\ Format\ 1\ PDU.}}
\DoxyCodeLine{01540\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{set\_basic\_parameters}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ type)}
\DoxyCodeLine{01541\ \ \ \{}
\DoxyCodeLine{01542\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{01543\ \ \ \ \ pdu.rnti\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{to\_value}}\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{(}}rnti\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{)}};}
\DoxyCodeLine{01544\ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_0:}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}::format\_type::format\_0;}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_1:}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}::format\_type::format\_1;}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(0,\ \textcolor{stringliteral}{"{}PUCCH\ format=\{\}\ is\ not\ supported\ by\ this\ PDU"{}},\ type);}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01554\ \ \ \ \ \}}
\DoxyCodeLine{01555\ }
\DoxyCodeLine{01556\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01557\ \ \ \}}
\DoxyCodeLine{01558\ }
\DoxyCodeLine{01559\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUCCH\ PDU\ Format\ 0\ and\ Format\ 1\ metrics\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01560\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.2\ in\ Table\ UCI\ PUCCH\ Format\ 0\ or\ Format\ 1\ PDU.}}
\DoxyCodeLine{01561\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a3bf703bfa39c670aae57a4114f908e66}{set\_metrics\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ ul\_sinr\_metric,}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ timing\_advance\_offset,}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{int}>\ \ \ \ \ \ timing\_advance\_offset\_ns,}
\DoxyCodeLine{01564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rssi,}
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rsrp,}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01567\ \ \ \{}
\DoxyCodeLine{01568\ \ \ \ \ pdu.timing\_advance\_offset\ \ \ \ =\ (timing\_advance\_offset)\ ?\ \textcolor{keyword}{static\_cast}<uint16\_t>(timing\_advance\_offset.value())}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01570\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =\ (timing\_advance\_offset\_ns)\ ?\ \textcolor{keyword}{static\_cast}<int16\_t>(timing\_advance\_offset\_ns.value())}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01572\ }
\DoxyCodeLine{01573\ \ \ \ \ \textcolor{comment}{//\ SINR.}}
\DoxyCodeLine{01574\ \ \ \ \ \textcolor{keywordtype}{int}\ sinr\ =}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ (ul\_sinr\_metric)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(ul\_sinr\_metric.value()\ *\ 500.F)\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01576\ }
\DoxyCodeLine{01577\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01581\ }
\DoxyCodeLine{01582\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01586\ }
\DoxyCodeLine{01587\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(sinr);}
\DoxyCodeLine{01588\ }
\DoxyCodeLine{01589\ \ \ \ \ \textcolor{comment}{//\ RSSI.}}
\DoxyCodeLine{01590\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rssi\_value\ =}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ (rssi)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rssi.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01592\ }
\DoxyCodeLine{01593\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rssi\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rssi\_value,}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01597\ }
\DoxyCodeLine{01598\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rssi\_value);}
\DoxyCodeLine{01599\ }
\DoxyCodeLine{01600\ \ \ \ \ \textcolor{comment}{//\ RSRP.}}
\DoxyCodeLine{01601\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rsrp\_value\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rsrp.value()\ +\ ((rsrp\_use\_dBm)\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01603\ }
\DoxyCodeLine{01604\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rsrp\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_value,}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01608\ }
\DoxyCodeLine{01609\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rsrp\_value);}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01612\ \ \ \}}
\DoxyCodeLine{01613\ }
\DoxyCodeLine{01614\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ SR\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01615\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ SR\ PDU\ for\ Format\ 0\ or\ Format\ 1\ PDU.}}
\DoxyCodeLine{01616\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a4272a91872995f12f758e8ff1ed6b5d8}{set\_sr\_parameters}}(\textcolor{keywordtype}{bool}\ detected,\ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ confidence\_level)}
\DoxyCodeLine{01617\ \ \ \{}
\DoxyCodeLine{01618\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}::SR\_BIT);}
\DoxyCodeLine{01619\ }
\DoxyCodeLine{01620\ \ \ \ \ \textcolor{keyword}{auto}\&\ sr\_pdu\ =\ pdu.sr;}
\DoxyCodeLine{01621\ }
\DoxyCodeLine{01622\ \ \ \ \ sr\_pdu.sr\_indication\ =\ detected;}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \ \ sr\_pdu.sr\_confidence\_level\ =\ (confidence\_level)\ ?\ confidence\_level.value()\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01625\ }
\DoxyCodeLine{01626\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01627\ \ \ \}}
\DoxyCodeLine{01628\ }
\DoxyCodeLine{01629\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ HARQ\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01630\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.2\ in\ Table\ HARQ\ PDU\ for\ Format\ 0\ or\ Format\ 1}}
\DoxyCodeLine{01631\ \ \ \textcolor{comment}{///\ PDU.}}
\DoxyCodeLine{01632\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_ac6dfece52a98085bf03ce0700e3d2e18}{set\_harq\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ confidence\_level,}
\DoxyCodeLine{01633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesrsran_a25b18688d653dc410f495c4bf0845411}{uci\_pucch\_f0\_or\_f1\_harq\_values}}>\ value)}
\DoxyCodeLine{01634\ \ \ \{}
\DoxyCodeLine{01635\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\_pucch\_pdu\_format\_0\_1}}::HARQ\_BIT);}
\DoxyCodeLine{01636\ }
\DoxyCodeLine{01637\ \ \ \ \ \textcolor{keyword}{auto}\&\ harq\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.harq;}
\DoxyCodeLine{01638\ \ \ \ \ harq.harq\_confidence\_level\ =\ (confidence\_level)\ ?\ confidence\_level.value()\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01639\ \ \ \ \ harq.harq\_values.assign(value.begin(),\ value.end());}
\DoxyCodeLine{01640\ }
\DoxyCodeLine{01641\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01642\ \ \ \}}
\DoxyCodeLine{01643\ \};}
\DoxyCodeLine{01644\ }
\DoxyCodeLine{01645\ \textcolor{comment}{///\ UCI\ PUSCH\ PDU\ Format\ 2,\ Format\ 3\ or\ Format\ 4\ builder\ that\ helps\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0}}
\DoxyCodeLine{01646\ \textcolor{comment}{///\ Section\ 3.4.9.3.}}
\DoxyCodeLine{01647\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}}
\DoxyCodeLine{01648\ \{}
\DoxyCodeLine{01649\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}\&\ pdu;}
\DoxyCodeLine{01650\ }
\DoxyCodeLine{01651\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01652\ \ \ \textcolor{keyword}{explicit}\ uci\_pucch\_pdu\_format\_2\_3\_4\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\ pdu.pdu\_bitmap\ =\ 0;\ \}}
\DoxyCodeLine{01653\ }
\DoxyCodeLine{01654\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUCCH\ Format\ 2,\ Format\ 3\ and\ Format\ 4\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the}}
\DoxyCodeLine{01655\ \ \ \textcolor{comment}{///\ builder.\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.3\ in\ Table\ UCI\ PUCCH\ Format\ 2,\ Format}}
\DoxyCodeLine{01656\ \ \ \textcolor{comment}{///\ 3\ or\ Format\ 4\ PDU.}}
\DoxyCodeLine{01657\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{set\_basic\_parameters}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ type)}
\DoxyCodeLine{01658\ \ \ \{}
\DoxyCodeLine{01659\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{01660\ \ \ \ \ pdu.rnti\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{to\_value}}\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{(}}rnti\mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{)}};}
\DoxyCodeLine{01661\ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{01662\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_2:}
\DoxyCodeLine{01663\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::format\_type::format\_2;}
\DoxyCodeLine{01664\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01665\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_3:}
\DoxyCodeLine{01666\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::format\_type::format\_3;}
\DoxyCodeLine{01667\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01668\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_4:}
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::format\_type::format\_4;}
\DoxyCodeLine{01670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01672\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(0,\ \textcolor{stringliteral}{"{}PUCCH\ format=\{\}\ is\ not\ supported\ by\ this\ PDU"{}},\ type);}
\DoxyCodeLine{01673\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01674\ \ \ \ \ \}}
\DoxyCodeLine{01675\ }
\DoxyCodeLine{01676\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01677\ \ \ \}}
\DoxyCodeLine{01678\ }
\DoxyCodeLine{01679\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ UCI\ PUCCH\ Format\ 2,\ Format\ 3\ and\ Format\ 4\ PDU\ metric\ parameters\ and\ returns\ a\ reference\ to\ the}}
\DoxyCodeLine{01680\ \ \ \textcolor{comment}{///\ builder.}}
\DoxyCodeLine{01681\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.3\ in\ Table\ UCI\ PUCCH\ Format\ 2,\ Format}}
\DoxyCodeLine{01682\ \ \ \textcolor{comment}{///\ 3\ or\ Format\ 4\ PDU.}}
\DoxyCodeLine{01683\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_ac88bf5e1bd018515c54af82558c020b7}{set\_metrics\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ ul\_sinr\_metric,}
\DoxyCodeLine{01684\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ timing\_advance\_offset,}
\DoxyCodeLine{01685\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{int}>\ \ \ \ \ \ timing\_advance\_offset\_ns,}
\DoxyCodeLine{01686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rssi,}
\DoxyCodeLine{01687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{float}>\ \ \ \ rsrp,}
\DoxyCodeLine{01688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_use\_dBm\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{01689\ \ \ \{}
\DoxyCodeLine{01690\ \ \ \ \ pdu.timing\_advance\_offset\ \ \ \ =\ (timing\_advance\_offset)\ ?\ \textcolor{keyword}{static\_cast}<uint16\_t>(timing\_advance\_offset.value())}
\DoxyCodeLine{01691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01692\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =\ (timing\_advance\_offset\_ns)\ ?\ \textcolor{keyword}{static\_cast}<int16\_t>(timing\_advance\_offset\_ns.value())}
\DoxyCodeLine{01693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01694\ }
\DoxyCodeLine{01695\ \ \ \ \ \textcolor{comment}{//\ SINR.}}
\DoxyCodeLine{01696\ \ \ \ \ \textcolor{keywordtype}{int}\ sinr\ =}
\DoxyCodeLine{01697\ \ \ \ \ \ \ \ \ (ul\_sinr\_metric)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(ul\_sinr\_metric.value()\ *\ 500.F)\ :\ std::numeric\_limits<int16\_t>::min();}
\DoxyCodeLine{01698\ }
\DoxyCodeLine{01699\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01703\ }
\DoxyCodeLine{01704\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01708\ }
\DoxyCodeLine{01709\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast}<int16\_t>(sinr);}
\DoxyCodeLine{01710\ }
\DoxyCodeLine{01711\ \ \ \ \ \textcolor{comment}{//\ RSSI.}}
\DoxyCodeLine{01712\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rssi\_value\ =}
\DoxyCodeLine{01713\ \ \ \ \ \ \ \ \ (rssi)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rssi.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01714\ }
\DoxyCodeLine{01715\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rssi\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01716\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01717\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rssi\_value,}
\DoxyCodeLine{01718\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01719\ }
\DoxyCodeLine{01720\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rssi\_value);}
\DoxyCodeLine{01721\ }
\DoxyCodeLine{01722\ \ \ \ \ \textcolor{comment}{//\ RSRP.}}
\DoxyCodeLine{01723\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ rsrp\_value\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>((rsrp.value()\ +\ ((rsrp\_use\_dBm)\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01725\ }
\DoxyCodeLine{01726\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(rsrp\_value\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01727\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01728\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsrp\_value,}
\DoxyCodeLine{01729\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01730\ }
\DoxyCodeLine{01731\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast}<uint16\_t>(rsrp\_value);}
\DoxyCodeLine{01732\ }
\DoxyCodeLine{01733\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01734\ \ \ \}}
\DoxyCodeLine{01735\ }
\DoxyCodeLine{01736\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ SR\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01737\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.3\ in\ Table\ UCI\ PUCCH\ Format\ 2,\ Format\ 3\ or}}
\DoxyCodeLine{01738\ \ \ \textcolor{comment}{///\ Format\ 4\ PDU.}}
\DoxyCodeLine{01739\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&}
\DoxyCodeLine{01740\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a7a62a24240ba9ef10699883d1ba5493c}{set\_sr\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bit\_length,}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<sr\_pdu\_format\_2\_3\_4::MAX\_SR\_PAYLOAD\_SIZE\_BITS>\&\ sr\_payload)}
\DoxyCodeLine{01742\ \ \ \{}
\DoxyCodeLine{01743\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::SR\_BIT);}
\DoxyCodeLine{01744\ }
\DoxyCodeLine{01745\ \ \ \ \ \textcolor{keyword}{auto}\&\ sr\_pdu\ =\ pdu.sr;}
\DoxyCodeLine{01746\ }
\DoxyCodeLine{01747\ \ \ \ \ sr\_pdu.sr\_bitlen\ \ =\ bit\_length;}
\DoxyCodeLine{01748\ \ \ \ \ sr\_pdu.sr\_payload\ =\ sr\_payload;}
\DoxyCodeLine{01749\ }
\DoxyCodeLine{01750\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01751\ \ \ \}}
\DoxyCodeLine{01752\ }
\DoxyCodeLine{01753\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ HARQ\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01754\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.3\ in\ Table\ UCI\ PUCCH\ Format\ 2,\ Format\ 3\ or}}
\DoxyCodeLine{01755\ \ \ \textcolor{comment}{///\ Format\ 4\ PDU.}}
\DoxyCodeLine{01756\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&}
\DoxyCodeLine{01757\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a32bce215c4d17d0dd9057ae9fa2ece67}{set\_harq\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ detection,}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_HARQ\_BITS>\&\ payload)}
\DoxyCodeLine{01760\ \ \ \{}
\DoxyCodeLine{01761\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::HARQ\_BIT);}
\DoxyCodeLine{01762\ }
\DoxyCodeLine{01763\ \ \ \ \ \textcolor{keyword}{auto}\&\ harq\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.harq;}
\DoxyCodeLine{01764\ \ \ \ \ harq.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01765\ \ \ \ \ harq.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01766\ \ \ \ \ harq.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01767\ }
\DoxyCodeLine{01768\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01769\ \ \ \}}
\DoxyCodeLine{01770\ }
\DoxyCodeLine{01771\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ CSI\ Part\ 1\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01772\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ CSI\ Part\ 1\ PDU.}}
\DoxyCodeLine{01773\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&}
\DoxyCodeLine{01774\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a07a87b9d8440eb28c5e23890fe88deb3}{set\_csi\_part1\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detection,}
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_CSI\_PART1\_OR\_PART2\_BITS>\&\ payload)}
\DoxyCodeLine{01777\ \ \ \{}
\DoxyCodeLine{01778\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::CSI\_PART1\_BIT);}
\DoxyCodeLine{01779\ }
\DoxyCodeLine{01780\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part1;}
\DoxyCodeLine{01781\ \ \ \ \ csi.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01782\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01783\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01784\ }
\DoxyCodeLine{01785\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01786\ \ \ \}}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01788\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ CSI\ Part\ 2\ PDU\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01789\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.4\ in\ Table\ CSI\ Part\ 2\ PDU.}}
\DoxyCodeLine{01790\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\&}
\DoxyCodeLine{01791\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a86b999b5ec30ec21cc07064dc5ecf75e}{set\_csi\_part2\_parameters}}(\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\_pusch\_or\_pucch\_f2\_3\_4\_detection\_status}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detection,}
\DoxyCodeLine{01792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\_bit\_length,}
\DoxyCodeLine{01793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ bounded\_bitset<uci\_constants::MAX\_NOF\_CSI\_PART1\_OR\_PART2\_BITS>\&\ payload)}
\DoxyCodeLine{01794\ \ \ \{}
\DoxyCodeLine{01795\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4}{uci\_pucch\_pdu\_format\_2\_3\_4}}::CSI\_PART2\_BIT);}
\DoxyCodeLine{01796\ }
\DoxyCodeLine{01797\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part2;}
\DoxyCodeLine{01798\ \ \ \ \ csi.detection\_status\ \ \ \ =\ detection;}
\DoxyCodeLine{01799\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01800\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01801\ }
\DoxyCodeLine{01802\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01803\ \ \ \}}
\DoxyCodeLine{01804\ \};}
\DoxyCodeLine{01805\ }
\DoxyCodeLine{01806\ \textcolor{comment}{///\ UCI.indication\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9.}}
\DoxyCodeLine{01807\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder}{uci\_indication\_message\_builder}}}
\DoxyCodeLine{01808\ \{}
\DoxyCodeLine{01809\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__indication__message}{uci\_indication\_message}}\&\ msg;}
\DoxyCodeLine{01810\ }
\DoxyCodeLine{01811\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01812\ \ \ \textcolor{keyword}{explicit}\ uci\_indication\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__indication__message}{uci\_indication\_message}}\&\ msg\_)\ :\ msg(msg\_)\ \{\}}
\DoxyCodeLine{01813\ }
\DoxyCodeLine{01814\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Sets\ the\ \(\backslash\)e\ UCI.indication\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{01815\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ Section\ 3.4.9\ in\ table\ UCI.indication\ message\ body.}}
\DoxyCodeLine{01816\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder}{uci\_indication\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder_ab5a5eceb525e60bfa90f8830eda05673}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01817\ \ \ \{}
\DoxyCodeLine{01818\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01819\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01820\ }
\DoxyCodeLine{01821\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01822\ \ \ \}}
\DoxyCodeLine{01823\ }
\DoxyCodeLine{01824\ \ \ \textcolor{comment}{///\ Adds\ a\ PUSCH\ PDU\ to\ the\ \(\backslash\)e\ UCI.indication\ message\ and\ returns\ a\ PUSCH\ PDU\ builder.}}
\DoxyCodeLine{01825\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder_a51427cb2c620587757d110e35bc85133}{add\_pusch\_pdu}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti)}
\DoxyCodeLine{01826\ \ \ \{}
\DoxyCodeLine{01827\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \ \ \ \ pdu.pdu\_type\ =\ uci\_pdu\_type::PUSCH;}
\DoxyCodeLine{01830\ }
\DoxyCodeLine{01831\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\_pusch\_pdu\_builder}}\ builder(pdu.pusch\_pdu);}
\DoxyCodeLine{01832\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{(}}handle\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{,}}\ rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{)}};}
\DoxyCodeLine{01833\ }
\DoxyCodeLine{01834\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01835\ \ \ \}}
\DoxyCodeLine{01836\ }
\DoxyCodeLine{01837\ \ \ \textcolor{comment}{///\ Adds\ a\ PUCCH\ Format\ 0\ and\ Format\ 1\ PDU\ to\ the\ \(\backslash\)e\ UCI.indication\ message\ and\ returns\ a\ PUCCH\ Format\ 0\ and\ Format\ 1}}
\DoxyCodeLine{01838\ \ \ \textcolor{comment}{///\ PDU\ builder.}}
\DoxyCodeLine{01839\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder_a92d6a2f0513305981f887e8e6e33e5e0}{add\_format\_0\_1\_pucch\_pdu}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ type)}
\DoxyCodeLine{01840\ \ \ \{}
\DoxyCodeLine{01841\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01842\ }
\DoxyCodeLine{01843\ \ \ \ \ pdu.pdu\_type\ =\ uci\_pdu\_type::PUCCH\_format\_0\_1;}
\DoxyCodeLine{01844\ }
\DoxyCodeLine{01845\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\_pucch\_pdu\_format\_0\_1\_builder}}\ builder(pdu.pucch\_pdu\_f01);}
\DoxyCodeLine{01846\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{(}}handle\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{,}}\ rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{,}}\ type\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{)}};}
\DoxyCodeLine{01847\ }
\DoxyCodeLine{01848\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01849\ \ \ \}}
\DoxyCodeLine{01850\ }
\DoxyCodeLine{01851\ \ \ \textcolor{comment}{///\ Adds\ a\ PUCCH\ Format\ 2,\ Format\ 3\ and\ Format\ 4\ \ PDU\ to\ the\ \(\backslash\)e\ UCI.indication\ message\ and\ returns\ a\ PUCCH\ Format\ 2,}}
\DoxyCodeLine{01852\ \ \ \textcolor{comment}{///\ Format\ 3\ and\ Format\ 4\ PDU\ builder.}}
\DoxyCodeLine{01853\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder_aad4d1f109b2a69ec77e241a47796893f}{add\_format\_2\_3\_4\_pucch\_pdu}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ type)}
\DoxyCodeLine{01854\ \ \ \{}
\DoxyCodeLine{01855\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{01856\ }
\DoxyCodeLine{01857\ \ \ \ \ pdu.pdu\_type\ =\ uci\_pdu\_type::PUCCH\_format\_2\_3\_4;}
\DoxyCodeLine{01858\ }
\DoxyCodeLine{01859\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder}{uci\_pucch\_pdu\_format\_2\_3\_4\_builder}}\ builder(pdu.pucch\_pdu\_f234);}
\DoxyCodeLine{01860\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{(}}handle\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{,}}\ rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{,}}\ type\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__2__3__4__builder_a95bfbd9318773ad7236bf164865d8c87}{)}};}
\DoxyCodeLine{01861\ }
\DoxyCodeLine{01862\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{01863\ \ \ \}}
\DoxyCodeLine{01864\ \};}
\DoxyCodeLine{01865\ }
\DoxyCodeLine{01866\ \textcolor{comment}{///\ Builds\ and\ returns\ a\ slot.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.4.1\ in\ table}}
\DoxyCodeLine{01867\ \textcolor{comment}{///\ Slot\ indication\ message\ body.}}
\DoxyCodeLine{01868\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1slot__indication__message}{slot\_indication\_message}}\ build\_slot\_indication\_message(\textcolor{keywordtype}{unsigned}\ sfn,\ \textcolor{keywordtype}{unsigned}\ slot)}
\DoxyCodeLine{01869\ \{}
\DoxyCodeLine{01870\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1slot__indication__message}{slot\_indication\_message}}\ msg;}
\DoxyCodeLine{01871\ \ \ msg.message\_type\ =\ message\_type\_id::slot\_indication;}
\DoxyCodeLine{01872\ }
\DoxyCodeLine{01873\ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{01874\ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{01875\ }
\DoxyCodeLine{01876\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01877\ \}}
\DoxyCodeLine{01878\ }
\DoxyCodeLine{01879\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01880\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01881\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ any\ error\ code\ id\ but\ OUT\_OF\_SYNC\ error.}}
\DoxyCodeLine{01882\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}}
\DoxyCodeLine{01883\ build\_error\_indication(uint16\_t\ sfn,\ uint16\_t\ slot,\ message\_type\_id\ msg\_id,\ error\_code\_id\ error\_id)}
\DoxyCodeLine{01884\ \{}
\DoxyCodeLine{01885\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01886\ }
\DoxyCodeLine{01887\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01888\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01889\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01890\ \ \ msg.message\_id\ \ \ \ =\ msg\_id;}
\DoxyCodeLine{01891\ \ \ msg.error\_code\ \ \ \ =\ error\_id;}
\DoxyCodeLine{01892\ \ \ msg.expected\_sfn\ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_sfn)>::max();}
\DoxyCodeLine{01893\ \ \ msg.expected\_slot\ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_slot)>::max();}
\DoxyCodeLine{01894\ }
\DoxyCodeLine{01895\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01896\ \}}
\DoxyCodeLine{01897\ }
\DoxyCodeLine{01898\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01899\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01900\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ only\ an\ OUT\_OF\_SYNC\ error\ code.}}
\DoxyCodeLine{01901\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ build\_out\_of\_sync\_error\_indication(uint16\_t\ \ \ \ \ \ \ \ sfn,}
\DoxyCodeLine{01902\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ slot,}
\DoxyCodeLine{01903\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\_type\_id\ msg\_id,}
\DoxyCodeLine{01904\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ expected\_sfn,}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ expected\_slot)}
\DoxyCodeLine{01906\ \{}
\DoxyCodeLine{01907\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01908\ }
\DoxyCodeLine{01909\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01910\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01911\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01912\ \ \ msg.message\_id\ \ \ \ =\ msg\_id;}
\DoxyCodeLine{01913\ \ \ msg.error\_code\ \ \ \ =\ error\_code\_id::out\_of\_sync;}
\DoxyCodeLine{01914\ \ \ msg.expected\_sfn\ \ =\ expected\_sfn;}
\DoxyCodeLine{01915\ \ \ msg.expected\_slot\ =\ expected\_slot;}
\DoxyCodeLine{01916\ }
\DoxyCodeLine{01917\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01918\ \}}
\DoxyCodeLine{01919\ }
\DoxyCodeLine{01920\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01921\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01922\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ only\ an\ MSG\_INVALID\_SFN\ error\ code.}}
\DoxyCodeLine{01923\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ build\_invalid\_sfn\_error\_indication(uint16\_t\ \ \ \ \ \ \ \ sfn,}
\DoxyCodeLine{01924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ slot,}
\DoxyCodeLine{01925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\_type\_id\ msg\_id,}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ expected\_sfn,}
\DoxyCodeLine{01927\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ expected\_slot)}
\DoxyCodeLine{01928\ \{}
\DoxyCodeLine{01929\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01930\ }
\DoxyCodeLine{01931\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01932\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01933\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01934\ \ \ msg.message\_id\ \ \ \ =\ msg\_id;}
\DoxyCodeLine{01935\ \ \ msg.error\_code\ \ \ \ =\ error\_code\_id::msg\_invalid\_sfn;}
\DoxyCodeLine{01936\ \ \ msg.expected\_sfn\ \ =\ expected\_sfn;}
\DoxyCodeLine{01937\ \ \ msg.expected\_slot\ =\ expected\_slot;}
\DoxyCodeLine{01938\ }
\DoxyCodeLine{01939\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01940\ \}}
\DoxyCodeLine{01941\ }
\DoxyCodeLine{01942\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01943\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01944\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ only\ a\ MSG\_SLOT\_ERR\ error\ code.}}
\DoxyCodeLine{01945\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ build\_msg\_slot\_error\_indication(uint16\_t\ sfn,\ uint16\_t\ slot,\ message\_type\_id\ msg\_id)}
\DoxyCodeLine{01946\ \{}
\DoxyCodeLine{01947\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01948\ }
\DoxyCodeLine{01949\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01950\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01951\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01952\ \ \ msg.message\_id\ \ \ \ =\ msg\_id;}
\DoxyCodeLine{01953\ \ \ msg.error\_code\ \ \ \ =\ error\_code\_id::msg\_slot\_err;}
\DoxyCodeLine{01954\ \ \ msg.expected\_sfn\ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_sfn)>::max();}
\DoxyCodeLine{01955\ \ \ msg.expected\_slot\ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_slot)>::max();}
\DoxyCodeLine{01956\ }
\DoxyCodeLine{01957\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01958\ \}}
\DoxyCodeLine{01959\ }
\DoxyCodeLine{01960\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01961\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01962\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ only\ a\ MSG\_TX\_ERR\ error\ code.}}
\DoxyCodeLine{01963\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ build\_msg\_tx\_error\_indication(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01964\ \{}
\DoxyCodeLine{01965\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01966\ }
\DoxyCodeLine{01967\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01968\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01969\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01970\ \ \ msg.message\_id\ \ \ \ =\ message\_type\_id::tx\_data\_request;}
\DoxyCodeLine{01971\ \ \ msg.error\_code\ \ \ \ =\ error\_code\_id::msg\_tx\_err;}
\DoxyCodeLine{01972\ \ \ msg.expected\_sfn\ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_sfn)>::max();}
\DoxyCodeLine{01973\ \ \ msg.expected\_slot\ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_slot)>::max();}
\DoxyCodeLine{01974\ }
\DoxyCodeLine{01975\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01976\ \}}
\DoxyCodeLine{01977\ }
\DoxyCodeLine{01978\ \textcolor{comment}{///\ \(\backslash\)brief\ Builds\ and\ returns\ an\ ERROR.indication\ message\ with\ the\ given\ parameters,\ as\ per\ SCF-\/222\ v4.0\ section\ 3.3.6.1}}
\DoxyCodeLine{01979\ \textcolor{comment}{///\ in\ table\ ERROR.indication\ message\ body}}
\DoxyCodeLine{01980\ \textcolor{comment}{///\ \(\backslash\)note\ This\ builder\ is\ used\ to\ build\ only\ a\ MSG\_UL\_DCI\_ERR\ error\ code.}}
\DoxyCodeLine{01981\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ build\_msg\_ul\_dci\_error\_indication(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{01982\ \{}
\DoxyCodeLine{01983\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}\ msg;}
\DoxyCodeLine{01984\ }
\DoxyCodeLine{01985\ \ \ msg.message\_type\ \ =\ message\_type\_id::error\_indication;}
\DoxyCodeLine{01986\ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{01987\ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{01988\ \ \ msg.message\_id\ \ \ \ =\ message\_type\_id::ul\_dci\_request;}
\DoxyCodeLine{01989\ \ \ msg.error\_code\ \ \ \ =\ error\_code\_id::msg\_ul\_dci\_err;}
\DoxyCodeLine{01990\ \ \ msg.expected\_sfn\ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_sfn)>::max();}
\DoxyCodeLine{01991\ \ \ msg.expected\_slot\ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsrsran_1_1fapi_1_1error__indication__message}{error\_indication\_message}}::expected\_slot)>::max();}
\DoxyCodeLine{01992\ }
\DoxyCodeLine{01993\ \ \ \textcolor{keywordflow}{return}\ msg;}
\DoxyCodeLine{01994\ \}}
\DoxyCodeLine{01995\ }
\DoxyCodeLine{01996\ \textcolor{comment}{///\ Rx\_Data.indication\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.7.}}
\DoxyCodeLine{01997\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rx__data__indication__message__builder}{rx\_data\_indication\_message\_builder}}}
\DoxyCodeLine{01998\ \{}
\DoxyCodeLine{01999\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1rx__data__indication__message}{rx\_data\_indication\_message}}\&\ msg;}
\DoxyCodeLine{02000\ }
\DoxyCodeLine{02001\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02002\ \ \ \textcolor{keyword}{explicit}\ rx\_data\_indication\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1rx__data__indication__message}{rx\_data\_indication\_message}}\&\ msg\_)\ :\ msg(msg\_)\ \{\}}
\DoxyCodeLine{02003\ }
\DoxyCodeLine{02004\ \ \ \textcolor{comment}{///\ Sets\ the\ Rx\_Data.indication\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02005\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.7\ in\ table\ Rx\_Data.indication\ message\ body.}}
\DoxyCodeLine{02006\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rx__data__indication__message__builder}{rx\_data\_indication\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rx__data__indication__message__builder_a963d61526a244c0ac7f20cefccde56d3}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot,\ uint16\_t\ control\_length)}
\DoxyCodeLine{02007\ \ \ \{}
\DoxyCodeLine{02008\ \ \ \ \ msg.sfn\ \ \ \ \ \ \ \ \ \ \ \ =\ sfn;}
\DoxyCodeLine{02009\ \ \ \ \ msg.slot\ \ \ \ \ \ \ \ \ \ \ =\ slot;}
\DoxyCodeLine{02010\ \ \ \ \ msg.control\_length\ =\ control\_length;}
\DoxyCodeLine{02011\ }
\DoxyCodeLine{02012\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02013\ \ \ \}}
\DoxyCodeLine{02014\ }
\DoxyCodeLine{02015\ \ \ \textcolor{comment}{///\ Adds\ a\ PDU\ to\ the\ message\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02016\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.7\ in\ table\ Rx\_Data.indication\ message\ body.}}
\DoxyCodeLine{02017\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rx__data__indication__message__builder}{rx\_data\_indication\_message\_builder}}\&}
\DoxyCodeLine{02018\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rx__data__indication__message__builder_a0f9e0af72ead3705da0d1b0c1dffc9f4}{add\_custom\_pdu}}(uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ rapid,\ uint8\_t\ harq\_id,\ span<\textcolor{keyword}{const}\ uint8\_t>\ data)}
\DoxyCodeLine{02019\ \ \ \{}
\DoxyCodeLine{02020\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{02021\ }
\DoxyCodeLine{02022\ \ \ \ \ pdu.handle\ \ =\ handle;}
\DoxyCodeLine{02023\ \ \ \ \ pdu.rnti\ \ \ \ =\ rnti;}
\DoxyCodeLine{02024\ \ \ \ \ pdu.rapid\ \ \ =\ (rapid)\ ?\ \textcolor{keyword}{static\_cast}<uint8\_t>(rapid.value())\ :\ 255U;}
\DoxyCodeLine{02025\ \ \ \ \ pdu.harq\_id\ =\ harq\_id;}
\DoxyCodeLine{02026\ }
\DoxyCodeLine{02027\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ PDU\ as\ custom.\ This\ part\ of\ the\ message\ is\ not\ compliant\ with\ FAPI.}}
\DoxyCodeLine{02028\ \ \ \ \ pdu.pdu\_tag\ \ \ \ =\ rx\_data\_indication\_pdu::pdu\_tag\_type::custom;}
\DoxyCodeLine{02029\ \ \ \ \ pdu.pdu\_length\ =\ data.size();}
\DoxyCodeLine{02030\ \ \ \ \ pdu.data\ \ \ \ \ \ \ =\ data.data();}
\DoxyCodeLine{02031\ }
\DoxyCodeLine{02032\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02033\ \ \ \}}
\DoxyCodeLine{02034\ \};}
\DoxyCodeLine{02035\ }
\DoxyCodeLine{02036\ \textcolor{comment}{///\ PRACH\ PDU\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.1.}}
\DoxyCodeLine{02037\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}}
\DoxyCodeLine{02038\ \{}
\DoxyCodeLine{02039\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__prach__pdu}{ul\_prach\_pdu}}\&\ pdu;}
\DoxyCodeLine{02040\ }
\DoxyCodeLine{02041\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02042\ \ \ \textcolor{keyword}{explicit}\ ul\_prach\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__prach__pdu}{ul\_prach\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\}}
\DoxyCodeLine{02043\ }
\DoxyCodeLine{02044\ \ \ \textcolor{comment}{///\ Sets\ the\ PRACH\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02045\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.1\ in\ table\ PRACH\ PDU.}}
\DoxyCodeLine{02046\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{set\_basic\_parameters}}(pci\_t\ \ \ \ \ \ \ \ \ \ \ \ \ pci,}
\DoxyCodeLine{02047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ num\_occasions,}
\DoxyCodeLine{02048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a80c3e0271a30bccec9122a9dfedb79a6}{prach\_format\_type}}\ format\_type,}
\DoxyCodeLine{02049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ index\_fd\_ra,}
\DoxyCodeLine{02050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ prach\_start\_symbol,}
\DoxyCodeLine{02051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ num\_cs)}
\DoxyCodeLine{02052\ \ \ \{}
\DoxyCodeLine{02053\ \ \ \ \ pdu.phys\_cell\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pci;}
\DoxyCodeLine{02054\ \ \ \ \ pdu.num\_prach\_ocas\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ num\_occasions;}
\DoxyCodeLine{02055\ \ \ \ \ pdu.prach\_format\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ format\_type;}
\DoxyCodeLine{02056\ \ \ \ \ pdu.index\_fd\_ra\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ index\_fd\_ra;}
\DoxyCodeLine{02057\ \ \ \ \ pdu.prach\_start\_symbol\ \ \ \ \ \ \ \ \ \ =\ prach\_start\_symbol;}
\DoxyCodeLine{02058\ \ \ \ \ pdu.num\_cs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ num\_cs;}
\DoxyCodeLine{02059\ \ \ \ \ pdu.is\_msg\_a\_prach\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{02060\ \ \ \ \ pdu.has\_msg\_a\_pusch\_beamforming\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02061\ }
\DoxyCodeLine{02062\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02063\ \ \ \}}
\DoxyCodeLine{02064\ }
\DoxyCodeLine{02065\ \ \ \textcolor{comment}{///\ Sets\ the\ PRACH\ PDU\ maintenance\ v3\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02066\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.1\ in\ table\ PRACH\ maintenance\ FAPIv3.}}
\DoxyCodeLine{02067\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a522279270c435a961263f2b92d6af3d7}{set\_maintenance\_v3\_basic\_parameters}}(uint32\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle,}
\DoxyCodeLine{02068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prach\_config\_scope\_type\ prach\_config\_scope,}
\DoxyCodeLine{02069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prach\_res\_config\_index,}
\DoxyCodeLine{02070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_fd\_ra,}
\DoxyCodeLine{02071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<uint8\_t>\ \ \ \ \ \ \ start\_preamble\_index,}
\DoxyCodeLine{02072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_preambles\_indices)}
\DoxyCodeLine{02073\ \ \ \{}
\DoxyCodeLine{02074\ \ \ \ \ \textcolor{keyword}{auto}\&\ v3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.maintenance\_v3;}
\DoxyCodeLine{02075\ \ \ \ \ v3.handle\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ handle;}
\DoxyCodeLine{02076\ \ \ \ \ v3.prach\_config\_scope\ \ \ \ \ =\ prach\_config\_scope;}
\DoxyCodeLine{02077\ \ \ \ \ v3.prach\_res\_config\_index\ =\ prach\_res\_config\_index;}
\DoxyCodeLine{02078\ \ \ \ \ v3.num\_fd\_ra\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ num\_fd\_ra;}
\DoxyCodeLine{02079\ \ \ \ \ v3.start\_preamble\_index\ =}
\DoxyCodeLine{02080\ \ \ \ \ \ \ \ \ (start\_preamble\_index)\ ?\ start\_preamble\_index.value()\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{02081\ \ \ \ \ v3.num\_preamble\_indices\ =\ num\_preambles\_indices;}
\DoxyCodeLine{02082\ }
\DoxyCodeLine{02083\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02084\ \ \ \}}
\DoxyCodeLine{02085\ }
\DoxyCodeLine{02086\ \ \ \textcolor{comment}{//:\ TODO:\ beamforming}}
\DoxyCodeLine{02087\ \ \ \textcolor{comment}{//:\ TODO:\ uplink\ spatial\ assignment}}
\DoxyCodeLine{02088\ \};}
\DoxyCodeLine{02089\ }
\DoxyCodeLine{02090\ \textcolor{comment}{///\ PUCCH\ PDU\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3.}}
\DoxyCodeLine{02091\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}}
\DoxyCodeLine{02092\ \{}
\DoxyCodeLine{02093\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pucch__pdu}{ul\_pucch\_pdu}}\&\ pdu;}
\DoxyCodeLine{02094\ }
\DoxyCodeLine{02095\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02096\ \ \ \textcolor{keyword}{explicit}\ ul\_pucch\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pucch__pdu}{ul\_pucch\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)\ \{\}}
\DoxyCodeLine{02097\ }
\DoxyCodeLine{02098\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02099\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02100\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{set\_basic\_parameters}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ uint32\_t\ handle)}
\DoxyCodeLine{02101\ \ \ \{}
\DoxyCodeLine{02102\ \ \ \ \ pdu.rnti\ \ \ =\ rnti;}
\DoxyCodeLine{02103\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{02104\ }
\DoxyCodeLine{02105\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02106\ \ \ \}}
\DoxyCodeLine{02107\ }
\DoxyCodeLine{02108\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ common\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02109\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02110\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&}
\DoxyCodeLine{02111\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a62dbb2f655c13cb3a96d814795b39e50}{set\_common\_parameters}}(\mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ format\_type,\ \mbox{\hyperlink{namespacesrsran_a8500b0add803bca384434db9546ed742}{pucch\_repetition\_tx\_slot}}\ multi\_slot\_tx\_type,\ \textcolor{keywordtype}{bool}\ pi2\_bpsk)}
\DoxyCodeLine{02112\ \ \ \{}
\DoxyCodeLine{02113\ \ \ \ \ pdu.format\_type\ \ \ \ \ \ \ \ \ \ \ \ \ =\ format\_type;}
\DoxyCodeLine{02114\ \ \ \ \ pdu.multi\_slot\_tx\_indicator\ =\ multi\_slot\_tx\_type;}
\DoxyCodeLine{02115\ \ \ \ \ pdu.pi2\_bpsk\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pi2\_bpsk;}
\DoxyCodeLine{02116\ }
\DoxyCodeLine{02117\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02118\ \ \ \}}
\DoxyCodeLine{02119\ }
\DoxyCodeLine{02120\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ BWP\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02121\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02122\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&}
\DoxyCodeLine{02123\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_adc47837766cd5a7ef233703052b8b713}{set\_bwp\_parameters}}(uint16\_t\ bwp\_size,\ uint16\_t\ bwp\_start,\ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\_prefix}}\ cp)}
\DoxyCodeLine{02124\ \ \ \{}
\DoxyCodeLine{02125\ \ \ \ \ pdu.bwp\_size\ \ =\ bwp\_size;}
\DoxyCodeLine{02126\ \ \ \ \ pdu.bwp\_start\ =\ bwp\_start;}
\DoxyCodeLine{02127\ \ \ \ \ pdu.scs\ \ \ \ \ \ \ =\ scs;}
\DoxyCodeLine{02128\ \ \ \ \ pdu.cp\ \ \ \ \ \ \ \ =\ cp;}
\DoxyCodeLine{02129\ }
\DoxyCodeLine{02130\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02131\ \ \ \}}
\DoxyCodeLine{02132\ }
\DoxyCodeLine{02133\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ allocation\ in\ frequency\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02134\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02135\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a400acfee13db9911976cf25383b8d00d}{set\_allocation\_in\_frequency\_parameters}}(uint16\_t\ prb\_start,\ uint16\_t\ prb\_size)}
\DoxyCodeLine{02136\ \ \ \{}
\DoxyCodeLine{02137\ \ \ \ \ pdu.prb\_start\ =\ prb\_start;}
\DoxyCodeLine{02138\ \ \ \ \ pdu.prb\_size\ \ =\ prb\_size;}
\DoxyCodeLine{02139\ }
\DoxyCodeLine{02140\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02141\ \ \ \}}
\DoxyCodeLine{02142\ }
\DoxyCodeLine{02143\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ allocation\ in\ time\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02144\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02145\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_acc30eb5c748b6176c817d43b73b12dbb}{set\_allocation\_in\_time\_parameters}}(uint8\_t\ start\_symbol\_index,\ uint8\_t\ nof\_symbols)}
\DoxyCodeLine{02146\ \ \ \{}
\DoxyCodeLine{02147\ \ \ \ \ pdu.start\_symbol\_index\ =\ start\_symbol\_index;}
\DoxyCodeLine{02148\ \ \ \ \ pdu.nr\_of\_symbols\ \ \ \ \ \ =\ nof\_symbols;}
\DoxyCodeLine{02149\ }
\DoxyCodeLine{02150\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02151\ \ \ \}}
\DoxyCodeLine{02152\ }
\DoxyCodeLine{02153\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ hopping\ information\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02154\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02155\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_ab0b466e2087fcf8958ab8136f6ff38a1}{set\_hopping\_information\_parameters}}(\textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ intra\_slot\_frequency\_hopping,}
\DoxyCodeLine{02156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ second\_hop\_prb,}
\DoxyCodeLine{02157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964c}{pucch\_group\_hopping}}\ pucch\_group\_hopping,}
\DoxyCodeLine{02158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ nid\_pucch\_hopping,}
\DoxyCodeLine{02159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ initial\_cyclic\_shift)}
\DoxyCodeLine{02160\ \ \ \{}
\DoxyCodeLine{02161\ \ \ \ \ pdu.intra\_slot\_frequency\_hopping\ =\ intra\_slot\_frequency\_hopping;}
\DoxyCodeLine{02162\ \ \ \ \ pdu.second\_hop\_prb\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ second\_hop\_prb;}
\DoxyCodeLine{02163\ \ \ \ \ pdu.pucch\_grp\_hopping\ \ \ \ \ \ \ \ \ \ \ \ =\ pucch\_group\_hopping;}
\DoxyCodeLine{02164\ \ \ \ \ pdu.nid\_pucch\_hopping\ \ \ \ \ \ \ \ \ \ \ \ =\ nid\_pucch\_hopping;}
\DoxyCodeLine{02165\ \ \ \ \ pdu.initial\_cyclic\_shift\ \ \ \ \ \ \ \ \ =\ initial\_cyclic\_shift;}
\DoxyCodeLine{02166\ }
\DoxyCodeLine{02167\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02168\ \ \ \}}
\DoxyCodeLine{02169\ }
\DoxyCodeLine{02170\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ hopping\ information\ parameters\ for\ PUCCH\ format\ 2\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02171\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02172\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_abef2e48773ab8c226a268171a191c167}{set\_hopping\_information\_format2\_parameters}}(\textcolor{keywordtype}{bool}\ \ \ \ \ intra\_slot\_frequency\_hopping,}
\DoxyCodeLine{02173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ second\_hop\_prb)}
\DoxyCodeLine{02174\ \ \ \{}
\DoxyCodeLine{02175\ \ \ \ \ pdu.intra\_slot\_frequency\_hopping\ =\ intra\_slot\_frequency\_hopping;}
\DoxyCodeLine{02176\ \ \ \ \ pdu.second\_hop\_prb\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ second\_hop\_prb;}
\DoxyCodeLine{02177\ }
\DoxyCodeLine{02178\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02179\ \ \ \}}
\DoxyCodeLine{02180\ }
\DoxyCodeLine{02181\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ scrambling\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02182\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02183\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_ac6252cacdeb7a875c52e5025baaecef9}{set\_scrambling\_parameters}}(uint16\_t\ nid\_pucch\_scrambling)}
\DoxyCodeLine{02184\ \ \ \{}
\DoxyCodeLine{02185\ \ \ \ \ pdu.nid\_pucch\_scrambling\ =\ nid\_pucch\_scrambling;}
\DoxyCodeLine{02186\ }
\DoxyCodeLine{02187\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02188\ \ \ \}}
\DoxyCodeLine{02189\ }
\DoxyCodeLine{02190\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ format\ 2\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02191\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02192\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a4bda42129992d9e5d4f4c052da677b94}{set\_format2\_parameters}}(uint16\_t\ nid0\_pucch\_dmrs\_scrambling)}
\DoxyCodeLine{02193\ \ \ \{}
\DoxyCodeLine{02194\ \ \ \ \ pdu.nid0\_pucch\_dmrs\_scrambling\ =\ nid0\_pucch\_dmrs\_scrambling;}
\DoxyCodeLine{02195\ }
\DoxyCodeLine{02196\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02197\ \ \ \}}
\DoxyCodeLine{02198\ }
\DoxyCodeLine{02199\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ format\ 1\ specific\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02200\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02201\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a1226c545e0bd60cd4bf8521f74cae04f}{set\_format1\_parameters}}(uint8\_t\ time\_domain\_occ\_idx)}
\DoxyCodeLine{02202\ \ \ \{}
\DoxyCodeLine{02203\ \ \ \ \ pdu.time\_domain\_occ\_index\ =\ time\_domain\_occ\_idx;}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02206\ \ \ \}}
\DoxyCodeLine{02207\ }
\DoxyCodeLine{02208\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ format\ 4\ specific\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02209\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02210\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_ae19f6b772cdd2ab9a3ee1511fd3d4f9f}{set\_format4\_parameters}}(uint8\_t\ pre\_dft\_occ\_idx,\ uint8\_t\ pre\_dft\_occ\_len)}
\DoxyCodeLine{02211\ \ \ \{}
\DoxyCodeLine{02212\ \ \ \ \ pdu.pre\_dft\_occ\_idx\ =\ pre\_dft\_occ\_idx;}
\DoxyCodeLine{02213\ \ \ \ \ pdu.pre\_dft\_occ\_len\ =\ pre\_dft\_occ\_len;}
\DoxyCodeLine{02214\ }
\DoxyCodeLine{02215\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02216\ \ \ \}}
\DoxyCodeLine{02217\ }
\DoxyCodeLine{02218\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ DMRS\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02219\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02220\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a008bea79f6dd184bb2ef9e0a1395e373}{set\_dmrs\_parameters}}(\textcolor{keywordtype}{bool}\ add\_dmrs\_flag,\ uint8\_t\ m0\_pucch\_dmrs\_cyclic\_shift)}
\DoxyCodeLine{02221\ \ \ \{}
\DoxyCodeLine{02222\ \ \ \ \ pdu.add\_dmrs\_flag\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ add\_dmrs\_flag;}
\DoxyCodeLine{02223\ \ \ \ \ pdu.m0\_pucch\_dmrs\_cyclic\_shift\ =\ m0\_pucch\_dmrs\_cyclic\_shift;}
\DoxyCodeLine{02224\ }
\DoxyCodeLine{02225\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02226\ \ \ \}}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ bit\ length\ for\ SR,\ HARQ\ and\ CSI\ Part\ 1\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02229\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02230\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&}
\DoxyCodeLine{02231\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_ae0965a976d3e1479a40c6893930654ab}{set\_bit\_length\_parameters}}(uint8\_t\ sr\_bit\_len,\ uint16\_t\ bit\_len\_harq,\ uint16\_t\ csi\_part1\_bit\_length)}
\DoxyCodeLine{02232\ \ \ \{}
\DoxyCodeLine{02233\ \ \ \ \ pdu.sr\_bit\_len\ \ \ \ \ \ \ \ \ \ \ =\ sr\_bit\_len;}
\DoxyCodeLine{02234\ \ \ \ \ pdu.bit\_len\_harq\ \ \ \ \ \ \ \ \ =\ bit\_len\_harq;}
\DoxyCodeLine{02235\ \ \ \ \ pdu.csi\_part1\_bit\_length\ =\ csi\_part1\_bit\_length;}
\DoxyCodeLine{02236\ }
\DoxyCodeLine{02237\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02238\ \ \ \}}
\DoxyCodeLine{02239\ }
\DoxyCodeLine{02240\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ maintenance\ v3\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02241\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ basic\ extension\ for\ FAPIv3.}}
\DoxyCodeLine{02242\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a9b063fc931a62866e2b018baed6a7579}{set\_maintenance\_v3\_basic\_parameters}}(\mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ max\_code\_rate,}
\DoxyCodeLine{02243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional}}<\textcolor{keywordtype}{unsigned}>\ ul\_bwp\_id)}
\DoxyCodeLine{02244\ \ \ \{}
\DoxyCodeLine{02245\ \ \ \ \ pdu.pucch\_maintenance\_v3.max\_code\_rate\ =}
\DoxyCodeLine{02246\ \ \ \ \ \ \ \ \ (max\_code\_rate)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(max\_code\_rate.value())\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{02247\ \ \ \ \ pdu.pucch\_maintenance\_v3.ul\_bwp\_id\ =}
\DoxyCodeLine{02248\ \ \ \ \ \ \ \ \ (ul\_bwp\_id)\ ?\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(ul\_bwp\_id.value())\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{02249\ }
\DoxyCodeLine{02250\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02251\ \ \ \}}
\DoxyCodeLine{02252\ }
\DoxyCodeLine{02253\ \ \ \textcolor{comment}{///\ Adds\ a\ UCI\ part1\ to\ part2\ correspondence\ v3\ to\ the\ PUCCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02254\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ UCI\ information\ for\ determining\ UCI}}
\DoxyCodeLine{02255\ \ \ \textcolor{comment}{///\ Part1\ to\ PArt2\ correspondence,\ added\ in\ FAPIv3.}}
\DoxyCodeLine{02256\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&}
\DoxyCodeLine{02257\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a9d18ef005c4320d17bdbc68d1e28d278}{add\_uci\_part1\_part2\_corresnpondence\_v3}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ priority,}
\DoxyCodeLine{02258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint16\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_offset,}
\DoxyCodeLine{02259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_sizes,}
\DoxyCodeLine{02260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ part2\_size\_map\_index,}
\DoxyCodeLine{02261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__part1__to__part2__correspondence__v3}{uci\_part1\_to\_part2\_correspondence\_v3}}::map\_scope\_type\ part2\_size\_map\_scope)}
\DoxyCodeLine{02262\ \ \ \{}
\DoxyCodeLine{02263\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(param\_offset.size()\ ==\ param\_sizes.size(),}
\DoxyCodeLine{02264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Mismatching\ span\ sizes\ for\ param\ offset\ (\{\})\ and\ param\ sizes\ (\{\})"{}},}
\DoxyCodeLine{02265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_offset.size(),}
\DoxyCodeLine{02266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_sizes.size());}
\DoxyCodeLine{02267\ }
\DoxyCodeLine{02268\ \ \ \ \ \textcolor{keyword}{auto}\&\ correspondence\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.uci\_correspondence.part2.emplace\_back();}
\DoxyCodeLine{02269\ \ \ \ \ correspondence.priority\ \ \ \ \ \ \ \ \ \ \ \ \ =\ priority;}
\DoxyCodeLine{02270\ \ \ \ \ correspondence.part2\_size\_map\_index\ =\ part2\_size\_map\_index;}
\DoxyCodeLine{02271\ \ \ \ \ correspondence.part2\_size\_map\_scope\ =\ part2\_size\_map\_scope;}
\DoxyCodeLine{02272\ }
\DoxyCodeLine{02273\ \ \ \ \ correspondence.param\_offsets.assign(param\_offset.begin(),\ param\_offset.end());}
\DoxyCodeLine{02274\ \ \ \ \ correspondence.param\_sizes.assign(param\_sizes.begin(),\ param\_sizes.end());}
\DoxyCodeLine{02275\ }
\DoxyCodeLine{02276\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02277\ \ \ \}}
\DoxyCodeLine{02278\ }
\DoxyCodeLine{02279\ \ \ \textcolor{comment}{///\ Sets\ the\ PUCCH\ PDU\ UCI\ part1\ to\ part2\ correspondence\ v3\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02280\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ basic\ extension\ for\ FAPIv3.}}
\DoxyCodeLine{02281\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_ade04130005961c9b88343b89bcd23cd0}{set\_uci\_part1\_part2\_corresnpondence\_v3\_basic\_parameters}}(}
\DoxyCodeLine{02282\ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__part1__to__part2__correspondence__v3}{uci\_part1\_to\_part2\_correspondence\_v3}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__part1__to__part2__correspondence__v3_1_1part2__info}{part2\_info}}>\ correspondence)}
\DoxyCodeLine{02283\ \ \ \{}
\DoxyCodeLine{02284\ \ \ \ \ pdu.uci\_correspondence.part2.assign(correspondence.begin(),\ correspondence.end());}
\DoxyCodeLine{02285\ }
\DoxyCodeLine{02286\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02287\ \ \ \}}
\DoxyCodeLine{02288\ \};}
\DoxyCodeLine{02289\ }
\DoxyCodeLine{02290\ \textcolor{comment}{///\ PUSCH\ PDU\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2.}}
\DoxyCodeLine{02291\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}}
\DoxyCodeLine{02292\ \{}
\DoxyCodeLine{02293\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}\&\ pdu;}
\DoxyCodeLine{02294\ }
\DoxyCodeLine{02295\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02296\ \ \ \textcolor{keyword}{explicit}\ ul\_pusch\_pdu\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}\&\ pdu\_)\ :\ pdu(pdu\_)}
\DoxyCodeLine{02297\ \ \ \{}
\DoxyCodeLine{02298\ \ \ \ \ pdu.ul\_dmrs\_symb\_pos\ =\ 0U;}
\DoxyCodeLine{02299\ \ \ \ \ pdu.rb\_bitmap.fill(0);}
\DoxyCodeLine{02300\ }
\DoxyCodeLine{02301\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__uci}{ul\_pusch\_uci}}\&\ uci\ \ \ \ \ \ \ \ =\ pdu.pusch\_uci;}
\DoxyCodeLine{02302\ \ \ \ \ uci.harq\_ack\_bit\_length\ \ =\ 0U;}
\DoxyCodeLine{02303\ \ \ \ \ uci.beta\_offset\_harq\_ack\ =\ 0U;}
\DoxyCodeLine{02304\ \ \ \ \ uci.csi\_part1\_bit\_length\ =\ 0U;}
\DoxyCodeLine{02305\ \ \ \ \ uci.beta\_offset\_csi1\ \ \ \ \ =\ 0U;}
\DoxyCodeLine{02306\ \ \ \ \ uci.flags\_csi\_part2\ \ \ \ \ \ =\ 0U;}
\DoxyCodeLine{02307\ \ \ \ \ uci.beta\_offset\_csi2\ \ \ \ \ =\ 0U;}
\DoxyCodeLine{02308\ \ \ \}}
\DoxyCodeLine{02309\ }
\DoxyCodeLine{02310\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02311\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02312\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{set\_basic\_parameters}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ uint32\_t\ handle)}
\DoxyCodeLine{02313\ \ \ \{}
\DoxyCodeLine{02314\ \ \ \ \ pdu.rnti\ \ \ =\ rnti;}
\DoxyCodeLine{02315\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{02316\ }
\DoxyCodeLine{02317\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02318\ \ \ \}}
\DoxyCodeLine{02319\ }
\DoxyCodeLine{02320\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ BWP\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02321\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02322\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&}
\DoxyCodeLine{02323\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a632d666c5e2d5d020db07723ce150433}{set\_bwp\_parameters}}(uint16\_t\ bwp\_size,\ uint16\_t\ bwp\_start,\ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\_spacing}}\ scs,\ \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\_prefix}}\ cp)}
\DoxyCodeLine{02324\ \ \ \{}
\DoxyCodeLine{02325\ \ \ \ \ pdu.bwp\_size\ \ =\ bwp\_size;}
\DoxyCodeLine{02326\ \ \ \ \ pdu.bwp\_start\ =\ bwp\_start;}
\DoxyCodeLine{02327\ \ \ \ \ pdu.scs\ \ \ \ \ \ \ =\ scs;}
\DoxyCodeLine{02328\ \ \ \ \ pdu.cp\ \ \ \ \ \ \ \ =\ cp;}
\DoxyCodeLine{02329\ }
\DoxyCodeLine{02330\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02331\ \ \ \}}
\DoxyCodeLine{02332\ }
\DoxyCodeLine{02333\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ information\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02334\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02335\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_ade4f0fbcc05098d692b1e32818731c2d}{set\_information\_parameters}}(\textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \ target\_code\_rate,}
\DoxyCodeLine{02336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802df}{modulation\_scheme}}\ qam\_mod\_order,}
\DoxyCodeLine{02337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ mcs\_index,}
\DoxyCodeLine{02338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_ab9c85fbd71b868a0cc3ba0b21d0c2bbf}{pusch\_mcs\_table}}\ \ \ mcs\_table,}
\DoxyCodeLine{02339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ transform\_precoding,}
\DoxyCodeLine{02340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ nid\_pusch,}
\DoxyCodeLine{02341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ num\_layers)}
\DoxyCodeLine{02342\ \ \ \{}
\DoxyCodeLine{02343\ \ \ \ \ pdu.target\_code\_rate\ \ \ \ =\ target\_code\_rate\ *\ 10.F;}
\DoxyCodeLine{02344\ \ \ \ \ pdu.qam\_mod\_order\ \ \ \ \ \ \ =\ qam\_mod\_order;}
\DoxyCodeLine{02345\ \ \ \ \ pdu.mcs\_index\ \ \ \ \ \ \ \ \ \ \ =\ mcs\_index;}
\DoxyCodeLine{02346\ \ \ \ \ pdu.mcs\_table\ \ \ \ \ \ \ \ \ \ \ =\ mcs\_table;}
\DoxyCodeLine{02347\ \ \ \ \ pdu.transform\_precoding\ =\ transform\_precoding;}
\DoxyCodeLine{02348\ \ \ \ \ pdu.nid\_pusch\ \ \ \ \ \ \ \ \ \ \ =\ nid\_pusch;}
\DoxyCodeLine{02349\ \ \ \ \ pdu.num\_layers\ \ \ \ \ \ \ \ \ \ =\ num\_layers;}
\DoxyCodeLine{02350\ }
\DoxyCodeLine{02351\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02352\ \ \ \}}
\DoxyCodeLine{02353\ }
\DoxyCodeLine{02354\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ DMRS\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02355\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02356\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aaed5bcab93f2d0e5e77411273b421e04}{set\_dmrs\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ ul\_dmrs\_symb\_pos,}
\DoxyCodeLine{02357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}\ \ \ dmrs\_type,}
\DoxyCodeLine{02358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ pusch\_dmrs\_scrambling\_id,}
\DoxyCodeLine{02359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ pusch\_dmrs\_scrambling\_id\_complement,}
\DoxyCodeLine{02360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ low\_papr\_dmrs\_type\ low\_papr\_dmrs,}
\DoxyCodeLine{02361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ pusch\_dmrs\_identity,}
\DoxyCodeLine{02362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ nscid,}
\DoxyCodeLine{02363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ num\_dmrs\_cdm\_grps\_no\_data,}
\DoxyCodeLine{02364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ dmrs\_ports)}
\DoxyCodeLine{02365\ \ \ \{}
\DoxyCodeLine{02366\ \ \ \ \ pdu.ul\_dmrs\_symb\_pos\ =\ ul\_dmrs\_symb\_pos;}
\DoxyCodeLine{02367\ \ \ \ \ pdu.dmrs\_type\ \ \ \ \ \ \ \ =\ (dmrs\_type\ ==\ \mbox{\hyperlink{namespacesrsran_acd5207e7922e77d3e4b9eb0985b25e26}{dmrs\_config\_type}}::type1)\ ?\ dmrs\_cfg\_type::type\_1\ :\ dmrs\_cfg\_type::type\_2;}
\DoxyCodeLine{02368\ \ \ \ \ pdu.pusch\_dmrs\_scrambling\_id\ \ \ \ \ \ \ \ \ \ \ \ =\ pusch\_dmrs\_scrambling\_id;}
\DoxyCodeLine{02369\ \ \ \ \ pdu.pusch\_dmrs\_scrambling\_id\_complement\ =\ pusch\_dmrs\_scrambling\_id\_complement;}
\DoxyCodeLine{02370\ \ \ \ \ pdu.low\_papr\_dmrs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ low\_papr\_dmrs;}
\DoxyCodeLine{02371\ \ \ \ \ pdu.pusch\_dmrs\_identity\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pusch\_dmrs\_identity;}
\DoxyCodeLine{02372\ \ \ \ \ pdu.nscid\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ nscid;}
\DoxyCodeLine{02373\ \ \ \ \ pdu.num\_dmrs\_cdm\_grps\_no\_data\ \ \ \ \ \ \ \ \ \ \ =\ num\_dmrs\_cdm\_grps\_no\_data;}
\DoxyCodeLine{02374\ \ \ \ \ pdu.dmrs\_ports\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ dmrs\_ports;}
\DoxyCodeLine{02375\ }
\DoxyCodeLine{02376\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02377\ \ \ \}}
\DoxyCodeLine{02378\ }
\DoxyCodeLine{02379\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ allocation\ in\ frequency\ domain\ type\ 0\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02380\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02381\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a85699ebe26a8cf5b7d5a94ace0f5b01a}{set\_allocation\_in\_frequency\_type\_0\_parameters}}(span<\textcolor{keyword}{const}\ uint8\_t>\ rb\_bitmap,}
\DoxyCodeLine{02382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ tx\_direct\_current\_location,}
\DoxyCodeLine{02383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uplink\_frequency\_shift\_7p5hHz)}
\DoxyCodeLine{02384\ \ \ \{}
\DoxyCodeLine{02385\ \ \ \ \ pdu.resource\_alloc\ =\ resource\_allocation\_type::type\_0;}
\DoxyCodeLine{02386\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(pdu.rb\_bitmap.size()\ ==\ rb\_bitmap.size(),\ \textcolor{stringliteral}{"{}RB\ bitmap\ size\ doesn't\ match"{}});}
\DoxyCodeLine{02387\ \ \ \ \ std::copy(rb\_bitmap.begin(),\ rb\_bitmap.end(),\ pdu.rb\_bitmap.begin());}
\DoxyCodeLine{02388\ \ \ \ \ pdu.vrb\_to\_prb\_mapping\ \ \ \ \ \ \ \ \ \ \ \ =\ vrb\_to\_prb\_mapping\_type::non\_interleaved;}
\DoxyCodeLine{02389\ \ \ \ \ pdu.tx\_direct\_current\_location\ \ \ \ =\ tx\_direct\_current\_location;}
\DoxyCodeLine{02390\ \ \ \ \ pdu.uplink\_frequency\_shift\_7p5kHz\ =\ uplink\_frequency\_shift\_7p5hHz;}
\DoxyCodeLine{02391\ }
\DoxyCodeLine{02392\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ parameters\ for\ type\ 1\ to\ a\ value.}}
\DoxyCodeLine{02393\ \ \ \ \ pdu.rb\_start\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{02394\ \ \ \ \ pdu.rb\_size\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{02395\ \ \ \ \ pdu.intra\_slot\_frequency\_hopping\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02396\ }
\DoxyCodeLine{02397\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02398\ \ \ \}}
\DoxyCodeLine{02399\ }
\DoxyCodeLine{02400\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ allocation\ in\ frequency\ domain\ type\ 1\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02401\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02402\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_acc12781f21913c4f09018e3b36a98eb2}{set\_allocation\_in\_frequency\_type\_1\_parameters}}(uint16\_t\ rb\_start,}
\DoxyCodeLine{02403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ rb\_size,}
\DoxyCodeLine{02404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ intra\_slot\_frequency\_hopping,}
\DoxyCodeLine{02405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ tx\_direct\_current\_location,}
\DoxyCodeLine{02406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ uplink\_frequency\_shift\_7p5hHz)}
\DoxyCodeLine{02407\ \ \ \{}
\DoxyCodeLine{02408\ \ \ \ \ pdu.resource\_alloc\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ resource\_allocation\_type::type\_1;}
\DoxyCodeLine{02409\ \ \ \ \ pdu.rb\_start\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ rb\_start;}
\DoxyCodeLine{02410\ \ \ \ \ pdu.rb\_size\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ rb\_size;}
\DoxyCodeLine{02411\ \ \ \ \ pdu.intra\_slot\_frequency\_hopping\ \ =\ intra\_slot\_frequency\_hopping;}
\DoxyCodeLine{02412\ \ \ \ \ pdu.vrb\_to\_prb\_mapping\ \ \ \ \ \ \ \ \ \ \ \ =\ vrb\_to\_prb\_mapping\_type::non\_interleaved;}
\DoxyCodeLine{02413\ \ \ \ \ pdu.tx\_direct\_current\_location\ \ \ \ =\ tx\_direct\_current\_location;}
\DoxyCodeLine{02414\ \ \ \ \ pdu.uplink\_frequency\_shift\_7p5kHz\ =\ uplink\_frequency\_shift\_7p5hHz;}
\DoxyCodeLine{02415\ }
\DoxyCodeLine{02416\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02417\ \ \ \}}
\DoxyCodeLine{02418\ }
\DoxyCodeLine{02419\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ allocation\ in\ time\ domain\ type\ 0\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02420\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02421\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a1eff38180cc481a2af0bd728daf45464}{set\_allocation\_in\_time\_parameters}}(uint8\_t\ start\_symbol\_index,\ uint8\_t\ num\_symbols)}
\DoxyCodeLine{02422\ \ \ \{}
\DoxyCodeLine{02423\ \ \ \ \ pdu.start\_symbol\_index\ =\ start\_symbol\_index;}
\DoxyCodeLine{02424\ \ \ \ \ pdu.nr\_of\_symbols\ \ \ \ \ \ =\ num\_symbols;}
\DoxyCodeLine{02425\ }
\DoxyCodeLine{02426\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02427\ \ \ \}}
\DoxyCodeLine{02428\ }
\DoxyCodeLine{02429\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ maintenance\ v3\ BWP\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02430\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ maintenance\ FAPIv3.}}
\DoxyCodeLine{02431\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_ad59ae21326f352499dd4fd574873ead3}{set\_maintenance\_v3\_bwp\_parameters}}(uint8\_t\ \ pusch\_trans\_type,}
\DoxyCodeLine{02432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ delta\_bwp0\_start\_from\_active\_bwp,}
\DoxyCodeLine{02433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ initial\_ul\_bwp\_size)}
\DoxyCodeLine{02434\ \ \ \{}
\DoxyCodeLine{02435\ \ \ \ \ \textcolor{keyword}{auto}\&\ v3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.pusch\_maintenance\_v3;}
\DoxyCodeLine{02436\ \ \ \ \ v3.pusch\_trans\_type\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pusch\_trans\_type;}
\DoxyCodeLine{02437\ \ \ \ \ v3.delta\_bwp0\_start\_from\_active\_bwp\ =\ delta\_bwp0\_start\_from\_active\_bwp;}
\DoxyCodeLine{02438\ \ \ \ \ v3.initial\_ul\_bwp\_size\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ initial\_ul\_bwp\_size;}
\DoxyCodeLine{02439\ }
\DoxyCodeLine{02440\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02441\ \ \ \}}
\DoxyCodeLine{02442\ }
\DoxyCodeLine{02443\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ maintenance\ v3\ DMRS\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02444\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ maintenance\ FAPIv3.}}
\DoxyCodeLine{02445\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a9b0bb334daeb91ec6cd3257c7e6c2c82}{set\_maintenance\_v3\_dmrs\_parameters}}(uint8\_t\ group\_or\_sequence\_hopping)}
\DoxyCodeLine{02446\ \ \ \{}
\DoxyCodeLine{02447\ \ \ \ \ pdu.pusch\_maintenance\_v3.group\_or\_sequence\_hopping\ =\ group\_or\_sequence\_hopping;}
\DoxyCodeLine{02448\ }
\DoxyCodeLine{02449\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02450\ \ \ \}}
\DoxyCodeLine{02451\ }
\DoxyCodeLine{02452\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ maintenance\ v3\ frequency\ domain\ allocation\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02453\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ maintenance\ FAPIv3.}}
\DoxyCodeLine{02454\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a1d5be0d65cc3f6661b018473ea104f99}{set\_maintenance\_v3\_frequency\_allocation\_parameters}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ pusch\_second\_hop\_prb,}
\DoxyCodeLine{02455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\_base\_graph\_type}}\ ldpc\_graph,}
\DoxyCodeLine{02456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ units::\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{bytes}}\ \ \ \ \ \ \ \ \ tb\_size\_lbrm\_bytes)}
\DoxyCodeLine{02457\ \ \ \{}
\DoxyCodeLine{02458\ \ \ \ \ \textcolor{keyword}{auto}\&\ v3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.pusch\_maintenance\_v3;}
\DoxyCodeLine{02459\ \ \ \ \ v3.pusch\_second\_hop\_prb\ =\ pusch\_second\_hop\_prb;}
\DoxyCodeLine{02460\ \ \ \ \ v3.ldpc\_base\_graph\ \ \ \ \ \ =\ ldpc\_graph;}
\DoxyCodeLine{02461\ \ \ \ \ v3.tb\_size\_lbrm\_bytes\ \ \ =\ tb\_size\_lbrm\_bytes;}
\DoxyCodeLine{02462\ }
\DoxyCodeLine{02463\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02464\ \ \ \}}
\DoxyCodeLine{02465\ }
\DoxyCodeLine{02466\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ PDU\ parameters\ v4\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02467\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ parameters\ v4.}}
\DoxyCodeLine{02468\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a6fb3caf6a3b3c52beb94d5c0672c9397}{set\_parameters\_v4\_basic\_parameters}}(\textcolor{keywordtype}{bool}\ cb\_crc\_status\_request)}
\DoxyCodeLine{02469\ \ \ \{}
\DoxyCodeLine{02470\ \ \ \ \ pdu.pusch\_params\_v4.cb\_crc\_status\_request\ =\ cb\_crc\_status\_request;}
\DoxyCodeLine{02471\ }
\DoxyCodeLine{02472\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02473\ \ \ \}}
\DoxyCodeLine{02474\ }
\DoxyCodeLine{02475\ \ \ \textcolor{comment}{///\ Adds\ a\ UCI\ part1\ to\ part2\ correspondence\ v3\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02476\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ UCI\ information\ for\ determining\ UCI}}
\DoxyCodeLine{02477\ \ \ \textcolor{comment}{///\ Part1\ to\ PArt2\ correspondence,\ added\ in\ FAPIv3.}}
\DoxyCodeLine{02478\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&}
\DoxyCodeLine{02479\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a62b1e4a0c99b36839fb03cdd898281fb}{add\_uci\_part1\_part2\_corresnpondence\_v3}}(uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ priority,}
\DoxyCodeLine{02480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint16\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_offset,}
\DoxyCodeLine{02481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_sizes,}
\DoxyCodeLine{02482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ part2\_size\_map\_index,}
\DoxyCodeLine{02483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__part1__to__part2__correspondence__v3}{uci\_part1\_to\_part2\_correspondence\_v3}}::map\_scope\_type\ part2\_size\_map\_scope)}
\DoxyCodeLine{02484\ \ \ \{}
\DoxyCodeLine{02485\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(param\_offset.size()\ ==\ param\_sizes.size(),}
\DoxyCodeLine{02486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Mismatching\ span\ sizes\ for\ param\ offset\ (\{\})\ and\ param\ sizes\ (\{\})"{}},}
\DoxyCodeLine{02487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_offset.size(),}
\DoxyCodeLine{02488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param\_sizes.size());}
\DoxyCodeLine{02489\ }
\DoxyCodeLine{02490\ \ \ \ \ \textcolor{keyword}{auto}\&\ correspondence\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.uci\_correspondence.part2.emplace\_back();}
\DoxyCodeLine{02491\ \ \ \ \ correspondence.priority\ \ \ \ \ \ \ \ \ \ \ \ \ =\ priority;}
\DoxyCodeLine{02492\ \ \ \ \ correspondence.part2\_size\_map\_index\ =\ part2\_size\_map\_index;}
\DoxyCodeLine{02493\ \ \ \ \ correspondence.part2\_size\_map\_scope\ =\ part2\_size\_map\_scope;}
\DoxyCodeLine{02494\ }
\DoxyCodeLine{02495\ \ \ \ \ correspondence.param\_offsets.assign(param\_offset.begin(),\ param\_offset.end());}
\DoxyCodeLine{02496\ \ \ \ \ correspondence.param\_sizes.assign(param\_sizes.begin(),\ param\_sizes.end());}
\DoxyCodeLine{02497\ }
\DoxyCodeLine{02498\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02499\ \ \ \}}
\DoxyCodeLine{02500\ }
\DoxyCodeLine{02501\ \ \ \textcolor{comment}{//\ :TODO:\ UL\ MIMO\ parameters\ in\ FAPIv4.}}
\DoxyCodeLine{02502\ }
\DoxyCodeLine{02503\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ data\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02504\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ data\ information.}}
\DoxyCodeLine{02505\ \ \ \textcolor{comment}{//\ :TODO:\ analyze\ in\ the\ future\ this\ function.\ I'd\ suggest\ to\ change\ the\ last\ 2\ arguments\ with\ a\ bounded\_bitset\ or\ a}}
\DoxyCodeLine{02506\ \ \ \textcolor{comment}{//\ vector\ of\ bool.}}
\DoxyCodeLine{02507\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_ad41aa15f509093c20dc7226a71410ba8}{add\_optional\_pusch\_data}}(uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ rv\_index,}
\DoxyCodeLine{02508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ harq\_process\_id,}
\DoxyCodeLine{02509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_data,}
\DoxyCodeLine{02510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ units::\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{bytes}}\ \ \ \ \ \ \ \ tb\_size,}
\DoxyCodeLine{02511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ \ \ num\_cb,}
\DoxyCodeLine{02512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ span<\textcolor{keyword}{const}\ uint8\_t>\ cb\_present\_and\_position)}
\DoxyCodeLine{02513\ \ \ \{}
\DoxyCodeLine{02514\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu_a675331299629e56479df35450048d9b5}{::}}\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu_a675331299629e56479df35450048d9b5}{PUSCH\_DATA\_BIT}});}
\DoxyCodeLine{02515\ }
\DoxyCodeLine{02516\ \ \ \ \ \textcolor{keyword}{auto}\&\ data\ \ \ \ \ \ \ \ \ \ \ =\ pdu.pusch\_data;}
\DoxyCodeLine{02517\ \ \ \ \ data.rv\_index\ \ \ \ \ \ \ \ =\ rv\_index;}
\DoxyCodeLine{02518\ \ \ \ \ data.harq\_process\_id\ =\ harq\_process\_id;}
\DoxyCodeLine{02519\ \ \ \ \ data.new\_data\ \ \ \ \ \ \ \ =\ new\_data;}
\DoxyCodeLine{02520\ \ \ \ \ data.tb\_size\ \ \ \ \ \ \ \ \ =\ tb\_size;}
\DoxyCodeLine{02521\ \ \ \ \ data.num\_cb\ \ \ \ \ \ \ \ \ \ =\ num\_cb;}
\DoxyCodeLine{02522\ \ \ \ \ data.cb\_present\_and\_position.assign(cb\_present\_and\_position.begin(),\ cb\_present\_and\_position.end());}
\DoxyCodeLine{02523\ }
\DoxyCodeLine{02524\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02525\ \ \ \}}
\DoxyCodeLine{02526\ }
\DoxyCodeLine{02527\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ UCI\ alpha\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02528\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ UCI\ information.}}
\DoxyCodeLine{02529\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aef1bb6c1b9cace280ff645875cbdde54}{add\_optional\_pusch\_uci\_alpha}}(\mbox{\hyperlink{namespacesrsran_a95f59e94fb260388ff0dc2f1767c64dc}{alpha\_scaling\_opt}}\ alpha\_scaling)}
\DoxyCodeLine{02530\ \ \ \{}
\DoxyCodeLine{02531\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}::PUSCH\_UCI\_BIT);}
\DoxyCodeLine{02532\ }
\DoxyCodeLine{02533\ \ \ \ \ \textcolor{keyword}{auto}\&\ uci\ \ \ \ \ \ \ \ \ =\ pdu.pusch\_uci;}
\DoxyCodeLine{02534\ \ \ \ \ uci.alpha\_scaling\ =\ alpha\_scaling;}
\DoxyCodeLine{02535\ }
\DoxyCodeLine{02536\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02537\ \ \ \}}
\DoxyCodeLine{02538\ }
\DoxyCodeLine{02539\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ UCI\ HARQ\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02540\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ UCI\ information.}}
\DoxyCodeLine{02541\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_af7f640d3e2fc15ffb86491d0d7f33437}{add\_optional\_pusch\_uci\_harq}}(uint16\_t\ harq\_ack\_bit\_len,\ uint8\_t\ beta\_offset\_harq\_ack)}
\DoxyCodeLine{02542\ \ \ \{}
\DoxyCodeLine{02543\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}::PUSCH\_UCI\_BIT);}
\DoxyCodeLine{02544\ }
\DoxyCodeLine{02545\ \ \ \ \ \textcolor{keyword}{auto}\&\ uci\ =\ pdu.pusch\_uci;}
\DoxyCodeLine{02546\ }
\DoxyCodeLine{02547\ \ \ \ \ uci.harq\_ack\_bit\_length\ \ =\ harq\_ack\_bit\_len;}
\DoxyCodeLine{02548\ \ \ \ \ uci.beta\_offset\_harq\_ack\ =\ beta\_offset\_harq\_ack;}
\DoxyCodeLine{02549\ }
\DoxyCodeLine{02550\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02551\ \ \ \}}
\DoxyCodeLine{02552\ }
\DoxyCodeLine{02553\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ UCI\ CSI1\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02554\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ UCI\ information.}}
\DoxyCodeLine{02555\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a54e65c0e4a001955b352c0338c6106e1}{add\_optional\_pusch\_uci\_csi1}}(uint16\_t\ csi\_part1\_bit\_len,\ uint8\_t\ beta\_offset\_csi\_1)}
\DoxyCodeLine{02556\ \ \ \{}
\DoxyCodeLine{02557\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}::PUSCH\_UCI\_BIT);}
\DoxyCodeLine{02558\ }
\DoxyCodeLine{02559\ \ \ \ \ \textcolor{keyword}{auto}\&\ uci\ =\ pdu.pusch\_uci;}
\DoxyCodeLine{02560\ }
\DoxyCodeLine{02561\ \ \ \ \ uci.csi\_part1\_bit\_length\ =\ csi\_part1\_bit\_len;}
\DoxyCodeLine{02562\ \ \ \ \ uci.beta\_offset\_csi1\ \ \ \ \ =\ beta\_offset\_csi\_1;}
\DoxyCodeLine{02563\ }
\DoxyCodeLine{02564\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02565\ \ \ \}}
\DoxyCodeLine{02566\ }
\DoxyCodeLine{02567\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ UCI\ CSI2\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02568\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ UCI\ information.}}
\DoxyCodeLine{02569\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aeea347ae7dcbb5b3ca3b1f150d09d4c5}{add\_optional\_pusch\_uci\_csi2}}(uint8\_t\ beta\_offset\_csi\_2)}
\DoxyCodeLine{02570\ \ \ \{}
\DoxyCodeLine{02571\ \ \ \ \ \textcolor{keyword}{auto}\&\ uci\ =\ pdu.pusch\_uci;}
\DoxyCodeLine{02572\ }
\DoxyCodeLine{02573\ \ \ \ \ uci.flags\_csi\_part2\ \ =\ std::numeric\_limits<\textcolor{keyword}{decltype}(fapi::\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__uci}{ul\_pusch\_uci}}::flags\_csi\_part2)>::max();}
\DoxyCodeLine{02574\ \ \ \ \ uci.beta\_offset\_csi2\ =\ beta\_offset\_csi\_2;}
\DoxyCodeLine{02575\ }
\DoxyCodeLine{02576\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02577\ \ \ \}}
\DoxyCodeLine{02578\ }
\DoxyCodeLine{02579\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ PTRS\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02580\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ PTRS\ information.}}
\DoxyCodeLine{02581\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a619e57a046088dc2c3a63dc43e2926ef}{add\_optional\_pusch\_ptrs}}(span<\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__ptrs}{ul\_pusch\_ptrs}}::\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__ptrs_1_1ptrs__port__info}{ptrs\_port\_info}}>\ port\_info,}
\DoxyCodeLine{02582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ptrs\_time\_density,}
\DoxyCodeLine{02583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ptrs\_freq\_density,}
\DoxyCodeLine{02584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ul\_ptrs\_power\_type\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ul\_ptrs\_power)}
\DoxyCodeLine{02585\ \ \ \{}
\DoxyCodeLine{02586\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}::PUSCH\_PTRS\_BIT);}
\DoxyCodeLine{02587\ }
\DoxyCodeLine{02588\ \ \ \ \ \textcolor{keyword}{auto}\&\ ptrs\ =\ pdu.pusch\_ptrs;}
\DoxyCodeLine{02589\ }
\DoxyCodeLine{02590\ \ \ \ \ ptrs.port\_info.assign(port\_info.begin(),\ port\_info.end());}
\DoxyCodeLine{02591\ \ \ \ \ ptrs.ul\_ptrs\_power\ \ \ \ \ =\ ul\_ptrs\_power;}
\DoxyCodeLine{02592\ \ \ \ \ ptrs.ptrs\_time\_density\ =\ ptrs\_time\_density\ /\ 2U;}
\DoxyCodeLine{02593\ \ \ \ \ ptrs.ptrs\_freq\_density\ =\ ptrs\_freq\_density\ /\ 4U;}
\DoxyCodeLine{02594\ }
\DoxyCodeLine{02595\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02596\ \ \ \}}
\DoxyCodeLine{02597\ }
\DoxyCodeLine{02598\ \ \ \textcolor{comment}{///\ Adds\ optional\ PUSCH\ DFTS\ OFDM\ information\ to\ the\ PUSCH\ PDU\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02599\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ optional\ PUSCH\ DFTS\ OFDM}}
\DoxyCodeLine{02600\ \ \ \textcolor{comment}{///\ information.}}
\DoxyCodeLine{02601\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a3d8e12e34f3b16486848d80868c0dac2}{add\_optional\_dfts\_ofdm}}(uint8\_t\ \ low\_papr\_group\_number,}
\DoxyCodeLine{02602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ low\_papr\_sequence\_number,}
\DoxyCodeLine{02603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ ul\_ptrs\_sample\_density,}
\DoxyCodeLine{02604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ ul\_ptrs\_time\_density\_transform\_precoding)}
\DoxyCodeLine{02605\ \ \ \{}
\DoxyCodeLine{02606\ \ \ \ \ pdu.pdu\_bitmap.set(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__pusch__pdu}{ul\_pusch\_pdu}}::DFTS\_OFDM\_BIT);}
\DoxyCodeLine{02607\ }
\DoxyCodeLine{02608\ \ \ \ \ \textcolor{keyword}{auto}\&\ ofdm\ =\ pdu.pusch\_ofdm;}
\DoxyCodeLine{02609\ }
\DoxyCodeLine{02610\ \ \ \ \ ofdm.low\_papr\_group\_number\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ low\_papr\_group\_number;}
\DoxyCodeLine{02611\ \ \ \ \ ofdm.low\_papr\_sequence\_number\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ low\_papr\_sequence\_number;}
\DoxyCodeLine{02612\ \ \ \ \ ofdm.ul\_ptrs\_sample\_density\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ ul\_ptrs\_sample\_density;}
\DoxyCodeLine{02613\ \ \ \ \ ofdm.ul\_ptrs\_time\_density\_transform\_precoding\ =\ ul\_ptrs\_time\_density\_transform\_precoding;}
\DoxyCodeLine{02614\ }
\DoxyCodeLine{02615\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02616\ \ \ \}}
\DoxyCodeLine{02617\ }
\DoxyCodeLine{02618\ \ \ \textcolor{comment}{///\ Sets\ the\ PUSCH\ context\ as\ vendor\ specific.}}
\DoxyCodeLine{02619\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_a0b783281ce1f890f63d2006d6e6964a3}{set\_context\_vendor\_specific}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ harq\_id\_t\ harq\_id)}
\DoxyCodeLine{02620\ \ \ \{}
\DoxyCodeLine{02621\ \ \ \ \ pdu.context\ =\ pusch\_context(rnti,\ harq\_id);}
\DoxyCodeLine{02622\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02623\ \ \ \}}
\DoxyCodeLine{02624\ \};}
\DoxyCodeLine{02625\ }
\DoxyCodeLine{02626\ \textcolor{comment}{///\ UL\_TTI.request\ message\ builder\ that\ helps\ to\ fill\ in\ the\ parameters\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.}}
\DoxyCodeLine{02627\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder}{ul\_tti\_request\_message\_builder}}}
\DoxyCodeLine{02628\ \{}
\DoxyCodeLine{02629\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__tti__request__message}{ul\_tti\_request\_message}}\&\ msg;}
\DoxyCodeLine{02630\ \ \ \textcolor{keyword}{using}\ pdu\_type\ =\ \mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__tti__request__message}{ul\_tti\_request\_message}}::pdu\_type;}
\DoxyCodeLine{02631\ }
\DoxyCodeLine{02632\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02633\ \ \ \textcolor{keyword}{explicit}\ ul\_tti\_request\_message\_builder(\mbox{\hyperlink{structsrsran_1_1fapi_1_1ul__tti__request__message}{ul\_tti\_request\_message}}\&\ msg\_)\ :\ msg(msg\_)}
\DoxyCodeLine{02634\ \ \ \{}
\DoxyCodeLine{02635\ \ \ \ \ msg.num\_pdus\_of\_each\_type.fill(0);}
\DoxyCodeLine{02636\ \ \ \}}
\DoxyCodeLine{02637\ }
\DoxyCodeLine{02638\ \ \ \textcolor{comment}{///\ Sets\ the\ UL\_TTI.request\ basic\ parameters\ and\ returns\ a\ reference\ to\ the\ builder.}}
\DoxyCodeLine{02639\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3\ in\ table\ UL\_TTI,request\ message\ body.}}
\DoxyCodeLine{02640\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder}{ul\_tti\_request\_message\_builder}}\&\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_aece0b40c5e2d7a57804c4c6a419ce0e2}{set\_basic\_parameters}}(uint16\_t\ sfn,\ uint16\_t\ slot)}
\DoxyCodeLine{02641\ \ \ \{}
\DoxyCodeLine{02642\ \ \ \ \ msg.sfn\ \ =\ sfn;}
\DoxyCodeLine{02643\ \ \ \ \ msg.slot\ =\ slot;}
\DoxyCodeLine{02644\ }
\DoxyCodeLine{02645\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ number\ of\ PDU\ groups\ set\ to\ 0,\ because\ groups\ are\ not\ enabled\ in\ this\ FAPI\ message\ at\ the\ moment.}}
\DoxyCodeLine{02646\ \ \ \ \ msg.num\_groups\ =\ 0;}
\DoxyCodeLine{02647\ }
\DoxyCodeLine{02648\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02649\ \ \ \}}
\DoxyCodeLine{02650\ }
\DoxyCodeLine{02651\ \ \ \textcolor{comment}{///\ Adds\ a\ PRACH\ PDU\ to\ the\ message\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the\ parameters.}}
\DoxyCodeLine{02652\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.1\ in\ table\ PRACH\ PDU.}}
\DoxyCodeLine{02653\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ad5f3ffabe235e2c82598605a151d956c}{add\_prach\_pdu}}(pci\_t\ \ \ \ \ \ \ \ \ \ \ \ \ pci,}
\DoxyCodeLine{02654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ num\_occasions,}
\DoxyCodeLine{02655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a80c3e0271a30bccec9122a9dfedb79a6}{prach\_format\_type}}\ format\_type,}
\DoxyCodeLine{02656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ index\_fd\_ra,}
\DoxyCodeLine{02657\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ prach\_start\_symbol,}
\DoxyCodeLine{02658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ \ \ \ \ \ \ \ \ \ num\_cs)}
\DoxyCodeLine{02659\ \ \ \{}
\DoxyCodeLine{02660\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\ builder\ =\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_a3302493164f6973e29db2d01e489f6a8}{add\_prach\_pdu}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_a3302493164f6973e29db2d01e489f6a8}{(}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_a3302493164f6973e29db2d01e489f6a8}{)}};}
\DoxyCodeLine{02661\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{(}}pci\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{,}}\ num\_occasions\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{,}}\ format\_type\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{,}}\ index\_fd\_ra\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{,}}\ prach\_start\_symbol\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{,}}\ num\_cs\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder_a2acdffdc96e2b23eaaaa552dff5d58e9}{)}};}
\DoxyCodeLine{02662\ }
\DoxyCodeLine{02663\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02664\ \ \ \}}
\DoxyCodeLine{02665\ }
\DoxyCodeLine{02666\ \ \ \textcolor{comment}{///\ Adds\ a\ PRACH\ PDU\ to\ the\ message\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the\ parameters.}}
\DoxyCodeLine{02667\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.1\ in\ table\ PRACH\ PDU.}}
\DoxyCodeLine{02668\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_a3302493164f6973e29db2d01e489f6a8}{add\_prach\_pdu}}()}
\DoxyCodeLine{02669\ \ \ \{}
\DoxyCodeLine{02670\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ \ \ \ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{02671\ \ \ \ \ pdu.pdu\_type\ =\ ul\_pdu\_type::PRACH;}
\DoxyCodeLine{02672\ }
\DoxyCodeLine{02673\ \ \ \ \ ++msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(pdu\_type::PRACH)];}
\DoxyCodeLine{02674\ }
\DoxyCodeLine{02675\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__prach__pdu__builder}{ul\_prach\_pdu\_builder}}\ builder(pdu.prach\_pdu);}
\DoxyCodeLine{02676\ }
\DoxyCodeLine{02677\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02678\ \ \ \}}
\DoxyCodeLine{02679\ }
\DoxyCodeLine{02680\ \ \ \textcolor{comment}{///\ Adds\ a\ PUCCH\ PDU\ to\ the\ message\ with\ the\ given\ format\ type\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the}}
\DoxyCodeLine{02681\ \ \ \textcolor{comment}{///\ parameters.}}
\DoxyCodeLine{02682\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ae8d65f2514ec98758df2dc478c26083a}{add\_pucch\_pdu}}(\mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ format\_type)}
\DoxyCodeLine{02683\ \ \ \{}
\DoxyCodeLine{02684\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ \ \ \ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{02685\ \ \ \ \ pdu.pdu\_type\ =\ ul\_pdu\_type::PUCCH;}
\DoxyCodeLine{02686\ }
\DoxyCodeLine{02687\ \ \ \ \ \textcolor{keywordflow}{if}\ (format\_type\ ==\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_0\ ||\ format\_type\ ==\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}::FORMAT\_1)\ \{}
\DoxyCodeLine{02688\ \ \ \ \ \ \ ++msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(pdu\_type::PUCCH\_format01)];}
\DoxyCodeLine{02689\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02690\ \ \ \ \ \ \ ++msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(pdu\_type::PUCCH\_format234)];}
\DoxyCodeLine{02691\ \ \ \ \ \}}
\DoxyCodeLine{02692\ }
\DoxyCodeLine{02693\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\ builder(pdu.pucch\_pdu);}
\DoxyCodeLine{02694\ \ \ \ \ pdu.pucch\_pdu.format\_type\ =\ format\_type;}
\DoxyCodeLine{02695\ }
\DoxyCodeLine{02696\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02697\ \ \ \}}
\DoxyCodeLine{02698\ }
\DoxyCodeLine{02699\ \ \ \textcolor{comment}{///\ Adds\ a\ PUCCH\ PDU\ to\ the\ message\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the\ parameters.}}
\DoxyCodeLine{02700\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.3\ in\ table\ PUCCH\ PDU.}}
\DoxyCodeLine{02701\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_a92d7ead53d96396b93ffbce1131da790}{add\_pucch\_pdu}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ uint32\_t\ handle,\ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ format\_type)}
\DoxyCodeLine{02702\ \ \ \{}
\DoxyCodeLine{02703\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder}{ul\_pucch\_pdu\_builder}}\ builder\ =\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ae8d65f2514ec98758df2dc478c26083a}{add\_pucch\_pdu}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ae8d65f2514ec98758df2dc478c26083a}{(}}format\_type\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ae8d65f2514ec98758df2dc478c26083a}{)}};}
\DoxyCodeLine{02704\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{(}}rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{,}}\ handle\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pucch__pdu__builder_a3c0d342d006c6b30af00fca56e38718a}{)}};}
\DoxyCodeLine{02705\ }
\DoxyCodeLine{02706\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02707\ \ \ \}}
\DoxyCodeLine{02708\ }
\DoxyCodeLine{02709\ \ \ \textcolor{comment}{///\ Adds\ a\ PUSCH\ PDU\ to\ the\ message\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the\ parameters.}}
\DoxyCodeLine{02710\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02711\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_add6169f513194f8d9424b69da64951ad}{add\_pusch\_pdu}}()}
\DoxyCodeLine{02712\ \ \ \{}
\DoxyCodeLine{02713\ \ \ \ \ \textcolor{keyword}{auto}\&\ pdu\ \ \ \ =\ msg.pdus.emplace\_back();}
\DoxyCodeLine{02714\ \ \ \ \ pdu.pdu\_type\ =\ ul\_pdu\_type::PUSCH;}
\DoxyCodeLine{02715\ }
\DoxyCodeLine{02716\ \ \ \ \ ++msg.num\_pdus\_of\_each\_type[\textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(pdu\_type::PUSCH)];}
\DoxyCodeLine{02717\ }
\DoxyCodeLine{02718\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\ builder(pdu.pusch\_pdu);}
\DoxyCodeLine{02719\ }
\DoxyCodeLine{02720\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02721\ \ \ \}}
\DoxyCodeLine{02722\ }
\DoxyCodeLine{02723\ \ \ \textcolor{comment}{///\ Adds\ a\ PUSCH\ PDU\ to\ the\ message\ and\ returns\ a\ builder\ that\ helps\ to\ fill\ the\ parameters.}}
\DoxyCodeLine{02724\ \ \ \textcolor{comment}{///\ \(\backslash\)note\ These\ parameters\ are\ specified\ in\ SCF-\/222\ v4.0\ section\ 3.4.3.2\ in\ table\ PUSCH\ PDU.}}
\DoxyCodeLine{02725\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_ac1989c007986aa243fb7fa245bc5a945}{add\_pusch\_pdu}}(\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti,\ uint32\_t\ handle)}
\DoxyCodeLine{02726\ \ \ \{}
\DoxyCodeLine{02727\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder}{ul\_pusch\_pdu\_builder}}\ builder\ =\ \mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_add6169f513194f8d9424b69da64951ad}{add\_pusch\_pdu}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_add6169f513194f8d9424b69da64951ad}{(}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__tti__request__message__builder_add6169f513194f8d9424b69da64951ad}{)}};}
\DoxyCodeLine{02728\ \ \ \ \ builder\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{.}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{set\_basic\_parameters}}\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{(}}rnti\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{,}}\ handle\mbox{\hyperlink{classsrsran_1_1fapi_1_1ul__pusch__pdu__builder_aefb720fa00d233a62e02946903a3bbe5}{)}};}
\DoxyCodeLine{02729\ }
\DoxyCodeLine{02730\ \ \ \ \ \textcolor{keywordflow}{return}\ builder;}
\DoxyCodeLine{02731\ \ \ \}}
\DoxyCodeLine{02732\ \};}
\DoxyCodeLine{02733\ }
\DoxyCodeLine{02734\ \}\ \textcolor{comment}{//\ namespace\ fapi}}
\DoxyCodeLine{02735\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
