\doxysection{srsran\+::rx\+\_\+buffer\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1rx__buffer__impl}{}\label{classsrsran_1_1rx__buffer__impl}\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}


Implements a receiver buffer interface.  




{\ttfamily \#include $<$rx\+\_\+buffer\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::rx\+\_\+buffer\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d6/d7f/classsrsran_1_1rx__buffer__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::rx\+\_\+buffer\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d1/dbf/classsrsran_1_1rx__buffer__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_ac6fb7300177743cdaaca5945007ac056}{rx\+\_\+buffer\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool}{rx\+\_\+buffer\+\_\+codeblock\+\_\+pool}} \&pool)
\begin{DoxyCompactList}\small\item\em Creates a receive buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_ab4552951093639c297ee538b1df150f8}{rx\+\_\+buffer\+\_\+impl}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl}{rx\+\_\+buffer\+\_\+impl}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Copy constructor -\/ creates another buffer with the same codeblock pool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_ae9c504e407efddefd9d36c5f5cebadfc}{rx\+\_\+buffer\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1rx__buffer__impl}{rx\+\_\+buffer\+\_\+impl}} \&\&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Move constructor -\/ creates another buffer with the same codeblock pool. \end{DoxyCompactList}\item 
rx\+\_\+buffer\+\_\+status \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a8156862b309afeff6b0139060c1cdb05}{reserve}} (\mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+codeblocks, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{reset\+\_\+crc}})
\begin{DoxyCompactList}\small\item\em Reserves a number of codeblocks from the pool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a0ff080ee3855b9e79a79f758f52a523d}{get\+\_\+nof\+\_\+codeblocks}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets the number of codeblocks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a578a46bee3d7b1e681197714abeaaf11}{reset\+\_\+codeblocks\+\_\+crc}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Resets all codeblocks CRCs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a061ef0396cf65713c5c7ba1c086204e7}{get\+\_\+codeblocks\+\_\+crc}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets all codeblocks CRCs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a172f259319457ef82299d38b2cc0d205}{get\+\_\+absolute\+\_\+codeblock\+\_\+id}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\+\_\+id}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets the codeblock absolute identifier. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_ae4a40053770cea948a108e5e18ac14a1}{get\+\_\+codeblock\+\_\+soft\+\_\+bits}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\+\_\+id}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\+\_\+size}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets a codeblock soft-\/bit buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a7a7166c6eafdc5d68c22f8d216ec7d9e}{get\+\_\+codeblock\+\_\+data\+\_\+bits}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\+\_\+id}}, \mbox{\hyperlink{classunsigned}{unsigned}} data\+\_\+size) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets a codeblock data-\/bit buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a9fc5fa77feaaa9e911d9533244847ef1}{lock}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Locks the buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_abe6b72ff6c5bee287e485c4d86776e9e}{unlock}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Unlocks the buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_ad54008f1c410e25fb2b38d1c7df602e7}{release}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Releases (after unlocking) the buffer resources. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a6763ad578d77cb19cf62979e71130277}{is\+\_\+free}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns true if the buffer is free. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a3e3c8b8bbcbe7e70259505e523b346ff}{is\+\_\+locked}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns true if the buffer is locked. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_acf8a8fb796064ea08b15f6e875e18bd0}{expire}} ()
\begin{DoxyCompactList}\small\item\em Expires the buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rx__buffer}{srsran\+::rx\+\_\+buffer}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}rx\+\_\+buffer} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements a receiver buffer interface. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1rx__buffer__impl_ac6fb7300177743cdaaca5945007ac056}\label{classsrsran_1_1rx__buffer__impl_ac6fb7300177743cdaaca5945007ac056} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!rx\_buffer\_impl@{rx\_buffer\_impl}}
\index{rx\_buffer\_impl@{rx\_buffer\_impl}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{rx\_buffer\_impl()}{rx\_buffer\_impl()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily srsran\+::rx\+\_\+buffer\+\_\+impl\+::rx\+\_\+buffer\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool}{rx\+\_\+buffer\+\_\+codeblock\+\_\+pool}} \&}]{pool }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Creates a receive buffer. 


\begin{DoxyParams}{Parameters}
{\em pool} & Codeblock buffer pool. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ codeblock\_pool(pool)}
\DoxyCodeLine{00093\ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Do\ nothing.}}
\DoxyCodeLine{00095\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_ab4552951093639c297ee538b1df150f8}\label{classsrsran_1_1rx__buffer__impl_ab4552951093639c297ee538b1df150f8} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!rx\_buffer\_impl@{rx\_buffer\_impl}}
\index{rx\_buffer\_impl@{rx\_buffer\_impl}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{rx\_buffer\_impl()}{rx\_buffer\_impl()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily srsran\+::rx\+\_\+buffer\+\_\+impl\+::rx\+\_\+buffer\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl}{rx\+\_\+buffer\+\_\+impl}} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Copy constructor -\/ creates another buffer with the same codeblock pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ :\ codeblock\_pool(\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.codeblock\_pool)\ \{\}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_ae9c504e407efddefd9d36c5f5cebadfc}\label{classsrsran_1_1rx__buffer__impl_ae9c504e407efddefd9d36c5f5cebadfc} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!rx\_buffer\_impl@{rx\_buffer\_impl}}
\index{rx\_buffer\_impl@{rx\_buffer\_impl}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{rx\_buffer\_impl()}{rx\_buffer\_impl()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily srsran\+::rx\+\_\+buffer\+\_\+impl\+::rx\+\_\+buffer\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1rx__buffer__impl}{rx\+\_\+buffer\+\_\+impl}} \&\&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Move constructor -\/ creates another buffer with the same codeblock pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00101\ :\ codeblock\_pool(\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.codeblock\_pool)\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1rx__buffer__impl_acf8a8fb796064ea08b15f6e875e18bd0}\label{classsrsran_1_1rx__buffer__impl_acf8a8fb796064ea08b15f6e875e18bd0} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!expire@{expire}}
\index{expire@{expire}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{expire()}{expire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::expire (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Expires the buffer. 

The buffer pool shall use this method when the buffer expires. The buffer frees the reserved codeblocks if it is not blocked.

\begin{DoxyReturn}{Returns}
{\ttfamily true} if the buffer is not locked. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00246\ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ state\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expected\_state}}\ =\ state::reserved;}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{from\_reserved}}\ \ =\ current\_state.compare\_exchange\_weak(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expected\_state}},\ state::available);}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{comment}{//\ The\ \ buffer\ cannot\ be\ freed\ if\ it\ is\ locked.}}
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{from\_reserved}})\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00253\ \ \ \ \ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{comment}{//\ Release\ resources.}}
\DoxyCodeLine{00256\ \ \ \ \ free();}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00259\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a172f259319457ef82299d38b2cc0d205}\label{classsrsran_1_1rx__buffer__impl_a172f259319457ef82299d38b2cc0d205} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!get\_absolute\_codeblock\_id@{get\_absolute\_codeblock\_id}}
\index{get\_absolute\_codeblock\_id@{get\_absolute\_codeblock\_id}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{get\_absolute\_codeblock\_id()}{get\_absolute\_codeblock\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::get\+\_\+absolute\+\_\+codeblock\+\_\+id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{codeblock\+\_\+id }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets the codeblock absolute identifier. 

The absolute codeblock identifier refers to the codeblock identifier within the common codeblock memory pool. It is available for decoders which use external memory.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em codeblock\+\_\+id} & Indicates the codeblock identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The codeblock identifier must not exceed \doxylink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{get\+\_\+max\+\_\+nof\+\_\+codeblocks()}-\/1. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_aece36832c43687a8ba62007e1783789e}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00172\ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}\ <\ codeblock\_ids.size(),}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Codeblock\ index\ (\{\})\ is\ out\ of\ range\ (\{\})."{}},}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}},}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ codeblock\_ids.size());}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordflow}{return}\ codeblock\_ids[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}];}
\DoxyCodeLine{00178\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a7a7166c6eafdc5d68c22f8d216ec7d9e}\label{classsrsran_1_1rx__buffer__impl_a7a7166c6eafdc5d68c22f8d216ec7d9e} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!get\_codeblock\_data\_bits@{get\_codeblock\_data\_bits}}
\index{get\_codeblock\_data\_bits@{get\_codeblock\_data\_bits}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{get\_codeblock\_data\_bits()}{get\_codeblock\_data\_bits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::get\+\_\+codeblock\+\_\+data\+\_\+bits (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{codeblock\+\_\+id,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{data\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets a codeblock data-\/bit buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em codeblock\+\_\+id} & Indicates the codeblock identifier. \\
\hline
\mbox{\texttt{ in}}  & {\em data\+\_\+size} & Indicates the data size, i.\+e. the number of data/information bits in the codeblock. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A view of the codeblock data bits (the information message). 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The codeblock identifier must not exceed \doxylink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{get\+\_\+max\+\_\+nof\+\_\+codeblocks()}-\/1. 
\end{DoxyRemark}
\begin{DoxyNote}{Note}
Data bits do not include filler bits, codeblock-\/specific CRC bits or zero-\/padding bits. 
\end{DoxyNote}


Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_a87653fa58c7cd08ccb962b57898ea502}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00196\ \ \ \{}
\DoxyCodeLine{00197\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}\ <\ codeblock\_ids.size(),}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Codeblock\ index\ (\{\})\ is\ out\ of\ range\ (\{\})."{}},}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}},}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ codeblock\_ids.size());}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}\ \ \ \ \ \ \ \ \ =\ codeblock\_ids[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}];}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_max\_size}}\ =\ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_ada07935e5406d44d4c2ac26b1718f20a}{get\_data\_bits}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}).\mbox{\hyperlink{classsrsran_1_1bit__buffer_a1fb9f58eca152546267cb24e18f9b6f0}{size}}();}
\DoxyCodeLine{00203\ \ \ \ \ srsran\_assert(}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ data\_size\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_max\_size}},\ \textcolor{stringliteral}{"{}Codeblock\ data\ size\ \{\}\ exceeds\ maximum\ size\ \{\}."{}},\ data\_size,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_max\_size}});}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{return}\ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_ada07935e5406d44d4c2ac26b1718f20a}{get\_data\_bits}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}).\mbox{\hyperlink{classsrsran_1_1bit__buffer_abba52fc044021e0e4492726fc8a4dc24}{first}}(data\_size);}
\DoxyCodeLine{00206\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_ae4a40053770cea948a108e5e18ac14a1}\label{classsrsran_1_1rx__buffer__impl_ae4a40053770cea948a108e5e18ac14a1} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!get\_codeblock\_soft\_bits@{get\_codeblock\_soft\_bits}}
\index{get\_codeblock\_soft\_bits@{get\_codeblock\_soft\_bits}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{get\_codeblock\_soft\_bits()}{get\_codeblock\_soft\_bits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ srsran\+::rx\+\_\+buffer\+\_\+impl\+::get\+\_\+codeblock\+\_\+soft\+\_\+bits (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{codeblock\+\_\+id,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{codeblock\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets a codeblock soft-\/bit buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em codeblock\+\_\+id} & Indicates the codeblock identifier. \\
\hline
\mbox{\texttt{ in}}  & {\em codeblock\+\_\+size} & Indicates the codeblock size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A view of the codeblock soft bits. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The codeblock identifier must not exceed \doxylink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{get\+\_\+max\+\_\+nof\+\_\+codeblocks()}-\/1. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_ad2cbf0d03020710432dba0a3f49446d6}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00182\ \ \ \{}
\DoxyCodeLine{00183\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}\ <\ codeblock\_ids.size(),}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Codeblock\ index\ (\{\})\ is\ out\ of\ range\ (\{\})."{}},}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}},}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ codeblock\_ids.size());}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}\ \ \ \ \ \ \ =\ codeblock\_ids[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_id}}];}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_max\_size}}\ =\ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_acf5bd088e8b50a6480da3d5b2ae86133}{get\_soft\_bits}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}).size();}
\DoxyCodeLine{00189\ \ \ \ \ srsran\_assert(}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_size}}\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_max\_size}},\ \textcolor{stringliteral}{"{}Codeblock\ size\ \{\}\ exceeds\ maximum\ size\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_size}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_max\_size}});}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_acf5bd088e8b50a6480da3d5b2ae86133}{get\_soft\_bits}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}).first(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{codeblock\_size}});}
\DoxyCodeLine{00192\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a061ef0396cf65713c5c7ba1c086204e7}\label{classsrsran_1_1rx__buffer__impl_a061ef0396cf65713c5c7ba1c086204e7} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!get\_codeblocks\_crc@{get\_codeblocks\_crc}}
\index{get\_codeblocks\_crc@{get\_codeblocks\_crc}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{get\_codeblocks\_crc()}{get\_codeblocks\_crc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ srsran\+::rx\+\_\+buffer\+\_\+impl\+::get\+\_\+codeblocks\+\_\+crc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets all codeblocks CRCs. 

\begin{DoxyReturn}{Returns}
A view of the codeblocks CRCs\+: each entry represents the CRC state of a codeblock. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_afb0db9dc38222f4b50ea7f24d8baaa8f}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00168\ \{\ \textcolor{keywordflow}{return}\ crc;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a0ff080ee3855b9e79a79f758f52a523d}\label{classsrsran_1_1rx__buffer__impl_a0ff080ee3855b9e79a79f758f52a523d} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!get\_nof\_codeblocks@{get\_nof\_codeblocks}}
\index{get\_nof\_codeblocks@{get\_nof\_codeblocks}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{get\_nof\_codeblocks()}{get\_nof\_codeblocks()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::get\+\_\+nof\+\_\+codeblocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets the number of codeblocks. 



Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_a7f1402c4786078edc9172fb7a7d654eb}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00156\ \{\ \textcolor{keywordflow}{return}\ crc.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a6763ad578d77cb19cf62979e71130277}\label{classsrsran_1_1rx__buffer__impl_a6763ad578d77cb19cf62979e71130277} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!is\_free@{is\_free}}
\index{is\_free@{is\_free}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{is\_free()}{is\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::is\+\_\+free (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if the buffer is free. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \{\ \textcolor{keywordflow}{return}\ current\_state\ ==\ state::available;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a3e3c8b8bbcbe7e70259505e523b346ff}\label{classsrsran_1_1rx__buffer__impl_a3e3c8b8bbcbe7e70259505e523b346ff} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!is\_locked@{is\_locked}}
\index{is\_locked@{is\_locked}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{is\_locked()}{is\_locked()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::is\+\_\+locked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if the buffer is locked. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00237\ \{\ \textcolor{keywordflow}{return}\ current\_state\ ==\ state::locked;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a9fc5fa77feaaa9e911d9533244847ef1}\label{classsrsran_1_1rx__buffer__impl_a9fc5fa77feaaa9e911d9533244847ef1} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!lock@{lock}}
\index{lock@{lock}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Locks the buffer. 



Implements \mbox{\hyperlink{classsrsran_1_1unique__rx__buffer_1_1callback_ad704bbd2f5a709604c21e606f4e51e22}{srsran\+::unique\+\_\+rx\+\_\+buffer\+::callback}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00210\ \ \ \{}
\DoxyCodeLine{00211\ \ \ \ \ state\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ =\ current\_state.exchange(state::locked);}
\DoxyCodeLine{00212\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ ==\ state::reserved,\ \textcolor{stringliteral}{"{}Failed\ to\ lock.\ Invalid\ state."{}});}
\DoxyCodeLine{00213\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_ad54008f1c410e25fb2b38d1c7df602e7}\label{classsrsran_1_1rx__buffer__impl_ad54008f1c410e25fb2b38d1c7df602e7} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!release@{release}}
\index{release@{release}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::release (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Releases (after unlocking) the buffer resources. 



Implements \mbox{\hyperlink{classsrsran_1_1unique__rx__buffer_1_1callback_aa6bdcc385d76bd6d7cf5332ffaa6ed84}{srsran\+::unique\+\_\+rx\+\_\+buffer\+::callback}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00224\ \ \ \{}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{comment}{//\ Release\ all\ reserved\ codeblocks.}}
\DoxyCodeLine{00226\ \ \ \ \ free();}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{comment}{//\ The\ buffer\ can\ now\ be\ reused\ again.}}
\DoxyCodeLine{00229\ \ \ \ \ state\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ =\ current\_state.exchange(state::available);}
\DoxyCodeLine{00230\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ ==\ state::locked,\ \textcolor{stringliteral}{"{}Failed\ to\ release.\ Invalid\ state."{}});}
\DoxyCodeLine{00231\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a8156862b309afeff6b0139060c1cdb05}\label{classsrsran_1_1rx__buffer__impl_a8156862b309afeff6b0139060c1cdb05} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!reserve@{reserve}}
\index{reserve@{reserve}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{reserve()}{reserve()}}
{\footnotesize\ttfamily rx\+\_\+buffer\+\_\+status srsran\+::rx\+\_\+buffer\+\_\+impl\+::reserve (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+codeblocks,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{reset\+\_\+crc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reserves a number of codeblocks from the pool. 

It optionally resets the CRCs.


\begin{DoxyParams}{Parameters}
{\em nof\+\_\+codeblocks} & Number of codeblocks to reserve. \\
\hline
{\em reset\+\_\+crc} & Set to true for reset the codeblock CRCs. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The reservation status. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00111\ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ It\ cannot\ reserve\ resources\ if\ it\ is\ locked.}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordflow}{if}\ (current\_state.load()\ ==\ state::locked)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ rx\_buffer\_status::already\_in\_use;}
\DoxyCodeLine{00115\ \ \ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ If\ the\ current\ number\ of\ codeblocks\ is\ larger\ than\ required,\ free\ the\ excess\ of\ codeblocks.}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{while}\ (codeblock\_ids.size()\ >\ nof\_codeblocks)\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ codeblock\ identifier\ at\ the\ back\ and\ remove\ from\ the\ list.}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}\ =\ codeblock\_ids.back();}
\DoxyCodeLine{00121\ \ \ \ \ \ \ codeblock\_ids.pop\_back();}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \textcolor{comment}{//\ Free\ the\ codeblock.}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_a609138db98a64e30bd8e6645e1100ef4}{free}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}});}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ If\ the\ current\ number\ of\ codeblocks\ is\ less\ than\ required,\ reserve\ the\ remaining\ codeblocks.}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{while}\ (codeblock\_ids.size()\ <\ nof\_codeblocks)\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \textcolor{comment}{//\ Reserve\ codeblock.}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ optional<unsigned>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}\ =\ codeblock\_pool.\mbox{\hyperlink{classsrsran_1_1rx__buffer__codeblock__pool_a9b6fc3bd98517618c82ca8adc38e0fba}{reserve}}();}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{comment}{//\ Free\ the\ entire\ buffer\ if\ one\ codeblock\ cannot\ be\ reserved.}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}.has\_value())\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ free();}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ current\_state\ =\ state::available;}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ rx\_buffer\_status::insufficient\_cb;}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \textcolor{comment}{//\ Append\ the\ codeblock\ identifier\ to\ the\ list.}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ codeblock\_ids.push\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_id}}.value());}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{comment}{//\ Resize\ CRCs.}}
\DoxyCodeLine{00144\ \ \ \ \ crc.resize(nof\_codeblocks);}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{comment}{//\ Reset\ CRCs\ if\ necessary.}}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{reset\_crc}})\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1rx__buffer__impl_a578a46bee3d7b1e681197714abeaaf11}{reset\_codeblocks\_crc}}();}
\DoxyCodeLine{00149\ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ current\_state\ =\ state::reserved;}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{return}\ rx\_buffer\_status::successful;}
\DoxyCodeLine{00153\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_a578a46bee3d7b1e681197714abeaaf11}\label{classsrsran_1_1rx__buffer__impl_a578a46bee3d7b1e681197714abeaaf11} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!reset\_codeblocks\_crc@{reset\_codeblocks\_crc}}
\index{reset\_codeblocks\_crc@{reset\_codeblocks\_crc}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{reset\_codeblocks\_crc()}{reset\_codeblocks\_crc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::reset\+\_\+codeblocks\+\_\+crc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Resets all codeblocks CRCs. 



Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer_a20d1c87414eb69b612fd0a8dc2b80126}{srsran\+::rx\+\_\+buffer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \ \ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{comment}{//\ Set\ all\ codeblock\ CRC\ to\ false.}}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{bool}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_crc}}\ :\ crc)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\_crc}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__impl_abe6b72ff6c5bee287e485c4d86776e9e}\label{classsrsran_1_1rx__buffer__impl_abe6b72ff6c5bee287e485c4d86776e9e} 
\index{srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}!unlock@{unlock}}
\index{unlock@{unlock}!srsran::rx\_buffer\_impl@{srsran::rx\_buffer\_impl}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rx\+\_\+buffer\+\_\+impl\+::unlock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Unlocks the buffer. 



Implements \mbox{\hyperlink{classsrsran_1_1unique__rx__buffer_1_1callback_a449eac620d7b472d669e729a61eba3c5}{srsran\+::unique\+\_\+rx\+\_\+buffer\+::callback}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00217\ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ state\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ =\ current\_state.exchange(state::reserved);}
\DoxyCodeLine{00219\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_state}}\ ==\ state::locked,\ \textcolor{stringliteral}{"{}Failed\ to\ unlock.\ Invalid\ state."{}});}
\DoxyCodeLine{00220\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/rx\+\_\+buffer\+\_\+impl.\+h\end{DoxyCompactItemize}
