\doxysection{srsran\+::pdcch\+\_\+processor\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pdcch__processor__impl}{}\label{classsrsran_1_1pdcch__processor__impl}\index{srsran::pdcch\_processor\_impl@{srsran::pdcch\_processor\_impl}}


Describes a generic PDCCH processor.  




{\ttfamily \#include $<$pdcch\+\_\+processor\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::pdcch\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{d8/d47/classsrsran_1_1pdcch__processor__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pdcch\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{d9/d9e/classsrsran_1_1pdcch__processor__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcch__processor__impl_ae8d4c4dd062ea78db94794daa0516cb5}{pdcch\+\_\+processor\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__encoder}{pdcch\+\_\+encoder}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__modulator}{pdcch\+\_\+modulator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pdcch__processor}{dmrs\+\_\+pdcch\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\+\_\+}})
\begin{DoxyCompactList}\small\item\em Generic PDSCH modulator instance constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcch__processor__impl_ad31ccd055906a79de1f1f9ce7a017a69}{process}} (\mbox{\hyperlink{classsrsran_1_1resource__grid__mapper}{resource\+\_\+grid\+\_\+mapper}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdcch__processor_1_1pdu__t}{pdu\+\_\+t}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PDCCH transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcch__processor}{srsran\+::pdcch\+\_\+processor}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pdcch\+\_\+processor} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default detsructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classsrsran_1_1pdcch__processor}{srsran\+::pdcch\+\_\+processor}}}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classsrsran_1_1pdcch__processor_aef755c37fa33b634f70a9782933d7c58}{cce\+\_\+to\+\_\+reg\+\_\+mapping\+\_\+type}} \{ \mbox{\hyperlink{classsrsran_1_1pdcch__processor_aef755c37fa33b634f70a9782933d7c58a99db3fe7378d38e9b93f061596de7181}{CORESET0}} = 0
, \mbox{\hyperlink{classsrsran_1_1pdcch__processor_aef755c37fa33b634f70a9782933d7c58aaf19bf4014a346bac02bca39ae8d6d89}{NON\+\_\+\+INTERLEAVED}}
, \mbox{\hyperlink{classsrsran_1_1pdcch__processor_aef755c37fa33b634f70a9782933d7c58a6eb6ea02262afd72767b6aa2f0139799}{INTERLEAVED}}
 \}
\begin{DoxyCompactList}\small\item\em CCE-\/to-\/\+REG mapping types as per TS38.\+211 Section 7.\+3.\+2.\+2. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Describes a generic PDCCH processor. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pdcch__processor__impl_ae8d4c4dd062ea78db94794daa0516cb5}\label{classsrsran_1_1pdcch__processor__impl_ae8d4c4dd062ea78db94794daa0516cb5} 
\index{srsran::pdcch\_processor\_impl@{srsran::pdcch\_processor\_impl}!pdcch\_processor\_impl@{pdcch\_processor\_impl}}
\index{pdcch\_processor\_impl@{pdcch\_processor\_impl}!srsran::pdcch\_processor\_impl@{srsran::pdcch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{pdcch\_processor\_impl()}{pdcch\_processor\_impl()}}
{\footnotesize\ttfamily srsran\+::pdcch\+\_\+processor\+\_\+impl\+::pdcch\+\_\+processor\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__encoder}{pdcch\+\_\+encoder}} $>$}]{encoder\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pdcch__modulator}{pdcch\+\_\+modulator}} $>$}]{modulator\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pdcch__processor}{dmrs\+\_\+pdcch\+\_\+processor}} $>$}]{dmrs\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Generic PDSCH modulator instance constructor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00082\ \ \ \ \ encoder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_}})),\ modulator(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_}})),\ dmrs(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_}}))}
\DoxyCodeLine{00083\ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ srsran\_assert(encoder,\ \textcolor{stringliteral}{"{}Invalid\ encoder."{}});}
\DoxyCodeLine{00085\ \ \ \ \ srsran\_assert(modulator,\ \textcolor{stringliteral}{"{}Invalid\ modulator."{}});}
\DoxyCodeLine{00086\ \ \ \ \ srsran\_assert(dmrs,\ \textcolor{stringliteral}{"{}Invalid\ DMRS\ generator."{}});}
\DoxyCodeLine{00087\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pdcch__processor__impl_ad31ccd055906a79de1f1f9ce7a017a69}\label{classsrsran_1_1pdcch__processor__impl_ad31ccd055906a79de1f1f9ce7a017a69} 
\index{srsran::pdcch\_processor\_impl@{srsran::pdcch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pdcch\_processor\_impl@{srsran::pdcch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1resource__grid__mapper}{resource\+\_\+grid\+\_\+mapper}} \&}]{mapper,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pdcch__processor_1_1pdu__t}{pdu\+\_\+t}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PDCCH transmission. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em mapper} & Resource grid mapper interface. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & Necessary parameters to process the PDCCH transmission. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1pdcch__processor_abfd2099def706756fcf5c5dc312fb00e}{srsran\+::pdcch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{const}\ coreset\_description\&\ coreset\ =\ pdu.coreset;}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{const}\ dci\_description\&\ \ \ \ \ dci\ \ \ \ \ =\ pdu.dci;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ Verify\ CORESET.}}
\DoxyCodeLine{00072\ \ \ srsran\_assert(coreset.duration\ >\ 0\ \&\&\ coreset.duration\ <=\ MAX\_CORESET\_DURATION,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ CORESET\ duration\ (\{\})"{}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ coreset.duration);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ Generate\ RB\ mask.}}
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\_bitset<MAX\_RB>}}\ rb\_mask\ =\ compute\_rb\_mask(coreset,\ dci);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ Populate\ PDCCH\ encoder\ configuration.}}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{structsrsran_1_1pdcch__encoder_1_1config__t}{pdcch\_encoder::config\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_config}};}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_config}}.\mbox{\hyperlink{structsrsran_1_1pdcch__encoder_1_1config__t_a477c1efc668dab50f4093aa62164d556}{E}}\ \ \ \ =\ dci.aggregation\_level\ *\ NOF\_REG\_PER\_CCE\ *\ NOF\_RE\_PDCCH\_PER\_RB\ *\ 2;}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_config}}.rnti\ =\ dci.rnti;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ Encode.}}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}\ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(temp\_encoded).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(nof\_encoded\_bits(dci.aggregation\_level));}
\DoxyCodeLine{00086\ \ \ encoder-\/>encode(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}},\ dci.payload,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_config}});}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ Populate\ PDCCH\ modulator\ configuration.}}
\DoxyCodeLine{00089\ \ \ \mbox{\hyperlink{structsrsran_1_1pdcch__modulator_1_1config__t}{pdcch\_modulator::config\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}};}
\DoxyCodeLine{00090\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.\mbox{\hyperlink{structsrsran_1_1pdcch__modulator_1_1config__t_a0a9777c2033e811e9f21dd5994b88085}{rb\_mask}}\ \ \ \ \ \ \ \ \ \ \ \ =\ rb\_mask;}
\DoxyCodeLine{00091\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.start\_symbol\_index\ =\ coreset.start\_symbol\_index;}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.duration\ \ \ \ \ \ \ \ \ \ \ =\ coreset.duration;}
\DoxyCodeLine{00093\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ dci.n\_id\_pdcch\_data;}
\DoxyCodeLine{00094\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.n\_rnti\ \ \ \ \ \ \ \ \ \ \ \ \ =\ dci.n\_rnti;}
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.scaling\ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_ae7d55278ecca0c130b7004673ffcbe55}{convert\_dB\_to\_amplitude}}(dci.data\_power\_offset\_dB);}
\DoxyCodeLine{00096\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}}.precoding\ \ \ \ \ \ \ \ \ \ =\ dci.precoding;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ Modulate.}}
\DoxyCodeLine{00099\ \ \ modulator-\/>modulate(mapper,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{modulator\_config}});}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \textcolor{keywordtype}{unsigned}\ reference\_point\_k\_rb\ =}
\DoxyCodeLine{00102\ \ \ \ \ \ \ coreset.cce\_to\_reg\_mapping\ ==\ \mbox{\hyperlink{classsrsran_1_1pdcch__processor_aef755c37fa33b634f70a9782933d7c58a99db3fe7378d38e9b93f061596de7181}{cce\_to\_reg\_mapping\_type::CORESET0}}\ ?\ coreset.bwp\_start\_rb\ :\ 0;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ Populate\ DMRS\ for\ PDCCH\ configuration.}}
\DoxyCodeLine{00105\ \ \ \mbox{\hyperlink{structsrsran_1_1dmrs__pdcch__processor_1_1config__t}{dmrs\_pdcch\_processor::config\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}};}
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.\mbox{\hyperlink{structsrsran_1_1dmrs__pdcch__processor_1_1config__t_adf1587be611fd7eabd3dc3c69443a5f0}{slot}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.slot;}
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.cp\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.cp;}
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.reference\_point\_k\_rb\ =\ reference\_point\_k\_rb;}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.rb\_mask\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ rb\_mask;}
\DoxyCodeLine{00110\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.start\_symbol\_index\ \ \ =\ coreset.start\_symbol\_index;}
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.duration\ \ \ \ \ \ \ \ \ \ \ \ \ =\ coreset.duration;}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ dci.n\_id\_pdcch\_dmrs;}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.amplitude\ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_ae7d55278ecca0c130b7004673ffcbe55}{convert\_dB\_to\_amplitude}}(dci.dmrs\_power\_offset\_dB);}
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}}.precoding\ \ \ \ \ \ \ \ \ \ \ \ =\ dci.precoding;}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ Generate\ DMRS.}}
\DoxyCodeLine{00117\ \ \ dmrs-\/>map(mapper,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dmrs\_pdcch\_config}});}
\DoxyCodeLine{00118\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pdcch\+\_\+processor\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pdcch\+\_\+processor\+\_\+impl.\+cpp\end{DoxyCompactItemize}
