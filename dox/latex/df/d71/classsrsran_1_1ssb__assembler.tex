\doxysection{srsran\+::ssb\+\_\+assembler Class Reference}
\hypertarget{classsrsran_1_1ssb__assembler}{}\label{classsrsran_1_1ssb__assembler}\index{srsran::ssb\_assembler@{srsran::ssb\_assembler}}


{\ttfamily \#include $<$ssb\+\_\+assembler.\+h$>$}



Collaboration diagram for srsran\+::ssb\+\_\+assembler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{db/d53/classsrsran_1_1ssb__assembler__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ssb__assembler_ab1e63c0125bb1ef58f6194b8a7fb267a}{ssb\+\_\+assembler}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request}{mac\+\_\+cell\+\_\+creation\+\_\+request}} \&cell\+\_\+cfg)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ssb__assembler_a57c75af542cb2f66e74796a014bc3479}{assemble\+\_\+ssb}} (\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu}{dl\+\_\+ssb\+\_\+pdu}} \&ssb\+\_\+pdu, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ssb__information}{ssb\+\_\+information}} \&ssb\+\_\+info)
\begin{DoxyCompactList}\small\item\em Assemble SSB message to be sent to PHY. This function fills the SSB msg to send to PHY using parameters from\+: (i) MAC configuration (general and SSB);(ii) SSB-\/specific dependent parameters; (iii) SSB scheduling results. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class implements a helper to compute some SSB-\/specific parameters from the MAC\textquotesingle{}s Cell configuration. These parameters are passed to the scheduler and then used to assemble the SSB message to be sent to the PHY. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ssb__assembler_ab1e63c0125bb1ef58f6194b8a7fb267a}\label{classsrsran_1_1ssb__assembler_ab1e63c0125bb1ef58f6194b8a7fb267a} 
\index{srsran::ssb\_assembler@{srsran::ssb\_assembler}!ssb\_assembler@{ssb\_assembler}}
\index{ssb\_assembler@{ssb\_assembler}!srsran::ssb\_assembler@{srsran::ssb\_assembler}}
\doxysubsubsection{\texorpdfstring{ssb\_assembler()}{ssb\_assembler()}}
{\footnotesize\ttfamily ssb\+\_\+assembler\+::ssb\+\_\+assembler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request}{mac\+\_\+cell\+\_\+creation\+\_\+request}} \&}]{cell\+\_\+cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00031\ \ \ pci(cell\_cfg.pci),}
\DoxyCodeLine{00032\ \ \ ssb\_cfg(cell\_cfg.ssb\_cfg),}
\DoxyCodeLine{00033\ \ \ pdcch\_config\_sib1((cell\_cfg.\mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request_aae80e2ecf723414db6d854012d058e71}{sched\_req}}.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_acd9751a1677b0dfbc910313830261681}{coreset0}}\ <<\ 4U)\ +\ cell\_cfg.\mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request_aae80e2ecf723414db6d854012d058e71}{sched\_req}}.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_a2c60ea59f5162317f13ebb41992f6f80}{searchspace0}}),}
\DoxyCodeLine{00034\ \ \ dmrs\_typeA\_pos(cell\_cfg.\mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request_aae80e2ecf723414db6d854012d058e71}{sched\_req}}.dmrs\_typeA\_pos),}
\DoxyCodeLine{00035\ \ \ cell\_barred(cell\_cfg.cell\_barred),}
\DoxyCodeLine{00036\ \ \ intra\_f\_resel(cell\_cfg.intra\_freq\_resel),}
\DoxyCodeLine{00037\ \ \ ssb\_case(band\_helper::get\_ssb\_pattern(cell\_cfg.dl\_carrier.\mbox{\hyperlink{structsrsran_1_1carrier__configuration_a8d8394268ace8f2b23aabac221ce5ae6}{band}},\ ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_ad94ae6c97f455b0171103ef8b30d7696}{scs}})),}
\DoxyCodeLine{00038\ \ \ L\_max(\mbox{\hyperlink{namespacesrsran_a215b4e6138c8014a679643e272ad5d42}{ssb\_get\_L\_max}}(ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_ad94ae6c97f455b0171103ef8b30d7696}{scs}},\ cell\_cfg.dl\_carrier.\mbox{\hyperlink{structsrsran_1_1carrier__configuration_af29be6b1dec86469590752458495670c}{arfcn}},\ cell\_cfg.dl\_carrier.\mbox{\hyperlink{structsrsran_1_1carrier__configuration_a8d8394268ace8f2b23aabac221ce5ae6}{band}}))}
\DoxyCodeLine{00039\ \{}
\DoxyCodeLine{00040\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ssb__assembler_a57c75af542cb2f66e74796a014bc3479}\label{classsrsran_1_1ssb__assembler_a57c75af542cb2f66e74796a014bc3479} 
\index{srsran::ssb\_assembler@{srsran::ssb\_assembler}!assemble\_ssb@{assemble\_ssb}}
\index{assemble\_ssb@{assemble\_ssb}!srsran::ssb\_assembler@{srsran::ssb\_assembler}}
\doxysubsubsection{\texorpdfstring{assemble\_ssb()}{assemble\_ssb()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ssb\+\_\+assembler\+::assemble\+\_\+ssb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu}{dl\+\_\+ssb\+\_\+pdu}} \&}]{ssb\+\_\+pdu,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ssb__information}{ssb\+\_\+information}} \&}]{ssb\+\_\+info }\end{DoxyParamCaption})}



Assemble SSB message to be sent to PHY. This function fills the SSB msg to send to PHY using parameters from\+: (i) MAC configuration (general and SSB);(ii) SSB-\/specific dependent parameters; (iii) SSB scheduling results. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em ssb\+\_\+pdu} & SSB message to be sent to PHY. \\
\hline
\mbox{\texttt{ in}}  & {\em ssb\+\_\+info} & SSB scheduling results. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a5abcd7d0ef478e1537a81c766087ce5b}{pci}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pci;}
\DoxyCodeLine{00045\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_ad2c836993e6ed70f4e62486351bca0c8}{pss\_to\_sss\_epre}}\ \ \ =\ ssb\_pss\_to\_sss\_epre::dB\_0;}
\DoxyCodeLine{00046\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a4b1358d7f2aeb417d26eb21b284b4784}{ssb\_index}}\ \ \ \ \ \ \ \ \ =\ ssb\_info.ssb\_index;}
\DoxyCodeLine{00047\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a72046c64a09c1f71153440f870edd308}{scs}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_ad94ae6c97f455b0171103ef8b30d7696}{scs}};}
\DoxyCodeLine{00048\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a74253f86a011676a9661da31338d7b23}{subcarrier\_offset}}\ =\ ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_a897630993789943db011c5d851d5eb7a}{k\_ssb}};}
\DoxyCodeLine{00049\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a4416ab578e3f9b79de31d6d20bc948e1}{offset\_to\_pointA}}\ \ =\ ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_a676fa4b35fa6907ac8dc0a7d632c074e}{offset\_to\_point\_A}};}
\DoxyCodeLine{00050\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_af4a29904a46777483b07a2f883b2b9de}{ssb\_case}}\ \ \ \ \ \ \ \ \ \ =\ ssb\_case;}
\DoxyCodeLine{00051\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_aa31d0c08926e72134af809cff8a7e7ca}{L\_max}}\ \ \ \ \ \ \ \ \ \ \ \ \ =\ L\_max;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ Fields\ required\ for\ PBCH\ payload/MIB\ generation.}}
\DoxyCodeLine{00054\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a163b238d5f43f3ced440fccd100745ed}{mib\_data}}.\mbox{\hyperlink{structsrsran_1_1ssb__mib__data__pdu_aad2ae6d4d8534b86923f97d012ee27e5}{cell\_barred}}\ \ \ \ \ \ \ \ \ \ \ \ =\ cell\_barred;}
\DoxyCodeLine{00055\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a163b238d5f43f3ced440fccd100745ed}{mib\_data}}.\mbox{\hyperlink{structsrsran_1_1ssb__mib__data__pdu_a1bc39d4b3a8b0bc55c5d5113f14e3f14}{intra\_freq\_reselection}}\ =\ intra\_f\_resel;}
\DoxyCodeLine{00056\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a163b238d5f43f3ced440fccd100745ed}{mib\_data}}.\mbox{\hyperlink{structsrsran_1_1ssb__mib__data__pdu_a718d48174c959565b56692fa645a5e92}{dmrs\_typeA\_pos}}\ \ \ \ \ \ \ \ \ =\ dmrs\_typeA\_pos;}
\DoxyCodeLine{00057\ \ \ ssb\_pdu.\mbox{\hyperlink{structsrsran_1_1dl__ssb__pdu_a163b238d5f43f3ced440fccd100745ed}{mib\_data}}.\mbox{\hyperlink{structsrsran_1_1ssb__mib__data__pdu_a9d6ec8d12c0a9885c797806dd0d85f8a}{pdcch\_config\_sib1}}\ \ \ \ \ \ =\ pdcch\_config\_sib1;}
\DoxyCodeLine{00058\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/mac/mac\+\_\+dl/ssb\+\_\+assembler.\+h\item 
lib/mac/mac\+\_\+dl/ssb\+\_\+assembler.\+cpp\end{DoxyCompactItemize}
