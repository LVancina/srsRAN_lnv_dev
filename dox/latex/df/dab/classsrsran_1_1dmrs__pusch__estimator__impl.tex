\doxysection{srsran\+::dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1dmrs__pusch__estimator__impl}{}\label{classsrsran_1_1dmrs__pusch__estimator__impl}\index{srsran::dmrs\_pusch\_estimator\_impl@{srsran::dmrs\_pusch\_estimator\_impl}}


Inheritance diagram for srsran\+::dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{de/d42/classsrsran_1_1dmrs__pusch__estimator__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{db/ddb/classsrsran_1_1dmrs__pusch__estimator__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1dmrs__pusch__estimator__impl_a3c88e685cadddec8f01a144e146b186a}\label{classsrsran_1_1dmrs__pusch__estimator__impl_a3c88e685cadddec8f01a144e146b186a} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries layer\+\_\+dmrs\+\_\+pattern} = \mbox{\hyperlink{structsrsran_1_1port__channel__estimator_1_1layer__dmrs__pattern}{port\+\_\+channel\+\_\+estimator\+::layer\+\_\+dmrs\+\_\+pattern}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator__impl_a98b444a76ebdf72562a6b7092a363390}{dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prg\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1port__channel__estimator}{port\+\_\+channel\+\_\+estimator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ch\+\_\+est}})
\begin{DoxyCompactList}\small\item\em Constructor -\/ sets the channel estimator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator__impl_abbe1a5331829072bcddf61c882167cc0}{estimate}} (\mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&estimate, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dmrs__pusch__estimator_1_1configuration}{configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Estimates the PUSCH propagation channel. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator}{srsran\+::dmrs\+\_\+pusch\+\_\+estimator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}dmrs\+\_\+pusch\+\_\+estimator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1dmrs__pusch__estimator__impl_a98b444a76ebdf72562a6b7092a363390}\label{classsrsran_1_1dmrs__pusch__estimator__impl_a98b444a76ebdf72562a6b7092a363390} 
\index{srsran::dmrs\_pusch\_estimator\_impl@{srsran::dmrs\_pusch\_estimator\_impl}!dmrs\_pusch\_estimator\_impl@{dmrs\_pusch\_estimator\_impl}}
\index{dmrs\_pusch\_estimator\_impl@{dmrs\_pusch\_estimator\_impl}!srsran::dmrs\_pusch\_estimator\_impl@{srsran::dmrs\_pusch\_estimator\_impl}}
\doxysubsubsection{\texorpdfstring{dmrs\_pusch\_estimator\_impl()}{dmrs\_pusch\_estimator\_impl()}}
{\footnotesize\ttfamily srsran\+::dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl\+::dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$}]{prg\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1port__channel__estimator}{port\+\_\+channel\+\_\+estimator}} $>$}]{ch\+\_\+est }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Constructor -\/ sets the channel estimator. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00042\ \ \ \ \ prg(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prg\_}})),\ ch\_estimator(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ch\_est}}))}
\DoxyCodeLine{00043\ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ srsran\_assert(prg,\ \textcolor{stringliteral}{"{}Invalid\ PRG."{}});}
\DoxyCodeLine{00045\ \ \ \ \ srsran\_assert(ch\_estimator,\ \textcolor{stringliteral}{"{}Invalid\ port\ channel\ estimator."{}});}
\DoxyCodeLine{00046\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{df/dab/classsrsran_1_1dmrs__pusch__estimator__impl_a98b444a76ebdf72562a6b7092a363390_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{df/dab/classsrsran_1_1dmrs__pusch__estimator__impl_a98b444a76ebdf72562a6b7092a363390_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1dmrs__pusch__estimator__impl_abbe1a5331829072bcddf61c882167cc0}\label{classsrsran_1_1dmrs__pusch__estimator__impl_abbe1a5331829072bcddf61c882167cc0} 
\index{srsran::dmrs\_pusch\_estimator\_impl@{srsran::dmrs\_pusch\_estimator\_impl}!estimate@{estimate}}
\index{estimate@{estimate}!srsran::dmrs\_pusch\_estimator\_impl@{srsran::dmrs\_pusch\_estimator\_impl}}
\doxysubsubsection{\texorpdfstring{estimate()}{estimate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl\+::estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&}]{estimate,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dmrs__pusch__estimator_1_1configuration}{configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Estimates the PUSCH propagation channel. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em estimate} & Channel estimate. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Received resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & DM-\/\+RS configuration parameters. They characterize the DM-\/\+RS symbols and their indices. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator_ac4b1765e6367bc75ddb078e63d39e12f}{srsran\+::dmrs\+\_\+pusch\+\_\+estimator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_tx\_layers\ =\ config.nof\_tx\_layers;}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_rx\_ports\ \ =\ config.rx\_ports.size();}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ Select\ the\ DM-\/RS\ pattern\ for\ this\ PUSCH\ transmission.}}
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<layer\_dmrs\_pattern>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coordinates}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<layer\_dmrs\_pattern>}}(temp\_pattern).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(nof\_tx\_layers);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//\ Prepare\ DM-\/RS\ symbol\ buffer\ dimensions.}}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{structsrsran_1_1re__measurement__dimensions}{re\_measurement\_dimensions}}\ dims;}
\DoxyCodeLine{00083\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1re__measurement__dimensions_a31143253af3ece6dda12baf2215fb0a4}{nof\_subc}}\ \ \ \ =\ config.rb\_mask.count()\ *\ config.type.nof\_dmrs\_per\_rb();}
\DoxyCodeLine{00084\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1re__measurement__dimensions_a9a4cf9873dd84bff063a1d3be93a6fa8}{nof\_symbols}}\ =\ config.symbols\_mask.count();}
\DoxyCodeLine{00085\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1re__measurement__dimensions_a05896c694fb9761035c09466a63ec7a6}{nof\_slices}}\ \ =\ nof\_tx\_layers;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ Resize\ DM-\/RS\ symbol\ buffer.}}
\DoxyCodeLine{00088\ \ \ temp\_symbols.\mbox{\hyperlink{classsrsran_1_1detail_1_1re__measurement__tensor__base_a6a2bd1f886defc065f4d78a537005f42}{resize}}(dims);}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Resize\ channel\ estimate.}}
\DoxyCodeLine{00091\ \ \ \mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator__impl_abbe1a5331829072bcddf61c882167cc0}{estimate}}.resize(\{\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(config.rb\_mask.size()),}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config.first\_symbol\ +\ config.nof\_symbols,}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_rx\_ports,}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_tx\_layers\});}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ Generate\ symbols\ and\ allocation\ patterns.}}
\DoxyCodeLine{00097\ \ \ generate(temp\_symbols,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coordinates}},\ config);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{structsrsran_1_1port__channel__estimator_1_1configuration}{port\_channel\_estimator::configuration}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}};}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.\mbox{\hyperlink{structsrsran_1_1port__channel__estimator_1_1configuration_ad985c793ba84e8a5bcf4cdae518b8523}{dmrs\_pattern}}.assign(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coordinates}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{coordinates}}.end());}
\DoxyCodeLine{00101\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.scs\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a2e4c9b3ea403617006756dfa03632b0f}{to\_subcarrier\_spacing}}(config.slot.numerology());}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.first\_symbol\ =\ config.first\_symbol;}
\DoxyCodeLine{00103\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.nof\_symbols\ \ =\ config.nof\_symbols;}
\DoxyCodeLine{00104\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.rx\_ports\ \ \ \ \ =\ config.rx\_ports;}
\DoxyCodeLine{00105\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}}.scaling\ \ \ \ \ \ =\ config.scaling;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ !=\ nof\_rx\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}})\ \{}
\DoxyCodeLine{00108\ \ \ \ \ ch\_estimator-\/>compute(\mbox{\hyperlink{classsrsran_1_1dmrs__pusch__estimator__impl_abbe1a5331829072bcddf61c882167cc0}{estimate}},\ grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},\ temp\_symbols,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{est\_cfg}});}
\DoxyCodeLine{00109\ \ \ \}}
\DoxyCodeLine{00110\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/signal\+\_\+processors/\mbox{\hyperlink{dmrs__pusch__estimator__impl_8h}{dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl.\+h}}\item 
lib/phy/upper/signal\+\_\+processors/dmrs\+\_\+pusch\+\_\+estimator\+\_\+impl.\+cpp\end{DoxyCompactItemize}
