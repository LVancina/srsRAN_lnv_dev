\doxysection{srsran\+::uplink\+\_\+processor\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1uplink__processor__impl}{}\label{classsrsran_1_1uplink__processor__impl}\index{srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}}


Uplink processor implementation.  




{\ttfamily \#include $<$uplink\+\_\+processor\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::uplink\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{d5/d49/classsrsran_1_1uplink__processor__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::uplink\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{dc/d58/classsrsran_1_1uplink__processor__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1uplink__processor__impl_a5cdb541968dbdb8ba0bc44079243283e}{uplink\+\_\+processor\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1prach__detector}{prach\+\_\+detector}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pusch__processor}{pusch\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+proc\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__processor}{pucch\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\+\_\+proc\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__impl_a87d828925cea9db5db53e7dc941b30d3}{process\+\_\+prach}} (\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&buffer, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&context) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes the PRACH using the given configuration and context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__impl_ae89448c00746a3a066fe4e71cea87b51}{process\+\_\+pusch}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ data, \mbox{\hyperlink{classsrsran_1_1unique__rx__buffer}{unique\+\_\+rx\+\_\+buffer}} rm\+\_\+buffer, \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu}{uplink\+\_\+processor\+::pusch\+\_\+pdu}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUSCH transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__impl_a61877305345f2042b4ac43f0dc634f12}{process\+\_\+pucch}} (\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pucch__pdu}{pucch\+\_\+pdu}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Uplink processor implementation. 

In this implementation, every task is processed by its channel processor. When a task finishes, the results are notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} interface. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1uplink__processor__impl_a5cdb541968dbdb8ba0bc44079243283e}\label{classsrsran_1_1uplink__processor__impl_a5cdb541968dbdb8ba0bc44079243283e} 
\index{srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}!uplink\_processor\_impl@{uplink\_processor\_impl}}
\index{uplink\_processor\_impl@{uplink\_processor\_impl}!srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{uplink\_processor\_impl()}{uplink\_processor\_impl()}}
{\footnotesize\ttfamily uplink\+\_\+processor\+\_\+impl\+::uplink\+\_\+processor\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1prach__detector}{prach\+\_\+detector}} $>$}]{prach\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pusch__processor}{pusch\+\_\+processor}} $>$}]{pusch\+\_\+proc\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__processor}{pucch\+\_\+processor}} $>$}]{pucch\+\_\+proc\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00052\ \ \ free\_pusch\_adaptors(max\_nof\_pusch\_notifier\_adaptors),}
\DoxyCodeLine{00053\ \ \ prach(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_}})),}
\DoxyCodeLine{00054\ \ \ pusch\_proc(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_proc\_}})),}
\DoxyCodeLine{00055\ \ \ pucch\_proc(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_proc\_}})),}
\DoxyCodeLine{00056\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}PHY"{}},\ \textcolor{keyword}{true}))}
\DoxyCodeLine{00057\ \{}
\DoxyCodeLine{00058\ \ \ srsran\_assert(prach,\ \textcolor{stringliteral}{"{}A\ valid\ PRACH\ detector\ must\ be\ provided"{}});}
\DoxyCodeLine{00059\ \ \ srsran\_assert(pusch\_proc,\ \textcolor{stringliteral}{"{}A\ valid\ PUSCH\ processor\ must\ be\ provided"{}});}
\DoxyCodeLine{00060\ \ \ srsran\_assert(pucch\_proc,\ \textcolor{stringliteral}{"{}A\ valid\ PUCCH\ processor\ must\ be\ provided"{}});}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ max\_nof\_pusch\_notifier\_adaptors;\ ++i)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ pusch\_adaptors.emplace\_back(detail::pusch\_processor\_result\_notifier\_adaptor(free\_pusch\_adaptors));}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1uplink__processor__impl_a87d828925cea9db5db53e7dc941b30d3}\label{classsrsran_1_1uplink__processor__impl_a87d828925cea9db5db53e7dc941b30d3} 
\index{srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}!process\_prach@{process\_prach}}
\index{process\_prach@{process\_prach}!srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_prach()}{process\_prach()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} uplink\+\_\+processor\+\_\+impl\+::process\+\_\+prach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&}]{buffer,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes the PRACH using the given configuration and context. 

The PRACH detection results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event \doxylink{classsrsran_1_1upper__phy__rx__results__notifier_a6af85cf1e4481f8237093724287bb0f5}{on\+\_\+new\+\_\+prach\+\_\+results}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em buffer} & Channel symbols the PRACH detection is performed on. \\
\hline
\mbox{\texttt{ in}}  & {\em context} & Context used by the underlying PRACH detector. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_ad0519efb1c413cbebaaf98c68844e0ca}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ trace\_point\ tp\ =\ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}.now();}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \mbox{\hyperlink{structsrsran_1_1ul__prach__results}{ul\_prach\_results}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_results}};}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_results}}.\mbox{\hyperlink{structsrsran_1_1ul__prach__results_a5d752c0ed8f7b60247426365c8c6d719}{context}}\ =\ context;}
\DoxyCodeLine{00075\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_results}}.result\ \ =\ prach-\/>detect(buffer,\ get\_prach\_dectector\_config\_from\_prach\_context(context));}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ Notify\ the\ PRACH\ results.}}
\DoxyCodeLine{00078\ \ \ notifier.\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_a6af85cf1e4481f8237093724287bb0f5}{on\_new\_prach\_results}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_results}});}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}\ <<\ \mbox{\hyperlink{structsrsran_1_1trace__event}{trace\_event}}(\textcolor{stringliteral}{"{}process\_prach"{}},\ tp);}
\DoxyCodeLine{00081\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1uplink__processor__impl_a61877305345f2042b4ac43f0dc634f12}\label{classsrsran_1_1uplink__processor__impl_a61877305345f2042b4ac43f0dc634f12} 
\index{srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}!process\_pucch@{process\_pucch}}
\index{process\_pucch@{process\_pucch}!srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_pucch()}{process\_pucch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} uplink\+\_\+processor\+\_\+impl\+::process\+\_\+pucch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pucch__pdu}{pucch\+\_\+pdu}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH transmission. 

The PUCCH results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event \doxylink{classsrsran_1_1upper__phy__rx__results__notifier_a0fefe51cae3fcb5a4518f134aae1f18a}{on\+\_\+new\+\_\+pucch\+\_\+results}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & PUCCH transmission parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_ae3d398b429f188f73ce61c0f1f045d7c}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00114\ \{}
\DoxyCodeLine{00115\ \ \ trace\_point\ tp\ =\ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}.now();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ srsran\_assert(pdu.context.format\ ==\ pucch\_format::FORMAT\_1\ ||\ pdu.context.format\ ==\ pucch\_format::FORMAT\_2,}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Currently\ supporting\ PUCCH\ Format\ 1\ and\ 2\ only."{}});}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\_processor\_result}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}};}
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ Process\ the\ PUCCH.}}
\DoxyCodeLine{00122\ \ \ \textcolor{keywordflow}{switch}\ (pdu.context.format)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_0:}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}}\ =\ pucch\_proc-\/>process(grid,\ pdu.format0);}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_1:}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}}\ =\ pucch\_proc-\/>process(grid,\ pdu.format1);}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_2:}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}}\ =\ pucch\_proc-\/>process(grid,\ pdu.format2);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_3:}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}}\ =\ pucch\_proc-\/>process(grid,\ pdu.format3);}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_4:}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}}\ =\ pucch\_proc-\/>process(grid,\ pdu.format4);}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00139\ \ \ \ \ \ \ srsran\_assert(0,\ \textcolor{stringliteral}{"{}Invalid\ PUCCH\ format=\{\}"{}},\ pdu.context.format);}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{comment}{//\ Write\ the\ results.}}
\DoxyCodeLine{00143\ \ \ \mbox{\hyperlink{structsrsran_1_1ul__pucch__results}{ul\_pucch\_results}}\ result;}
\DoxyCodeLine{00144\ \ \ result.context\ \ \ \ \ \ \ \ \ \ =\ pdu.context;}
\DoxyCodeLine{00145\ \ \ result.processor\_result\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{proc\_result}};}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \textcolor{comment}{//\ Notify\ the\ PUCCH\ results.}}
\DoxyCodeLine{00148\ \ \ notifier.\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_a0fefe51cae3fcb5a4518f134aae1f18a}{on\_new\_pucch\_results}}(result);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}\ <<\ \mbox{\hyperlink{structsrsran_1_1trace__event}{trace\_event}}(\textcolor{stringliteral}{"{}process\_pucch"{}},\ tp);}
\DoxyCodeLine{00151\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1uplink__processor__impl_ae89448c00746a3a066fe4e71cea87b51}\label{classsrsran_1_1uplink__processor__impl_ae89448c00746a3a066fe4e71cea87b51} 
\index{srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}!process\_pusch@{process\_pusch}}
\index{process\_pusch@{process\_pusch}!srsran::uplink\_processor\_impl@{srsran::uplink\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process\_pusch()}{process\_pusch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} uplink\+\_\+processor\+\_\+impl\+::process\+\_\+pusch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{data,  }\item[{\mbox{\hyperlink{classsrsran_1_1unique__rx__buffer}{unique\+\_\+rx\+\_\+buffer}}}]{rm\+\_\+buffer,  }\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu}{uplink\+\_\+processor\+::pusch\+\_\+pdu}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUSCH transmission. 

The size of each transport block is determined by {\ttfamily data\mbox{[}TB index\mbox{]}.size()}.

The PUSCH results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event on\+\_\+new\+\_\+pusch\+\_\+results.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em data} & Received transport block. \\
\hline
\mbox{\texttt{ in,out}}  & {\em rm\+\_\+buffer} & Rate matcher buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Grid the capture data is stored in. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & PUSCH transmission parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_acb4c0019b0045c7a7766ea1beff35466}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \{}
\DoxyCodeLine{00089\ \ \ trace\_point\ tp\ =\ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}.now();}
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Pop\ an\ adaptor\ identifier.}}
\DoxyCodeLine{00091\ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional<unsigned>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{adaptor\_id}}\ =\ free\_pusch\_adaptors.\mbox{\hyperlink{classsrsran_1_1concurrent__queue_af92570524955aa703c2946900d7741b2}{try\_pop}}();}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{adaptor\_id}}.has\_value())\ \{}
\DoxyCodeLine{00093\ \ \ \ \ logger.warning(pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}}.\mbox{\hyperlink{structsrsran_1_1pusch__processor_1_1pdu__t_a3ade5719967497a068985e795b8adfa2}{slot}}.\mbox{\hyperlink{classsrsran_1_1slot__point_a19d7b2faaa1fcc74f3d01560339f7602}{sfn}}(),}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}}.\mbox{\hyperlink{structsrsran_1_1pusch__processor_1_1pdu__t_a3ade5719967497a068985e795b8adfa2}{slot}}.\mbox{\hyperlink{classsrsran_1_1slot__point_a1808c0aeecc25d6382e49511028c010e}{slot\_index}}(),}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ rnti=\{\}\ h\_id=\{\}:\ insufficient\ number\ of\ PUSCH\ notifier\ adaptor.\ Dropping\ PDU."{}},}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}}.\mbox{\hyperlink{structsrsran_1_1pusch__processor_1_1pdu__t_a2c8dcd75bd3e6926c40c7c9883dbb3b9}{rnti}},}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_a26744f11a6372f2f9c6a2793e078643f}{harq\_id}});}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00099\ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{//\ Configure\ adaptor.}}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{classsrsran_1_1pusch__processor__result__notifier}{pusch\_processor\_result\_notifier}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{processor\_notifier}}\ =\ pusch\_adaptors[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{adaptor\_id}}.value()].configure(}
\DoxyCodeLine{00103\ \ \ \ \ \ \ notifier,\ \mbox{\hyperlink{namespacesrsran_a19ba96c7ba2f370f5ffdf9d9cf28e0b0}{to\_rnti}}(pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}}.\mbox{\hyperlink{structsrsran_1_1pusch__processor_1_1pdu__t_a2c8dcd75bd3e6926c40c7c9883dbb3b9}{rnti}}),\ pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}}.\mbox{\hyperlink{structsrsran_1_1pusch__processor_1_1pdu__t_a3ade5719967497a068985e795b8adfa2}{slot}},\ to\_harq\_id(pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_a26744f11a6372f2f9c6a2793e078643f}{harq\_id}}),\ data);}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ Process\ PUSCH.}}
\DoxyCodeLine{00106\ \ \ pusch\_proc-\/>process(data,\ std::move(rm\_buffer),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{processor\_notifier}},\ grid,\ pdu.\mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu_aea6d6bce100cde7602d08f8013d148a1}{pdu}});}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{namespacesrsran_a84c18973244331fd6a0b0e1e553e54a1}{l1\_tracer}}\ <<\ \mbox{\hyperlink{structsrsran_1_1trace__event}{trace\_event}}(\textcolor{stringliteral}{"{}process\_pusch"{}},\ tp);}
\DoxyCodeLine{00109\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/uplink\+\_\+processor\+\_\+impl.\+h\item 
lib/phy/upper/uplink\+\_\+processor\+\_\+impl.\+cpp\end{DoxyCompactItemize}
