\doxysection{srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool Class Reference}
\hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool}{}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool}\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}


Unsynchronized (not thread-\/safe) memory pool of memory blocks of equal size.  




{\ttfamily \#include $<$unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool.\+h$>$}



Collaboration diagram for srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{db/df4/classsrsran_1_1unsync__fixed__size__memory__block__pool__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_a552370145d4e0a5dab6a49cc82c3e33b}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} (size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+blocks\+\_\+}}, size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{memory\+\_\+block\+\_\+size\+\_\+}})
\begin{DoxyCompactList}\small\item\em Ctor of the memory pool. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_a734858556315a2343e074cfb83e1b04f}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_a734858556315a2343e074cfb83e1b04f} 
{\bfseries unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_a7854f58ae202b6656e70bbc98211a04b}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_a7854f58ae202b6656e70bbc98211a04b} 
{\bfseries unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool} (\mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_adee644d59ac79849b1a8a75788f51eaa}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_adee644d59ac79849b1a8a75788f51eaa} 
\mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_a6374fb17a6a3aa804de4c8e04139f869}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_a6374fb17a6a3aa804de4c8e04139f869} 
\mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \& {\bfseries operator=} (\mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool}{unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_af24075a01fa243767453d9a2911f1692}{memory\+\_\+block\+\_\+size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Memory block size in bytes. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_afa74d81397ba6e288f8d42790fb546fa}{nof\+\_\+memory\+\_\+blocks}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Number of memory blocks contained in this memory pool. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_ada1a2f0746d37f60db356b6d698470d0}{nof\+\_\+blocks\+\_\+available}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Number of blocks currently available to be allocated. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_acb5122b6762b7a5a7e500ab71ce921b6}{empty}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Whether the pool is empty. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_a9f47ecbeefe421f874dc69ddc6985813}{allocate\+\_\+node}} (size\+\_\+t sz) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Allocate a node from the memory pool with the provided size. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1unsync__fixed__size__memory__block__pool_ae95407f3f9d56234ea3b0f240151a201}{deallocate\+\_\+node}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}p)
\begin{DoxyCompactList}\small\item\em Deallocate node by returning it back to the memory pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Unsynchronized (not thread-\/safe) memory pool of memory blocks of equal size. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_a552370145d4e0a5dab6a49cc82c3e33b}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_a552370145d4e0a5dab6a49cc82c3e33b} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!unsync\_fixed\_size\_memory\_block\_pool@{unsync\_fixed\_size\_memory\_block\_pool}}
\index{unsync\_fixed\_size\_memory\_block\_pool@{unsync\_fixed\_size\_memory\_block\_pool}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{unsync\_fixed\_size\_memory\_block\_pool()}{unsync\_fixed\_size\_memory\_block\_pool()}}
{\footnotesize\ttfamily srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{nof\+\_\+blocks\+\_\+,  }\item[{size\+\_\+t}]{memory\+\_\+block\+\_\+size\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Ctor of the memory pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00035\ \ \ \ \ mblock\_size(\mbox{\hyperlink{namespacesrsran_a41733940537c893a86a28ce6f8a6e640}{align\_next}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{memory\_block\_size\_}},\ \textcolor{keyword}{alignof}(std::max\_align\_t))),\ nof\_blocks(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_blocks\_}})}
\DoxyCodeLine{00036\ \ \ \{}
\DoxyCodeLine{00037\ \ \ \ \ srsran\_assert(mblock\_size\ >\ free\_memory\_block\_list::min\_memory\_block\_align(),}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Segment\ size\ is\ too\ small\ (\{\}\ <=\ \{\})"{}},}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mblock\_size,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ free\_memory\_block\_list::min\_memory\_block\_align());}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{comment}{//\ Allocate\ the\ required\ memory\ for\ the\ given\ number\ of\ segments\ and\ segment\ size.}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_mem}}\ =\ mblock\_size\ *\ nof\_blocks;}
\DoxyCodeLine{00044\ \ \ \ \ allocated\_memory.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{total\_mem}});}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ Push\ all\ segments\ to\ the\ central\ cache.}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ nof\_blocks;\ ++i)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ block\_free\_list.\mbox{\hyperlink{classsrsran_1_1detail_1_1intrusive__memory__block__list_ab60deb7257aa01d7116f261a113835bc}{push}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(allocated\_memory.data()\ +\ (mblock\_size\ *\ i)));}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_a9f47ecbeefe421f874dc69ddc6985813}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_a9f47ecbeefe421f874dc69ddc6985813} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!allocate\_node@{allocate\_node}}
\index{allocate\_node@{allocate\_node}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{allocate\_node()}{allocate\_node()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*} srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::allocate\+\_\+node (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Allocate a node from the memory pool with the provided size. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ srsran\_assert(sz\ <=\ mblock\_size,\ \textcolor{stringliteral}{"{}Allocated\ node\ size=\{\}\ exceeds\ max\ object\ size=\{\}"{}},\ sz,\ mblock\_size);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ pop\ from\ free\ memory\ block\ list.\ If\ the\ free\ list\ is\ empty,\ null\ is\ returned.}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{void}*\ node\ =\ block\_free\_list.try\_pop();}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{return}\ node;}
\DoxyCodeLine{00076\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_ae95407f3f9d56234ea3b0f240151a201}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_ae95407f3f9d56234ea3b0f240151a201} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!deallocate\_node@{deallocate\_node}}
\index{deallocate\_node@{deallocate\_node}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{deallocate\_node()}{deallocate\_node()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::deallocate\+\_\+node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Deallocate node by returning it back to the memory pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ srsran\_assert(p\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{stringliteral}{"{}Deallocated\ nodes\ must\ have\ valid\ address"{}});}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ push\ to\ free\ memory\ block\ list.}}
\DoxyCodeLine{00084\ \ \ \ \ block\_free\_list.\mbox{\hyperlink{classsrsran_1_1detail_1_1intrusive__memory__block__list_ab60deb7257aa01d7116f261a113835bc}{push}}(p);}
\DoxyCodeLine{00085\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_acb5122b6762b7a5a7e500ab71ce921b6}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_acb5122b6762b7a5a7e500ab71ce921b6} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!empty@{empty}}
\index{empty@{empty}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Whether the pool is empty. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{\ \textcolor{keywordflow}{return}\ block\_free\_list.empty();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_af24075a01fa243767453d9a2911f1692}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_af24075a01fa243767453d9a2911f1692} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!memory\_block\_size@{memory\_block\_size}}
\index{memory\_block\_size@{memory\_block\_size}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{memory\_block\_size()}{memory\_block\_size()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::memory\+\_\+block\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Memory block size in bytes. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \{\ \textcolor{keywordflow}{return}\ mblock\_size;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_ada1a2f0746d37f60db356b6d698470d0}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_ada1a2f0746d37f60db356b6d698470d0} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!nof\_blocks\_available@{nof\_blocks\_available}}
\index{nof\_blocks\_available@{nof\_blocks\_available}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{nof\_blocks\_available()}{nof\_blocks\_available()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::nof\+\_\+blocks\+\_\+available (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Number of blocks currently available to be allocated. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{\ \textcolor{keywordflow}{return}\ block\_free\_list.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1unsync__fixed__size__memory__block__pool_afa74d81397ba6e288f8d42790fb546fa}\label{classsrsran_1_1unsync__fixed__size__memory__block__pool_afa74d81397ba6e288f8d42790fb546fa} 
\index{srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}!nof\_memory\_blocks@{nof\_memory\_blocks}}
\index{nof\_memory\_blocks@{nof\_memory\_blocks}!srsran::unsync\_fixed\_size\_memory\_block\_pool@{srsran::unsync\_fixed\_size\_memory\_block\_pool}}
\doxysubsubsection{\texorpdfstring{nof\_memory\_blocks()}{nof\_memory\_blocks()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool\+::nof\+\_\+memory\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Number of memory blocks contained in this memory pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{\ \textcolor{keywordflow}{return}\ nof\_blocks;\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/memory\+\_\+pool/unsync\+\_\+fixed\+\_\+size\+\_\+memory\+\_\+block\+\_\+pool.\+h\end{DoxyCompactItemize}
