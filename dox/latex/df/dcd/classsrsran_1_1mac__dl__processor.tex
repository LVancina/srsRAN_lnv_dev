\doxysection{srsran\+::mac\+\_\+dl\+\_\+processor Class Reference}
\hypertarget{classsrsran_1_1mac__dl__processor}{}\label{classsrsran_1_1mac__dl__processor}\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}


Inheritance diagram for srsran\+::mac\+\_\+dl\+\_\+processor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{dc/d78/classsrsran_1_1mac__dl__processor__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::mac\+\_\+dl\+\_\+processor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{d3/dd5/classsrsran_1_1mac__dl__processor__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1mac__dl__processor_acb534419c5e2e9503386c0ff84140015}{mac\+\_\+dl\+\_\+processor}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__dl__config}{mac\+\_\+dl\+\_\+config}} \&mac\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1mac__scheduler__cell__info__handler}{mac\+\_\+scheduler\+\_\+cell\+\_\+info\+\_\+handler}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sched\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{du\+\_\+rnti\+\_\+table}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rnti\+\_\+table\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a1974657f0f1011103e73fe642a254957}{has\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_ad9b9096b1a0a9b5f309eb4763fa19462}{add\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request}{mac\+\_\+cell\+\_\+creation\+\_\+request}} \&cell\+\_\+cfg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Adds new cell configuration to MAC DL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a2372a4b3d28abf4efa20300ddfcc63de}{remove\+\_\+cell}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Removes cell configuration from MAC DL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1mac__cell__controller}{mac\+\_\+cell\+\_\+controller}} \& \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a474535ce10f156c0cf1d1724691e48ec}{get\+\_\+cell\+\_\+controller}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a5e7d4f07061496656915f3052595cdda}{add\+\_\+ue}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ue__create__request}{mac\+\_\+ue\+\_\+create\+\_\+request}} \&request) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Creates new UE DL context, updates logical channel MUX, adds UE in scheduler. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a8d5e74278afb2afa6c29a26a72c0e0d8}{remove\+\_\+ue}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ue__delete__request}{mac\+\_\+ue\+\_\+delete\+\_\+request}} \&request) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Deletes UE context in MAC MUX. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a6efafe2c7bfae38a83319109ec804e13}{addmod\+\_\+bearers}} (\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} pcell\+\_\+index, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::vector$<$ \mbox{\hyperlink{structsrsran_1_1mac__logical__channel__config}{mac\+\_\+logical\+\_\+channel\+\_\+config}} $>$ \&logical\+\_\+channels) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Add/\+Modify UE bearers in the MUX. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_a363efdb2f6dcf80fad8bef858a3b22aa}{remove\+\_\+bearers}} (\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} pcell\+\_\+index, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids\+\_\+to\+\_\+rem}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Add/\+Modify UE bearers in the DEMUX. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1mac__cell__slot__handler}{mac\+\_\+cell\+\_\+slot\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1mac__dl__processor_aa7ff5b3a93db38c509130a11d1e8984a}{get\+\_\+slot\+\_\+handler}} (\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}} cell\+\_\+index)
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1mac__dl__processor_acb534419c5e2e9503386c0ff84140015}\label{classsrsran_1_1mac__dl__processor_acb534419c5e2e9503386c0ff84140015} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!mac\_dl\_processor@{mac\_dl\_processor}}
\index{mac\_dl\_processor@{mac\_dl\_processor}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{mac\_dl\_processor()}{mac\_dl\_processor()}}
{\footnotesize\ttfamily mac\+\_\+dl\+\_\+processor\+::mac\+\_\+dl\+\_\+processor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__dl__config}{mac\+\_\+dl\+\_\+config}} \&}]{mac\+\_\+cfg,  }\item[{\mbox{\hyperlink{classsrsran_1_1mac__scheduler__cell__info__handler}{mac\+\_\+scheduler\+\_\+cell\+\_\+info\+\_\+handler}} \&}]{sched\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{du\+\_\+rnti\+\_\+table}} \&}]{rnti\+\_\+table\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00031\ \ \ cfg(mac\_cfg),\ ue\_mng(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rnti\_table\_}}),\ sched(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sched\_}})}
\DoxyCodeLine{00032\ \{}
\DoxyCodeLine{00033\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1mac__dl__processor_ad9b9096b1a0a9b5f309eb4763fa19462}\label{classsrsran_1_1mac__dl__processor_ad9b9096b1a0a9b5f309eb4763fa19462} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!add\_cell@{add\_cell}}
\index{add\_cell@{add\_cell}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{add\_cell()}{add\_cell()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} mac\+\_\+dl\+\_\+processor\+::add\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__cell__creation__request}{mac\+\_\+cell\+\_\+creation\+\_\+request}} \&}]{cell\+\_\+cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds new cell configuration to MAC DL. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__cell__manager}{srsran\+::mac\+\_\+cell\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00041\ \{}
\DoxyCodeLine{00042\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ has\_cell(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index),\ \textcolor{stringliteral}{"{}Overwriting\ existing\ cell\ is\ invalid."{}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ Create\ MAC\ cell\ and\ add\ it\ to\ list.}}
\DoxyCodeLine{00045\ \ \ cells[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index]\ =}
\DoxyCodeLine{00046\ \ \ \ \ \ \ std::make\_unique<mac\_cell\_processor>(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}},}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sched,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_mng,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.phy\_notifier.get\_cell(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index),}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aba53affe4171742004f68e31b54f5a46}{executor}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index),}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aaa97b6d66048785a40e48878705e4091}{slot\_ind\_executor}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index),}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_ae26522dba5aac6db86202b81229e5bbf}{error\_ind\_executor}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_req}}.cell\_index),}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.ctrl\_exec,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.pcap);}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a5e7d4f07061496656915f3052595cdda}\label{classsrsran_1_1mac__dl__processor_a5e7d4f07061496656915f3052595cdda} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!add\_ue@{add\_ue}}
\index{add\_ue@{add\_ue}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{add\_ue()}{add\_ue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ mac\+\_\+dl\+\_\+processor\+::add\+\_\+ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ue__create__request}{mac\+\_\+ue\+\_\+create\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates new UE DL context, updates logical channel MUX, adds UE in scheduler. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__dl__configurator_a8f07dacbcfdb0a45f2db8fa44201df75}{srsran\+::mac\+\_\+dl\+\_\+configurator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ >\ Allocate\ UE\ DL\ HARQ\ buffers.}}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ Note:\ This\ is\ a\ large\ allocation,\ and\ therefore,\ should\ be\ done\ outside\ of\ the\ cell\ thread\ to\ avoid\ causing\ lates.}}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classsrsran_1_1mac__dl__ue__context}{mac\_dl\_ue\_context}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_inst}}(request);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([\textcolor{keyword}{this},\ request,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_inst}}\ =\ std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_inst}})](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<bool>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00072\ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//\ >\ Change\ to\ respective\ DL\ executor}}
\DoxyCodeLine{00075\ \ \ \ \ CORO\_AWAIT(\mbox{\hyperlink{namespacesrsran_aefab54c1d87940c7d93f9eba61c7b302}{execute\_on}}(cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aba53affe4171742004f68e31b54f5a46}{executor}}(request.\mbox{\hyperlink{structsrsran_1_1mac__ue__create__request_a966a7dd535e01e28774d6962091a37ca}{cell\_index}})));}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ >\ Insert\ UE\ and\ DL\ bearers}}
\DoxyCodeLine{00078\ \ \ \ \ ue\_mng.add\_ue(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_inst}}));}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ >\ Change\ back\ to\ CTRL\ executor\ before\ returning}}
\DoxyCodeLine{00081\ \ \ \ \ CORO\_AWAIT(\mbox{\hyperlink{namespacesrsran_aefab54c1d87940c7d93f9eba61c7b302}{execute\_on}}(cfg.ctrl\_exec));}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ CORO\_RETURN(\textcolor{keyword}{true});}
\DoxyCodeLine{00084\ \ \ \});}
\DoxyCodeLine{00085\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a6efafe2c7bfae38a83319109ec804e13}\label{classsrsran_1_1mac__dl__processor_a6efafe2c7bfae38a83319109ec804e13} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!addmod\_bearers@{addmod\_bearers}}
\index{addmod\_bearers@{addmod\_bearers}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{addmod\_bearers()}{addmod\_bearers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ mac\+\_\+dl\+\_\+processor\+::addmod\+\_\+bearers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}}}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{pcell\+\_\+index,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::vector$<$ \mbox{\hyperlink{structsrsran_1_1mac__logical__channel__config}{mac\+\_\+logical\+\_\+channel\+\_\+config}} $>$ \&}]{logical\+\_\+channels }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Add/\+Modify UE bearers in the MUX. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__dl__configurator_a71b7f7d3da7f0012c0af66a338edc978}{srsran\+::mac\+\_\+dl\+\_\+configurator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108\ \{}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{return}\ dispatch\_and\_resume\_on(}
\DoxyCodeLine{00110\ \ \ \ \ \ \ cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aba53affe4171742004f68e31b54f5a46}{executor}}(pcell\_index),\ cfg.ctrl\_exec,\ [\textcolor{keyword}{this},\ ue\_index,\ logical\_channels]()\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ return\ ue\_mng.addmod\_bearers(ue\_index,\ logical\_channels);}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \});}
\DoxyCodeLine{00113\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a474535ce10f156c0cf1d1724691e48ec}\label{classsrsran_1_1mac__dl__processor_a474535ce10f156c0cf1d1724691e48ec} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!get\_cell\_controller@{get\_cell\_controller}}
\index{get\_cell\_controller@{get\_cell\_controller}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{get\_cell\_controller()}{get\_cell\_controller()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1mac__cell__controller}{mac\+\_\+cell\+\_\+controller}} \& srsran\+::mac\+\_\+dl\+\_\+processor\+::get\+\_\+cell\+\_\+controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1mac__cell__manager}{srsran\+::mac\+\_\+cell\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \{\ \textcolor{keywordflow}{return}\ *cells[cell\_index];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_aa7ff5b3a93db38c509130a11d1e8984a}\label{classsrsran_1_1mac__dl__processor_aa7ff5b3a93db38c509130a11d1e8984a} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!get\_slot\_handler@{get\_slot\_handler}}
\index{get\_slot\_handler@{get\_slot\_handler}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{get\_slot\_handler()}{get\_slot\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1mac__cell__slot__handler}{mac\+\_\+cell\+\_\+slot\+\_\+handler}} \& srsran\+::mac\+\_\+dl\+\_\+processor\+::get\+\_\+slot\+\_\+handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \{\ \textcolor{keywordflow}{return}\ *cells[cell\_index];\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a1974657f0f1011103e73fe642a254957}\label{classsrsran_1_1mac__dl__processor_a1974657f0f1011103e73fe642a254957} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!has\_cell@{has\_cell}}
\index{has\_cell@{has\_cell}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{has\_cell()}{has\_cell()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} mac\+\_\+dl\+\_\+processor\+::has\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \{}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{return}\ cell\_index\ <\ MAX\_NOF\_DU\_CELLS\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ cells[cell\_index]\ !=\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00038\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a363efdb2f6dcf80fad8bef858a3b22aa}\label{classsrsran_1_1mac__dl__processor_a363efdb2f6dcf80fad8bef858a3b22aa} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!remove\_bearers@{remove\_bearers}}
\index{remove\_bearers@{remove\_bearers}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{remove\_bearers()}{remove\_bearers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ mac\+\_\+dl\+\_\+processor\+::remove\+\_\+bearers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}}}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{pcell\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} $>$}]{lcids\+\_\+to\+\_\+rem }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Add/\+Modify UE bearers in the DEMUX. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__dl__configurator_aafb2eed950de7a2d4c2dc880dcba2b6c}{srsran\+::mac\+\_\+dl\+\_\+configurator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00117\ \{}
\DoxyCodeLine{00118\ \ \ std::vector<lcid\_t>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids\_to\_rem}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids\_to\_rem}}.end());}
\DoxyCodeLine{00119\ \ \ \textcolor{keywordflow}{return}\ dispatch\_and\_resume\_on(}
\DoxyCodeLine{00120\ \ \ \ \ \ \ cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aba53affe4171742004f68e31b54f5a46}{executor}}(pcell\_index),\ cfg.ctrl\_exec,\ [\textcolor{keyword}{this},\ ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids}}\ =\ std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lcids}})]()\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ return\ ue\_mng.remove\_bearers(ue\_index,\ lcids);}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \});}
\DoxyCodeLine{00123\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a2372a4b3d28abf4efa20300ddfcc63de}\label{classsrsran_1_1mac__dl__processor_a2372a4b3d28abf4efa20300ddfcc63de} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!remove\_cell@{remove\_cell}}
\index{remove\_cell@{remove\_cell}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{remove\_cell()}{remove\_cell()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} mac\+\_\+dl\+\_\+processor\+::remove\+\_\+cell (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5b995a7b11715f3042e18281c21991ff}{du\+\_\+cell\+\_\+index\+\_\+t}}}]{cell\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Removes cell configuration from MAC DL. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__cell__manager}{srsran\+::mac\+\_\+cell\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \{}
\DoxyCodeLine{00059\ \ \ srsran\_assert(has\_cell(cell\_index),\ \textcolor{stringliteral}{"{}Accessing\ non-\/existing\ cell."{}});}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//\ Remove\ cell\ from\ cell\ manager.}}
\DoxyCodeLine{00062\ \ \ cells[cell\_index].reset();}
\DoxyCodeLine{00063\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1mac__dl__processor_a8d5e74278afb2afa6c29a26a72c0e0d8}\label{classsrsran_1_1mac__dl__processor_a8d5e74278afb2afa6c29a26a72c0e0d8} 
\index{srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}!remove\_ue@{remove\_ue}}
\index{remove\_ue@{remove\_ue}!srsran::mac\_dl\_processor@{srsran::mac\_dl\_processor}}
\doxysubsubsection{\texorpdfstring{remove\_ue()}{remove\_ue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ mac\+\_\+dl\+\_\+processor\+::remove\+\_\+ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ue__delete__request}{mac\+\_\+ue\+\_\+delete\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Deletes UE context in MAC MUX. 



Implements \mbox{\hyperlink{classsrsran_1_1mac__dl__configurator_aba36f76ae2925d7edc866ef74afbe6cd}{srsran\+::mac\+\_\+dl\+\_\+configurator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \{}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([\textcolor{keyword}{this},\ request](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<void>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00090\ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ 1.\ Change\ to\ respective\ DL\ executor}}
\DoxyCodeLine{00093\ \ \ \ \ CORO\_AWAIT(\mbox{\hyperlink{namespacesrsran_aefab54c1d87940c7d93f9eba61c7b302}{execute\_on}}(cfg.cell\_exec\_mapper.\mbox{\hyperlink{classsrsran_1_1du__high__cell__executor__mapper_aba53affe4171742004f68e31b54f5a46}{executor}}(request.cell\_index)));}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{//\ 2.\ Remove\ UE\ associated\ DL\ channels}}
\DoxyCodeLine{00096\ \ \ \ \ ue\_mng.remove\_ue(request.ue\_index);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ 3.\ Change\ back\ to\ CTRL\ executor\ before\ returning}}
\DoxyCodeLine{00099\ \ \ \ \ CORO\_AWAIT(\mbox{\hyperlink{namespacesrsran_aefab54c1d87940c7d93f9eba61c7b302}{execute\_on}}(cfg.ctrl\_exec));}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ CORO\_RETURN();}
\DoxyCodeLine{00102\ \ \ \});}
\DoxyCodeLine{00103\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/mac/mac\+\_\+dl/mac\+\_\+dl\+\_\+processor.\+h\item 
lib/mac/mac\+\_\+dl/mac\+\_\+dl\+\_\+processor.\+cpp\end{DoxyCompactItemize}
