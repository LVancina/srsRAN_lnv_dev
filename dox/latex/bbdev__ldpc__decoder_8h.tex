\doxysection{lib/hal/dpdk/bbdev/ldpc/bbdev\+\_\+ldpc\+\_\+decoder.h File Reference}
\hypertarget{bbdev__ldpc__decoder_8h}{}\label{bbdev__ldpc__decoder_8h}\index{lib/hal/dpdk/bbdev/ldpc/bbdev\_ldpc\_decoder.h@{lib/hal/dpdk/bbdev/ldpc/bbdev\_ldpc\_decoder.h}}


Definition of the specific functions used by the bbdeb-\/based hardware-\/accelerated LDPC decoder implementations.  


{\ttfamily \#include "{}srsran/adt/static\+\_\+vector.\+h"{}}\newline
{\ttfamily \#include "{}srsran/hal/phy/upper/channel\+\_\+processors/pusch/hw\+\_\+accelerator\+\_\+pusch\+\_\+dec.\+h"{}}\newline
{\ttfamily \#include $<$rte\+\_\+bbdev\+\_\+op.\+h$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacesrsran}{srsran}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{bbdev__ldpc__decoder_8h_a3917e1c4c2418b57f65abe349e23c55d}{srsran\+::dpdk\+::set\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+config}} (\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&op, const \mbox{\hyperlink{structsrsran_1_1hal_1_1hw__pusch__decoder__configuration}{srsran\+::hal\+::hw\+\_\+pusch\+\_\+decoder\+\_\+configuration}} \&cfg, bool ext\+\_\+softbuffer)
\item 
bool \mbox{\hyperlink{bbdev__ldpc__decoder_8h_aa6185de3e28387fac14217e74abb2f4d}{srsran\+::dpdk\+::set\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+data}} (\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&op, \+::rte\+\_\+mempool \&in\+\_\+mbuf\+\_\+pool, \+::rte\+\_\+mempool \&harq\+\_\+in\+\_\+mbuf\+\_\+pool, \+::rte\+\_\+mempool \&out\+\_\+mbuf\+\_\+pool, \+::rte\+\_\+mempool \&harq\+\_\+out\+\_\+mbuf\+\_\+pool, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const int8\+\_\+t $>$ data, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const int8\+\_\+t $>$ soft\+\_\+data, bool new\+\_\+data, bool ext\+\_\+softbuffer, uint32\+\_\+t soft\+\_\+data\+\_\+len, unsigned cb\+\_\+index, unsigned absolute\+\_\+cb\+\_\+id, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&logger)
\item 
bool \mbox{\hyperlink{bbdev__ldpc__decoder_8h_a3c4ceacdcd98d020d3117101450b8041}{srsran\+::dpdk\+::enqueue\+\_\+ldpc\+\_\+dec\+\_\+operation}} (\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&dec\+\_\+ops, uint16\+\_\+t ldpc\+\_\+dec\+\_\+ops, uint16\+\_\+t id, uint16\+\_\+t dec\+\_\+queue\+\_\+id, bool new\+\_\+data, bool ext\+\_\+softbuffer, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&logger)
\item 
bool \mbox{\hyperlink{bbdev__ldpc__decoder_8h_ab7e8dda0e01135f02c8373ccf4c10f70}{srsran\+::dpdk\+::dequeue\+\_\+ldpc\+\_\+dec\+\_\+operation}} (\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&dec\+\_\+ops, uint16\+\_\+t ldpc\+\_\+dec\+\_\+ops, uint16\+\_\+t id, uint16\+\_\+t dec\+\_\+queue\+\_\+id, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&logger)
\item 
uint32\+\_\+t \mbox{\hyperlink{bbdev__ldpc__decoder_8h_af34eed669caa91d40b126ab6b207c7b1}{srsran\+::dpdk\+::read\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+data}} (\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&op, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$ data, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ int8\+\_\+t $>$ soft\+\_\+data, bool new\+\_\+data, bool ext\+\_\+softbuffer)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Definition of the specific functions used by the bbdeb-\/based hardware-\/accelerated LDPC decoder implementations. 



\doxysubsection{Function Documentation}
\Hypertarget{bbdev__ldpc__decoder_8h_ab7e8dda0e01135f02c8373ccf4c10f70}\label{bbdev__ldpc__decoder_8h_ab7e8dda0e01135f02c8373ccf4c10f70} 
\index{bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}!dequeue\_ldpc\_dec\_operation@{dequeue\_ldpc\_dec\_operation}}
\index{dequeue\_ldpc\_dec\_operation@{dequeue\_ldpc\_dec\_operation}!bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}}
\doxysubsubsection{\texorpdfstring{dequeue\_ldpc\_dec\_operation()}{dequeue\_ldpc\_dec\_operation()}}
{\footnotesize\ttfamily bool srsran\+::dpdk\+::dequeue\+\_\+ldpc\+\_\+dec\+\_\+operation (\begin{DoxyParamCaption}\item[{\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&}]{dec\+\_\+ops,  }\item[{uint16\+\_\+t}]{ldpc\+\_\+dec\+\_\+ops,  }\item[{uint16\+\_\+t}]{id,  }\item[{uint16\+\_\+t}]{dec\+\_\+queue\+\_\+id,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger }\end{DoxyParamCaption})}

Dequeues processed operations from the hardware-\/accelerated LDPC decoder. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dec\+\_\+ops} & Array of decoder operation configuration structures. \\
\hline
\mbox{\texttt{ in}}  & {\em num\+\_\+dec\+\_\+ops} & Number of decoder operations (to be dequeued -\/ to the array). \\
\hline
\mbox{\texttt{ in}}  & {\em id} & bbdev ID of the hardware-\/accelerator. \\
\hline
\mbox{\texttt{ in}}  & {\em dec\+\_\+queue\+\_\+id} & bbdev ID of the queue used by the hardrware-\/accelerator. \\
\hline
\mbox{\texttt{ in}}  & {\em new\+\_\+data} & Indicates if the data is new or a retransmission. \\
\hline
\mbox{\texttt{ in}}  & {\em ext\+\_\+softbuffer} & Indicates if the soft-\/buffer implementation type. \\
\hline
\mbox{\texttt{ in}}  & {\em logger} & SRS logger. \\
\hline
\end{DoxyParams}
\Hypertarget{bbdev__ldpc__decoder_8h_a3c4ceacdcd98d020d3117101450b8041}\label{bbdev__ldpc__decoder_8h_a3c4ceacdcd98d020d3117101450b8041} 
\index{bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}!enqueue\_ldpc\_dec\_operation@{enqueue\_ldpc\_dec\_operation}}
\index{enqueue\_ldpc\_dec\_operation@{enqueue\_ldpc\_dec\_operation}!bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}}
\doxysubsubsection{\texorpdfstring{enqueue\_ldpc\_dec\_operation()}{enqueue\_ldpc\_dec\_operation()}}
{\footnotesize\ttfamily bool srsran\+::dpdk\+::enqueue\+\_\+ldpc\+\_\+dec\+\_\+operation (\begin{DoxyParamCaption}\item[{\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&}]{dec\+\_\+ops,  }\item[{uint16\+\_\+t}]{ldpc\+\_\+dec\+\_\+ops,  }\item[{uint16\+\_\+t}]{id,  }\item[{uint16\+\_\+t}]{dec\+\_\+queue\+\_\+id,  }\item[{bool}]{new\+\_\+data,  }\item[{bool}]{ext\+\_\+softbuffer,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger }\end{DoxyParamCaption})}

Enqueues new operations in the hardware-\/accelerated LDPC decoder. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dec\+\_\+ops} & Array of decoder operation configuration structures. \\
\hline
\mbox{\texttt{ in}}  & {\em num\+\_\+dec\+\_\+ops} & Number of decoder operations (to be enqueued -\/ from the array). \\
\hline
\mbox{\texttt{ in}}  & {\em id} & bbdev ID of the hardware-\/accelerator. \\
\hline
\mbox{\texttt{ in}}  & {\em dec\+\_\+queue\+\_\+id} & bbdev ID of the queue used by the hardrware-\/accelerator. \\
\hline
\mbox{\texttt{ in}}  & {\em logger} & SRS logger. \\
\hline
\end{DoxyParams}
\Hypertarget{bbdev__ldpc__decoder_8h_af34eed669caa91d40b126ab6b207c7b1}\label{bbdev__ldpc__decoder_8h_af34eed669caa91d40b126ab6b207c7b1} 
\index{bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}!read\_ldpc\_dec\_bbdev\_data@{read\_ldpc\_dec\_bbdev\_data}}
\index{read\_ldpc\_dec\_bbdev\_data@{read\_ldpc\_dec\_bbdev\_data}!bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}}
\doxysubsubsection{\texorpdfstring{read\_ldpc\_dec\_bbdev\_data()}{read\_ldpc\_dec\_bbdev\_data()}}
{\footnotesize\ttfamily uint32\+\_\+t srsran\+::dpdk\+::read\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+data (\begin{DoxyParamCaption}\item[{\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&}]{op,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ uint8\+\_\+t $>$}]{data,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ int8\+\_\+t $>$}]{soft\+\_\+data,  }\item[{bool}]{new\+\_\+data,  }\item[{bool}]{ext\+\_\+softbuffer }\end{DoxyParamCaption})}

Reads the contents of the bbdev output mbuffer structures from the hardware-\/accelerated LPDC decoder operations. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em op} & bbdev decoder operation configuration structure. \\
\hline
\mbox{\texttt{ out}}  & {\em data} & The output data from the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ out}}  & {\em soft\+\_\+data} & The output soft-\/data from the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em new\+\_\+data} & Indicates if the data is new or a retransmission. \\
\hline
\mbox{\texttt{ in}}  & {\em ext\+\_\+softbuffer} & Indicates if the soft-\/buffer implementation type. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Length of the soft-\/combining output data. 
\end{DoxyReturn}
\Hypertarget{bbdev__ldpc__decoder_8h_a3917e1c4c2418b57f65abe349e23c55d}\label{bbdev__ldpc__decoder_8h_a3917e1c4c2418b57f65abe349e23c55d} 
\index{bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}!set\_ldpc\_dec\_bbdev\_config@{set\_ldpc\_dec\_bbdev\_config}}
\index{set\_ldpc\_dec\_bbdev\_config@{set\_ldpc\_dec\_bbdev\_config}!bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}}
\doxysubsubsection{\texorpdfstring{set\_ldpc\_dec\_bbdev\_config()}{set\_ldpc\_dec\_bbdev\_config()}}
{\footnotesize\ttfamily void srsran\+::dpdk\+::set\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+config (\begin{DoxyParamCaption}\item[{\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&}]{op,  }\item[{const \mbox{\hyperlink{structsrsran_1_1hal_1_1hw__pusch__decoder__configuration}{srsran\+::hal\+::hw\+\_\+pusch\+\_\+decoder\+\_\+configuration}} \&}]{cfg,  }\item[{bool}]{ext\+\_\+softbuffer }\end{DoxyParamCaption})}

Sets the contents of the bbdev configuration structure for the hardware-\/accelerated LPDC decoder operations. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em op} & bbdev decoder operation configuration structure. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & PUSCH decoder configuration parameter-\/structure. \\
\hline
\mbox{\texttt{ in}}  & {\em ext\+\_\+softbuffer} & Indicates if the soft-\/buffer implementation type. \\
\hline
\end{DoxyParams}
\Hypertarget{bbdev__ldpc__decoder_8h_aa6185de3e28387fac14217e74abb2f4d}\label{bbdev__ldpc__decoder_8h_aa6185de3e28387fac14217e74abb2f4d} 
\index{bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}!set\_ldpc\_dec\_bbdev\_data@{set\_ldpc\_dec\_bbdev\_data}}
\index{set\_ldpc\_dec\_bbdev\_data@{set\_ldpc\_dec\_bbdev\_data}!bbdev\_ldpc\_decoder.h@{bbdev\_ldpc\_decoder.h}}
\doxysubsubsection{\texorpdfstring{set\_ldpc\_dec\_bbdev\_data()}{set\_ldpc\_dec\_bbdev\_data()}}
{\footnotesize\ttfamily bool srsran\+::dpdk\+::set\+\_\+ldpc\+\_\+dec\+\_\+bbdev\+\_\+data (\begin{DoxyParamCaption}\item[{\+::rte\+\_\+bbdev\+\_\+dec\+\_\+op \&}]{op,  }\item[{\+::rte\+\_\+mempool \&}]{in\+\_\+mbuf\+\_\+pool,  }\item[{\+::rte\+\_\+mempool \&}]{harq\+\_\+in\+\_\+mbuf\+\_\+pool,  }\item[{\+::rte\+\_\+mempool \&}]{out\+\_\+mbuf\+\_\+pool,  }\item[{\+::rte\+\_\+mempool \&}]{harq\+\_\+out\+\_\+mbuf\+\_\+pool,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const int8\+\_\+t $>$}]{data,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const int8\+\_\+t $>$}]{soft\+\_\+data,  }\item[{bool}]{new\+\_\+data,  }\item[{bool}]{ext\+\_\+softbuffer,  }\item[{uint32\+\_\+t}]{soft\+\_\+data\+\_\+len,  }\item[{unsigned}]{cb\+\_\+index,  }\item[{unsigned}]{absolute\+\_\+cb\+\_\+id,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger }\end{DoxyParamCaption})}

Sets the contents of the bbdev input mbuffer structures for the hardware-\/accelerated LPDC decoder operations. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em op} & bbdev decoder operation configuration structure. \\
\hline
\mbox{\texttt{ in}}  & {\em in\+\_\+mbuf\+\_\+pool} & Input data mbuf pool for the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em harq\+\_\+in\+\_\+mbuf\+\_\+pool} & Input soft-\/data mbuf pool for the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em out\+\_\+mbuf\+\_\+pool} & Output data mbuf pool for the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em harq\+\_\+out\+\_\+mbuf\+\_\+pool} & Output soft-\/data mbuf pool for the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em data} & The input data to the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em soft\+\_\+data} & The input soft-\/data to the hardware-\/accelerated LDPC decoder operations. \\
\hline
\mbox{\texttt{ in}}  & {\em new\+\_\+data} & Indicates if the data is new or a retransmission. \\
\hline
\mbox{\texttt{ in}}  & {\em ext\+\_\+softbuffer} & Indicates if the soft-\/buffer implementation type. \\
\hline
\mbox{\texttt{ in}}  & {\em soft\+\_\+data\+\_\+len} & Length of the soft-\/combining input data. \\
\hline
\mbox{\texttt{ in}}  & {\em cb\+\_\+index} & Index of the CB (within the TB). \\
\hline
\mbox{\texttt{ in}}  & {\em absolute\+\_\+cb\+\_\+id} & Unique ID of associated to the CB in the soft-\/buffer and HARQ ACK context entry. \\
\hline
\mbox{\texttt{ in}}  & {\em logger} & SRS logger. \\
\hline
\end{DoxyParams}
