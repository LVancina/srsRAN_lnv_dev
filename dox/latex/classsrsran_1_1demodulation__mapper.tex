\doxysection{srsran\+::demodulation\+\_\+mapper Class Reference}
\hypertarget{classsrsran_1_1demodulation__mapper}{}\label{classsrsran_1_1demodulation__mapper}\index{srsran::demodulation\_mapper@{srsran::demodulation\_mapper}}


Demodulator interface.  




{\ttfamily \#include $<$demodulation\+\_\+mapper.\+h$>$}

Inheritance diagram for srsran\+::demodulation\+\_\+mapper\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1demodulation__mapper}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1demodulation__mapper_aefc9ff38283837603c68ee8c0fd50d9b}\label{classsrsran_1_1demodulation__mapper_aefc9ff38283837603c68ee8c0fd50d9b} 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}demodulation\+\_\+mapper} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classsrsran_1_1demodulation__mapper_aa2e3976142cb103cbdf3e8edbecbaffd}{demodulate\+\_\+soft}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ llrs, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ symbols, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const float $>$ noise\+\_\+vars, \mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802df}{modulation\+\_\+scheme}} mod)=0
\begin{DoxyCompactList}\small\item\em Soft demodulation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Demodulator interface. 

The demodulation mapper reverts the operations described in TS38.\+211 Section 5.\+1. It takes as input a sequence of noisy, complex-\/valued modulation symbols and it returns a sequence of log-\/likelihood ratios (soft bits). More specifically, the $m$th modulation symbol will be mapped to the soft bits  \[
\ell(b_{m+i}) = \log \frac{\Pr(b_{m+i}=0|y_m)}{\Pr(b_{m+i}=1|y_m)}
\] where $i = 0,1,\dots,Q_{\textup{m}}-1$, with $Q_{\textup{m}}$ denoting the modulation order as defined in TS38.\+211 Table 6.\+3.\+1.\+2-\/1, and where $\Pr(b_{m+i}=B|y_m)$ is the conditional probability of bit $b_{m+i}$ being equal to $B$ given the modulation symbol $y_m$. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1demodulation__mapper_aa2e3976142cb103cbdf3e8edbecbaffd}\label{classsrsran_1_1demodulation__mapper_aa2e3976142cb103cbdf3e8edbecbaffd} 
\index{srsran::demodulation\_mapper@{srsran::demodulation\_mapper}!demodulate\_soft@{demodulate\_soft}}
\index{demodulate\_soft@{demodulate\_soft}!srsran::demodulation\_mapper@{srsran::demodulation\_mapper}}
\doxysubsubsection{\texorpdfstring{demodulate\_soft()}{demodulate\_soft()}}
{\footnotesize\ttfamily virtual void srsran\+::demodulation\+\_\+mapper\+::demodulate\+\_\+soft (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{llrs,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{symbols,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const float $>$}]{noise\+\_\+vars,  }\item[{\mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802df}{modulation\+\_\+scheme}}}]{mod }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Soft demodulation. 

Demodulates complex symbols into log-\/likelihood ratios (i.\+e., soft bits). 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em llrs} & Demodulated log-\/likelihood ratios. \\
\hline
\mbox{\texttt{ in}}  & {\em symbols} & Complex symbols to demodulate (equalization output). \\
\hline
\mbox{\texttt{ in}}  & {\em noise\+\_\+vars} & Noise variances (after equalization). \\
\hline
\mbox{\texttt{ in}}  & {\em mod} & Modulation scheme. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Parameters {\ttfamily symbols} and {\ttfamily noise\+\_\+vars} must have the same length. Each entry of {\ttfamily noise\+\_\+vars} contains the (estimated) noise variance after equalization corresponding to the symbol with the same index. 

The length of {\ttfamily llrs} is given by the number of symbols multiplied by the modulation order of {\ttfamily mod}. 

Any operation involving ill-\/formed inputs (NaN, infinity or negative noise variances, as well as Na\+N-\/valued symbols or infinity-\/over-\/infinity divisions) will result in an indeterminate, zero-\/valued log-\/ likelihood ratio. 
\end{DoxyRemark}


Implemented in \mbox{\hyperlink{classsrsran_1_1demodulation__mapper__impl_a41fe683ab1a2139de42ddb8e776aa866}{srsran\+::demodulation\+\_\+mapper\+\_\+impl}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/phy/upper/channel\+\_\+modulation/\mbox{\hyperlink{demodulation__mapper_8h}{demodulation\+\_\+mapper.\+h}}\end{DoxyCompactItemize}
