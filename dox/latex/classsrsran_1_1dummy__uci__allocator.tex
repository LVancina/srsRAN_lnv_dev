\doxysection{srsran\+::dummy\+\_\+uci\+\_\+allocator Class Reference}
\hypertarget{classsrsran_1_1dummy__uci__allocator}{}\label{classsrsran_1_1dummy__uci__allocator}\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
Inheritance diagram for srsran\+::dummy\+\_\+uci\+\_\+allocator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1dummy__uci__allocator}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_a0f8596d75c08a788d7ec8b682d0d9d1d}{slot\+\_\+indication}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} sl\+\_\+tx) override
\begin{DoxyCompactList}\small\item\em Reset the internal counter of the allocated PDSCHs to be acknowledged per slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1uci__allocation}{uci\+\_\+allocation}} $>$ \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_a14376feac66b2c92905af6be5fbfcf78}{alloc\+\_\+uci\+\_\+harq\+\_\+ue}} (\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&res\+\_\+alloc, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti, const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&ue\+\_\+cell\+\_\+cfg, unsigned k0, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$ k1\+\_\+list, const \mbox{\hyperlink{structsrsran_1_1pdcch__dl__information}{pdcch\+\_\+dl\+\_\+information}} \texorpdfstring{$\ast$}{*}fallback\+\_\+dci\+\_\+info=nullptr) override
\item 
void \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_a6fbb403a883e6318a3d0760dd2dc972e}{multiplex\+\_\+uci\+\_\+on\+\_\+pusch}} (\mbox{\hyperlink{structsrsran_1_1ul__sched__info}{ul\+\_\+sched\+\_\+info}} \&pusch\+\_\+grant, \mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&slot\+\_\+alloc, const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&ue\+\_\+cell\+\_\+cfg, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti) override
\item 
void \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_a0416761daacce1608a862e04c7e351b8}{uci\+\_\+allocate\+\_\+sr\+\_\+opportunity}} (\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&slot\+\_\+alloc, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti, const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&ue\+\_\+cell\+\_\+cfg) override
\item 
void \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_aa834664913cb4fc1c183d7830e312334}{uci\+\_\+allocate\+\_\+csi\+\_\+opportunity}} (\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&slot\+\_\+alloc, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti, const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&ue\+\_\+cell\+\_\+cfg) override
\item 
uint8\+\_\+t \mbox{\hyperlink{classsrsran_1_1dummy__uci__allocator_a55d1dcdd8f004b375447c55050bbc5ea}{get\+\_\+scheduled\+\_\+pdsch\+\_\+counter\+\_\+in\+\_\+ue\+\_\+uci}} (\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&slot\+\_\+alloc, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti) override
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1dummy__uci__allocator_af4538dc8904150e6937b8a52276eb4f8}\label{classsrsran_1_1dummy__uci__allocator_af4538dc8904150e6937b8a52276eb4f8} 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1uci__allocation}{uci\+\_\+allocation}} $>$ {\bfseries next\+\_\+uci\+\_\+allocation}
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1dummy__uci__allocator_a14376feac66b2c92905af6be5fbfcf78}\label{classsrsran_1_1dummy__uci__allocator_a14376feac66b2c92905af6be5fbfcf78} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!alloc\_uci\_harq\_ue@{alloc\_uci\_harq\_ue}}
\index{alloc\_uci\_harq\_ue@{alloc\_uci\_harq\_ue}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{alloc\_uci\_harq\_ue()}{alloc\_uci\_harq\_ue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1uci__allocation}{uci\+\_\+allocation}} $>$ srsran\+::dummy\+\_\+uci\+\_\+allocator\+::alloc\+\_\+uci\+\_\+harq\+\_\+ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&}]{res\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti,  }\item[{const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&}]{ue\+\_\+cell\+\_\+cfg,  }\item[{unsigned}]{k0,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$}]{k1\+\_\+list,  }\item[{const \mbox{\hyperlink{structsrsran_1_1pdcch__dl__information}{pdcch\+\_\+dl\+\_\+information}} \texorpdfstring{$\ast$}{*}}]{fallback\+\_\+dci\+\_\+info = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Allocate the common PUCCH resource for HARQ-\/\+ACK for a given UE. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em res\+\_\+alloc} & struct with scheduling results. \\
\hline
\mbox{\texttt{ in}}  & {\em crnti} & RNTI of the UE. \\
\hline
\mbox{\texttt{ in}}  & {\em ue\+\_\+cell\+\_\+cfg} & user configuration. For the fallback mode case, this configuration is used to determine whether the slot coincides with a CSI report opportunity; in which case, the allocation of the UCI on common PUCCH resources will be skipped. \\
\hline
\mbox{\texttt{ in}}  & {\em k0} & k0 value, or delay (in slots) of PDSCH slot vs the corresponding PDCCH slot. \\
\hline
\mbox{\texttt{ in}}  & {\em k1\+\_\+list} & List of k1 candidates configured for UE. \\
\hline
\mbox{\texttt{ in}}  & {\em fallback\+\_\+dci\+\_\+info} & pointer to the information with DL DCI, used for scheduling the UCI on common PUCCH resources. If this is not {\ttfamily nullptr}, it triggers the UCI scheduling using common PUCCH resources; else, UCI will be scheduled either on dedicated PUCCH resources or on PUSCH. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_a674277651ca609ca8e827986589305a3}{srsran\+::uci\+\_\+allocator}}.

\Hypertarget{classsrsran_1_1dummy__uci__allocator_a55d1dcdd8f004b375447c55050bbc5ea}\label{classsrsran_1_1dummy__uci__allocator_a55d1dcdd8f004b375447c55050bbc5ea} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!get\_scheduled\_pdsch\_counter\_in\_ue\_uci@{get\_scheduled\_pdsch\_counter\_in\_ue\_uci}}
\index{get\_scheduled\_pdsch\_counter\_in\_ue\_uci@{get\_scheduled\_pdsch\_counter\_in\_ue\_uci}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{get\_scheduled\_pdsch\_counter\_in\_ue\_uci()}{get\_scheduled\_pdsch\_counter\_in\_ue\_uci()}}
{\footnotesize\ttfamily uint8\+\_\+t srsran\+::dummy\+\_\+uci\+\_\+allocator\+::get\+\_\+scheduled\+\_\+pdsch\+\_\+counter\+\_\+in\+\_\+ue\+\_\+uci (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&}]{slot\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get the number of PDSCHs currently scheduled for a given UE UCI. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em slot\+\_\+alloc} & struct with scheduling results. \\
\hline
\mbox{\texttt{ in}}  & {\em crnti} & C-\/\+RNTI of the UE. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns number of PDSCHs scheduled if UCI allocation if found, 0 otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_a9c7a7c379c79a8815d14d4a0daa17435}{srsran\+::uci\+\_\+allocator}}.

\Hypertarget{classsrsran_1_1dummy__uci__allocator_a6fbb403a883e6318a3d0760dd2dc972e}\label{classsrsran_1_1dummy__uci__allocator_a6fbb403a883e6318a3d0760dd2dc972e} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!multiplex\_uci\_on\_pusch@{multiplex\_uci\_on\_pusch}}
\index{multiplex\_uci\_on\_pusch@{multiplex\_uci\_on\_pusch}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{multiplex\_uci\_on\_pusch()}{multiplex\_uci\_on\_pusch()}}
{\footnotesize\ttfamily void srsran\+::dummy\+\_\+uci\+\_\+allocator\+::multiplex\+\_\+uci\+\_\+on\+\_\+pusch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1ul__sched__info}{ul\+\_\+sched\+\_\+info}} \&}]{pusch\+\_\+grant,  }\item[{\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&}]{slot\+\_\+alloc,  }\item[{const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&}]{ue\+\_\+cell\+\_\+cfg,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Multiplexes the UCI on PUSCH, by removing the UCI on the PUCCH (if present) and adding it to the PUSCH. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em pusch\+\_\+grant} & struct with PUSCH PDU where UCI need to be allocated. \\
\hline
\mbox{\texttt{ in,out}}  & {\em slot\+\_\+alloc} & struct with scheduling results. \\
\hline
\mbox{\texttt{ in}}  & {\em ue\+\_\+cell\+\_\+cfg} & user configuration. \\
\hline
\mbox{\texttt{ in}}  & {\em crnti} & C-\/\+RNTI of the UE. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_a7dc8ff45c9cfad1a418ce24f2c06d1ff}{srsran\+::uci\+\_\+allocator}}.

\Hypertarget{classsrsran_1_1dummy__uci__allocator_a0f8596d75c08a788d7ec8b682d0d9d1d}\label{classsrsran_1_1dummy__uci__allocator_a0f8596d75c08a788d7ec8b682d0d9d1d} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!slot\_indication@{slot\_indication}}
\index{slot\_indication@{slot\_indication}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{slot\_indication()}{slot\_indication()}}
{\footnotesize\ttfamily void srsran\+::dummy\+\_\+uci\+\_\+allocator\+::slot\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{sl\+\_\+tx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reset the internal counter of the allocated PDSCHs to be acknowledged per slot. 



Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_afd4f1ff81475ddc02a6af42623a98e60}{srsran\+::uci\+\_\+allocator}}.

\Hypertarget{classsrsran_1_1dummy__uci__allocator_aa834664913cb4fc1c183d7830e312334}\label{classsrsran_1_1dummy__uci__allocator_aa834664913cb4fc1c183d7830e312334} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!uci\_allocate\_csi\_opportunity@{uci\_allocate\_csi\_opportunity}}
\index{uci\_allocate\_csi\_opportunity@{uci\_allocate\_csi\_opportunity}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{uci\_allocate\_csi\_opportunity()}{uci\_allocate\_csi\_opportunity()}}
{\footnotesize\ttfamily void srsran\+::dummy\+\_\+uci\+\_\+allocator\+::uci\+\_\+allocate\+\_\+csi\+\_\+opportunity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&}]{slot\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti,  }\item[{const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&}]{ue\+\_\+cell\+\_\+cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Allocates the CSI opportunities for a given UE. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em slot\+\_\+alloc} & struct with scheduling results. \\
\hline
\mbox{\texttt{ in}}  & {\em crnti} & C-\/\+RNTI of the UE. \\
\hline
\mbox{\texttt{ in}}  & {\em ue\+\_\+cell\+\_\+cfg} & user configuration. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_a0f84d2218d19858514d4c0ae3617006f}{srsran\+::uci\+\_\+allocator}}.

\Hypertarget{classsrsran_1_1dummy__uci__allocator_a0416761daacce1608a862e04c7e351b8}\label{classsrsran_1_1dummy__uci__allocator_a0416761daacce1608a862e04c7e351b8} 
\index{srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}!uci\_allocate\_sr\_opportunity@{uci\_allocate\_sr\_opportunity}}
\index{uci\_allocate\_sr\_opportunity@{uci\_allocate\_sr\_opportunity}!srsran::dummy\_uci\_allocator@{srsran::dummy\_uci\_allocator}}
\doxysubsubsection{\texorpdfstring{uci\_allocate\_sr\_opportunity()}{uci\_allocate\_sr\_opportunity()}}
{\footnotesize\ttfamily void srsran\+::dummy\+\_\+uci\+\_\+allocator\+::uci\+\_\+allocate\+\_\+sr\+\_\+opportunity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\+\_\+slot\+\_\+resource\+\_\+allocator}} \&}]{slot\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti,  }\item[{const \mbox{\hyperlink{classsrsran_1_1ue__cell__configuration}{ue\+\_\+cell\+\_\+configuration}} \&}]{ue\+\_\+cell\+\_\+cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Allocates the SR opportunities for a given UE. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em slot\+\_\+alloc} & struct with scheduling results. \\
\hline
\mbox{\texttt{ in}}  & {\em crnti} & C-\/\+RNTI of the UE. \\
\hline
\mbox{\texttt{ in}}  & {\em ue\+\_\+cell\+\_\+cfg} & user configuration. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uci__allocator_a8988a7267faed735f86e43ddc04c70e8}{srsran\+::uci\+\_\+allocator}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/unittests/scheduler/test\+\_\+utils/dummy\+\_\+test\+\_\+components.\+h\end{DoxyCompactItemize}
