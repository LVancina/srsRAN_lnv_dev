\doxysection{srsran\+::ulsch\+\_\+information Struct Reference}
\hypertarget{structsrsran_1_1ulsch__information}{}\label{structsrsran_1_1ulsch__information}\index{srsran::ulsch\_information@{srsran::ulsch\_information}}


Collects Uplink Shared Channel (UL-\/\+SCH) derived parameters.  




{\ttfamily \#include $<$ulsch\+\_\+info.\+h$>$}



Collaboration diagram for srsran\+::ulsch\+\_\+information\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d0/dde/structsrsran_1_1ulsch__information__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{structsrsran_1_1ulsch__information_a7ecde995c9eb47d20107d47f3b20623f}{get\+\_\+effective\+\_\+code\+\_\+rate}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Calculates the effective code rate normalized between 0 and 1. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}\label{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111} 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1sch__information}{sch\+\_\+information}} $>$ {\bfseries sch}
\begin{DoxyCompactList}\small\item\em Shared channel (SCH) parameters. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99}\label{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries nof\+\_\+ul\+\_\+sch\+\_\+bits}
\begin{DoxyCompactList}\small\item\em Number of encoded and rate-\/matched UL-\/\+SCH data bits. Parameter $G^\textup{UL-SCH}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_adac39bce73965f883e1cb5f5c2151f80}\label{structsrsran_1_1ulsch__information_adac39bce73965f883e1cb5f5c2151f80} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries nof\+\_\+harq\+\_\+ack\+\_\+bits}
\begin{DoxyCompactList}\small\item\em Number of encoded and rate-\/matched HARQ-\/\+ACK data bits. Parameter $G^\textup{HARQ-ACK}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_a41aebd7d092180c8f8062c5dfc1995cf}\label{structsrsran_1_1ulsch__information_a41aebd7d092180c8f8062c5dfc1995cf} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries nof\+\_\+harq\+\_\+ack\+\_\+rvd}
\begin{DoxyCompactList}\small\item\em Number of reserved bits for HARQ-\/\+ACK. Parameter $G^\textup{HARQ-ACK}_\textup{rvd}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_ab048de60c8a4f5db781be7d65281dbb6}\label{structsrsran_1_1ulsch__information_ab048de60c8a4f5db781be7d65281dbb6} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries nof\+\_\+csi\+\_\+part1\+\_\+bits}
\begin{DoxyCompactList}\small\item\em Number of encoded and rate-\/matched CSI Part 1 data bits. Parameter $G^\textup{CSI-part1}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_aeac278e1dfec6dfd4026f55217681a0e}\label{structsrsran_1_1ulsch__information_aeac278e1dfec6dfd4026f55217681a0e} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries nof\+\_\+csi\+\_\+part2\+\_\+bits}
\begin{DoxyCompactList}\small\item\em Number of encoded and rate-\/matched CSI Part 2 data bits. Parameter $G^\textup{CSI-part2}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_abb78bd6a5db583f026092caf361e5d1d}\label{structsrsran_1_1ulsch__information_abb78bd6a5db583f026092caf361e5d1d} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries nof\+\_\+harq\+\_\+ack\+\_\+re}
\begin{DoxyCompactList}\small\item\em Number of resource elements occupied by HARQ-\/\+ACK information. Parameter $Q\textnormal{\textquotesingle}_\textup{ACK}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_a8edebacab96678b6197370290099dc47}\label{structsrsran_1_1ulsch__information_a8edebacab96678b6197370290099dc47} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries nof\+\_\+csi\+\_\+part1\+\_\+re}
\begin{DoxyCompactList}\small\item\em Number of resource elements occupied by CSI Part 1 information. Parameter $Q\textnormal{\textquotesingle}_\textup{CSI-1}$. \end{DoxyCompactList}\item 
\Hypertarget{structsrsran_1_1ulsch__information_a18da484d4ae43b6789e7df0c7e860571}\label{structsrsran_1_1ulsch__information_a18da484d4ae43b6789e7df0c7e860571} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries nof\+\_\+csi\+\_\+part2\+\_\+re}
\begin{DoxyCompactList}\small\item\em Number of resource elements occupied by CSI Part 1 information. Parameter $Q\textnormal{\textquotesingle}_\textup{CSI-2}$. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Collects Uplink Shared Channel (UL-\/\+SCH) derived parameters. 

The parameters are described in TS38.\+212 Section 6.\+3.\+2.\+4.\+1. 

\doxysubsection{Member Function Documentation}
\Hypertarget{structsrsran_1_1ulsch__information_a7ecde995c9eb47d20107d47f3b20623f}\label{structsrsran_1_1ulsch__information_a7ecde995c9eb47d20107d47f3b20623f} 
\index{srsran::ulsch\_information@{srsran::ulsch\_information}!get\_effective\_code\_rate@{get\_effective\_code\_rate}}
\index{get\_effective\_code\_rate@{get\_effective\_code\_rate}!srsran::ulsch\_information@{srsran::ulsch\_information}}
\doxysubsubsection{\texorpdfstring{get\_effective\_code\_rate()}{get\_effective\_code\_rate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::ulsch\+\_\+information\+::get\+\_\+effective\+\_\+code\+\_\+rate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Calculates the effective code rate normalized between 0 and 1. 

The effective code rate is determined as the quotient of the number of information bits plus CRCs and the total number of channel bits.

An assertion is triggered if\+:
\begin{DoxyItemize}
\item UL-\/\+SCH is not present;
\item the resultant codeblock size is not greater than the number of filler bits; or
\item the number of rate matched bits for HARQ-\/\+ACK feedback is not smaller than the number of rate matched UL-\/\+SCH bits. 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{00110\ \ \ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{using\ namespace\ }units::literals;}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ Ensure\ UL-\/SCH\ is\ present\ and\ the\ number\ of\ bits\ per\ CB\ is\ greater\ than\ filler\ bits.}}
\DoxyCodeLine{00114\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.has\_value(),\ \textcolor{stringliteral}{"{}SCH\ information\ is\ not\ present."{}});}
\DoxyCodeLine{00115\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.value().nof\_bits\_per\_cb.value()\ >\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.value().nof\_filler\_bits\_per\_cb.value(),}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ bits\ per\ CB\ must\ be\ greater\ than\ the\ number\ of\ filler\ bits."{}});}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ Return\ 0\ if\ no\ UL-\/SCH\ bits\ are\ present.}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99}{nof\_ul\_sch\_bits}}.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}()\ ==\ 0)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ Select\ the\ number\ of\ effective\ rate\ matched\ bits\ carrying\ UL-\/SCH.}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{effective\_ul\_sch\_bits}}\ =\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99}{nof\_ul\_sch\_bits}}.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}();}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ Adjust\ the\ effective\ rate\ matched\ UL-\/SCH\ bits\ considering\ HARQ-\/ACK\ feedback\ bits.}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structsrsran_1_1ulsch__information_a41aebd7d092180c8f8062c5dfc1995cf}{nof\_harq\_ack\_rvd}}\ >\ 0\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_bits}})\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \textcolor{comment}{//\ Ensure\ the\ subtraction\ of\ HARQ-\/ACK\ bits\ does\ not\ result\ in\ zero\ or\ negative.}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99}{nof\_ul\_sch\_bits}}\ >\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_adac39bce73965f883e1cb5f5c2151f80}{nof\_harq\_ack\_bits}},}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL-\/SCH\ rate\ match\ length\ (\{\}\ bits)\ must\ be\ greater\ than\ the\ HARQ-\/ACK\ rate\ match\ length\ (\{\}\ bits)."{}},}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1ulsch__information_a79c9c75bcb2133b881a314f1deb27a99}{nof\_ul\_sch\_bits}},}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1ulsch__information_adac39bce73965f883e1cb5f5c2151f80}{nof\_harq\_ack\_bits}});}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{effective\_ul\_sch\_bits}}\ -\/=\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_adac39bce73965f883e1cb5f5c2151f80}{nof\_harq\_ack\_bits}}.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}();}
\DoxyCodeLine{00135\ \ \ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ exact\ number\ of\ bits\ to\ encode,\ including\ payload,\ transport\ block\ CRC,\ and\ codeblock\ CRC.}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_effective\_payload\_bits}}\ =}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.value().nof\_bits\_per\_cb.value()\ -\/\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.value().nof\_filler\_bits\_per\_cb.value())\ *\ \mbox{\hyperlink{structsrsran_1_1ulsch__information_a375643deb805aaa7c91e765edd3e0111}{sch}}.value().nof\_cb;}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ effective\ code\ rate\ as\ the\ quotient\ of\ the\ effective\ payload\ bits\ to\ effective\ rate\ matched\ bits.}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_effective\_payload\_bits}})\ /\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{effective\_ul\_sch\_bits}});}
\DoxyCodeLine{00143\ \ \ \}}

\end{DoxyCode}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/ran/pusch/ulsch\+\_\+info.\+h\end{DoxyCompactItemize}
