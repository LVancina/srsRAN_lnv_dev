\doxysection{srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager Class Reference}
\hypertarget{classsrsran_1_1ue__channel__state__manager}{}\label{classsrsran_1_1ue__channel__state__manager}\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}


This classes manages all the information related with the channel state that has been received from the UE via CSI (e.\+g. CQI) or via g\+NB PHY measurements (e.\+g. UL SINR).  




{\ttfamily \#include $<$ue\+\_\+channel\+\_\+state\+\_\+manager.\+h$>$}



Collaboration diagram for srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{da/dfc/classsrsran_1_1ue__channel__state__manager__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a93bc615138125bb208b3f5962f488db5}{ue\+\_\+channel\+\_\+state\+\_\+manager}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__ue__expert__config}{scheduler\+\_\+ue\+\_\+expert\+\_\+config}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expert\+\_\+cfg\+\_\+}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+dl\+\_\+ports\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1csi__report__data}{csi\+\_\+report\+\_\+data}} $>$ \& \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a34036d74be43f5ed90c03e100b4308ef}{get\+\_\+latest\+\_\+csi\+\_\+report}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a827950e111dcf1dd50696c3721a43f66}{update\+\_\+pusch\+\_\+snr}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\+\_\+db}})
\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a2620e82166533252aee7ea0c0157cf5d}{get\+\_\+pusch\+\_\+snr}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Get PUSCH SNR in d\+Bs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_ac8b7ef5b9112020e67d857af53cab0ca}{csi\+\_\+report\+\_\+wideband\+\_\+cqi\+\_\+type}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a8ad4b6d0e14ca356a73cc6fb8ab8e2e5}{get\+\_\+wideband\+\_\+cqi}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_ad467d27ce32b37f0bf7b293f55ab84d4}{get\+\_\+nof\+\_\+dl\+\_\+layers}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the number of recommended layers to be used in DL based on reported RI. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_abf82a4f102d9f9b559edb435cbbfeb43}{get\+\_\+nof\+\_\+ul\+\_\+layers}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Fetches the number of recommended layers to be used in UL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1pdsch__precoding__info}{pdsch\+\_\+precoding\+\_\+info}} $>$ \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_a6d64118d790cba57bc23ede5513004f3}{get\+\_\+precoding}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{chosen\+\_\+nof\+\_\+layers}}, \mbox{\hyperlink{structsrsran_1_1prb__interval}{prb\+\_\+interval}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\+\_\+prbs}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Fetches the precoding codebook to be used in DL based on reported PMI and the chosen nof layers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_af981c726aeaa5655a04b7c9289545954}{handle\+\_\+csi\+\_\+report}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1csi__report__data}{csi\+\_\+report\+\_\+data}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\+\_\+report}})
\begin{DoxyCompactList}\small\item\em Update UE with the latest CSI report for a given cell. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ue__channel__state__manager_acde5eb4d6eff78ed0a8ef5cca7096c5d}{handle\+\_\+phr}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cell__ph__report}{cell\+\_\+ph\+\_\+report}} \&phr)
\begin{DoxyCompactList}\small\item\em Update UE with the latest PHR for a given cell. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This classes manages all the information related with the channel state that has been received from the UE via CSI (e.\+g. CQI) or via g\+NB PHY measurements (e.\+g. UL SINR). 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a93bc615138125bb208b3f5962f488db5}\label{classsrsran_1_1ue__channel__state__manager_a93bc615138125bb208b3f5962f488db5} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!ue\_channel\_state\_manager@{ue\_channel\_state\_manager}}
\index{ue\_channel\_state\_manager@{ue\_channel\_state\_manager}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{ue\_channel\_state\_manager()}{ue\_channel\_state\_manager()}}
{\footnotesize\ttfamily ue\+\_\+channel\+\_\+state\+\_\+manager\+::ue\+\_\+channel\+\_\+state\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__ue__expert__config}{scheduler\+\_\+ue\+\_\+expert\+\_\+config}} \&}]{expert\+\_\+cfg\+\_\+,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+dl\+\_\+ports\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00029\ \ \ nof\_dl\_ports(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_dl\_ports\_}}),\ pusch\_snr\_db(expert\_cfg.initial\_ul\_sinr),\ wideband\_cqi(expert\_cfg.initial\_cqi)}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{comment}{//\ Set\ initial\ precoding\ value\ when\ no\ CSI\ has\ yet\ been\ received.}}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{if}\ (nof\_dl\_ports\ ==\ 2)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ recommended\_prg\_info.resize(2,\ \mbox{\hyperlink{structsrsran_1_1csi__report__pmi}{pdsch\_precoding\_info::prg\_info}}\{\mbox{\hyperlink{structsrsran_1_1csi__report__pmi_1_1two__antenna__port}{pdsch\_precoding\_info::prg\_info::two\_antenna\_port}}\{0\}\});}
\DoxyCodeLine{00034\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (nof\_dl\_ports\ ==\ 4)\ \{}
\DoxyCodeLine{00035\ \ \ \ \ recommended\_prg\_info.resize(}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ 4,}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1csi__report__pmi}{pdsch\_precoding\_info::prg\_info}}\{\mbox{\hyperlink{structsrsran_1_1csi__report__pmi_1_1typeI__single__panel__4ports__mode1}{pdsch\_precoding\_info::prg\_info::typeI\_single\_panel\_4ports\_mode1}}\{0,\ \mbox{\hyperlink{namespacesrsran_a2e817fa4d4a8084eb1746ee8d1440679}{nullopt}},\ 0\}\});}
\DoxyCodeLine{00038\ \ \ \}}
\DoxyCodeLine{00039\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a34036d74be43f5ed90c03e100b4308ef}\label{classsrsran_1_1ue__channel__state__manager_a34036d74be43f5ed90c03e100b4308ef} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_latest\_csi\_report@{get\_latest\_csi\_report}}
\index{get\_latest\_csi\_report@{get\_latest\_csi\_report}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_latest\_csi\_report()}{get\_latest\_csi\_report()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1csi__report__data}{csi\+\_\+report\+\_\+data}} $>$ \& srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+latest\+\_\+csi\+\_\+report (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \{\ \textcolor{keywordflow}{return}\ latest\_csi\_report;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_ad467d27ce32b37f0bf7b293f55ab84d4}\label{classsrsran_1_1ue__channel__state__manager_ad467d27ce32b37f0bf7b293f55ab84d4} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_nof\_dl\_layers@{get\_nof\_dl\_layers}}
\index{get\_nof\_dl\_layers@{get\_nof\_dl\_layers}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_nof\_dl\_layers()}{get\_nof\_dl\_layers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+nof\+\_\+dl\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the number of recommended layers to be used in DL based on reported RI. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{\ \textcolor{keywordflow}{return}\ recommended\_dl\_layers;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_abf82a4f102d9f9b559edb435cbbfeb43}\label{classsrsran_1_1ue__channel__state__manager_abf82a4f102d9f9b559edb435cbbfeb43} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_nof\_ul\_layers@{get\_nof\_ul\_layers}}
\index{get\_nof\_ul\_layers@{get\_nof\_ul\_layers}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ul\_layers()}{get\_nof\_ul\_layers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+nof\+\_\+ul\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Fetches the number of recommended layers to be used in UL. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{\ \textcolor{keywordflow}{return}\ 1;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a6d64118d790cba57bc23ede5513004f3}\label{classsrsran_1_1ue__channel__state__manager_a6d64118d790cba57bc23ede5513004f3} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_precoding@{get\_precoding}}
\index{get\_precoding@{get\_precoding}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_precoding()}{get\_precoding()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1pdsch__precoding__info}{pdsch\+\_\+precoding\+\_\+info}} $>$ srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+precoding (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{chosen\+\_\+nof\+\_\+layers,  }\item[{\mbox{\hyperlink{structsrsran_1_1prb__interval}{prb\+\_\+interval}}}]{pdsch\+\_\+prbs }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Fetches the precoding codebook to be used in DL based on reported PMI and the chosen nof layers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{chosen\_nof\_layers}}\ <=\ nof\_dl\_ports,\ \textcolor{stringliteral}{"{}Invalid\ number\ of\ layers\ chosen"{}});}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{optional<pdsch\_precoding\_info>}}\ precoding\_info;}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}\ (nof\_dl\_ports\ <=\ 1)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{comment}{//\ In\ case\ of\ 1\ DL\ port,\ no\ precoding\ is\ used.}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ precoding\_info;}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ precoding\_info.emplace();}
\DoxyCodeLine{00065\ \ \ \ \ precoding\_info-\/>nof\_rbs\_per\_prg\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_prbs}}.length();}
\DoxyCodeLine{00066\ \ \ \ \ precoding\_info-\/>prg\_infos.emplace\_back(recommended\_prg\_info[nof\_layers\_to\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{chosen\_nof\_layers}})]);}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{return}\ precoding\_info;}
\DoxyCodeLine{00068\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a2620e82166533252aee7ea0c0157cf5d}\label{classsrsran_1_1ue__channel__state__manager_a2620e82166533252aee7ea0c0157cf5d} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_pusch\_snr@{get\_pusch\_snr}}
\index{get\_pusch\_snr@{get\_pusch\_snr}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_pusch\_snr()}{get\_pusch\_snr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+pusch\+\_\+snr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get PUSCH SNR in d\+Bs. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \{\ \textcolor{keywordflow}{return}\ pusch\_snr\_db;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a8ad4b6d0e14ca356a73cc6fb8ab8e2e5}\label{classsrsran_1_1ue__channel__state__manager_a8ad4b6d0e14ca356a73cc6fb8ab8e2e5} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!get\_wideband\_cqi@{get\_wideband\_cqi}}
\index{get\_wideband\_cqi@{get\_wideband\_cqi}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{get\_wideband\_cqi()}{get\_wideband\_cqi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_ac8b7ef5b9112020e67d857af53cab0ca}{csi\+\_\+report\+\_\+wideband\+\_\+cqi\+\_\+type}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::get\+\_\+wideband\+\_\+cqi (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{\ \textcolor{keywordflow}{return}\ wideband\_cqi;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_af981c726aeaa5655a04b7c9289545954}\label{classsrsran_1_1ue__channel__state__manager_af981c726aeaa5655a04b7c9289545954} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!handle\_csi\_report@{handle\_csi\_report}}
\index{handle\_csi\_report@{handle\_csi\_report}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{handle\_csi\_report()}{handle\_csi\_report()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} ue\+\_\+channel\+\_\+state\+\_\+manager\+::handle\+\_\+csi\+\_\+report (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1csi__report__data}{csi\+\_\+report\+\_\+data}} \&}]{csi\+\_\+report }\end{DoxyParamCaption})}



Update UE with the latest CSI report for a given cell. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ latest\_csi\_report\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \textcolor{comment}{//\ Set\ wideband\ CQI.}}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.first\_tb\_wideband\_cqi.has\_value())\ \{}
\DoxyCodeLine{00047\ \ \ \ \ wideband\_cqi\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.first\_tb\_wideband\_cqi.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}();}
\DoxyCodeLine{00048\ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ Update\ recommended\ number\ of\ layers\ based\ on\ RI.}}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.ri.has\_value())\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.ri.value()\ >\ nof\_dl\_ports)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \ \ recommended\_dl\_layers\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.ri.value().to\_uint();}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.pmi.has\_value())\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{if}\ (nof\_dl\_ports\ <=\ 1)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{table\_idx}}\ \ \ \ \ \ \ \ =\ nof\_layers\_to\_index(recommended\_dl\_layers);}
\DoxyCodeLine{00063\ \ \ \ \ recommended\_prg\_info[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{table\_idx}}]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_report}}.pmi.value();}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_acde5eb4d6eff78ed0a8ef5cca7096c5d}\label{classsrsran_1_1ue__channel__state__manager_acde5eb4d6eff78ed0a8ef5cca7096c5d} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!handle\_phr@{handle\_phr}}
\index{handle\_phr@{handle\_phr}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{handle\_phr()}{handle\_phr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::handle\+\_\+phr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cell__ph__report}{cell\+\_\+ph\+\_\+report}} \&}]{phr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Update UE with the latest PHR for a given cell. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{\ latest\_phr\ =\ phr;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ue__channel__state__manager_a827950e111dcf1dd50696c3721a43f66}\label{classsrsran_1_1ue__channel__state__manager_a827950e111dcf1dd50696c3721a43f66} 
\index{srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}!update\_pusch\_snr@{update\_pusch\_snr}}
\index{update\_pusch\_snr@{update\_pusch\_snr}!srsran::ue\_channel\_state\_manager@{srsran::ue\_channel\_state\_manager}}
\doxysubsubsection{\texorpdfstring{update\_pusch\_snr()}{update\_pusch\_snr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ue\+\_\+channel\+\_\+state\+\_\+manager\+::update\+\_\+pusch\+\_\+snr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{snr\+\_\+db }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{\ pusch\_snr\_db\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\_db}};\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/ue\+\_\+channel\+\_\+state\+\_\+manager.\+h\item 
lib/scheduler/ue\+\_\+scheduling/ue\+\_\+channel\+\_\+state\+\_\+manager.\+cpp\end{DoxyCompactItemize}
