\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl}{}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl}\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}


Inheritance diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/db5/classsrsran_1_1srs__cu__cp_1_1ngap__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/df0/classsrsran_1_1srs__cu__cp_1_1ngap__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad8c52217f85f8ff280b7cf34023ffd5f}{ngap\+\_\+impl}} (\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__configuration}{ngap\+\_\+configuration}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\+\_\+cfg\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__ue__creation__notifier}{ngap\+\_\+cu\+\_\+cp\+\_\+ue\+\_\+creation\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+ue\+\_\+creation\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__du__repository__notifier}{ngap\+\_\+cu\+\_\+cp\+\_\+du\+\_\+repository\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+du\+\_\+repository\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__task__scheduler}{ngap\+\_\+ue\+\_\+task\+\_\+scheduler}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{task\+\_\+sched\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__manager}{ngap\+\_\+ue\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+manager\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier}{ngap\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ctrl\+\_\+exec\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a82c950210f6c3627656c2dc0d8dbc2cf}{update\+\_\+ue\+\_\+index}} (ue\+\_\+index\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\+\_\+ue\+\_\+index}}, ue\+\_\+index\+\_\+t old\+\_\+ue\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Updates the NGAP UE context with a new UE index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ ngap\+\_\+ng\+\_\+setup\+\_\+result $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a6b3967f5c42bf3dd63d0a6a5e3bf38ca}{handle\+\_\+ng\+\_\+setup\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ng__setup__request}{ngap\+\_\+ng\+\_\+setup\+\_\+request}} \&request) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the NG Setup procedure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ada7ac1fb075a09ffbae70edf26d81f82}{handle\+\_\+initial\+\_\+ue\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__initial__ue__message}{cu\+\_\+cp\+\_\+initial\+\_\+ue\+\_\+message}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates Initial UE message procedure as per TS 38.\+413 section 8.\+6.\+1. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a66d0054933024143aba4b9e1ac7a7009}{handle\+\_\+ul\+\_\+nas\+\_\+transport\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ul__nas__transport}{cu\+\_\+cp\+\_\+ul\+\_\+nas\+\_\+transport}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates Uplink NAS transport procedure as per TS 38.\+413 section 8.\+6.\+3. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ac890da7ddf124b1f3e17b6cf74ee7fea}{handle\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\+\_\+message}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming NGAP message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a71c75cd60cdc85070290242faf583bd2}{handle\+\_\+connection\+\_\+loss}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae34d1b1269796c7ac129808d194a05b0}{handle\+\_\+ue\+\_\+context\+\_\+release\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__request}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates a UE Context Release Request procedure TS 38.\+413 section 8.\+3.\+2. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\+\_\+handover\+\_\+preparation\+\_\+response}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad4e40b3d808dee658d31b3a34d05a98c}{handle\+\_\+handover\+\_\+preparation\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__request}{ngap\+\_\+handover\+\_\+preparation\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates a Handover Preparation procedure TS 38.\+413 section 8.\+4.\+1. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a4ea34aa86f218780eb7fdc0cfe2e4d3d}{handle\+\_\+inter\+\_\+cu\+\_\+ho\+\_\+rrc\+\_\+recfg\+\_\+complete}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ue\+\_\+index\+\_\+t ue\+\_\+index, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1nr__cell__global__id__t}{nr\+\_\+cell\+\_\+global\+\_\+id\+\_\+t}} \&cgi, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} tac) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the reception of an inter CU handove related RRC Reconfiguration Complete. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a424f3f06c577c02e0e2c3d2f98468155}{get\+\_\+nof\+\_\+ues}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the number of UEs registered at the NGAP. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a1393921f2bd46cf1ecab1cd2c0499e4e}{remove\+\_\+ue\+\_\+context}} (ue\+\_\+index\+\_\+t ue\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Remove the context of an UE. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__handler}{ngap\+\_\+message\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ace26a743c69ca42395e0176779235b3f}{get\+\_\+ngap\+\_\+message\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__event__handler}{ngap\+\_\+event\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a54cd6dd1fc933ad190dcb9a845f80bc9}{get\+\_\+ngap\+\_\+event\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__connection__manager}{ngap\+\_\+connection\+\_\+manager}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a8a25fc882f081295f79328cb10380032}{get\+\_\+ngap\+\_\+connection\+\_\+manager}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__nas__message__handler}{ngap\+\_\+nas\+\_\+message\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a525960cde554fe17581d87902ffcc493}{get\+\_\+ngap\+\_\+nas\+\_\+message\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__control__message__handler}{ngap\+\_\+control\+\_\+message\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a7025c3cf2fadc9f9f576e116e599f7b8}{get\+\_\+ngap\+\_\+control\+\_\+message\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__control__manager}{ngap\+\_\+ue\+\_\+control\+\_\+manager}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae43ad56347061afe098f56a9023cfd15}{get\+\_\+ngap\+\_\+ue\+\_\+control\+\_\+manager}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__statistics__handler}{ngap\+\_\+statistics\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a05bd805a34fd86c20161c77582dc683a}{get\+\_\+ngap\+\_\+statistics\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__removal__handler}{ngap\+\_\+ue\+\_\+context\+\_\+removal\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ab751b9ccc21fdb82a5bfcabea2eaf831}{get\+\_\+ngap\+\_\+ue\+\_\+context\+\_\+removal\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad8c52217f85f8ff280b7cf34023ffd5f}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad8c52217f85f8ff280b7cf34023ffd5f} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!ngap\_impl@{ngap\_impl}}
\index{ngap\_impl@{ngap\_impl}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{ngap\_impl()}{ngap\_impl()}}
{\footnotesize\ttfamily ngap\+\_\+impl\+::ngap\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__configuration}{ngap\+\_\+configuration}} \&}]{ngap\+\_\+cfg\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__ue__creation__notifier}{ngap\+\_\+cu\+\_\+cp\+\_\+ue\+\_\+creation\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+ue\+\_\+creation\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__du__repository__notifier}{ngap\+\_\+cu\+\_\+cp\+\_\+du\+\_\+repository\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+du\+\_\+repository\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__task__scheduler}{ngap\+\_\+ue\+\_\+task\+\_\+scheduler}} \&}]{task\+\_\+sched\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__manager}{ngap\+\_\+ue\+\_\+manager}} \&}]{ue\+\_\+manager\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier}{ngap\+\_\+message\+\_\+notifier}} \&}]{ngap\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{ctrl\+\_\+exec\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00052\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}NGAP"{}})),}
\DoxyCodeLine{00053\ \ \ ue\_ctxt\_list(logger),}
\DoxyCodeLine{00054\ \ \ cu\_cp\_ue\_creation\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_ue\_creation\_notifier\_}}),}
\DoxyCodeLine{00055\ \ \ cu\_cp\_du\_repository\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_du\_repository\_notifier\_}}),}
\DoxyCodeLine{00056\ \ \ task\_sched(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{task\_sched\_}}),}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_manager\_}}),}
\DoxyCodeLine{00058\ \ \ ngap\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_notifier\_}}),}
\DoxyCodeLine{00059\ \ \ ctrl\_exec(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ctrl\_exec\_}}),}
\DoxyCodeLine{00060\ \ \ ev\_mng(\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{task\_sched.get\_timer\_manager(),\ ctrl\_exec\})}
\DoxyCodeLine{00061\ \{}
\DoxyCodeLine{00062\ \ \ context.gnb\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}.gnb\_id;}
\DoxyCodeLine{00063\ \ \ context.ran\_node\_name\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}.ran\_node\_name;}
\DoxyCodeLine{00064\ \ \ context.plmn\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}.plmn;}
\DoxyCodeLine{00065\ \ \ context.\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__context__t_a4d7cfd6c63e3273a5ea3eb40efb45edf}{tac}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}.tac;}
\DoxyCodeLine{00066\ \ \ context.ue\_context\_setup\_timeout\_s\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}.ue\_context\_setup\_timeout;}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ada35c001ca32ecfc3b8df88bfa4846f1}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ada35c001ca32ecfc3b8df88bfa4846f1} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!````~ngap\_impl@{\texorpdfstring{$\sim$}{\string~}ngap\_impl}}
\index{````~ngap\_impl@{\texorpdfstring{$\sim$}{\string~}ngap\_impl}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}ngap\_impl()}{\string~ngap\_impl()}}
{\footnotesize\ttfamily ngap\+\_\+impl\+::\texorpdfstring{$\sim$}{\string~}ngap\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a8a25fc882f081295f79328cb10380032}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a8a25fc882f081295f79328cb10380032} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_connection\_manager@{get\_ngap\_connection\_manager}}
\index{get\_ngap\_connection\_manager@{get\_ngap\_connection\_manager}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_connection\_manager()}{get\_ngap\_connection\_manager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__connection__manager}{ngap\+\_\+connection\+\_\+manager}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+connection\+\_\+manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a7025c3cf2fadc9f9f576e116e599f7b8}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a7025c3cf2fadc9f9f576e116e599f7b8} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_control\_message\_handler@{get\_ngap\_control\_message\_handler}}
\index{get\_ngap\_control\_message\_handler@{get\_ngap\_control\_message\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_control\_message\_handler()}{get\_ngap\_control\_message\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__control__message__handler}{ngap\+\_\+control\+\_\+message\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+control\+\_\+message\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a54cd6dd1fc933ad190dcb9a845f80bc9}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a54cd6dd1fc933ad190dcb9a845f80bc9} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_event\_handler@{get\_ngap\_event\_handler}}
\index{get\_ngap\_event\_handler@{get\_ngap\_event\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_event\_handler()}{get\_ngap\_event\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__event__handler}{ngap\+\_\+event\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+event\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ace26a743c69ca42395e0176779235b3f}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ace26a743c69ca42395e0176779235b3f} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_message\_handler@{get\_ngap\_message\_handler}}
\index{get\_ngap\_message\_handler@{get\_ngap\_message\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_message\_handler()}{get\_ngap\_message\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__handler}{ngap\+\_\+message\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+message\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00078\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a525960cde554fe17581d87902ffcc493}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a525960cde554fe17581d87902ffcc493} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_nas\_message\_handler@{get\_ngap\_nas\_message\_handler}}
\index{get\_ngap\_nas\_message\_handler@{get\_ngap\_nas\_message\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_nas\_message\_handler()}{get\_ngap\_nas\_message\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__nas__message__handler}{ngap\+\_\+nas\+\_\+message\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+nas\+\_\+message\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a05bd805a34fd86c20161c77582dc683a}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a05bd805a34fd86c20161c77582dc683a} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_statistics\_handler@{get\_ngap\_statistics\_handler}}
\index{get\_ngap\_statistics\_handler@{get\_ngap\_statistics\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_statistics\_handler()}{get\_ngap\_statistics\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__statistics__handler}{ngap\+\_\+statistics\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+statistics\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00084\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ab751b9ccc21fdb82a5bfcabea2eaf831}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ab751b9ccc21fdb82a5bfcabea2eaf831} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_ue\_context\_removal\_handler@{get\_ngap\_ue\_context\_removal\_handler}}
\index{get\_ngap\_ue\_context\_removal\_handler@{get\_ngap\_ue\_context\_removal\_handler}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_ue\_context\_removal\_handler()}{get\_ngap\_ue\_context\_removal\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__removal__handler}{ngap\+\_\+ue\+\_\+context\+\_\+removal\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+ue\+\_\+context\+\_\+removal\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae43ad56347061afe098f56a9023cfd15}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae43ad56347061afe098f56a9023cfd15} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_ngap\_ue\_control\_manager@{get\_ngap\_ue\_control\_manager}}
\index{get\_ngap\_ue\_control\_manager@{get\_ngap\_ue\_control\_manager}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ngap\_ue\_control\_manager()}{get\_ngap\_ue\_control\_manager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__control__manager}{ngap\+\_\+ue\+\_\+control\+\_\+manager}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+ngap\+\_\+ue\+\_\+control\+\_\+manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a424f3f06c577c02e0e2c3d2f98468155}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a424f3f06c577c02e0e2c3d2f98468155} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!get\_nof\_ues@{get\_nof\_ues}}
\index{get\_nof\_ues@{get\_nof\_ues}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ues()}{get\_nof\_ues()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::get\+\_\+nof\+\_\+ues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Get the number of UEs registered at the NGAP. 

\begin{DoxyReturn}{Returns}
The number of UEs. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__statistics__handler_a54b83e2f5674a408533b6e4e7e80f24f}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+statistics\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \{\ \textcolor{keywordflow}{return}\ ue\_ctxt\_list.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a71c75cd60cdc85070290242faf583bd2}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a71c75cd60cdc85070290242faf583bd2} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_connection\_loss@{handle\_connection\_loss}}
\index{handle\_connection\_loss@{handle\_connection\_loss}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_connection\_loss()}{handle\_connection\_loss()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+impl\+::handle\+\_\+connection\+\_\+loss (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__event__handler}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+event\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00062\ \{\}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad4e40b3d808dee658d31b3a34d05a98c}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ad4e40b3d808dee658d31b3a34d05a98c} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_handover\_preparation\_request@{handle\_handover\_preparation\_request}}
\index{handle\_handover\_preparation\_request@{handle\_handover\_preparation\_request}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_handover\_preparation\_request()}{handle\_handover\_preparation\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\+\_\+handover\+\_\+preparation\+\_\+response}} $>$ ngap\+\_\+impl\+::handle\+\_\+handover\+\_\+preparation\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__request}{ngap\+\_\+handover\+\_\+preparation\+\_\+request}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates a Handover Preparation procedure TS 38.\+413 section 8.\+4.\+1. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__control__message__handler_af36b5e357024271bc807091f91c49c9a}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00805\ \{}
\DoxyCodeLine{00806\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00807\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ HandoverPreparationRequest.\ UE\ context\ does\ not\ exist"{}},\ msg.ue\_index);}
\DoxyCodeLine{00808\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<ngap\_handover\_preparation\_response>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00809\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00810\ \ \ \ \ \ \ CORO\_RETURN(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\_handover\_preparation\_response}}\{\textcolor{keyword}{false}\});}
\DoxyCodeLine{00811\ \ \ \ \ \});}
\DoxyCodeLine{00812\ \ \ \}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[msg.ue\_index];}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue}{ngap\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\ =\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ad21bedf0a1a1d1fab12dd5900656712a}{find\_ngap\_ue}}(ue\_ctxt.ue\_ids.ue\_index);}
\DoxyCodeLine{00817\ \ \ srsran\_assert(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}\ !=\ \textcolor{keyword}{nullptr},}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ue=\{\}\ ran\_ue\_id=\{\}\ amf\_ue\_id=\{\}:\ UE\ for\ UE\ context\ doesn't\ exist"{}},}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.ue\_ids.ue\_index,}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.ue\_ids.ran\_ue\_id,}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.ue\_ids.amf\_ue\_id);}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ ue\_ctxt.logger.log\_info(\textcolor{stringliteral}{"{}Starting\ HO\ preparation"{}});}
\DoxyCodeLine{00824\ }
\DoxyCodeLine{00825\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<ngap\_handover\_preparation\_procedure>}}(msg,}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context,}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.ue\_ids,}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ngap\_notifier,}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_rrc\_ue\_control\_notifier(),}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_up\_resource\_manager(),}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ev\_mng,}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{task\_sched.get\_timer\_manager(),\ ctrl\_exec\},}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.logger);}
\DoxyCodeLine{00834\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ada7ac1fb075a09ffbae70edf26d81f82}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ada7ac1fb075a09ffbae70edf26d81f82} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_initial\_ue\_message@{handle\_initial\_ue\_message}}
\index{handle\_initial\_ue\_message@{handle\_initial\_ue\_message}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_initial\_ue\_message()}{handle\_initial\_ue\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+impl\+::handle\+\_\+initial\+\_\+ue\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__initial__ue__message}{cu\+\_\+cp\+\_\+initial\+\_\+ue\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates Initial UE message procedure as per TS 38.\+413 section 8.\+6.\+1. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The initial UE message to transmit. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__nas__message__handler_a9b7692889f15f2a1a68ebfa711454256}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+nas\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \{}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{if}\ (ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00117\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ InitialUeMessage.\ UE\ context\ already\ exist"{}},\ msg.ue\_index);}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00119\ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ Create\ NGAP\ UE}}
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//\ Allocate\ RAN-\/UE-\/ID}}
\DoxyCodeLine{00123\ \ \ ran\_ue\_id\_t\ ran\_ue\_id\ =\ ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_a66bca37b0cbc4a767bdb0aeb2e7c7505}{allocate\_ran\_ue\_id}}();}
\DoxyCodeLine{00124\ \ \ \textcolor{keywordflow}{if}\ (ran\_ue\_id\ ==\ ran\_ue\_id\_t::invalid)\ \{}
\DoxyCodeLine{00125\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}ue=\{\}:\ No\ RAN-\/UE-\/ID\ available"{}},\ msg.ue\_index);}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//\ Create\ UE\ context\ and\ store\ it}}
\DoxyCodeLine{00130\ \ \ ue\_ctxt\_list.add\_ue(msg.ue\_index,\ ran\_ue\_id,\ task\_sched.get\_timer\_manager(),\ ctrl\_exec);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//\ Notify\ CU-\/CP\ about\ creation\ of\ NGAP\ UE}}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{if}\ (!cu\_cp\_ue\_creation\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__ue__creation__notifier_a1b19e3cb90588ddf21000ef3aab1b792}{on\_new\_ngap\_ue}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00134\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}ue=\{\}:\ Failed\ to\ create\ UE"{}},\ msg.ue\_index);}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ Remove\ created\ UE\ context}}
\DoxyCodeLine{00136\ \ \ \ \ ue\_ctxt\_list.remove\_ue\_context(msg.ue\_index);}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00138\ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ ue\_ctxt\_list[msg.ue\_index].logger.log\_debug(\textcolor{stringliteral}{"{}Created\ UE"{}});}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[msg.ue\_index];}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\_message}}\ ngap\_msg\ =\ \{\};}
\DoxyCodeLine{00145\ \ \ ngap\_msg.pdu.set\_init\_msg();}
\DoxyCodeLine{00146\ \ \ ngap\_msg.pdu.init\_msg().load\_info\_obj(ASN1\_NGAP\_ID\_INIT\_UE\_MSG);}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{auto}\&\ init\_ue\_msg\ \ \ \ \ \ \ \ \ \ \ =\ ngap\_msg.pdu.init\_msg().value.init\_ue\_msg();}
\DoxyCodeLine{00149\ \ \ init\_ue\_msg-\/>ran\_ue\_ngap\_id\ =\ \mbox{\hyperlink{namespacesrsran_a4a6741932aa4119fb71bbf31ccde77ca}{ran\_ue\_id\_to\_uint}}(ue\_ctxt.ue\_ids.ran\_ue\_id);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ fill\_asn1\_initial\_ue\_message(init\_ue\_msg,\ msg,\ context);}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//\ Start\ UE\ context\ setup\ timer}}
\DoxyCodeLine{00154\ \ \ ue\_ctxt.ue\_context\_setup\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(context.ue\_context\_setup\_timeout\_s,\ [\textcolor{keyword}{this},\ msg](\mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ \textcolor{comment}{/*tid*/})\ \{}
\DoxyCodeLine{00155\ \ \ \ \ on\_ue\_context\_setup\_timer\_expired(msg.ue\_index);}
\DoxyCodeLine{00156\ \ \ \});}
\DoxyCodeLine{00157\ \ \ ue\_ctxt.ue\_context\_setup\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_af3fa2fce72a8058698b971e498e0c262}{run}}();}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ ue\_ctxt.logger.log\_debug(\textcolor{stringliteral}{"{}Sending\ InitialUeMessage\ (timeout=\{\}ms)"{}},}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_ctxt.ue\_context\_setup\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a97ad01e4b7d8588d25596489c362b15b}{duration}}().count());}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{comment}{//\ Forward\ message\ to\ AMF}}
\DoxyCodeLine{00163\ \ \ ngap\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier_a72deacd940e0e22b9047dac8e539f709}{on\_new\_message}}(ngap\_msg);}
\DoxyCodeLine{00164\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a4ea34aa86f218780eb7fdc0cfe2e4d3d}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a4ea34aa86f218780eb7fdc0cfe2e4d3d} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_inter\_cu\_ho\_rrc\_recfg\_complete@{handle\_inter\_cu\_ho\_rrc\_recfg\_complete}}
\index{handle\_inter\_cu\_ho\_rrc\_recfg\_complete@{handle\_inter\_cu\_ho\_rrc\_recfg\_complete}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_inter\_cu\_ho\_rrc\_recfg\_complete()}{handle\_inter\_cu\_ho\_rrc\_recfg\_complete()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+impl\+::handle\+\_\+inter\+\_\+cu\+\_\+ho\+\_\+rrc\+\_\+recfg\+\_\+complete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ue\+\_\+index\+\_\+t}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1nr__cell__global__id__t}{nr\+\_\+cell\+\_\+global\+\_\+id\+\_\+t}} \&}]{cgi,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}}}]{tac }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the reception of an inter CU handove related RRC Reconfiguration Complete. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__control__message__handler_acb7957bc4267372a19655888c33a14da}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00839\ \{}
\DoxyCodeLine{00840\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(ue\_index))\ \{}
\DoxyCodeLine{00841\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ RrcReconfigurationComplete.\ UE\ context\ does\ not\ exist"{}},\ ue\_index);}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00843\ \ \ \}}
\DoxyCodeLine{00844\ }
\DoxyCodeLine{00845\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[ue\_index];}
\DoxyCodeLine{00846\ }
\DoxyCodeLine{00847\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\_message}}\ ngap\_msg\ =\ \{\};}
\DoxyCodeLine{00848\ \ \ ngap\_msg.pdu.set\_init\_msg();}
\DoxyCodeLine{00849\ \ \ ngap\_msg.pdu.init\_msg().load\_info\_obj(ASN1\_NGAP\_ID\_HO\_NOTIF);}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ \ \ \textcolor{keyword}{auto}\&\ ho\_notify\ \ \ \ \ \ \ \ \ \ \ =\ ngap\_msg.pdu.init\_msg().value.ho\_notify();}
\DoxyCodeLine{00852\ \ \ ho\_notify-\/>ran\_ue\_ngap\_id\ =\ \mbox{\hyperlink{namespacesrsran_a4a6741932aa4119fb71bbf31ccde77ca}{ran\_ue\_id\_to\_uint}}(ue\_ctxt.ue\_ids.ran\_ue\_id);}
\DoxyCodeLine{00853\ \ \ ho\_notify-\/>amf\_ue\_ngap\_id\ =\ amf\_ue\_id\_to\_uint(ue\_ctxt.ue\_ids.amf\_ue\_id);}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \ \ fill\_asn1\_handover\_notify(ho\_notify,\ cgi,\ tac);}
\DoxyCodeLine{00856\ }
\DoxyCodeLine{00857\ \ \ \textcolor{comment}{//\ Forward\ message\ to\ AMF}}
\DoxyCodeLine{00858\ \ \ ue\_ctxt.logger.log\_info(\textcolor{stringliteral}{"{}Sending\ HandoverNotify"{}});}
\DoxyCodeLine{00859\ \ \ ngap\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier_a72deacd940e0e22b9047dac8e539f709}{on\_new\_message}}(ngap\_msg);}
\DoxyCodeLine{00860\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ac890da7ddf124b1f3e17b6cf74ee7fea}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ac890da7ddf124b1f3e17b6cf74ee7fea} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_message@{handle\_message}}
\index{handle\_message@{handle\_message}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_message()}{handle\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+impl\+::handle\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming NGAP message. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__handler_a7563c72eb89c6c24c5cc55f93983a5f1}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00199\ \{}
\DoxyCodeLine{00200\ \ \ logger.debug(\textcolor{stringliteral}{"{}Received\ PDU\ of\ type\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}"{}},\ msg.pdu.type().to\_string(),\ \mbox{\hyperlink{namespacesrsran_a3536908808e17a9174fa4e7e3ac75dda}{get\_message\_type\_str}}(msg.pdu));}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keywordflow}{if}\ (logger.debug.enabled())\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{classasn1_1_1json__writer}{asn1::json\_writer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}};}
\DoxyCodeLine{00204\ \ \ \ \ msg.pdu.to\_json(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}});}
\DoxyCodeLine{00205\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Rx\ NGAP\ PDU:\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}}.to\_string());}
\DoxyCodeLine{00206\ \ \ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \textcolor{comment}{//\ Run\ NGAP\ protocols\ in\ Control\ executor.}}
\DoxyCodeLine{00209\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ ctrl\_exec.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}([\textcolor{keyword}{this},\ msg]()\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ switch\ (msg.pdu.type().value)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ case\ ngap\_pdu\_c::types\_opts::init\_msg:}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_initiating\_message(msg.pdu.init\_msg());}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ case\ ngap\_pdu\_c::types\_opts::successful\_outcome:}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_successful\_outcome(msg.pdu.successful\_outcome());}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ case\ ngap\_pdu\_c::types\_opts::unsuccessful\_outcome:}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_unsuccessful\_outcome(msg.pdu.unsuccessful\_outcome());}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ default:}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Invalid\ PDU\ type"{}});}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \}))\ \{}
\DoxyCodeLine{00225\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Discarding\ Rx\ NGAP\ PDU.\ Cause:\ task\ queue\ is\ full"{}});}
\DoxyCodeLine{00226\ \ \ \}}
\DoxyCodeLine{00227\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a6b3967f5c42bf3dd63d0a6a5e3bf38ca}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a6b3967f5c42bf3dd63d0a6a5e3bf38ca} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_ng\_setup\_request@{handle\_ng\_setup\_request}}
\index{handle\_ng\_setup\_request@{handle\_ng\_setup\_request}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_ng\_setup\_request()}{handle\_ng\_setup\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ ngap\+\_\+ng\+\_\+setup\+\_\+result $>$ ngap\+\_\+impl\+::handle\+\_\+ng\+\_\+setup\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ng__setup__request}{ngap\+\_\+ng\+\_\+setup\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the NG Setup procedure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em request} & The NGSetup\+Request message to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a ngap\+\_\+ng\+\_\+setup\+\_\+result struct. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The CU transmits the NGSetup\+Request as per TS 38.\+413 section 8.\+7.\+1 and awaits the response. If a NGSetup\+Failure is received the NGAP will handle the failure. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__connection__manager_a2b1dac2af163209c5d486c16e98b6f14}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+connection\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00095\ \{}
\DoxyCodeLine{00096\ \ \ logger.info(\textcolor{stringliteral}{"{}Sending\ NgSetupRequest"{}});}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\_message}}\ ngap\_msg\ =\ \{\};}
\DoxyCodeLine{00099\ \ \ ngap\_msg.pdu.set\_init\_msg();}
\DoxyCodeLine{00100\ \ \ ngap\_msg.pdu.init\_msg().load\_info\_obj(ASN1\_NGAP\_ID\_NG\_SETUP);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{auto}\&\ ng\_setup\_request\ =\ ngap\_msg.pdu.init\_msg().value.ng\_setup\_request();}
\DoxyCodeLine{00103\ \ \ fill\_asn1\_ng\_setup\_request(ng\_setup\_request,\ request);}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<ng\_setup\_procedure>}}(context,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ngap\_msg,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ request.max\_setup\_retries,}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ngap\_notifier,}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ev\_mng,}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{task\_sched.get\_timer\_manager(),\ ctrl\_exec\},}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger);}
\DoxyCodeLine{00112\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae34d1b1269796c7ac129808d194a05b0}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_ae34d1b1269796c7ac129808d194a05b0} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_ue\_context\_release\_request@{handle\_ue\_context\_release\_request}}
\index{handle\_ue\_context\_release\_request@{handle\_ue\_context\_release\_request}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_ue\_context\_release\_request()}{handle\_ue\_context\_release\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ ngap\+\_\+impl\+::handle\+\_\+ue\+\_\+context\+\_\+release\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__request}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+request}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates a UE Context Release Request procedure TS 38.\+413 section 8.\+3.\+2. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The ue context release request to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if if a Ue\+Context\+Release\+Request was sent to the AMF, false if the Ue\+Context\+Release\+Request could not be sent e.\+g. because the UE didn\textquotesingle{}t exist in the NGAP. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__control__message__handler_a985c5309ac7962c6d690ac00949ad0bc}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00745\ \{}
\DoxyCodeLine{00746\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00747\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ UeContextReleaseRequest.\ UE\ context\ does\ not\ exist"{}},\ msg.ue\_index);}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<bool>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00749\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00750\ \ \ \ \ \ \ CORO\_RETURN(\textcolor{keyword}{false});}
\DoxyCodeLine{00751\ \ \ \ \ \});}
\DoxyCodeLine{00752\ \ \ \}}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[msg.ue\_index];}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \textcolor{keywordflow}{if}\ (ue\_ctxt.ue\_ids.amf\_ue\_id\ ==\ amf\_ue\_id\_t::invalid)\ \{}
\DoxyCodeLine{00757\ \ \ \ \ ue\_ctxt.logger.log\_debug(\textcolor{stringliteral}{"{}Ignoring\ UeContextReleaseRequest.\ UE\ does\ not\ have\ an\ AMF\ UE\ ID"{}});}
\DoxyCodeLine{00758\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<bool>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00759\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00760\ \ \ \ \ \ \ CORO\_RETURN(\textcolor{keyword}{false});}
\DoxyCodeLine{00761\ \ \ \ \ \});}
\DoxyCodeLine{00762\ \ \ \}}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ \ \ \textcolor{keywordflow}{if}\ (ue\_ctxt.release\_requested)\ \{}
\DoxyCodeLine{00765\ \ \ \ \ ue\_ctxt.logger.log\_debug(\textcolor{stringliteral}{"{}Ignoring\ UeContextReleaseRequest.\ Request\ already\ pending"{}});}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<bool>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00767\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00768\ \ \ \ \ \ \ CORO\_RETURN(\textcolor{keyword}{true});}
\DoxyCodeLine{00769\ \ \ \ \ \});}
\DoxyCodeLine{00770\ \ \ \}}
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00772\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\_message}}\ ngap\_msg;}
\DoxyCodeLine{00773\ \ \ ngap\_msg.pdu.set\_init\_msg();}
\DoxyCodeLine{00774\ \ \ ngap\_msg.pdu.init\_msg().load\_info\_obj(ASN1\_NGAP\_ID\_UE\_CONTEXT\_RELEASE\_REQUEST);}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \ \ \textcolor{keyword}{auto}\&\ ue\_context\_release\_request\ =\ ngap\_msg.pdu.init\_msg().value.ue\_context\_release\_request();}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ ue\_context\_release\_request-\/>ran\_ue\_ngap\_id\ =\ \mbox{\hyperlink{namespacesrsran_a4a6741932aa4119fb71bbf31ccde77ca}{ran\_ue\_id\_to\_uint}}(ue\_ctxt.ue\_ids.ran\_ue\_id);}
\DoxyCodeLine{00779\ \ \ ue\_context\_release\_request-\/>amf\_ue\_ngap\_id\ =\ amf\_ue\_id\_to\_uint(ue\_ctxt.ue\_ids.amf\_ue\_id);}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \ \ fill\_asn1\_ue\_context\_release\_request(ue\_context\_release\_request,\ msg);}
\DoxyCodeLine{00782\ }
\DoxyCodeLine{00783\ \ \ \textcolor{comment}{//\ Forward\ message\ to\ AMF}}
\DoxyCodeLine{00784\ \ \ ue\_ctxt.logger.log\_info(\textcolor{stringliteral}{"{}Scheduling\ transmission\ of\ UeContextReleaseRequest"{}});}
\DoxyCodeLine{00785\ \ \ ue\_ctxt.release\_requested\ =\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Mark\ UE\ so\ retx\ of\ request\ are\ avoided.}}
\DoxyCodeLine{00786\ }
\DoxyCodeLine{00787\ \ \ \textcolor{comment}{//\ Schedule\ transmission\ of\ UE\ Context\ Release\ Request}}
\DoxyCodeLine{00788\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([\textcolor{keyword}{this},\ msg,\ ngap\_msg](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<bool>}}>\&\ ctx)\ \{}
\DoxyCodeLine{00789\ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00790\ }
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00792\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ scheduled\ UeContextReleaseRequest.\ UE\ context\ does\ not\ exist\ anymore"{}},}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.ue\_index);}
\DoxyCodeLine{00794\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00795\ \ \ \ \ \ \ ue\_ctxt\_list[msg.ue\_index].logger.log\_info(\textcolor{stringliteral}{"{}Sending\ UeContextReleaseRequest"{}});}
\DoxyCodeLine{00796\ \ \ \ \ \ \ ngap\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier_a72deacd940e0e22b9047dac8e539f709}{on\_new\_message}}(ngap\_msg);}
\DoxyCodeLine{00797\ \ \ \ \ \}}
\DoxyCodeLine{00798\ \ \ \ \ CORO\_RETURN(\textcolor{keyword}{true});}
\DoxyCodeLine{00799\ \ \ \});}
\DoxyCodeLine{00800\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a66d0054933024143aba4b9e1ac7a7009}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a66d0054933024143aba4b9e1ac7a7009} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!handle\_ul\_nas\_transport\_message@{handle\_ul\_nas\_transport\_message}}
\index{handle\_ul\_nas\_transport\_message@{handle\_ul\_nas\_transport\_message}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_ul\_nas\_transport\_message()}{handle\_ul\_nas\_transport\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+impl\+::handle\+\_\+ul\+\_\+nas\+\_\+transport\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ul__nas__transport}{cu\+\_\+cp\+\_\+ul\+\_\+nas\+\_\+transport}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates Uplink NAS transport procedure as per TS 38.\+413 section 8.\+6.\+3. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The ul nas transfer message to transmit. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__nas__message__handler_ab5df9fd9676c3c3f2333bd39873503d2}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+nas\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00167\ \{}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(msg.ue\_index))\ \{}
\DoxyCodeLine{00169\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ UlNasTransportMessage.\ UE\ context\ does\ not\ exist"{}},\ msg.ue\_index);}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00171\ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[msg.ue\_index];}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__message}{ngap\_message}}\ ngap\_msg\ =\ \{\};}
\DoxyCodeLine{00176\ \ \ ngap\_msg.pdu.set\_init\_msg();}
\DoxyCodeLine{00177\ \ \ ngap\_msg.pdu.init\_msg().load\_info\_obj(ASN1\_NGAP\_ID\_UL\_NAS\_TRANSPORT);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_nas\_transport\_msg}}\ =\ ngap\_msg.pdu.init\_msg().value.ul\_nas\_transport();}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_nas\_transport\_msg}}-\/>ran\_ue\_ngap\_id\ =\ \mbox{\hyperlink{namespacesrsran_a4a6741932aa4119fb71bbf31ccde77ca}{ran\_ue\_id\_to\_uint}}(ue\_ctxt.ue\_ids.ran\_ue\_id);}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ amf\_ue\_id\_t\ amf\_ue\_id\ =\ ue\_ctxt.ue\_ids.amf\_ue\_id;}
\DoxyCodeLine{00184\ \ \ \textcolor{keywordflow}{if}\ (amf\_ue\_id\ ==\ amf\_ue\_id\_t::invalid)\ \{}
\DoxyCodeLine{00185\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ UL\ NAS\ transport.\ UE\ AMF\ ID\ not\ found"{}},\ msg.ue\_index);}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_nas\_transport\_msg}}-\/>amf\_ue\_ngap\_id\ =\ amf\_ue\_id\_to\_uint(amf\_ue\_id);}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ fill\_asn1\_ul\_nas\_transport(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_nas\_transport\_msg}},\ msg);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ ue\_ctxt.logger.log\_info(\textcolor{stringliteral}{"{}Sending\ UlNasTransportMessage"{}});}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{//\ Forward\ message\ to\ AMF}}
\DoxyCodeLine{00195\ \ \ ngap\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier_a72deacd940e0e22b9047dac8e539f709}{on\_new\_message}}(ngap\_msg);}
\DoxyCodeLine{00196\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a1393921f2bd46cf1ecab1cd2c0499e4e}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a1393921f2bd46cf1ecab1cd2c0499e4e} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!remove\_ue\_context@{remove\_ue\_context}}
\index{remove\_ue\_context@{remove\_ue\_context}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{remove\_ue\_context()}{remove\_ue\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+impl\+::remove\+\_\+ue\+\_\+context (\begin{DoxyParamCaption}\item[{ue\+\_\+index\+\_\+t}]{ue\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Remove the context of an UE. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ue\+\_\+index} & The index of the UE to remove. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__removal__handler_a794fc84b3088258fcb1ba562f922ce53}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+ue\+\_\+context\+\_\+removal\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00863\ \{}
\DoxyCodeLine{00864\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(ue\_index))\ \{}
\DoxyCodeLine{00865\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}ue=\{\}:\ UE\ context\ not\ found"{}},\ ue\_index);}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00867\ \ \ \}}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ ue\_ctxt\_list.remove\_ue\_context(ue\_index);}
\DoxyCodeLine{00870\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a82c950210f6c3627656c2dc0d8dbc2cf}\label{classsrsran_1_1srs__cu__cp_1_1ngap__impl_a82c950210f6c3627656c2dc0d8dbc2cf} 
\index{srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}!update\_ue\_index@{update\_ue\_index}}
\index{update\_ue\_index@{update\_ue\_index}!srsran::srs\_cu\_cp::ngap\_impl@{srsran::srs\_cu\_cp::ngap\_impl}}
\doxysubsubsection{\texorpdfstring{update\_ue\_index()}{update\_ue\_index()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} ngap\+\_\+impl\+::update\+\_\+ue\+\_\+index (\begin{DoxyParamCaption}\item[{ue\+\_\+index\+\_\+t}]{new\+\_\+ue\+\_\+index,  }\item[{ue\+\_\+index\+\_\+t}]{old\+\_\+ue\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Updates the NGAP UE context with a new UE index. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em new\+\_\+ue\+\_\+index} & The new index of the UE. \\
\hline
\mbox{\texttt{ in}}  & {\em old\+\_\+ue\+\_\+index} & The old index of the UE. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the update was successful, false otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__control__manager_ac67f49c43be16f45bc2812db28b6c66d}{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+ue\+\_\+control\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \{}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__context__list_ab6eb457d30b588df06d95ff379632f2a}{contains}}(old\_ue\_index))\ \{}
\DoxyCodeLine{00075\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Failed\ to\ transfer\ NGAP\ UE\ context\ from\ ue=\{\}\ to\ ue=\{\}.\ Old\ UE\ context\ does\ not\ exist"{}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ old\_ue\_index,}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_ue\_index}});}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00079\ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ ue\_ctxt\_list[old\_ue\_index].logger.log\_debug(\textcolor{stringliteral}{"{}Transferring\ NGAP\ UE\ context\ to\ ue=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_ue\_index}});}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ Notify\ CU-\/CP\ about\ creation\ of\ NGAP\ UE}}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{if}\ (!cu\_cp\_ue\_creation\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__cu__cp__ue__creation__notifier_a1b19e3cb90588ddf21000ef3aab1b792}{on\_new\_ngap\_ue}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_ue\_index}}))\ \{}
\DoxyCodeLine{00085\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}ue=\{\}:\ Failed\ to\ transfer\ UE\ context"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_ue\_index}});}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00087\ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ ue\_ctxt\_list.update\_ue\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_ue\_index}},\ old\_ue\_index);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ngap/ngap\+\_\+impl.\+h\item 
lib/ngap/ngap\+\_\+impl.\+cpp\end{DoxyCompactItemize}
