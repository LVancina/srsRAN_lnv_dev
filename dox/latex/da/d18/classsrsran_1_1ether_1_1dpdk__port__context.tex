\doxysection{srsran\+::ether\+::dpdk\+\_\+port\+\_\+context Class Reference}
\hypertarget{classsrsran_1_1ether_1_1dpdk__port__context}{}\label{classsrsran_1_1ether_1_1dpdk__port__context}\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}


DPDK Ethernet port context.  




{\ttfamily \#include $<$dpdk\+\_\+ethernet\+\_\+port\+\_\+context.\+h$>$}



Collaboration diagram for srsran\+::ether\+::dpdk\+\_\+port\+\_\+context\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{d7/d05/classsrsran_1_1ether_1_1dpdk__port__context__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context_a2b7c700be4b618b2a62c7651e2db53d3}{get\+\_\+port\+\_\+id}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the port identifier of this context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\+::rte\+\_\+mempool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context_aa7ee82a40c6656e1336b7a5e1c0d7008}{get\+\_\+mempool}} ()
\begin{DoxyCompactList}\small\item\em Returns the mbuf memory pool of this context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\+::rte\+\_\+mempool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context_a51d51d9fe82c4a2b78223462c6f30eee}{get\+\_\+mempool}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the mbuf memory pool of this context. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context}{dpdk\+\_\+port\+\_\+context}} $>$ \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context_a4df4939c80072345da9e9928d148f853}{create}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ether_1_1dpdk__port__config}{dpdk\+\_\+port\+\_\+config}} \&config)
\begin{DoxyCompactList}\small\item\em Creates and initializes a new DPDK port context with the given configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
DPDK Ethernet port context. 

Encapsulates and manages the lifetime of the internal DPDK resources of an Ethernet port. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ether_1_1dpdk__port__context_a355a8e0fc7351fd4c1f62f33da0ea615}\label{classsrsran_1_1ether_1_1dpdk__port__context_a355a8e0fc7351fd4c1f62f33da0ea615} 
\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}!````~dpdk\_port\_context@{\texorpdfstring{$\sim$}{\string~}dpdk\_port\_context}}
\index{````~dpdk\_port\_context@{\texorpdfstring{$\sim$}{\string~}dpdk\_port\_context}!srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}dpdk\_port\_context()}{\string~dpdk\_port\_context()}}
{\footnotesize\ttfamily dpdk\+\_\+port\+\_\+context\+::\texorpdfstring{$\sim$}{\string~}dpdk\+\_\+port\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \{}
\DoxyCodeLine{00145\ \ \ fmt::print(\textcolor{stringliteral}{"{}DPDK\ -\/\ Closing\ port\_id\ '\{\}'\ ..."{}},\ port\_id);}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_eth\_dev\_stop}}(port\_id);}
\DoxyCodeLine{00147\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ !=\ 0)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}rte\_eth\_dev\_stop:\ err\ '\{\}',\ port\_id\ '\{\}'\(\backslash\)n"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}},\ port\_id);}
\DoxyCodeLine{00149\ \ \ \}}
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_eth\_dev\_close}}(port\_id);}
\DoxyCodeLine{00151\ \ \ fmt::print(\textcolor{stringliteral}{"{}\ Done\(\backslash\)n"{}});}
\DoxyCodeLine{00152\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ether_1_1dpdk__port__context_a4df4939c80072345da9e9928d148f853}\label{classsrsran_1_1ether_1_1dpdk__port__context_a4df4939c80072345da9e9928d148f853} 
\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}!create@{create}}
\index{create@{create}!srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context}{dpdk\+\_\+port\+\_\+context}} $>$ dpdk\+\_\+port\+\_\+context\+::create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ether_1_1dpdk__port__config}{dpdk\+\_\+port\+\_\+config}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates and initializes a new DPDK port context with the given configuration. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00129\ \{}
\DoxyCodeLine{00130\ \ \ \textcolor{comment}{//\ Create\ the\ mbuf\ pool\ only\ once\ as\ it\ is\ common\ for\ all\ ports.}}
\DoxyCodeLine{00131\ \ \ static\ ::rte\_mempool*\ mem\_pool\ =\ []()\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_mempool}}*\ pool\ =}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_pktmbuf\_pool\_create}}(\textcolor{stringliteral}{"{}OFH\_MBUF\_POOL"{}},\ NUM\_MBUFS,\ MBUF\_CACHE\_SIZE,\ 0,\ MAX\_BUFFER\_SIZE,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_socket\_id}}());}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ (pool\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::rte\_exit}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{EXIT\_FAILURE}},\ \textcolor{stringliteral}{"{}DPDK\ -\/\ Unable\ to\ create\ the\ DPDK\ mbuf\ pool\(\backslash\)n"{}});}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{return}\ pool;}
\DoxyCodeLine{00138\ \ \ \}();}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \textcolor{keywordflow}{return}\ std::shared\_ptr<dpdk\_port\_context>(\textcolor{keyword}{new}\ \mbox{\hyperlink{classsrsran_1_1ether_1_1dpdk__port__context}{dpdk\_port\_context}}(dpdk\_port\_configure(config,\ mem\_pool),\ mem\_pool));}
\DoxyCodeLine{00141\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ether_1_1dpdk__port__context_aa7ee82a40c6656e1336b7a5e1c0d7008}\label{classsrsran_1_1ether_1_1dpdk__port__context_aa7ee82a40c6656e1336b7a5e1c0d7008} 
\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}!get\_mempool@{get\_mempool}}
\index{get\_mempool@{get\_mempool}!srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}
\doxysubsubsection{\texorpdfstring{get\_mempool()}{get\_mempool()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\+::rte\+\_\+mempool}} \texorpdfstring{$\ast$}{*} srsran\+::ether\+::dpdk\+\_\+port\+\_\+context\+::get\+\_\+mempool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns the mbuf memory pool of this context. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{\ \textcolor{keywordflow}{return}\ mem\_pool;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ether_1_1dpdk__port__context_a51d51d9fe82c4a2b78223462c6f30eee}\label{classsrsran_1_1ether_1_1dpdk__port__context_a51d51d9fe82c4a2b78223462c6f30eee} 
\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}!get\_mempool@{get\_mempool}}
\index{get\_mempool@{get\_mempool}!srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}
\doxysubsubsection{\texorpdfstring{get\_mempool()}{get\_mempool()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\+::rte\+\_\+mempool}} \texorpdfstring{$\ast$}{*} srsran\+::ether\+::dpdk\+\_\+port\+\_\+context\+::get\+\_\+mempool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the mbuf memory pool of this context. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{\ \textcolor{keywordflow}{return}\ mem\_pool;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ether_1_1dpdk__port__context_a2b7c700be4b618b2a62c7651e2db53d3}\label{classsrsran_1_1ether_1_1dpdk__port__context_a2b7c700be4b618b2a62c7651e2db53d3} 
\index{srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}!get\_port\_id@{get\_port\_id}}
\index{get\_port\_id@{get\_port\_id}!srsran::ether::dpdk\_port\_context@{srsran::ether::dpdk\_port\_context}}
\doxysubsubsection{\texorpdfstring{get\_port\_id()}{get\_port\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ether\+::dpdk\+\_\+port\+\_\+context\+::get\+\_\+port\+\_\+id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the port identifier of this context. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{\ \textcolor{keywordflow}{return}\ port\_id;\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ofh/ethernet/dpdk/dpdk\+\_\+ethernet\+\_\+port\+\_\+context.\+h\item 
lib/ofh/ethernet/dpdk/dpdk\+\_\+ethernet\+\_\+port\+\_\+context.\+cpp\end{DoxyCompactItemize}
