\doxysection{srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector Class Reference}
\hypertarget{classsrsran_1_1e2__gateway__remote__connector}{}\label{classsrsran_1_1e2__gateway__remote__connector}\index{srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}}


Implementation of a E2 Agent and RIC gateway for the case of socket-\/based communication.  




{\ttfamily \#include $<$e2\+\_\+gateway\+\_\+remote\+\_\+connector.\+h$>$}



Inheritance diagram for srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{db/ddb/classsrsran_1_1e2__gateway__remote__connector__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{de/dc1/classsrsran_1_1e2__gateway__remote__connector__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1e2__gateway__remote__connector_a420a35b5c8c91c5ed32a1a2577a09f30}{e2\+\_\+gateway\+\_\+remote\+\_\+connector}} (\mbox{\hyperlink{classsrsran_1_1io__broker}{io\+\_\+broker}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{broker\+\_\+}}, \mbox{\hyperlink{structsrsran_1_1sctp__network__gateway__config}{sctp\+\_\+network\+\_\+gateway\+\_\+config}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{net\+\_\+gw\+\_\+config\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\+\_\+pcap\+\_\+writer\+\_\+}})
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} $>$ \mbox{\hyperlink{classsrsran_1_1e2__gateway__remote__connector_ad47ccad4c66a29402c7d6eaa7b05d876}{handle\+\_\+connection\+\_\+request}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__gateway__remote__connector_a9465e10c9c9365aa23fba2bb900506ef}{connect\+\_\+e2ap}} (\mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2\+\_\+rx\+\_\+pdu\+\_\+notifier}}, \mbox{\hyperlink{classsrsran_1_1e2__message__handler}{e2\+\_\+message\+\_\+handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\+\_\+msg\+\_\+handler\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1e2__event__handler}{e2\+\_\+event\+\_\+handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{event\+\_\+handler\+\_\+}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Connect E2\+AP adapter to SCTP network gateway. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__gateway__remote__connector_a3ac47f818f333e224755c69e62a17492}{close}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Close all established connections with a RIC. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of a E2 Agent and RIC gateway for the case of socket-\/based communication. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1e2__gateway__remote__connector_a420a35b5c8c91c5ed32a1a2577a09f30}\label{classsrsran_1_1e2__gateway__remote__connector_a420a35b5c8c91c5ed32a1a2577a09f30} 
\index{srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}!e2\_gateway\_remote\_connector@{e2\_gateway\_remote\_connector}}
\index{e2\_gateway\_remote\_connector@{e2\_gateway\_remote\_connector}!srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}}
\doxysubsubsection{\texorpdfstring{e2\_gateway\_remote\_connector()}{e2\_gateway\_remote\_connector()}}
{\footnotesize\ttfamily srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1io__broker}{io\+\_\+broker}} \&}]{broker\+\_\+,  }\item[{\mbox{\hyperlink{structsrsran_1_1sctp__network__gateway__config}{sctp\+\_\+network\+\_\+gateway\+\_\+config}} \&}]{net\+\_\+gw\+\_\+config\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&}]{e2ap\+\_\+pcap\+\_\+writer\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00034\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}E2AP"{}})),}
\DoxyCodeLine{00035\ \ \ broker(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{broker\_}}),}
\DoxyCodeLine{00036\ \ \ net\_gw\_config(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{net\_gw\_config\_}}),}
\DoxyCodeLine{00037\ \ \ e2ap\_pcap\_writer(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_pcap\_writer\_}})}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1e2__gateway__remote__connector_a3ac47f818f333e224755c69e62a17492}\label{classsrsran_1_1e2__gateway__remote__connector_a3ac47f818f333e224755c69e62a17492} 
\index{srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}!close@{close}}
\index{close@{close}!srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Close all established connections with a RIC. 



Implements \mbox{\hyperlink{classsrsran_1_1e2__connection__client_a7ea4090615e42e273b8b0e3fd2e8febd}{srsran\+::e2\+\_\+connection\+\_\+client}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00068\ \ \ logger.info(\textcolor{stringliteral}{"{}Closing\ E2\ network\ connections..."{}});}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_notifier}}\ :\ e2ap\_notifiers)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ e2ap\_network\_adapter*\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}\ =\ \textcolor{keyword}{dynamic\_cast<}e2ap\_network\_adapter*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_notifier}});}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}})\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}-\/>disconnect\_gateway();}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ \ \ logger.info(\textcolor{stringliteral}{"{}E2\ Network\ connections\ closed\ successfully"{}});}
\DoxyCodeLine{00076\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__gateway__remote__connector_a9465e10c9c9365aa23fba2bb900506ef}\label{classsrsran_1_1e2__gateway__remote__connector_a9465e10c9c9365aa23fba2bb900506ef} 
\index{srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}!connect\_e2ap@{connect\_e2ap}}
\index{connect\_e2ap@{connect\_e2ap}!srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}}
\doxysubsubsection{\texorpdfstring{connect\_e2ap()}{connect\_e2ap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+::connect\+\_\+e2ap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} \texorpdfstring{$\ast$}{*}}]{e2\+\_\+rx\+\_\+pdu\+\_\+notifier,  }\item[{\mbox{\hyperlink{classsrsran_1_1e2__message__handler}{e2\+\_\+message\+\_\+handler}} \texorpdfstring{$\ast$}{*}}]{e2ap\+\_\+msg\+\_\+handler\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1e2__event__handler}{e2\+\_\+event\+\_\+handler}} \texorpdfstring{$\ast$}{*}}]{event\+\_\+handler\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Connect E2\+AP adapter to SCTP network gateway. 



Implements \mbox{\hyperlink{classsrsran_1_1e2__connection__client_aa77f343d4f7338a925664f972d19f9e6}{srsran\+::e2\+\_\+connection\+\_\+client}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \ \ e2ap\_network\_adapter*\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}\ =\ \textcolor{keyword}{dynamic\_cast<}e2ap\_network\_adapter*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2\_rx\_pdu\_notifier}});}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}-\/>connect\_e2ap(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_msg\_handler\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{event\_handler\_}});}
\DoxyCodeLine{00063\ \ \ e2ap\_notifiers.push\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2\_rx\_pdu\_notifier}});}
\DoxyCodeLine{00064\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__gateway__remote__connector_ad47ccad4c66a29402c7d6eaa7b05d876}\label{classsrsran_1_1e2__gateway__remote__connector_ad47ccad4c66a29402c7d6eaa7b05d876} 
\index{srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}!handle\_connection\_request@{handle\_connection\_request}}
\index{handle\_connection\_request@{handle\_connection\_request}!srsran::e2\_gateway\_remote\_connector@{srsran::e2\_gateway\_remote\_connector}}
\doxysubsubsection{\texorpdfstring{handle\_connection\_request()}{handle\_connection\_request()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} $>$ srsran\+::e2\+\_\+gateway\+\_\+remote\+\_\+connector\+::handle\+\_\+connection\+\_\+request (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Establish a new connection with a RIC.

\begin{DoxyReturn}{Returns}
Notifier that the E2 Agent can use to send E2\+AP Tx PDUs to the RIC it connected to. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1e2__connection__client_ab1280a38c15262386ec9b08ad8c7c305}{srsran\+::e2\+\_\+connection\+\_\+client}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Create\ E2AP\ and\ SCTP\ network\ adapter\ for\ the\ E2\ Agent}}
\DoxyCodeLine{00044\ \ \ logger.info(\textcolor{stringliteral}{"{}Connecting\ to\ E2\ Agent\ RIC\ (\{\}).."{}},\ net\_gw\_config.connect\_address,\ net\_gw\_config.connect\_port);}
\DoxyCodeLine{00045\ \ \ std::unique\_ptr<e2ap\_network\_adapter>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}\ =\ std::make\_unique<e2ap\_network\_adapter>(broker,\ e2ap\_pcap\_writer);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ std::unique\_ptr<sctp\_network\_gateway>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sctp\_du\_e2\_gateway}}\ =}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a2d9028ae007170b68cfaa4613569623d}{create\_sctp\_network\_gateway}}(\{net\_gw\_config,\ *\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}},\ *\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}\});}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ Connect\ E2AP\ adapter\ to\ SCTP\ network\ gateway.}}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}}-\/>connect\_gateway(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sctp\_du\_e2\_gateway}}));}
\DoxyCodeLine{00052\ \ \ logger.info(\textcolor{stringliteral}{"{}E2\ connection\ established"{}});}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2ap\_adapter}};}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
apps/gnb/adapters/e2\+\_\+gateway\+\_\+remote\+\_\+connector.\+h\item 
apps/gnb/adapters/e2\+\_\+gateway\+\_\+remote\+\_\+connector.\+cpp\end{DoxyCompactItemize}
