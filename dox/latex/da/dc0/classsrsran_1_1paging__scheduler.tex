\doxysection{srsran\+::paging\+\_\+scheduler Class Reference}
\hypertarget{classsrsran_1_1paging__scheduler}{}\label{classsrsran_1_1paging__scheduler}\index{srsran::paging\_scheduler@{srsran::paging\_scheduler}}


Defines Paging scheduler that is used to allocate resources to send paging information to UE in a given slot.  




{\ttfamily \#include $<$paging\+\_\+scheduler.\+h$>$}



Collaboration diagram for srsran\+::paging\+\_\+scheduler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{dd/ddf/classsrsran_1_1paging__scheduler__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1paging__scheduler_aa61481cb7b612767e6ded4985447c535}\label{classsrsran_1_1paging__scheduler_aa61481cb7b612767e6ded4985447c535} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries ue\+\_\+paging\+\_\+id} = uint64\+\_\+t
\begin{DoxyCompactList}\small\item\em NG-\/5\+G-\/\+S-\/\+TMSI (48 bits) or I-\/\+RNTI-\/\+Value (40 bits). \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1paging__scheduler_ae2dfbe496e9cd647c2fb0645aec74b80}\label{classsrsran_1_1paging__scheduler_ae2dfbe496e9cd647c2fb0645aec74b80} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries paging\+\_\+retries\+\_\+count\+\_\+type} = \mbox{\hyperlink{classunsigned}{unsigned}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1paging__scheduler_a31b65f43453539b5f1327feee75e5957}{paging\+\_\+scheduler}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__expert__config}{scheduler\+\_\+expert\+\_\+config}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expert\+\_\+cfg\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\+\_\+cfg\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1pdcch__resource__allocator}{pdcch\+\_\+resource\+\_\+allocator}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdcch\+\_\+sch\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message}{sched\+\_\+cell\+\_\+configuration\+\_\+request\+\_\+message}} \&msg)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1paging__scheduler_abb405e5b911a3a370a70be35c86de6f0}{schedule\+\_\+paging}} (\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&res\+\_\+grid)
\begin{DoxyCompactList}\small\item\em Performs paging (if any) scheduling for the current slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1paging__scheduler_a403fbb2a6662ca0c34526c8261f6af96}{handle\+\_\+paging\+\_\+information}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__paging__information}{sched\+\_\+paging\+\_\+information}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\+\_\+info}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1paging__scheduler_a0a8012ba992131111bf4d0e81fdca394}\label{classsrsran_1_1paging__scheduler_a0a8012ba992131111bf4d0e81fdca394} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{constexpr}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries RRC\+\_\+\+CN\+\_\+\+PAGING\+\_\+\+ID\+\_\+\+RECORD\+\_\+\+SIZE} = 7U
\item 
\Hypertarget{classsrsran_1_1paging__scheduler_af92d6dc9b6c5ff2ebde95f4bc9414a59}\label{classsrsran_1_1paging__scheduler_af92d6dc9b6c5ff2ebde95f4bc9414a59} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{constexpr}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries RRC\+\_\+\+RAN\+\_\+\+PAGING\+\_\+\+ID\+\_\+\+RECORD\+\_\+\+SIZE} = 6U
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Defines Paging scheduler that is used to allocate resources to send paging information to UE in a given slot. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1paging__scheduler_a31b65f43453539b5f1327feee75e5957}\label{classsrsran_1_1paging__scheduler_a31b65f43453539b5f1327feee75e5957} 
\index{srsran::paging\_scheduler@{srsran::paging\_scheduler}!paging\_scheduler@{paging\_scheduler}}
\index{paging\_scheduler@{paging\_scheduler}!srsran::paging\_scheduler@{srsran::paging\_scheduler}}
\doxysubsubsection{\texorpdfstring{paging\_scheduler()}{paging\_scheduler()}}
{\footnotesize\ttfamily paging\+\_\+scheduler\+::paging\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__expert__config}{scheduler\+\_\+expert\+\_\+config}} \&}]{expert\+\_\+cfg\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&}]{cell\+\_\+cfg\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1pdcch__resource__allocator}{pdcch\+\_\+resource\+\_\+allocator}} \&}]{pdcch\+\_\+sch\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message}{sched\+\_\+cell\+\_\+configuration\+\_\+request\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00039\ \ \ expert\_cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expert\_cfg\_}}),}
\DoxyCodeLine{00040\ \ \ cell\_cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_}}),}
\DoxyCodeLine{00041\ \ \ pdcch\_sch(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdcch\_sch\_}}),}
\DoxyCodeLine{00042\ \ \ default\_paging\_cycle(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(cell\_cfg.dl\_cfg\_common.pcch\_cfg.default\_paging\_cycle)),}
\DoxyCodeLine{00043\ \ \ nof\_pf\_per\_drx\_cycle(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(cell\_cfg.dl\_cfg\_common.pcch\_cfg.nof\_pf)),}
\DoxyCodeLine{00044\ \ \ paging\_frame\_offset(cell\_cfg.dl\_cfg\_common.pcch\_cfg.\mbox{\hyperlink{structsrsran_1_1pcch__config_ad8174e1c4f2e0f58c1f5e6106a1a7762}{paging\_frame\_offset}}),}
\DoxyCodeLine{00045\ \ \ nof\_po\_per\_pf(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(cell\_cfg.dl\_cfg\_common.pcch\_cfg.ns)),}
\DoxyCodeLine{00046\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}SCHED"{}}))}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{if}\ (cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.paging\_search\_space\_id.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ cfg\ :\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.search\_spaces)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cfg.get\_id()\ !=\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.paging\_search\_space\_id.value())\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ ss\_cfg\ =\ \&cfg;}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{if}\ (ss\_cfg\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}Paging\ Search\ Space\ not\ configured\ in\ DL\ BWP."{}});}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.paging\_search\_space\_id.value()\ ==\ 0)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{comment}{//\ PDCCH\ monitoring\ occasions\ for\ paging\ are\ same\ as\ for\ RMSI.\ See\ TS\ 38.304,\ clause\ 7.1.}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ We\ currently\ support\ only\ SS/PBCH\ and\ CORESET\ multiplexing\ patter\ 1.}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cell\_cfg.dl\_cfg\_common.pcch\_cfg.nof\_pf\ ==\ pcch\_config::nof\_pf\_per\_drx\_cycle::oneT)\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ srsran\_assertion\_failure(}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ nof.\ Paging\ frames\ per\ DRX\ Cycle\ for\ SS/PBCH\ and\ CORESET\ multiplexing\ patter\ 1."{}});}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \textcolor{comment}{//\ As\ per\ TS\ 38.304,\ clause\ 7.1,\ For\ Ns\ =\ 2,\ PO\ is\ either\ in\ the\ first\ half\ frame\ (i\_s\ =\ 0)\ or\ the\ second\ half}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{comment}{//\ frame\ (i\_s\ =\ 1)\ of\ the\ PF.\ \ This\ is\ possible\ only\ when\ using\ ssb\ periodicity\ of\ 5ms\ which\ is\ in\ turn\ possible}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \textcolor{comment}{//\ only\ when\ using\ SS/PBCH\ and\ CORESET\ multiplexing\ patter\ 2\ or\ 3.}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ srsran\_assert(}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ cell\_cfg.dl\_cfg\_common.pcch\_cfg.ns\ ==\ pcch\_config::nof\_po\_per\_pf::one,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Number\ of\ Paging\ Occasions\ per\ Paging\ Frame\ must\ be\ 1\ for\ SS/PBCH\ and\ CORESET\ multiplexing\ patter\ 1."{}});}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}}\ <\ \mbox{\hyperlink{namespacesrsran_a3c630d2aec87e998af72d1718d055879}{MAX\_NUM\_BEAMS}};\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}}++)\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_ad1a3dcdeeecdfe6c2142fc4f8b40c4d0}{is\_nth\_ssb\_beam\_active}}(cell\_cfg.ssb\_cfg.\mbox{\hyperlink{structsrsran_1_1ssb__configuration_adf3181a2935600dceddf54ad8f16ca92}{ssb\_bitmap}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}}))\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ Ns\ =\ 1,\ there\ is\ only\ one\ PO\ which\ starts\ from\ the\ first\ PDCCH\ monitoring\ occasion\ for\ paging\ in\ the\ PF.}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TS\ 38.304,\ clause\ 7.1.\ Hence,\ n0\ slot\ must\ be\ use\ and\ not\ n0\ +\ 1\ slot.}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ type0\_pdcch\_css\_slots[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}}]\ =}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a00445d84d88b78bce3f248440ca2a4ec}{precompute\_type0\_pdcch\_css\_n0}}(msg.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_a2c60ea59f5162317f13ebb41992f6f80}{searchspace0}},\ msg.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_acd9751a1677b0dfbc910313830261681}{coreset0}},\ cell\_cfg,\ msg.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_a86e58fde4c441afb25ccbf6abf410343}{scs\_common}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_ssb}});}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00083\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_ace03a709d08d7adb470672818f74a70d}{get\_coreset\_id}}()\ !=\ to\_coreset\_id(0)\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.\mbox{\hyperlink{structsrsran_1_1pdcch__config__common_ac4ddbca6cc00354207fc3552bdeefa4c}{common\_coreset}}.has\_value())\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ (cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.\mbox{\hyperlink{structsrsran_1_1pdcch__config__common_ac4ddbca6cc00354207fc3552bdeefa4c}{common\_coreset}}.value().id\ !=\ ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_ace03a709d08d7adb470672818f74a70d}{get\_coreset\_id}}())))\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}CORESET\ configuration\ for\ Paging\ Search\ Space\ not\ configured\ in\ DL\ BWP."{}});}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_ace03a709d08d7adb470672818f74a70d}{get\_coreset\_id}}()\ ==\ to\_coreset\_id(0)\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.\mbox{\hyperlink{structsrsran_1_1pdcch__config__common_aa3901709afb091e46d6d395a4d5982f7}{coreset0}}.has\_value()))\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}CORESET0\ configuration\ for\ Paging\ Search\ Space\ not\ configured\ in\ DL\ BWP."{}});}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ precompute\_type2\_pdcch\_slots(msg.\mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message_a86e58fde4c441afb25ccbf6abf410343}{scs\_common}});}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ See\ TS\ 38.214,\ 5.1.2.2.2,\ Downlink\ resource\ allocation\ type\ 1.}}
\DoxyCodeLine{00097\ \ \ \ \ bwp\_cfg\ =\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.generic\_params;}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{if}\ (ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_a6c39d860b9544efd9d8b4ca2eb1054ae}{is\_common\_search\_space}}())\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \textcolor{comment}{//\ See\ TS\ 38.214,\ 5.1.2.2.2,\ Downlink\ resource\ allocation\ type\ 1.}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.\mbox{\hyperlink{structsrsran_1_1pdcch__config__common_aa3901709afb091e46d6d395a4d5982f7}{coreset0}}.has\_value())\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ bwp\_cfg.\mbox{\hyperlink{structsrsran_1_1bwp__configuration_ad7e6a6961052ba5b05ecb93aa0b9510f}{crbs}}\ =\ \mbox{\hyperlink{namespacesrsran_a439941b84952e961a9b6d9e0c84fba7d}{get\_coreset0\_crbs}}(cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ See\ TS\ 38.214,\ Table\ 5.1.2.1.1-\/1.}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ TODO:\ Select\ PDSCH\ time\ domain\ resource\ allocation\ to\ apply\ based\ on\ SS/PBCH\ and\ CORESET\ mux.\ pattern.}}
\DoxyCodeLine{00107\ \ \ \ \ pdsch\_td\_alloc\_list\ =\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdsch\_common.\mbox{\hyperlink{structsrsran_1_1pdsch__config__common_a0f7ec2321b57a85d44ea8c1ff5a35604}{pdsch\_td\_alloc\_list}}.empty()}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespacesrsran_a8308db283d6369a72e545a5d1e8174b5}{pdsch\_default\_time\_allocations\_default\_A\_table}}(bwp\_cfg.cp,\ cell\_cfg.dmrs\_typeA\_pos)}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdsch\_common.pdsch\_td\_alloc\_list;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00112\ \ \ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}Paging\ Search\ Space\ not\ configured\ in\ DL\ BWP."{}});}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1paging__scheduler_a403fbb2a6662ca0c34526c8261f6af96}\label{classsrsran_1_1paging__scheduler_a403fbb2a6662ca0c34526c8261f6af96} 
\index{srsran::paging\_scheduler@{srsran::paging\_scheduler}!handle\_paging\_information@{handle\_paging\_information}}
\index{handle\_paging\_information@{handle\_paging\_information}!srsran::paging\_scheduler@{srsran::paging\_scheduler}}
\doxysubsubsection{\texorpdfstring{handle\_paging\_information()}{handle\_paging\_information()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} paging\+\_\+scheduler\+::handle\+\_\+paging\+\_\+information (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__paging__information}{sched\+\_\+paging\+\_\+information}} \&}]{paging\+\_\+info }\end{DoxyParamCaption})}

Handles Paging information reported by upper layers. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em paging\+\_\+info} & Per UE paging information to be scheduled. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00268\ \{}
\DoxyCodeLine{00269\ \ \ new\_paging\_notifications.push(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_info}});}
\DoxyCodeLine{00270\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1paging__scheduler_abb405e5b911a3a370a70be35c86de6f0}\label{classsrsran_1_1paging__scheduler_abb405e5b911a3a370a70be35c86de6f0} 
\index{srsran::paging\_scheduler@{srsran::paging\_scheduler}!schedule\_paging@{schedule\_paging}}
\index{schedule\_paging@{schedule\_paging}!srsran::paging\_scheduler@{srsran::paging\_scheduler}}
\doxysubsubsection{\texorpdfstring{schedule\_paging()}{schedule\_paging()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} paging\+\_\+scheduler\+::schedule\+\_\+paging (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator}{cell\+\_\+resource\+\_\+allocator}} \&}]{res\+\_\+grid }\end{DoxyParamCaption})}



Performs paging (if any) scheduling for the current slot. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em res\+\_\+grid} & Resource grid with current allocations and scheduling results. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00117\ \{}
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{//\ Pop\ pending\ Paging\ notification\ and\ process\ them.}}
\DoxyCodeLine{00119\ \ \ new\_paging\_notifications.slot\_indication();}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ sched\_paging\_information>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_paging\_infos}}\ =\ new\_paging\_notifications.get\_events();}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{new\_paging\_infos}})\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{//\ Check\ whether\ Paging\ information\ is\ already\ present\ or\ not.\ i.e.\ tackle\ repeated\ Paging\ attempt\ from\ upper}}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ layers.}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordflow}{if}\ (paging\_pending\_ues.find(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_identity)\ ==\ paging\_pending\_ues.cend())\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ paging\_pending\_ues[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_identity]\ =\ ue\_paging\_info\{.info\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}},\ .retry\_count\ =\ 0\};}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//\ NOTE:}}
\DoxyCodeLine{00130\ \ \ \textcolor{comment}{//\ -\/\ [Implementation\ defined]\ The\ pagingSearchSpace\ (in\ PDCCH-\/Common\ IE)\ value\ in\ UE's\ active\ BWP\ must\ be\ taken\ into}}
\DoxyCodeLine{00131\ \ \ \textcolor{comment}{//\ \ \ consideration\ while\ paging\ a\ UE.\ However,\ for\ simplification\ we\ consider\ the\ value\ of\ pagingSearchSpace\ in\ UE's}}
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//\ \ \ active\ BWP\ to\ be\ same\ as\ in\ initial\ DL\ BWP\ in\ this\ implementation.\ This\ is\ simplification\ can\ be\ applied\ due\ to}}
\DoxyCodeLine{00133\ \ \ \textcolor{comment}{//\ \ \ the\ fact\ that\ DU\ is\ responsible\ for\ providing\ the\ PDCCH-\/Common\ configuration\ for\ UE.}}
\DoxyCodeLine{00134\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00135\ \ \ \textcolor{comment}{//\ -\/\ [Implementation\ defined]\ As\ per\ Paging\ Frame\ (PF)\ definition,\ it\ may\ contain\ one\ or\ multiple\ PO(s)\ or\ starting}}
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ \ \ point\ of\ a\ PO.\ For\ simplification,\ we\ do\ not\ support\ Paging\ Occasion\ which\ starts\ in\ PF\ and\ extends\ over\ multiple}}
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//\ \ \ radio\ frames\ i.e.\ DU\ must\ ensure\ paging\ configuration\ is\ set\ to\ avoid\ Paging\ Occasion\ spanning\ multiple\ radio}}
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ \ \ frames.}}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ paging\_search\_space\ =\ cell\_cfg.dl\_cfg\_common.init\_dl\_bwp.pdcch\_common.paging\_search\_space\_id.value();}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\_slot\_resource\_allocator}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdcch\_alloc}}\ =\ res\_grid[0];}
\DoxyCodeLine{00142\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdcch\_slot\ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdcch\_alloc}}.slot;}
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{//\ Verify\ PDCCH\ slot\ is\ DL\ enabled.}}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ cell\_cfg.is\_dl\_enabled(pdcch\_slot))\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \textcolor{comment}{//\ Check\ for\ maximum\ paging\ retries.}}
\DoxyCodeLine{00149\ \ \ \textcolor{keyword}{auto}\ it\ =\ paging\_pending\_ues.begin();}
\DoxyCodeLine{00150\ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ paging\_pending\_ues.end())\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{if}\ (paging\_pending\_ues[it-\/>first].retry\_count\ >=\ expert\_cfg.pg.max\_paging\_retries)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ it\ =\ paging\_pending\_ues.erase(it);}
\DoxyCodeLine{00153\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \textcolor{comment}{//\ Initialize.}}
\DoxyCodeLine{00159\ \ \ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup.assign(\mbox{\hyperlink{namespacesrsran_a60ed162850581e2b072db9ceac777b26}{MAX\_NOF\_PDSCH\_TD\_RESOURCE\_ALLOCATIONS}},}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<const\ sched\_paging\_information*>\{\});}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_it}}\ :\ paging\_pending\_ues)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_it}}.second.info;}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ drx\_cycle\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_drx.has\_value()\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_drx.value()\ :\ default\_paging\_cycle;}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ N\ value\ used\ in\ equation\ found\ at\ TS\ 38.304,\ clause\ 7.1.}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ N\ \ \ \ \ \ \ \ \ \ \ =\ drx\_cycle\ /\ nof\_pf\_per\_drx\_cycle;}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{t\_div\_n}}\ \ \ \ \ =\ drx\_cycle\ /\ N;}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_id\_mod\_n}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.ue\_identity\_index\_value\ \%\ N;}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{comment}{//\ Check\ for\ paging\ frame.}}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ (SFN\ +\ PF\_offset)\ mod\ T\ =\ (T\ div\ N)*(UE\_ID\ mod\ N).\ See\ TS\ 38.304,\ clause\ 7.1.}}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{if}\ (((pdcch\_slot.sfn()\ +\ paging\_frame\_offset)\ \%\ drx\_cycle)\ !=\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{t\_div\_n}}\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_id\_mod\_n}}))\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00175\ \ \ \ \ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//\ Index\ (i\_s),\ indicating\ the\ index\ of\ the\ PO.}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ i\_s\ =\ floor\ (UE\_ID/N)\ mod\ Ns.}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_s}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(std::floor(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.ue\_identity\_index\_value)\ /}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(N)))\ \%}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nof\_po\_per\_pf;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}\ !=\ pdsch\_td\_alloc\_list.size();\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}})\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1cell__slot__resource__allocator}{cell\_slot\_resource\_allocator}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_alloc}}\ =\ res\_grid[pdsch\_td\_alloc\_list[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}].k0];}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \textcolor{comment}{//\ Verify\ Paging\ slot\ is\ DL\ enabled.}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ cell\_cfg.is\_dl\_enabled(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_alloc}}.slot))\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ Unable\ at\ the\ moment\ to\ multiplex\ CSI\ and\ PDSCH.}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_alloc}}.result.dl.csi\_rs.empty())\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \textcolor{comment}{//\ Verify\ there\ is\ space\ in\ PDSCH\ and\ PDCCH\ result\ lists\ for\ new\ allocations.}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_alloc}}.result.dl.paging\_grants.full()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdcch\_alloc}}.result.dl.dl\_pdcchs.full()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}].size()\ >=\ MAX\_PAGING\_RECORDS\_PER\_PAGING\_PDU)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_cfg}}\ =\ pdsch\_td\_alloc\_list[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}];}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1coreset__configuration}{coreset\_configuration}}\ cs\_cfg\ \ \ \ \ \ \ =\ cell\_cfg.get\_common\_coreset(ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_ace03a709d08d7adb470672818f74a70d}{get\_coreset\_id}}());}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ whether\ PDSCH\ time\ domain\ resource\ does\ not\ overlap\ with\ CORESET.}}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_cfg}}.symbols.start()\ <\ ss\_cfg-\/>\mbox{\hyperlink{structsrsran_1_1search__space__configuration_ab5df7a88e860e0181fb1c5bd24dd0831}{get\_first\_symbol\_index}}()\ +\ cs\_cfg.\mbox{\hyperlink{structsrsran_1_1coreset__configuration_ac70faa1088f184a624da17749bc1c863}{duration}})\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ whether\ PDSCH\ time\ domain\ resource\ fits\ in\ DL\ symbols\ of\ the\ slot.}}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_cfg}}.symbols.stop()\ >\ cell\_cfg.get\_nof\_dl\_symbol\_per\_slot(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{paging\_alloc}}.slot))\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (paging\_search\_space\ ==\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ is\_paging\_slot\_in\_search\_space0(pdcch\_slot,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_s}})\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ is\_there\_space\_available\_for\_paging(}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ res\_grid,}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}},}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_accumulated\_paging\_msg\_size(pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}])\ +}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_type\_indicator\ ==\ paging\_identity\_type::cn\_ue\_paging\_identity}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ RRC\_CN\_PAGING\_ID\_RECORD\_SIZE}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ RRC\_RAN\_PAGING\_ID\_RECORD\_SIZE)))\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}].push\_back(\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}});}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (paging\_search\_space\ >\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ is\_paging\_slot\_in\_search\_space\_id\_gt\_0(pdcch\_slot,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_s}})\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ is\_there\_space\_available\_for\_paging(}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ res\_grid,}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}},}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_accumulated\_paging\_msg\_size(pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}])\ +}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}.paging\_type\_indicator\ ==\ paging\_identity\_type::cn\_ue\_paging\_identity}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ RRC\_CN\_PAGING\_ID\_RECORD\_SIZE}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ RRC\_RAN\_PAGING\_ID\_RECORD\_SIZE)))\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_res\_idx}}].push\_back(\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}});}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00231\ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \textcolor{comment}{//\ Update\ paging\ re-\/tries\ counter\ for\ all\ successful\ allocations.}}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}\ <\ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup.size();}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}++)\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}].empty()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ allocate\_paging(res\_grid,}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}},}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}],}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paging\_search\_space))\ \{}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \textcolor{comment}{//\ Allocation\ successful.}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}\ :\ pdsch\_time\_res\_idx\_to\_scheduled\_ues\_lookup[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_td\_res\_idx}}])\ \{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ paging\_pending\_ues[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pg\_info}}-\/>paging\_identity].retry\_count++;}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00246\ \ \ \ \ \}}
\DoxyCodeLine{00247\ \ \ \}}
\DoxyCodeLine{00248\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/common\+\_\+scheduling/paging\+\_\+scheduler.\+h\item 
lib/scheduler/common\+\_\+scheduling/paging\+\_\+scheduler.\+cpp\end{DoxyCompactItemize}
