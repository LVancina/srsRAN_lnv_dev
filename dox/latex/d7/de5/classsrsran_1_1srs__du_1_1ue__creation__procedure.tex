\doxysection{srsran\+::srs\+\_\+du\+::ue\+\_\+creation\+\_\+procedure Class Reference}
\hypertarget{classsrsran_1_1srs__du_1_1ue__creation__procedure}{}\label{classsrsran_1_1srs__du_1_1ue__creation__procedure}\index{srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}}


Handles the creation of a UE and respective bearers in the DU UE manager, MAC, F1.  




{\ttfamily \#include $<$ue\+\_\+creation\+\_\+procedure.\+h$>$}



Collaboration diagram for srsran\+::srs\+\_\+du\+::ue\+\_\+creation\+\_\+procedure\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{da/da2/classsrsran_1_1srs__du_1_1ue__creation__procedure__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__du_1_1ue__creation__procedure_aa94cd4b6e67cddf4a10db671489b0ba0}{ue\+\_\+creation\+\_\+procedure}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1du__ue__creation__request}{du\+\_\+ue\+\_\+creation\+\_\+request}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{req\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__du_1_1du__ue__manager__repository}{du\+\_\+ue\+\_\+manager\+\_\+repository}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+mng\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1du__manager__params}{du\+\_\+manager\+\_\+params}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\+\_\+params\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__du_1_1du__ran__resource__manager}{du\+\_\+ran\+\_\+resource\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\+\_\+res\+\_\+alloc\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__du_1_1ue__creation__procedure_a3b8a269c17c7df6910d3cbf9483c996e}{operator()}} (\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ $>$ \&ctx)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1srs__du_1_1ue__creation__procedure_aafb14ac774e042738b9349f93687a89c}{name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the creation of a UE and respective bearers in the DU UE manager, MAC, F1. 



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__du_1_1ue__creation__procedure_aa94cd4b6e67cddf4a10db671489b0ba0}\label{classsrsran_1_1srs__du_1_1ue__creation__procedure_aa94cd4b6e67cddf4a10db671489b0ba0} 
\index{srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}!ue\_creation\_procedure@{ue\_creation\_procedure}}
\index{ue\_creation\_procedure@{ue\_creation\_procedure}!srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}}
\doxysubsubsection{\texorpdfstring{ue\_creation\_procedure()}{ue\_creation\_procedure()}}
{\footnotesize\ttfamily ue\+\_\+creation\+\_\+procedure\+::ue\+\_\+creation\+\_\+procedure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1du__ue__creation__request}{du\+\_\+ue\+\_\+creation\+\_\+request}} \&}]{req\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__du_1_1du__ue__manager__repository}{du\+\_\+ue\+\_\+manager\+\_\+repository}} \&}]{ue\+\_\+mng\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1du__manager__params}{du\+\_\+manager\+\_\+params}} \&}]{du\+\_\+params\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__du_1_1du__ran__resource__manager}{du\+\_\+ran\+\_\+resource\+\_\+manager}} \&}]{cell\+\_\+res\+\_\+alloc\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00038\ \ \ req(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{req\_}}),}
\DoxyCodeLine{00039\ \ \ ue\_mng(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_mng\_}}),}
\DoxyCodeLine{00040\ \ \ du\_params(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\_params\_}}),}
\DoxyCodeLine{00041\ \ \ du\_res\_alloc(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_res\_alloc\_}}),}
\DoxyCodeLine{00042\ \ \ proc\_logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}DU-\/MNG"{}}),\ name(),\ req.ue\_index,\ req.tc\_rnti)}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__du_1_1ue__creation__procedure_aafb14ac774e042738b9349f93687a89c}\label{classsrsran_1_1srs__du_1_1ue__creation__procedure_aafb14ac774e042738b9349f93687a89c} 
\index{srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}!name@{name}}
\index{name@{name}!srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} srsran\+::srs\+\_\+du\+::ue\+\_\+creation\+\_\+procedure\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00071\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UE\ Create"{}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__du_1_1ue__creation__procedure_a3b8a269c17c7df6910d3cbf9483c996e}\label{classsrsran_1_1srs__du_1_1ue__creation__procedure_a3b8a269c17c7df6910d3cbf9483c996e} 
\index{srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}!operator()@{operator()}}
\index{operator()@{operator()}!srsran::srs\_du::ue\_creation\_procedure@{srsran::srs\_du::ue\_creation\_procedure}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ue\+\_\+creation\+\_\+procedure\+::operator() (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ $>$ \&}]{ctx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ proc\_logger.log\_proc\_started();}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ >\ Check\ if\ UE\ context\ was\ created\ in\ the\ DU\ manager.}}
\DoxyCodeLine{00053\ \ \ ue\_ctx\_creation\_outcome\ =\ create\_du\_ue\_context();}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{if}\ (ue\_ctx\_creation\_outcome.is\_error())\ \{}
\DoxyCodeLine{00055\ \ \ \ \ proc\_logger.log\_proc\_failure(\textcolor{stringliteral}{"{}Failed\ to\ create\ DU\ UE\ context.\ Cause:\ \{\}"{}},\ ue\_ctx\_creation\_outcome.error().data());}
\DoxyCodeLine{00056\ \ \ \ \ CORO\_AWAIT(clear\_ue());}
\DoxyCodeLine{00057\ \ \ \ \ CORO\_EARLY\_RETURN();}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ ue\_ctx\ =\ ue\_ctx\_creation\_outcome.value();}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//\ >\ Initialize\ bearers\ and\ PHY/MAC\ PCell\ resources\ of\ the\ DU\ UE.}}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ setup\_du\_ue\_resources())\ \{}
\DoxyCodeLine{00064\ \ \ \ \ CORO\_AWAIT(clear\_ue());}
\DoxyCodeLine{00065\ \ \ \ \ CORO\_EARLY\_RETURN();}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ >\ Create\ F1AP\ UE\ context.}}
\DoxyCodeLine{00069\ \ \ f1ap\_resp\ =\ create\_f1ap\_ue();}
\DoxyCodeLine{00070\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ f1ap\_resp.result)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ proc\_logger.log\_proc\_failure(\textcolor{stringliteral}{"{}Failed\ to\ create\ F1AP\ UE\ context"{}});}
\DoxyCodeLine{00072\ \ \ \ \ CORO\_AWAIT(clear\_ue());}
\DoxyCodeLine{00073\ \ \ \ \ CORO\_EARLY\_RETURN();}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ >\ Initiate\ creation\ of\ RLC\ SRB0.}}
\DoxyCodeLine{00077\ \ \ create\_rlc\_srbs();}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ >\ Connect\ bearers\ between\ layers\ F1AP<-\/>RLC<-\/>MAC.}}
\DoxyCodeLine{00080\ \ \ connect\_layer\_bearers();}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ >\ Initiate\ MAC\ UE\ creation\ and\ await\ result.}}
\DoxyCodeLine{00083\ \ \ CORO\_AWAIT\_VALUE(mac\_resp,\ create\_mac\_ue());}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{if}\ (mac\_resp.\mbox{\hyperlink{structsrsran_1_1mac__ue__create__response_ad5b97e705ad0df958e0a883e2b0eb2db}{allocated\_crnti}}\ ==\ rnti\_t::INVALID\_RNTI)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ proc\_logger.log\_proc\_failure(\textcolor{stringliteral}{"{}Failed\ to\ create\ MAC\ UE\ context"{}});}
\DoxyCodeLine{00086\ \ \ \ \ CORO\_AWAIT(clear\_ue());}
\DoxyCodeLine{00087\ \ \ \ \ CORO\_EARLY\_RETURN();}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ >\ Assign\ C-\/RNTI\ allocated\ by\ MAC.}}
\DoxyCodeLine{00091\ \ \ ue\_mng.\mbox{\hyperlink{classsrsran_1_1srs__du_1_1du__ue__manager__repository_a2cad4ef23ce81aa1c5cf161c4f459f1c}{update\_crnti}}(req.ue\_index,\ mac\_resp.\mbox{\hyperlink{structsrsran_1_1mac__ue__create__response_ad5b97e705ad0df958e0a883e2b0eb2db}{allocated\_crnti}});}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{//\ >\ Start\ Initial\ UL\ RRC\ Message\ Transfer\ by\ signalling\ MAC\ to\ notify\ CCCH\ to\ upper\ layers.}}
\DoxyCodeLine{00094\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ req.ul\_ccch\_msg.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}())\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ du\_params.mac.ue\_cfg.\mbox{\hyperlink{classsrsran_1_1mac__ue__configurator_a9b708893ffa742ccf3e0e785b77d9258}{handle\_ul\_ccch\_msg}}(ue\_ctx-\/>ue\_index,\ req.ul\_ccch\_msg.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}()))\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ proc\_logger.log\_proc\_failure(\textcolor{stringliteral}{"{}Failed\ to\ notify\ CCCH\ message\ to\ upper\ layers"{}});}
\DoxyCodeLine{00097\ \ \ \ \ \ \ CORO\_AWAIT(clear\_ue());}
\DoxyCodeLine{00098\ \ \ \ \ \ \ CORO\_EARLY\_RETURN();}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ proc\_logger.log\_proc\_completed();}
\DoxyCodeLine{00103\ \ \ CORO\_RETURN();}
\DoxyCodeLine{00104\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/du\+\_\+manager/procedures/ue\+\_\+creation\+\_\+procedure.\+h\item 
lib/du\+\_\+manager/procedures/ue\+\_\+creation\+\_\+procedure.\+cpp\end{DoxyCompactItemize}
