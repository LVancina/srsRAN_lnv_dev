\doxysection{srsran\+::protocol\+\_\+transaction\+\_\+manager\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1protocol__transaction__manager}{}\label{classsrsran_1_1protocol__transaction__manager}\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}


Manager of multiple concurrent protocol transactions. Each managed transaction can be uniquely identified by a "{}transaction\+\_\+id"{} integer value, which is automatically assigned by the {\ttfamily \doxylink{classsrsran_1_1protocol__transaction__manager}{protocol\+\_\+transaction\+\_\+manager}}. Transactions are single-\/use, meaning that the user will have to create new transaction objects, with different transaction\+\_\+ids for every message exchange. To create a new transaction, the user may call "{}create\+\_\+transaction(...)"{}, where a timeout for the transaction can be optionally defined.  




{\ttfamily \#include $<$protocol\+\_\+transaction\+\_\+manager.\+h$>$}



Inheritance diagram for srsran\+::protocol\+\_\+transaction\+\_\+manager\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/de5/classsrsran_1_1protocol__transaction__manager__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::protocol\+\_\+transaction\+\_\+manager\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{d7/d10/classsrsran_1_1protocol__transaction__manager__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_a6fbdc9b25b5df11d2cb91eece3c0d22d}{protocol\+\_\+transaction\+\_\+manager}} (\mbox{\hyperlink{namespacesrsran_a7fc38bf3e4becf62f1a665001cc00cb3}{protocol\+\_\+transaction\+\_\+id\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+transaction\+\_\+ids\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timer\+\_\+service\+\_\+}})
\item 
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{protocol\+\_\+transaction}}$<$ T $>$ \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_ab8ce7d8016d112ab8b238a5bba6c2640}{create\+\_\+transaction}} (std\+::chrono\+::milliseconds \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\+\_\+to\+\_\+cancel}}=\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec}{max\+\_\+timeout}})
\begin{DoxyCompactList}\small\item\em Creates a new protocol transaction with automatically assigned transaction ID and with a timeout, after which the transaction gets cancelled. \end{DoxyCompactList}\item 
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{protocol\+\_\+transaction}}$<$ T $>$ \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_adee571f327fef8470a58121097640aeb}{create\+\_\+transaction}} (\mbox{\hyperlink{namespacesrsran_a7fc38bf3e4becf62f1a665001cc00cb3}{protocol\+\_\+transaction\+\_\+id\+\_\+t}} transaction\+\_\+id, std\+::chrono\+::milliseconds \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\+\_\+to\+\_\+cancel}}=\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec}{max\+\_\+timeout}})
\begin{DoxyCompactList}\small\item\em Creates a new protocol transaction with pre-\/defined transaction ID. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} U $>$ }\\\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_aeb8074d2aac3598ae6128862a17366f5}{set\+\_\+response}} (\mbox{\hyperlink{classunsigned}{unsigned}} transaction\+\_\+id, U \&\&result)
\begin{DoxyCompactList}\small\item\em Sets the result of a managed transaction with the provided transaction\+\_\+id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_ae9efae144ec1373a86972500b8ed6b91}{cancel\+\_\+transaction}} (\mbox{\hyperlink{classunsigned}{unsigned}} transaction\+\_\+id)
\begin{DoxyCompactList}\small\item\em Cancel a running transaction. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec}\label{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::chrono\+::milliseconds {\bfseries max\+\_\+timeout} \{600000\}
\begin{DoxyCompactList}\small\item\em Time limit for a transaction to complete. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1protocol__transaction__manager_a5a85a96d4baa8fa356490acfb9d6ced7}\label{classsrsran_1_1protocol__transaction__manager_a5a85a96d4baa8fa356490acfb9d6ced7} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{class}} {\bfseries protocol\+\_\+transaction$<$ T $>$}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T$>$\newline
class srsran\+::protocol\+\_\+transaction\+\_\+manager$<$ T $>$}
Manager of multiple concurrent protocol transactions. Each managed transaction can be uniquely identified by a "{}transaction\+\_\+id"{} integer value, which is automatically assigned by the {\ttfamily \doxylink{classsrsran_1_1protocol__transaction__manager}{protocol\+\_\+transaction\+\_\+manager}}. Transactions are single-\/use, meaning that the user will have to create new transaction objects, with different transaction\+\_\+ids for every message exchange. To create a new transaction, the user may call "{}create\+\_\+transaction(...)"{}, where a timeout for the transaction can be optionally defined. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & type of the response to the transaction. \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_a6fbdc9b25b5df11d2cb91eece3c0d22d}\label{classsrsran_1_1protocol__transaction__manager_a6fbdc9b25b5df11d2cb91eece3c0d22d} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!protocol\_transaction\_manager@{protocol\_transaction\_manager}}
\index{protocol\_transaction\_manager@{protocol\_transaction\_manager}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{protocol\_transaction\_manager()}{protocol\_transaction\_manager()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::protocol\+\_\+transaction\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a7fc38bf3e4becf62f1a665001cc00cb3}{protocol\+\_\+transaction\+\_\+id\+\_\+t}}}]{nof\+\_\+transaction\+\_\+ids\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}}}]{timer\+\_\+service\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00182\ \ \ \ \ nof\_transaction\_ids(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_transaction\_ids\_}}),\ timer\_service(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timer\_service\_}})}
\DoxyCodeLine{00183\ \ \ \{}
\DoxyCodeLine{00184\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_af502a6312ed20a0f379e289e1bdf6124}\label{classsrsran_1_1protocol__transaction__manager_af502a6312ed20a0f379e289e1bdf6124} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!````~protocol\_transaction\_manager@{\texorpdfstring{$\sim$}{\string~}protocol\_transaction\_manager}}
\index{````~protocol\_transaction\_manager@{\texorpdfstring{$\sim$}{\string~}protocol\_transaction\_manager}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}protocol\_transaction\_manager()}{\string~protocol\_transaction\_manager()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{protocol\+\_\+transaction\+\_\+manager}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00186\ \ \ \{}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ running\_transactions.empty())\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}ALL"{}}).error(\textcolor{stringliteral}{"{}Protocol\ transaction\ manager\ destroyed\ with\ \{\}\ running\ transactions"{}},}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ running\_transactions.size());}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_ae9efae144ec1373a86972500b8ed6b91}\label{classsrsran_1_1protocol__transaction__manager_ae9efae144ec1373a86972500b8ed6b91} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!cancel\_transaction@{cancel\_transaction}}
\index{cancel\_transaction@{cancel\_transaction}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{cancel\_transaction()}{cancel\_transaction()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::cancel\+\_\+transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{transaction\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Cancel a running transaction. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00253\ \ \ \{}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordflow}{return}\ set\_transaction\_outcome(transaction\_id,\ protocol\_transaction\_failure::cancel);}
\DoxyCodeLine{00255\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_adee571f327fef8470a58121097640aeb}\label{classsrsran_1_1protocol__transaction__manager_adee571f327fef8470a58121097640aeb} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!create\_transaction@{create\_transaction}}
\index{create\_transaction@{create\_transaction}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{create\_transaction()}{create\_transaction()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{protocol\+\_\+transaction}}$<$ T $>$ \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::create\+\_\+transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a7fc38bf3e4becf62f1a665001cc00cb3}{protocol\+\_\+transaction\+\_\+id\+\_\+t}}}]{transaction\+\_\+id,  }\item[{std\+::chrono\+::milliseconds}]{time\+\_\+to\+\_\+cancel = {\ttfamily \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec}{max\+\_\+timeout}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a new protocol transaction with pre-\/defined transaction ID. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00217\ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{comment}{//\ Create\ new\ transaction\ instance.}}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}\ =\ running\_transactions.emplace(}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ std::piecewise\_construct,\ std::forward\_as\_tuple(transaction\_id),\ std::forward\_as\_tuple());}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}.second)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}ALL"{}}).error(\textcolor{stringliteral}{"{}Failed\ to\ allocate\ transaction\ id=\{\}"{}},\ transaction\_id);}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00224\ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{comment}{//\ Create\ timer,\ set\ timeout\ and\ callback,\ and\ start\ running\ it.}}
\DoxyCodeLine{00227\ \ \ \ \ unique\_timer\&\ timer\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}.first-\/>second.timer;}
\DoxyCodeLine{00228\ \ \ \ \ timer\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ timer\_service.create\_timer();}
\DoxyCodeLine{00229\ \ \ \ \ timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_to\_cancel}},\ [\textcolor{keyword}{this},\ transaction\_id](timer\_id\_t\ \textcolor{comment}{/*unused*/})\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ set\_transaction\_outcome(transaction\_id,\ protocol\_transaction\_failure::timeout))\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}ALL"{}}).warning(\textcolor{stringliteral}{"{}Transaction\ id=\{\}\ timeout\ but\ transaction\ is\ already\ completed"{}},}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction\_id);}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00234\ \ \ \ \ \});}
\DoxyCodeLine{00235\ \ \ \ \ timer.run();}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{return}\ \{*\textcolor{keyword}{this},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}.first-\/>first,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}.first-\/>second.event\};}
\DoxyCodeLine{00238\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_ab8ce7d8016d112ab8b238a5bba6c2640}\label{classsrsran_1_1protocol__transaction__manager_ab8ce7d8016d112ab8b238a5bba6c2640} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!create\_transaction@{create\_transaction}}
\index{create\_transaction@{create\_transaction}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{create\_transaction()}{create\_transaction()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{protocol\+\_\+transaction}}$<$ T $>$ \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::create\+\_\+transaction (\begin{DoxyParamCaption}\item[{std\+::chrono\+::milliseconds}]{time\+\_\+to\+\_\+cancel = {\ttfamily \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_af725907c7d52154272bd1fe8691bb2ec}{max\+\_\+timeout}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a new protocol transaction with automatically assigned transaction ID and with a timeout, after which the transaction gets cancelled. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00196\ \ \ \{}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{comment}{//\ Allocate\ a\ new\ transaction\ id\ for\ the\ protocol\ transaction.}}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ transaction\_id\ =\ \mbox{\hyperlink{namespacesrsran_a4851de3b8b258237ab62d8a94f66d454}{invalid\_protocol\_transaction\_id}};}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ count\ =\ 0;\ count\ <\ nof\_transaction\_ids\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ transaction\_id\ ==\ \mbox{\hyperlink{namespacesrsran_a4851de3b8b258237ab62d8a94f66d454}{invalid\_protocol\_transaction\_id}};}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ ++count)\ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (running\_transactions.count(next\_transaction\_id)\ ==\ 0)\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ transaction\_id\ =\ next\_transaction\_id;}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ next\_transaction\_id\ =\ (next\_transaction\_id\ +\ 1)\ \%\ nof\_transaction\_ids;}
\DoxyCodeLine{00205\ \ \ \ \ \}}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{if}\ (transaction\_id\ ==\ \mbox{\hyperlink{namespacesrsran_a4851de3b8b258237ab62d8a94f66d454}{invalid\_protocol\_transaction\_id}})\ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}ALL"{}}).error(\textcolor{stringliteral}{"{}Failed\ to\ allocate\ new\ transaction\ id"{}});}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager_ab8ce7d8016d112ab8b238a5bba6c2640}{create\_transaction}}(transaction\_id,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{time\_to\_cancel}});}
\DoxyCodeLine{00212\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1protocol__transaction__manager_aeb8074d2aac3598ae6128862a17366f5}\label{classsrsran_1_1protocol__transaction__manager_aeb8074d2aac3598ae6128862a17366f5} 
\index{srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}!set\_response@{set\_response}}
\index{set\_response@{set\_response}!srsran::protocol\_transaction\_manager$<$ T $>$@{srsran::protocol\_transaction\_manager$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{set\_response()}{set\_response()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} U $>$ \\
\mbox{\hyperlink{compiler_8h_a84270d7b45f0280051bd27685657e03e}{SRSRAN\+\_\+\+NODISCARD}} \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1protocol__transaction__manager}{srsran\+::protocol\+\_\+transaction\+\_\+manager}}$<$ T $>$\+::set\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{transaction\+\_\+id,  }\item[{U \&\&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the result of a managed transaction with the provided transaction\+\_\+id. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em transaction\+\_\+id} & Id of the transaction. \\
\hline
\mbox{\texttt{ in}}  & {\em result} & Result of the transaction. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if result of the transaction was successfully set. False, if the transaction has already finished. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00246\ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_convertible<U,\ T>::value,\ \textcolor{stringliteral}{"{}Invalid\ transaction\ response\ type\ being\ set"{}});}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{return}\ set\_transaction\_outcome(transaction\_id,\ std::forward<U>(result));}
\DoxyCodeLine{00249\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/async/protocol\+\_\+transaction\+\_\+manager.\+h\end{DoxyCompactItemize}
