\doxysection{srsran\+::dpdk\+::bbdev\+\_\+acc Class Reference}
\hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc}{}\label{classsrsran_1_1dpdk_1_1bbdev__acc}\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}


Abstracted interfacing to bbdev-\/based hardware-\/accelerators.  




{\ttfamily \#include $<$bbdev\+\_\+acc.\+h$>$}



Collaboration diagram for srsran\+::dpdk\+::bbdev\+\_\+acc\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{d8/d6a/classsrsran_1_1dpdk_1_1bbdev__acc__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_afffa80e342e42737c75d624229a8684c}{bbdev\+\_\+acc}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration}{bbdev\+\_\+acc\+\_\+configuration}} \&cfg, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \+::rte\+\_\+bbdev\+\_\+info \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{info\+\_\+}}, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&logger)
\item 
\mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_ad258a0c2f6ec537ac047fe3d62c1044c}{\texorpdfstring{$\sim$}{\string~}bbdev\+\_\+acc}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a0c9b5f210cdd5b4d02387674a082bbf4}{get\+\_\+device\+\_\+id}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a80aa653e1fd1a7aa3bbb452334686469}{get\+\_\+socket\+\_\+id}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a2d352d819d0fdf6e0b6617e8790cbf27}{get\+\_\+nof\+\_\+ldpc\+\_\+enc\+\_\+cores}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_aa3811e12c2c26ce81f575caf04280baa}{get\+\_\+nof\+\_\+ldpc\+\_\+dec\+\_\+cores}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_abab6efc2d34be500cc66e54c7352e6ab}{get\+\_\+nof\+\_\+fft\+\_\+cores}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a00be25c054d7ba72d901b54df8b228f1}{get\+\_\+harq\+\_\+buff\+\_\+size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a075d9ab6f71aeedbe503bb3138b55335}{get\+\_\+msg\+\_\+mbuf\+\_\+size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a412f3885d478b77e9588a92af07376c7}{get\+\_\+rm\+\_\+mbuf\+\_\+size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a3d1a1b8b16d1b6f64c2077a400c3cd02}{get\+\_\+nof\+\_\+mbuf}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \& \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a6ae9cad05f1ccebd501259b85e6eeb20}{get\+\_\+logger}} ()
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_a1f650f892bdf8d0c0f1121f7ef772bce}{reserve\+\_\+queue}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rte\+\_\+bbdev\+\_\+op\+\_\+type}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\+\_\+type}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc_ac35d56ee37d4db642ea0b56abb1f6fea}{free\+\_\+queue}} (\mbox{\hyperlink{classunsigned}{unsigned}} queue\+\_\+id)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Abstracted interfacing to bbdev-\/based hardware-\/accelerators. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_afffa80e342e42737c75d624229a8684c}\label{classsrsran_1_1dpdk_1_1bbdev__acc_afffa80e342e42737c75d624229a8684c} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!bbdev\_acc@{bbdev\_acc}}
\index{bbdev\_acc@{bbdev\_acc}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{bbdev\_acc()}{bbdev\_acc()}}
{\footnotesize\ttfamily bbdev\+\_\+acc\+::bbdev\+\_\+acc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration}{bbdev\+\_\+acc\+\_\+configuration}} \&}]{cfg,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \+::rte\+\_\+bbdev\+\_\+info \&}]{info\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructor. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dpdk} & Pointer to a dpdk-\/based hardware-\/accelerator interface. \\
\hline
\mbox{\texttt{ in}}  & {\em info} & bbdev Device information. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Configuration parameters of the bbdev-\/based hardware-\/accelerator. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00030\ \ \ id(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_ad34d84153dcbd2a18abf0e16785c7132}{id}}),}
\DoxyCodeLine{00031\ \ \ info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{info\_}}),}
\DoxyCodeLine{00032\ \ \ nof\_ldpc\_enc\_lcores(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_a7db5fc1a09cd0ea681d08b9d3a412498}{nof\_ldpc\_enc\_lcores}}),}
\DoxyCodeLine{00033\ \ \ nof\_ldpc\_dec\_lcores(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_ae0675776d8c130748cad82cf9449e15e}{nof\_ldpc\_dec\_lcores}}),}
\DoxyCodeLine{00034\ \ \ nof\_fft\_lcores(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_a84a8e55559d3cdac1418baa434035654}{nof\_fft\_lcores}}),}
\DoxyCodeLine{00035\ \ \ queue\_used(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_a7db5fc1a09cd0ea681d08b9d3a412498}{nof\_ldpc\_enc\_lcores}}\ +\ cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_ae0675776d8c130748cad82cf9449e15e}{nof\_ldpc\_dec\_lcores}}\ +\ cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_a84a8e55559d3cdac1418baa434035654}{nof\_fft\_lcores}}),}
\DoxyCodeLine{00036\ \ \ msg\_mbuf\_size(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_aa54d2c4b5bc3637f7111487d86b8a3f3}{msg\_mbuf\_size}}),}
\DoxyCodeLine{00037\ \ \ rm\_mbuf\_size(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_a4adf8c9fc1afc17d79c33bc848a98def}{rm\_mbuf\_size}}),}
\DoxyCodeLine{00038\ \ \ nof\_mbuf(cfg.\mbox{\hyperlink{structsrsran_1_1dpdk_1_1bbdev__acc__configuration_ac04621508d2bd3900b692edce3c9d35b}{nof\_mbuf}}),}
\DoxyCodeLine{00039\ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}})}
\DoxyCodeLine{00040\ \{}
\DoxyCodeLine{00041\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_ad258a0c2f6ec537ac047fe3d62c1044c}\label{classsrsran_1_1dpdk_1_1bbdev__acc_ad258a0c2f6ec537ac047fe3d62c1044c} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!````~bbdev\_acc@{\texorpdfstring{$\sim$}{\string~}bbdev\_acc}}
\index{````~bbdev\_acc@{\texorpdfstring{$\sim$}{\string~}bbdev\_acc}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}bbdev\_acc()}{\string~bbdev\_acc()}}
{\footnotesize\ttfamily bbdev\+\_\+acc\+::\texorpdfstring{$\sim$}{\string~}bbdev\+\_\+acc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \textcolor{comment}{//\ bbdev\ device\ stop\ procedure.}}
\DoxyCodeLine{00046\ \ \ ::bbdev\_stop(\textcolor{keywordtype}{id},\ logger);}
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_ac35d56ee37d4db642ea0b56abb1f6fea}\label{classsrsran_1_1dpdk_1_1bbdev__acc_ac35d56ee37d4db642ea0b56abb1f6fea} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!free\_queue@{free\_queue}}
\index{free\_queue@{free\_queue}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{free\_queue()}{free\_queue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} bbdev\+\_\+acc\+::free\+\_\+queue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{queue\+\_\+id }\end{DoxyParamCaption})}

Frees a queue used by a specific hardware-\/accelerated channel processor function. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em queue\+\_\+id} & ID of the queue to be freed. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00104\ \{}
\DoxyCodeLine{00105\ \ \ queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a179a14a79e4686cf1d1259031d0976cb}{reset}}(queue\_id);}
\DoxyCodeLine{00106\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a0c9b5f210cdd5b4d02387674a082bbf4}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a0c9b5f210cdd5b4d02387674a082bbf4} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_device\_id@{get\_device\_id}}
\index{get\_device\_id@{get\_device\_id}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_device\_id()}{get\_device\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+device\+\_\+id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the ID of the bbdev-\/based hardware-\/accelerator device. \begin{DoxyReturn}{Returns}
Device ID. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{\ \textcolor{keywordflow}{return}\ id;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a00be25c054d7ba72d901b54df8b228f1}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a00be25c054d7ba72d901b54df8b228f1} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_harq\_buff\_size@{get\_harq\_buff\_size}}
\index{get\_harq\_buff\_size@{get\_harq\_buff\_size}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_harq\_buff\_size()}{get\_harq\_buff\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+harq\+\_\+buff\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the size of the (external) HARQ buffer size embedded in the hardware-\/accelerator. \begin{DoxyReturn}{Returns}
HARQ buffer size (in bytes). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \{\ \textcolor{keywordflow}{return}\ units::bytes(1024\ *\ info.drv.harq\_buffer\_size);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a6ae9cad05f1ccebd501259b85e6eeb20}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a6ae9cad05f1ccebd501259b85e6eeb20} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_logger@{get\_logger}}
\index{get\_logger@{get\_logger}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_logger()}{get\_logger()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \& srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+logger (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Returns the internal SRS logger. \begin{DoxyReturn}{Returns}
SRS logger. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00110\ \{\ \textcolor{keywordflow}{return}\ logger;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a075d9ab6f71aeedbe503bb3138b55335}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a075d9ab6f71aeedbe503bb3138b55335} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_msg\_mbuf\_size@{get\_msg\_mbuf\_size}}
\index{get\_msg\_mbuf\_size@{get\_msg\_mbuf\_size}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_msg\_mbuf\_size()}{get\_msg\_mbuf\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+msg\+\_\+mbuf\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the size of each mbuf used to exchange unencoded and unrate-\/matched messages with the accelerator. \begin{DoxyReturn}{Returns}
Unencoded and unrate-\/matched mbuf size (in bytes). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \{\ \textcolor{keywordflow}{return}\ units::bytes(msg\_mbuf\_size);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_abab6efc2d34be500cc66e54c7352e6ab}\label{classsrsran_1_1dpdk_1_1bbdev__acc_abab6efc2d34be500cc66e54c7352e6ab} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_nof\_fft\_cores@{get\_nof\_fft\_cores}}
\index{get\_nof\_fft\_cores@{get\_nof\_fft\_cores}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_nof\_fft\_cores()}{get\_nof\_fft\_cores()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+nof\+\_\+fft\+\_\+cores (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the number of FFT cores provided by the bbdev-\/based hardware-\/accelerator. \begin{DoxyReturn}{Returns}
Number of FFT cores. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00090\ \{\ \textcolor{keywordflow}{return}\ nof\_fft\_lcores;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_aa3811e12c2c26ce81f575caf04280baa}\label{classsrsran_1_1dpdk_1_1bbdev__acc_aa3811e12c2c26ce81f575caf04280baa} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_nof\_ldpc\_dec\_cores@{get\_nof\_ldpc\_dec\_cores}}
\index{get\_nof\_ldpc\_dec\_cores@{get\_nof\_ldpc\_dec\_cores}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ldpc\_dec\_cores()}{get\_nof\_ldpc\_dec\_cores()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+nof\+\_\+ldpc\+\_\+dec\+\_\+cores (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the number of LDPC decoder cores provided by the bbdev-\/based hardware-\/accelerator. \begin{DoxyReturn}{Returns}
Number of LDPC decoder cores. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \{\ \textcolor{keywordflow}{return}\ nof\_ldpc\_dec\_lcores;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a2d352d819d0fdf6e0b6617e8790cbf27}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a2d352d819d0fdf6e0b6617e8790cbf27} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_nof\_ldpc\_enc\_cores@{get\_nof\_ldpc\_enc\_cores}}
\index{get\_nof\_ldpc\_enc\_cores@{get\_nof\_ldpc\_enc\_cores}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ldpc\_enc\_cores()}{get\_nof\_ldpc\_enc\_cores()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+nof\+\_\+ldpc\+\_\+enc\+\_\+cores (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the number of LDPC encoder cores provided by the bbdev-\/based hardware-\/accelerator. \begin{DoxyReturn}{Returns}
Number of LDPC encoder cores. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \{\ \textcolor{keywordflow}{return}\ nof\_ldpc\_enc\_lcores;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a3d1a1b8b16d1b6f64c2077a400c3cd02}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a3d1a1b8b16d1b6f64c2077a400c3cd02} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_nof\_mbuf@{get\_nof\_mbuf}}
\index{get\_nof\_mbuf@{get\_nof\_mbuf}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_nof\_mbuf()}{get\_nof\_mbuf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+nof\+\_\+mbuf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the number of mbufs in each memory pool used to exchange data with the accelerator. \begin{DoxyReturn}{Returns}
Number of mbufs. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \{\ \textcolor{keywordflow}{return}\ nof\_mbuf;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a412f3885d478b77e9588a92af07376c7}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a412f3885d478b77e9588a92af07376c7} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_rm\_mbuf\_size@{get\_rm\_mbuf\_size}}
\index{get\_rm\_mbuf\_size@{get\_rm\_mbuf\_size}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_rm\_mbuf\_size()}{get\_rm\_mbuf\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units\+::bytes}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+rm\+\_\+mbuf\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the size of each mbuf used to exchange encoded and rate-\/matched messages with the accelerator. \begin{DoxyReturn}{Returns}
Encoded and rate-\/matched mbuf size (in bytes). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{\ \textcolor{keywordflow}{return}\ units::bytes(rm\_mbuf\_size);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a80aa653e1fd1a7aa3bbb452334686469}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a80aa653e1fd1a7aa3bbb452334686469} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!get\_socket\_id@{get\_socket\_id}}
\index{get\_socket\_id@{get\_socket\_id}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{get\_socket\_id()}{get\_socket\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} srsran\+::dpdk\+::bbdev\+\_\+acc\+::get\+\_\+socket\+\_\+id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the ID of the socket used by the bbdev-\/based hardware-\/accelerator. \begin{DoxyReturn}{Returns}
Socket ID. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00078\ \{\ \textcolor{keywordflow}{return}\ info.socket\_id;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dpdk_1_1bbdev__acc_a1f650f892bdf8d0c0f1121f7ef772bce}\label{classsrsran_1_1dpdk_1_1bbdev__acc_a1f650f892bdf8d0c0f1121f7ef772bce} 
\index{srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}!reserve\_queue@{reserve\_queue}}
\index{reserve\_queue@{reserve\_queue}!srsran::dpdk::bbdev\_acc@{srsran::dpdk::bbdev\_acc}}
\doxysubsubsection{\texorpdfstring{reserve\_queue()}{reserve\_queue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} bbdev\+\_\+acc\+::reserve\+\_\+queue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rte\+\_\+bbdev\+\_\+op\+\_\+type}}}]{op\+\_\+type }\end{DoxyParamCaption})}

Reserves a free queue to be used by a specific hardware-\/accelerated channel processor function. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em op\+\_\+type} & Type of bbdev op. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ID of the reserved queue. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordtype}{int}\ queue\_id\ =\ -\/1;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ Hardware-\/accelerated\ LDPC\ encoder\ functions\ use\ queues\ 0:(nof\_ldpc\_enc\_lcores\ -\/\ 1)}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\_type}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{RTE\_BBDEV\_OP\_LDPC\_ENC}})\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ =\ 0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}}\ =\ nof\_ldpc\_enc\_lcores;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}};\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}++)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a53b1498a7820972edb5b9c8db2fc94db}{test}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}))\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ queue\_id\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a52f08763e41a945fea0124ad5fc8457c}{set}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}});}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \}}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Hardware-\/accelerated\ LDPC\ decoder\ functions\ use\ queues\ nof\_ldpc\_enc\_lcores:(nof\_ldpc\_enc\_lcores\ +}}
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{//\ nof\_ldpc\_dec\_lcores\ -\/\ 1)}}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\_type}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{RTE\_BBDEV\_OP\_LDPC\_DEC}})\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ =\ nof\_ldpc\_enc\_lcores,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}}\ =\ nof\_ldpc\_enc\_lcores\ +\ nof\_ldpc\_dec\_lcores;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}};\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}++)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a53b1498a7820972edb5b9c8db2fc94db}{test}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}))\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ queue\_id\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a52f08763e41a945fea0124ad5fc8457c}{set}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}});}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Hardware-\/accelerated\ FFT\ functions\ use\ queues\ (nof\_ldpc\_enc\_lcores\ +\ nof\_ldpc\_dec\_lcores):(nof\_ldpc\_enc\_lcores\ +}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ nof\_ldpc\_dec\_lcores\ +\ nof\_fft\_lcores\ -\/\ 1)}}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ \ \ =\ nof\_ldpc\_enc\_lcores\ +\ nof\_ldpc\_dec\_lcores,}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}}\ =\ nof\_ldpc\_enc\_lcores\ +\ nof\_ldpc\_dec\_lcores\ +\ nof\_fft\_lcores;}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lastq}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}++)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a53b1498a7820972edb5b9c8db2fc94db}{test}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}))\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ queue\_id\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}};}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ queue\_used.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a52f08763e41a945fea0124ad5fc8457c}{set}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}});}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ Log\ failure\ to\ obtain\ a\ free\ queue.}}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{if}\ (queue\_id\ <\ 0)\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\_type}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{RTE\_BBDEV\_OP\_LDPC\_ENC}})\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}[bbdev]\ unable\ to\ reserve\ a\ free\ LDPC\ encoder\ queue\ in\ device\ \{\}."{}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00093\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\_type}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{RTE\_BBDEV\_OP\_LDPC\_DEC}})\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}[bbdev]\ unable\ to\ reserve\ a\ free\ LDPC\ decoder\ queue\ in\ device\ \{\}."{}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00095\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}[bbdev]\ unable\ to\ reserve\ a\ free\ FFT\ queue\ in\ device\ \{\}."{}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{return}\ queue\_id;}
\DoxyCodeLine{00101\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/srsran/hal/dpdk/bbdev/bbdev\+\_\+acc.\+h\item 
lib/hal/dpdk/bbdev/bbdev\+\_\+acc.\+cpp\end{DoxyCompactItemize}
