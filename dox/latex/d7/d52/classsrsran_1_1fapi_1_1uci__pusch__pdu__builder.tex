\doxysection{srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder Class Reference}
\hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}


UCI PUSCH PDU builder that helps fill in the parameters specified in SCF-\/222 v4.\+0 section 3.\+4.\+9.\+1.  




{\ttfamily \#include $<$message\+\_\+builders.\+h$>$}



Collaboration diagram for srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{d9/d9d/classsrsran_1_1fapi_1_1uci__pusch__pdu__builder__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a15aa05366ea08cca675522e275e2a37f}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} (\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\+\_\+pusch\+\_\+pdu}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}{set\+\_\+basic\+\_\+parameters}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} handle, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} rnti)
\begin{DoxyCompactList}\small\item\em Sets the UCI PUSCH PDU basic parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_af47a3c764e5068d523c8798ee4855977}{set\+\_\+metrics\+\_\+parameters}} (\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ ul\+\_\+sinr\+\_\+metric, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ timing\+\_\+advance\+\_\+offset, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classint}{int}} $>$ timing\+\_\+advance\+\_\+offset\+\_\+ns, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ rssi, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ rsrp, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\+\_\+use\+\_\+d\+Bm}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}})
\begin{DoxyCompactList}\small\item\em Sets the UCI PUSCH PDU metrics parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a26696e91048d47de100b245b141ec759}{set\+\_\+harq\+\_\+parameters}} (\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}}, uint16\+\_\+t expected\+\_\+bit\+\_\+length, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+HARQ\+\_\+\+BITS $>$ \&payload)
\begin{DoxyCompactList}\small\item\em Sets the HARQ PDU parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_ab1b2849582947e72b851ef92ce391ae0}{set\+\_\+csi\+\_\+part1\+\_\+parameters}} (\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}}, uint16\+\_\+t expected\+\_\+bit\+\_\+length, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+CSI\+\_\+\+PART1\+\_\+\+OR\+\_\+\+PART2\+\_\+\+BITS $>$ \&payload)
\begin{DoxyCompactList}\small\item\em Sets the CSI Part 1 PDU parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a36f6a874a35aaa7ba90d9f5721e841a9}{set\+\_\+csi\+\_\+part2\+\_\+parameters}} (\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}}, uint16\+\_\+t expected\+\_\+bit\+\_\+length, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+CSI\+\_\+\+PART1\+\_\+\+OR\+\_\+\+PART2\+\_\+\+BITS $>$ \&payload)
\begin{DoxyCompactList}\small\item\em Sets the CSI Part 2 PDU parameters and returns a reference to the builder. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
UCI PUSCH PDU builder that helps fill in the parameters specified in SCF-\/222 v4.\+0 section 3.\+4.\+9.\+1. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a15aa05366ea08cca675522e275e2a37f}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a15aa05366ea08cca675522e275e2a37f} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!uci\_pusch\_pdu\_builder@{uci\_pusch\_pdu\_builder}}
\index{uci\_pusch\_pdu\_builder@{uci\_pusch\_pdu\_builder}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{uci\_pusch\_pdu\_builder()}{uci\_pusch\_pdu\_builder()}}
{\footnotesize\ttfamily srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pusch__pdu}{uci\+\_\+pusch\+\_\+pdu}} \&}]{pdu\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01410\ :\ pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_}})\ \{\ pdu.pdu\_bitmap\ =\ 0;\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_aa905d71ae128fb56e14a612771b9271d} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!set\_basic\_parameters@{set\_basic\_parameters}}
\index{set\_basic\_parameters@{set\_basic\_parameters}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_basic\_parameters()}{set\_basic\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::set\+\_\+basic\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{handle,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{rnti }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the UCI PUSCH PDU basic parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+1 in Table UCI PUSCH PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01415\ \ \ \{}
\DoxyCodeLine{01416\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{01417\ \ \ \ \ pdu.rnti\ \ \ =\ to\_value(rnti);}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01420\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_ab1b2849582947e72b851ef92ce391ae0}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_ab1b2849582947e72b851ef92ce391ae0} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!set\_csi\_part1\_parameters@{set\_csi\_part1\_parameters}}
\index{set\_csi\_part1\_parameters@{set\_csi\_part1\_parameters}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_csi\_part1\_parameters()}{set\_csi\_part1\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::set\+\_\+csi\+\_\+part1\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}}}]{detection,  }\item[{uint16\+\_\+t}]{expected\+\_\+bit\+\_\+length,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+CSI\+\_\+\+PART1\+\_\+\+OR\+\_\+\+PART2\+\_\+\+BITS $>$ \&}]{payload }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the CSI Part 1 PDU parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+4 in Table CSI Part 1 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01500\ \ \ \{}
\DoxyCodeLine{01501\ \ \ \ \ pdu.pdu\_bitmap.set(uci\_pusch\_pdu::CSI\_PART1\_BIT);}
\DoxyCodeLine{01502\ }
\DoxyCodeLine{01503\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part1;}
\DoxyCodeLine{01504\ \ \ \ \ csi.detection\_status\ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}};}
\DoxyCodeLine{01505\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01506\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01507\ }
\DoxyCodeLine{01508\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01509\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a36f6a874a35aaa7ba90d9f5721e841a9}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a36f6a874a35aaa7ba90d9f5721e841a9} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!set\_csi\_part2\_parameters@{set\_csi\_part2\_parameters}}
\index{set\_csi\_part2\_parameters@{set\_csi\_part2\_parameters}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_csi\_part2\_parameters()}{set\_csi\_part2\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::set\+\_\+csi\+\_\+part2\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}}}]{detection,  }\item[{uint16\+\_\+t}]{expected\+\_\+bit\+\_\+length,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+CSI\+\_\+\+PART1\+\_\+\+OR\+\_\+\+PART2\+\_\+\+BITS $>$ \&}]{payload }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the CSI Part 2 PDU parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+4 in Table CSI Part 2 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01517\ \ \ \{}
\DoxyCodeLine{01518\ \ \ \ \ pdu.pdu\_bitmap.set(uci\_pusch\_pdu::CSI\_PART2\_BIT);}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ \textcolor{keyword}{auto}\&\ csi\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.csi\_part2;}
\DoxyCodeLine{01521\ \ \ \ \ csi.detection\_status\ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}};}
\DoxyCodeLine{01522\ \ \ \ \ csi.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01523\ \ \ \ \ csi.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01524\ }
\DoxyCodeLine{01525\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01526\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a26696e91048d47de100b245b141ec759}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_a26696e91048d47de100b245b141ec759} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!set\_harq\_parameters@{set\_harq\_parameters}}
\index{set\_harq\_parameters@{set\_harq\_parameters}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_harq\_parameters()}{set\_harq\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::set\+\_\+harq\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aabad903407ca6128c3acaa0a8eb0fde8}{uci\+\_\+pusch\+\_\+or\+\_\+pucch\+\_\+f2\+\_\+3\+\_\+4\+\_\+detection\+\_\+status}}}]{detection,  }\item[{uint16\+\_\+t}]{expected\+\_\+bit\+\_\+length,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ uci\+\_\+constants\+::\+MAX\+\_\+\+NOF\+\_\+\+HARQ\+\_\+\+BITS $>$ \&}]{payload }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the HARQ PDU parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+4 in Table HARQ PDU for Format 2, Format 3 or Format 4 or for PUSCH. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01483\ \ \ \{}
\DoxyCodeLine{01484\ \ \ \ \ pdu.pdu\_bitmap.set(uci\_pusch\_pdu::HARQ\_BIT);}
\DoxyCodeLine{01485\ }
\DoxyCodeLine{01486\ \ \ \ \ \textcolor{keyword}{auto}\&\ harq\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.harq;}
\DoxyCodeLine{01487\ \ \ \ \ harq.detection\_status\ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection}};}
\DoxyCodeLine{01488\ \ \ \ \ harq.expected\_bit\_length\ =\ expected\_bit\_length;}
\DoxyCodeLine{01489\ \ \ \ \ harq.payload\ \ \ \ \ \ \ \ \ \ \ \ \ =\ payload;}
\DoxyCodeLine{01490\ }
\DoxyCodeLine{01491\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01492\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_af47a3c764e5068d523c8798ee4855977}\label{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder_af47a3c764e5068d523c8798ee4855977} 
\index{srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}!set\_metrics\_parameters@{set\_metrics\_parameters}}
\index{set\_metrics\_parameters@{set\_metrics\_parameters}!srsran::fapi::uci\_pusch\_pdu\_builder@{srsran::fapi::uci\_pusch\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_metrics\_parameters()}{set\_metrics\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pusch__pdu__builder}{uci\+\_\+pusch\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pusch\+\_\+pdu\+\_\+builder\+::set\+\_\+metrics\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{ul\+\_\+sinr\+\_\+metric,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{timing\+\_\+advance\+\_\+offset,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classint}{int}} $>$}]{timing\+\_\+advance\+\_\+offset\+\_\+ns,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{rssi,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{rsrp,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{rsrp\+\_\+use\+\_\+d\+Bm = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the UCI PUSCH PDU metrics parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+1 in Table UCI PUSCH PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01430\ \ \ \{}
\DoxyCodeLine{01431\ \ \ \ \ pdu.timing\_advance\_offset\ \ \ \ =\ (timing\_advance\_offset)\ ?\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(timing\_advance\_offset.value())}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<uint16\_t>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01433\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =\ (timing\_advance\_offset\_ns)\ ?\ \textcolor{keyword}{static\_cast<}int16\_t\textcolor{keyword}{>}(timing\_advance\_offset\_ns.value())}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<int16\_t>::\mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}}();}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \ \ \ \ \textcolor{comment}{//\ SINR.}}
\DoxyCodeLine{01437\ \ \ \ \ \textcolor{keywordtype}{int}\ sinr\ =}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ (ul\_sinr\_metric)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ul\_sinr\_metric.value()\ *\ 500.F)\ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<int16\_t>::\mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}}();}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \ \ \ \ srsran\_assert(sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01444\ }
\DoxyCodeLine{01445\ \ \ \ \ srsran\_assert(sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01449\ }
\DoxyCodeLine{01450\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast<}int16\_t\textcolor{keyword}{>}(sinr);}
\DoxyCodeLine{01451\ }
\DoxyCodeLine{01452\ \ \ \ \ \textcolor{comment}{//\ RSSI.}}
\DoxyCodeLine{01453\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}}\ =}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ (rssi)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((rssi.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01455\ }
\DoxyCodeLine{01456\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}}\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}},}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01460\ }
\DoxyCodeLine{01461\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}});}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \ \ \ \ \textcolor{comment}{//\ RSRP.}}
\DoxyCodeLine{01464\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((rsrp.value()\ +\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_use\_dBm}})\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<uint16\_t>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}},}
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01471\ }
\DoxyCodeLine{01472\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}});}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01474\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01475\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/fapi/message\+\_\+builders.\+h\end{DoxyCompactItemize}
