\doxysection{srsran\+::e2\+\_\+subscription\+\_\+manager\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1e2__subscription__manager__impl}{}\label{classsrsran_1_1e2__subscription__manager__impl}\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}


Inheritance diagram for srsran\+::e2\+\_\+subscription\+\_\+manager\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d77/classsrsran_1_1e2__subscription__manager__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::e2\+\_\+subscription\+\_\+manager\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d8/d31/classsrsran_1_1e2__subscription__manager__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_ae399d8cc7ba109dcd72759f4c286a33e}{e2\+\_\+subscription\+\_\+manager\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1e2sm__manager}{e2sm\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2sm\+\_\+mngr\+\_\+}})
\item 
\mbox{\hyperlink{structsrsran_1_1e2__subscribe__reponse__message}{e2\+\_\+subscribe\+\_\+reponse\+\_\+message}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_afe2f4db6d77185770397c65509892b23}{handle\+\_\+subscription\+\_\+setup}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classasn1_1_1elementary__procedure__option}{asn1\+::e2ap\+::ricsubscription\+\_\+request\+\_\+s}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handles the subscription request message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1e2__subscribe__delete__response__message}{e2\+\_\+subscribe\+\_\+delete\+\_\+response\+\_\+message}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_a8f3c2072e0b25b73c375f869b354c2f3}{handle\+\_\+subscription\+\_\+delete}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} asn1\+::e2ap\+::ricsubscription\+\_\+delete\+\_\+request\+\_\+s \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handles the subscription delete request message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_a9517c40c876b440b0eec1b68094740a5}{start\+\_\+subscription}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&ric\+\_\+request\+\_\+id, \mbox{\hyperlink{classsrsran_1_1e2__event__manager}{e2\+\_\+event\+\_\+manager}} \&ev\+\_\+mng, uint16\+\_\+t ran\+\_\+func\+\_\+id) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Starts the subscription procedure associated with the given ric instance id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_a098d7ffaa4152304bc3831a7448d7c2d}{stop\+\_\+subscription}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&ric\+\_\+request\+\_\+id, \mbox{\hyperlink{classsrsran_1_1e2__event__manager}{e2\+\_\+event\+\_\+manager}} \&ev\+\_\+mng, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} asn1\+::e2ap\+::ricsubscription\+\_\+delete\+\_\+request\+\_\+s \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Stops the subscription procedure associated with the given ric instance id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_aa0a89c5ab4f50b8002371edc3a0f3a87}{action\+\_\+supported}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__caction__to__be__setup__item__s}{asn1\+::e2ap\+::ri\+\_\+caction\+\_\+to\+\_\+be\+\_\+setup\+\_\+item\+\_\+s}} \&action, uint16\+\_\+t ran\+\_\+func\+\_\+id, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&ric\+\_\+request\+\_\+id)
\begin{DoxyCompactList}\small\item\em checks whether the given action is supported. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_aa1236116dd2827c739d35bff62b4f67c}{get\+\_\+subscription\+\_\+result}} (uint16\+\_\+t ran\+\_\+func\+\_\+id, \mbox{\hyperlink{structsrsran_1_1e2__subscribe__reponse__message}{e2\+\_\+subscribe\+\_\+reponse\+\_\+message}} \&outcome, \mbox{\hyperlink{structsrsran_1_1e2__subscription__t}{e2\+\_\+subscription\+\_\+t}} \&subscription, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classasn1_1_1bounded__array}{asn1\+::e2ap\+::ri\+\_\+cactions\+\_\+to\+\_\+be\+\_\+setup\+\_\+list\+\_\+l}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{actions}})
\begin{DoxyCompactList}\small\item\em Gets the subscription outcome based on the subscription. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_af26b805a356ebbdb50b7c0bd00827eee}{add\+\_\+e2sm\+\_\+service}} (std\+::string oid, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\+\_\+interface}} $>$ e2sm\+\_\+iface) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Adds an e2sm service to the list of services that can be used to unpack e2sm messages. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\+\_\+interface}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_a4113ac54c5f6940ce4c53c61aab2f87e}{get\+\_\+e2sm\+\_\+interface}} (std\+::string oid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets the e2sm service interface associated with the given oid. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_a24b9df475971bec134233df7f49d4df1}{add\+\_\+ran\+\_\+function\+\_\+oid}} (uint16\+\_\+t ran\+\_\+func\+\_\+id, std\+::string oid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Adds a supported ran function oid. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_ae399d8cc7ba109dcd72759f4c286a33e}\label{classsrsran_1_1e2__subscription__manager__impl_ae399d8cc7ba109dcd72759f4c286a33e} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!e2\_subscription\_manager\_impl@{e2\_subscription\_manager\_impl}}
\index{e2\_subscription\_manager\_impl@{e2\_subscription\_manager\_impl}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{e2\_subscription\_manager\_impl()}{e2\_subscription\_manager\_impl()}}
{\footnotesize\ttfamily e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::e2\+\_\+subscription\+\_\+manager\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\+\_\+message\+\_\+notifier}} \&}]{notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1e2sm__manager}{e2sm\+\_\+manager}} \&}]{e2sm\+\_\+mngr\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00032\ \ \ notif(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notif\_}}),\ e2sm\_mngr(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e2sm\_mngr\_}}),\ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}E2-\/SUBSCRIBER"{}}))}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_aa0a89c5ab4f50b8002371edc3a0f3a87}\label{classsrsran_1_1e2__subscription__manager__impl_aa0a89c5ab4f50b8002371edc3a0f3a87} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!action\_supported@{action\_supported}}
\index{action\_supported@{action\_supported}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{action\_supported()}{action\_supported()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::action\+\_\+supported (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__caction__to__be__setup__item__s}{asn1\+::e2ap\+::ri\+\_\+caction\+\_\+to\+\_\+be\+\_\+setup\+\_\+item\+\_\+s}} \&}]{action,  }\item[{uint16\+\_\+t}]{ran\+\_\+func\+\_\+id,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&}]{ric\+\_\+request\+\_\+id }\end{DoxyParamCaption})}



checks whether the given action is supported. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em action} & The action to check. \\
\hline
\mbox{\texttt{ in}}  & {\em ran\+\_\+func\+\_\+id} & The ran function id. \\
\hline
\mbox{\texttt{ in}}  & {\em ri\+\_\+crequest\+\_\+id\+\_\+s} & associated with the subscription. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the action is supported, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00131\ \{}
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\_interface}}*\ e2sm\ =\ e2sm\_mngr.\mbox{\hyperlink{classsrsran_1_1e2sm__manager_ab987a4635d5bf5c4fbf93067d280a13f}{get\_e2sm\_interface}}(ran\_func\_id);}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{if}\ (e2sm\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00134\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ get\ E2SM\ interface,\ RAN\ function\ \{\}\ not\ in\ allowed\ list"{}},\ ran\_func\_id);}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{if}\ (e2sm-\/>\mbox{\hyperlink{classsrsran_1_1e2sm__interface_a987a081b03e175d674027210549738bc}{action\_supported}}(action))\ \{}
\DoxyCodeLine{00138\ \ \ \ \ subscriptions[ric\_request\_id.ric\_requestor\_id].subscription\_info.action\_list.push\_back(}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \{action.ric\_action\_definition.\mbox{\hyperlink{classsrsran_1_1byte__buffer_aa79a5e270dbb5dd01b83c034853b9fb3}{deep\_copy}}(),\ action.ric\_action\_id,\ action.ric\_action\_type\});}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00141\ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ logger.error(\textcolor{stringliteral}{"{}Action\ not\ supported\ \{\}"{}},\ action.ric\_action\_id);}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00145\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_af26b805a356ebbdb50b7c0bd00827eee}\label{classsrsran_1_1e2__subscription__manager__impl_af26b805a356ebbdb50b7c0bd00827eee} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!add\_e2sm\_service@{add\_e2sm\_service}}
\index{add\_e2sm\_service@{add\_e2sm\_service}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{add\_e2sm\_service()}{add\_e2sm\_service()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::add\+\_\+e2sm\+\_\+service (\begin{DoxyParamCaption}\item[{std\+::string}]{oid,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\+\_\+interface}} $>$}]{e2sm\+\_\+iface }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds an e2sm service to the list of services that can be used to unpack e2sm messages. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em oid} & The oid of the e2sm service. \\
\hline
\mbox{\texttt{ in}}  & {\em e2sm\+\_\+packer} & The interface that will be used to unpack the e2sm messages for this service \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscriber__mgmt_a049b845762bf676f429e8c812ae682ad}{srsran\+::e2\+\_\+subscriber\+\_\+mgmt}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00169\ \{}
\DoxyCodeLine{00170\ \ \ e2sm\_iface\_list.emplace(oid,\ std::move(e2sm\_iface));}
\DoxyCodeLine{00171\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_a24b9df475971bec134233df7f49d4df1}\label{classsrsran_1_1e2__subscription__manager__impl_a24b9df475971bec134233df7f49d4df1} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!add\_ran\_function\_oid@{add\_ran\_function\_oid}}
\index{add\_ran\_function\_oid@{add\_ran\_function\_oid}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{add\_ran\_function\_oid()}{add\_ran\_function\_oid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::add\+\_\+ran\+\_\+function\+\_\+oid (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{ran\+\_\+func\+\_\+id,  }\item[{std\+::string}]{oid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds a supported ran function oid. 


\begin{DoxyParams}{Parameters}
{\em ran\+\_\+func\+\_\+id} & The ran function id. \\
\hline
{\em oid} & The oid of the e2sm service associated with the ran function. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscriber__mgmt}{srsran\+::e2\+\_\+subscriber\+\_\+mgmt}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184\ \{}
\DoxyCodeLine{00185\ \ \ \textcolor{keywordflow}{if}\ (e2sm\_mngr.\mbox{\hyperlink{classsrsran_1_1e2sm__manager_ab987a4635d5bf5c4fbf93067d280a13f}{get\_e2sm\_interface}}(oid)\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00186\ \ \ \ \ supported\_ran\_functions.emplace(ran\_func\_id,\ oid);}
\DoxyCodeLine{00187\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00188\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}OID\ not\ supported"{}});}
\DoxyCodeLine{00189\ \ \ \}}
\DoxyCodeLine{00190\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_a4113ac54c5f6940ce4c53c61aab2f87e}\label{classsrsran_1_1e2__subscription__manager__impl_a4113ac54c5f6940ce4c53c61aab2f87e} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!get\_e2sm\_interface@{get\_e2sm\_interface}}
\index{get\_e2sm\_interface@{get\_e2sm\_interface}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{get\_e2sm\_interface()}{get\_e2sm\_interface()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\+\_\+interface}} \texorpdfstring{$\ast$}{*} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::get\+\_\+e2sm\+\_\+interface (\begin{DoxyParamCaption}\item[{std\+::string}]{oid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Gets the e2sm service interface associated with the given oid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em oid} & The oid of the e2sm service. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The e2sm service interface associated with the given oid. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscriber__mgmt}{srsran\+::e2\+\_\+subscriber\+\_\+mgmt}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00174\ \{}
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{auto}\ it\ =\ e2sm\_iface\_list.find(oid);}
\DoxyCodeLine{00176\ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ e2sm\_iface\_list.end())\ \{}
\DoxyCodeLine{00177\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}OID\ not\ supported"{}});}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00179\ \ \ \}}
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{return}\ \&(*(it-\/>second));}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_aa1236116dd2827c739d35bff62b4f67c}\label{classsrsran_1_1e2__subscription__manager__impl_aa1236116dd2827c739d35bff62b4f67c} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!get\_subscription\_result@{get\_subscription\_result}}
\index{get\_subscription\_result@{get\_subscription\_result}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{get\_subscription\_result()}{get\_subscription\_result()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::get\+\_\+subscription\+\_\+result (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{ran\+\_\+func\+\_\+id,  }\item[{\mbox{\hyperlink{structsrsran_1_1e2__subscribe__reponse__message}{e2\+\_\+subscribe\+\_\+reponse\+\_\+message}} \&}]{outcome,  }\item[{\mbox{\hyperlink{structsrsran_1_1e2__subscription__t}{e2\+\_\+subscription\+\_\+t}} \&}]{subscription,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classasn1_1_1bounded__array}{asn1\+::e2ap\+::ri\+\_\+cactions\+\_\+to\+\_\+be\+\_\+setup\+\_\+list\+\_\+l}} \&}]{actions }\end{DoxyParamCaption})}



Gets the subscription outcome based on the subscription. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ran\+\_\+func\+\_\+id} & The ran function id. \\
\hline
\mbox{\texttt{ out}}  & {\em outcome} & The subscription response message. \\
\hline
\mbox{\texttt{ in}}  & {\em subscription} & The subscription to use. \\
\hline
\mbox{\texttt{ in}}  & {\em actions} & The actions that have been requested. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00151\ \{}
\DoxyCodeLine{00152\ \ \ outcome.success\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00153\ \ \ outcome.request\_id.ric\_requestor\_id\ =\ subscription.subscription\_info.request\_id.ric\_requestor\_id;}
\DoxyCodeLine{00154\ \ \ outcome.request\_id.ric\_instance\_id\ \ =\ subscription.subscription\_info.request\_id.ric\_instance\_id;}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0,\ e\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{actions}}.size();\ i\ !=\ e;\ ++i)\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keyword}{auto}\&\ action\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{actions}}[i].value().ri\_caction\_to\_be\_setup\_item();}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_aa0a89c5ab4f50b8002371edc3a0f3a87}{action\_supported}}(action,\ ran\_func\_id,\ outcome.request\_id))\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ outcome.success\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ outcome.admitted\_list.resize(outcome.admitted\_list.size()\ +\ 1);}
\DoxyCodeLine{00160\ \ \ \ \ \ \ outcome.admitted\_list.back().value().ri\_caction\_admitted\_item().ric\_action\_id\ =\ action.ric\_action\_id;}
\DoxyCodeLine{00161\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ outcome.not\_admitted\_list.resize(outcome.not\_admitted\_list.size()\ +\ 1);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ outcome.not\_admitted\_list.back().value().ri\_caction\_not\_admitted\_item().ric\_action\_id\ =\ action.ric\_action\_id;}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ \ \ \}}
\DoxyCodeLine{00166\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_a8f3c2072e0b25b73c375f869b354c2f3}\label{classsrsran_1_1e2__subscription__manager__impl_a8f3c2072e0b25b73c375f869b354c2f3} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!handle\_subscription\_delete@{handle\_subscription\_delete}}
\index{handle\_subscription\_delete@{handle\_subscription\_delete}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_subscription\_delete()}{handle\_subscription\_delete()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1e2__subscribe__delete__response__message}{e2\+\_\+subscribe\+\_\+delete\+\_\+response\+\_\+message}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::handle\+\_\+subscription\+\_\+delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} asn1\+::e2ap\+::ricsubscription\+\_\+delete\+\_\+request\+\_\+s \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handles the subscription delete request message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The subscription delete request message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The subscription delete response message. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscription__proc_aedf3f0ab9e0f2798d51319683dacd4c4}{srsran\+::e2\+\_\+subscription\+\_\+proc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{structsrsran_1_1e2__subscribe__delete__response__message}{e2\_subscribe\_delete\_response\_message}}\ outcome\ =\ \{\};}
\DoxyCodeLine{00082\ \ \ outcome.request\_id.ric\_requestor\_id\ \ \ \ \ \ \ \ \ \ =\ msg-\/>ri\_crequest\_id.value.ric\_requestor\_id;}
\DoxyCodeLine{00083\ \ \ outcome.request\_id.ric\_instance\_id\ \ \ \ \ \ \ \ \ \ \ =\ msg-\/>ri\_crequest\_id.value.ric\_instance\_id;}
\DoxyCodeLine{00084\ \ \ outcome.response-\/>ra\_nfunction\_id.value\ \ \ \ \ \ =\ msg-\/>ra\_nfunction\_id.value;}
\DoxyCodeLine{00085\ \ \ outcome.response-\/>ri\_crequest\_id.value\ \ \ \ \ \ \ =\ msg-\/>ri\_crequest\_id.value;}
\DoxyCodeLine{00086\ \ \ outcome.success\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{if}\ (subscriptions.count(outcome.request\_id.ric\_requestor\_id))\ \{}
\DoxyCodeLine{00088\ \ \ \ \ outcome.success\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00089\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00090\ \ \ \ \ outcome.failure-\/>cause-\/>set\_misc();}
\DoxyCodeLine{00091\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}RIC\ instance\ ID\ not\ found"{}});}
\DoxyCodeLine{00092\ \ \ \}}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ outcome;}
\DoxyCodeLine{00094\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_afe2f4db6d77185770397c65509892b23}\label{classsrsran_1_1e2__subscription__manager__impl_afe2f4db6d77185770397c65509892b23} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!handle\_subscription\_setup@{handle\_subscription\_setup}}
\index{handle\_subscription\_setup@{handle\_subscription\_setup}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_subscription\_setup()}{handle\_subscription\_setup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1e2__subscribe__reponse__message}{e2\+\_\+subscribe\+\_\+reponse\+\_\+message}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::handle\+\_\+subscription\+\_\+setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classasn1_1_1elementary__procedure__option}{asn1\+::e2ap\+::ricsubscription\+\_\+request\+\_\+s}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handles the subscription request message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The subscription request message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The subscription response message. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscription__proc_a4ee43dff48a0fc2f6eb46ad230ccc73c}{srsran\+::e2\+\_\+subscription\+\_\+proc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{structsrsran_1_1e2__subscription__t}{e2\_subscription\_t}}\ \ \ \ \ \ \ \ \ \ \ \ subscription\ =\ \{\};}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{structsrsran_1_1e2__subscribe__reponse__message}{e2\_subscribe\_reponse\_message}}\ outcome;}
\DoxyCodeLine{00041\ \ \ subscription.subscription\_info.request\_id.ric\_requestor\_id\ =\ msg-\/>ri\_crequest\_id.value.ric\_requestor\_id;}
\DoxyCodeLine{00042\ \ \ subscription.subscription\_info.ran\_function\_id\ \ \ \ \ \ \ \ \ \ \ \ \ =\ msg-\/>ra\_nfunction\_id-\/>value;}
\DoxyCodeLine{00043\ \ \ subscription.subscription\_info.request\_id.ric\_instance\_id\ \ =\ msg-\/>ri\_crequest\_id.value.ric\_instance\_id;}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{structsrsran_1_1e2sm__event__trigger__definition}{e2sm\_event\_trigger\_definition}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{event\_trigger\_def}};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{keywordflow}{if}\ (supported\_ran\_functions.count(msg-\/>ra\_nfunction\_id.value))\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\_interface}}*\ e2sm\ =\ e2sm\_mngr.\mbox{\hyperlink{classsrsran_1_1e2sm__manager_ab987a4635d5bf5c4fbf93067d280a13f}{get\_e2sm\_interface}}(msg-\/>ra\_nfunction\_id.value);}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (e2sm\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ get\ E2SM\ interface,\ RAN\ function\ \{\}\ not\ in\ allowed\ list"{}},\ msg-\/>ra\_nfunction\_id.value);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ outcome;}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{event\_trigger\_def}}\ =\ e2sm-\/>\mbox{\hyperlink{classsrsran_1_1e2sm__interface_a3164f3759bb13493148f95e9b55bdcf1}{get\_e2sm\_packer}}().\mbox{\hyperlink{classsrsran_1_1e2sm__handler_a47028ffa6e80530ae59e87d2d2b0ddf2}{handle\_packed\_event\_trigger\_definition}}(}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ msg-\/>ricsubscription\_details-\/>ric\_event\_trigger\_definition);}
\DoxyCodeLine{00054\ \ \ \ \ subscription.subscription\_info.report\_period\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{event\_trigger\_def}}.report\_period;}
\DoxyCodeLine{00055\ \ \ \ \ outcome.request\_id.ric\_requestor\_id\ \ \ \ \ \ \ \ \ \ =\ subscription.subscription\_info.request\_id.ric\_requestor\_id;}
\DoxyCodeLine{00056\ \ \ \ \ outcome.request\_id.ric\_instance\_id\ \ \ \ \ \ \ \ \ \ \ =\ subscription.subscription\_info.request\_id.ric\_instance\_id;}
\DoxyCodeLine{00057\ \ \ \ \ outcome.ran\_function\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ subscription.subscription\_info.ran\_function\_id;}
\DoxyCodeLine{00058\ \ \ \ \ subscriptions.insert(std::pair<int,\ e2\_subscription\_t>(subscription.subscription\_info.request\_id.ric\_requestor\_id,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::move(subscription)));}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1e2__subscription__manager__impl_aa1236116dd2827c739d35bff62b4f67c}{get\_subscription\_result}}(msg-\/>ra\_nfunction\_id.value,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outcome,}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subscriptions[outcome.request\_id.ric\_requestor\_id],}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg-\/>ricsubscription\_details-\/>ric\_action\_to\_be\_setup\_list);}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{if}\ (!outcome.success)\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ setup\ subscription"{}});}
\DoxyCodeLine{00066\ \ \ \ \ \ \ subscriptions.erase(outcome.request\_id.ric\_requestor\_id);}
\DoxyCodeLine{00067\ \ \ \ \ \}}
\DoxyCodeLine{00068\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00069\ \ \ \ \ outcome.request\_id.ric\_requestor\_id\ =\ subscription.subscription\_info.request\_id.ric\_requestor\_id;}
\DoxyCodeLine{00070\ \ \ \ \ outcome.request\_id.ric\_instance\_id\ \ =\ subscription.subscription\_info.request\_id.ric\_instance\_id;}
\DoxyCodeLine{00071\ \ \ \ \ outcome.success\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00072\ \ \ \ \ outcome.cause.set\_protocol();}
\DoxyCodeLine{00073\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}RAN\ function\ ID=\{\}\ not\ supported"{}},\ msg-\/>ra\_nfunction\_id.value);}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{return}\ outcome;}
\DoxyCodeLine{00076\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_a9517c40c876b440b0eec1b68094740a5}\label{classsrsran_1_1e2__subscription__manager__impl_a9517c40c876b440b0eec1b68094740a5} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!start\_subscription@{start\_subscription}}
\index{start\_subscription@{start\_subscription}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{start\_subscription()}{start\_subscription()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::start\+\_\+subscription (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&}]{ric\+\_\+request\+\_\+id,  }\item[{\mbox{\hyperlink{classsrsran_1_1e2__event__manager}{e2\+\_\+event\+\_\+manager}} \&}]{ev\+\_\+mng,  }\item[{uint16\+\_\+t}]{ran\+\_\+func\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Starts the subscription procedure associated with the given ric instance id. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ric\+\_\+request\+\_\+id} & The ric request id. \\
\hline
\mbox{\texttt{ in}}  & {\em ev\+\_\+mng} & The event manager that will be used to start the subscription procedure. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscription__proc_a2318dfac89cff2466e522fb7e1a2183d}{srsran\+::e2\+\_\+subscription\+\_\+proc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00099\ \{}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{classsrsran_1_1e2sm__interface}{e2sm\_interface}}*\ e2sm\ =\ e2sm\_mngr.\mbox{\hyperlink{classsrsran_1_1e2sm__manager_ab987a4635d5bf5c4fbf93067d280a13f}{get\_e2sm\_interface}}(ran\_func\_id);}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ action\ :\ subscriptions[ric\_request\_id.ric\_requestor\_id].subscription\_info.action\_list)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{auto}\&\ action\_def\ =\ action.action\_definition;}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{if}\ (action.ric\_action\_type\ ==\ asn1::e2ap::ri\_caction\_type\_e::report)\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ action.report\_service\ =\ e2sm-\/>\mbox{\hyperlink{classsrsran_1_1e2sm__interface_a8b20807526b01db66aa25b83b2c1d1d9}{get\_e2sm\_report\_service}}(action\_def);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (action.report\_service\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ get\ E2SM\ report\ service\ for\ RAN\ function\ ID\ \{\}"{}},\ ran\_func\_id);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ subscriptions[ric\_request\_id.ric\_requestor\_id].indication\_task\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<e2\_indication\_procedure>}}(}
\DoxyCodeLine{00113\ \ \ \ \ \ \ notif,\ ev\_mng,\ subscriptions[ric\_request\_id.ric\_requestor\_id].subscription\_info,\ logger);}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1e2__subscription__manager__impl_a098d7ffaa4152304bc3831a7448d7c2d}\label{classsrsran_1_1e2__subscription__manager__impl_a098d7ffaa4152304bc3831a7448d7c2d} 
\index{srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}!stop\_subscription@{stop\_subscription}}
\index{stop\_subscription@{stop\_subscription}!srsran::e2\_subscription\_manager\_impl@{srsran::e2\_subscription\_manager\_impl}}
\doxysubsubsection{\texorpdfstring{stop\_subscription()}{stop\_subscription()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e2\+\_\+subscription\+\_\+manager\+\_\+impl\+::stop\+\_\+subscription (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structasn1_1_1e2ap_1_1ri__crequest__id__s}{asn1\+::e2ap\+::ri\+\_\+crequest\+\_\+id\+\_\+s}} \&}]{ric\+\_\+request\+\_\+id,  }\item[{\mbox{\hyperlink{classsrsran_1_1e2__event__manager}{e2\+\_\+event\+\_\+manager}} \&}]{ev\+\_\+mng,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} asn1\+::e2ap\+::ricsubscription\+\_\+delete\+\_\+request\+\_\+s \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Stops the subscription procedure associated with the given ric instance id. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ric\+\_\+request\+\_\+id} & The ric request id. \\
\hline
\mbox{\texttt{ in}}  & {\em ev\+\_\+mng} & The event manager that will be used to end the subscription procedure. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1e2__subscription__proc_a4c0c9167d6ce8ac7f98126bd17c8b088}{srsran\+::e2\+\_\+subscription\+\_\+proc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \{}
\DoxyCodeLine{00120\ \ \ \textcolor{keywordflow}{if}\ (subscriptions.count(ric\_request\_id.ric\_requestor\_id))\ \{}
\DoxyCodeLine{00121\ \ \ \ \ ev\_mng.sub\_del\_reqs[ric\_request\_id.ric\_requestor\_id]-\/>set(msg);}
\DoxyCodeLine{00122\ \ \ \ \ subscriptions[ric\_request\_id.ric\_requestor\_id].indication\_task.await\_ready();}
\DoxyCodeLine{00123\ \ \ \ \ subscriptions.erase(ric\_request\_id.ric\_requestor\_id);}
\DoxyCodeLine{00124\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00125\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}RIC\ instance\ ID\ not\ found"{}});}
\DoxyCodeLine{00126\ \ \ \}}
\DoxyCodeLine{00127\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/e2/common/e2\+\_\+subscription\+\_\+manager\+\_\+impl.\+h\item 
lib/e2/common/e2\+\_\+subscription\+\_\+manager\+\_\+impl.\+cpp\end{DoxyCompactItemize}
