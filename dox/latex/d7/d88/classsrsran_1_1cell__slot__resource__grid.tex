\doxysection{srsran\+::cell\+\_\+slot\+\_\+resource\+\_\+grid Class Reference}
\hypertarget{classsrsran_1_1cell__slot__resource__grid}{}\label{classsrsran_1_1cell__slot__resource__grid}\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}


Manages the allocation of RBs in the resource grid of a given service cell for a given slot. This class manages multiple carriers of different numerologies associated to the same cell.  




{\ttfamily \#include $<$resource\+\_\+grid.\+h$>$}



Collaboration diagram for srsran\+::cell\+\_\+slot\+\_\+resource\+\_\+grid\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{d5/dc9/classsrsran_1_1cell__slot__resource__grid__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a30bbebfe5ab9294131c39cc918cd6a44}{cell\+\_\+slot\+\_\+resource\+\_\+grid}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scs__specific__carrier}{scs\+\_\+specific\+\_\+carrier}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\+\_\+carriers}})
\item 
\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}, \mbox{\hyperlink{namespacesrsran_a93952a4d9109a2160fc7b5390df79b0a}{NOF\+\_\+\+NUMEROLOGIES}} $>$ \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a680aec6279612e720b624fefed5f263d}{active\+\_\+scs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks active subcarrier spacings. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_ada627c98ec8d97eb9f01df8993b56810}{clear}} ()
\begin{DoxyCompactList}\small\item\em Reset the resource grid to empty. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_abf35ef94e4fda289536095561faded14}{fill}} (\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a5d25f56d0c742281f2ab91f3337633a0}{fill}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\+\_\+symbols}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ crbs)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_aec6c47c9786e03e716338e9ab0d0cef8}{collides}} (\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a266d8dbac70a0ddd083530606b4a9ff3}{collides}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\+\_\+symbols}}, \mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}} crbs) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_ab097312eb6d78252462fd30d0c19b359}{collides}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\+\_\+symbols}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ crbs) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a819fec1d2b695c433077ea924e7ebcd8}{crb\+\_\+bitmap}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a5e2dacf79f13264dde4fe5c02c85ab25}{used\+\_\+crbs}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1bwp__configuration}{bwp\+\_\+configuration}} \&bwp\+\_\+cfg, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} symbols) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Calculates a bitmap where each bit set to one represents a CRB that is occupied or unavailable. A CRB is considered occupied if it is outside of the provided BWP CRB boundaries or if it is already allocated in at least one OFDM symbol of the provided OFDM symbol range. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a819fec1d2b695c433077ea924e7ebcd8}{crb\+\_\+bitmap}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_ad1e324237175ccf1b7bc18e494af6360}{used\+\_\+crbs}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs, \mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crb\+\_\+lims}}, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} symbols) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Calculates a bitmap where each bit set to one represents a CRB that is occupied or unavailable. A CRB is considered occupied if it is outside of the provided BWP CRB boundaries or if it is already allocated in at least one OFDM symbol of the provided OFDM symbol range. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a2dafbcb106a387c3def81723641fe1ec}{all\+\_\+set}} (\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_a757f9203d7b2b97bcffe653901c49b82}{all\+\_\+set}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs, \mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\+\_\+symbols}}, \mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}} crbs) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1carrier__subslot__resource__grid}{carrier\+\_\+subslot\+\_\+resource\+\_\+grid}} \& \mbox{\hyperlink{classsrsran_1_1cell__slot__resource__grid_af1b0b3f47197cbdaafea7c20097663c4}{get\+\_\+carrier\+\_\+res\+\_\+grid}} (\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}} scs) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a0e85ef7ee803419906808a33803018e2}\label{classsrsran_1_1cell__slot__resource__grid_a0e85ef7ee803419906808a33803018e2} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{struct}} {\bfseries cell\+\_\+resource\+\_\+allocator}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the allocation of RBs in the resource grid of a given service cell for a given slot. This class manages multiple carriers of different numerologies associated to the same cell. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a30bbebfe5ab9294131c39cc918cd6a44}\label{classsrsran_1_1cell__slot__resource__grid_a30bbebfe5ab9294131c39cc918cd6a44} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!cell\_slot\_resource\_grid@{cell\_slot\_resource\_grid}}
\index{cell\_slot\_resource\_grid@{cell\_slot\_resource\_grid}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{cell\_slot\_resource\_grid()}{cell\_slot\_resource\_grid()}}
{\footnotesize\ttfamily cell\+\_\+slot\+\_\+resource\+\_\+grid\+::cell\+\_\+slot\+\_\+resource\+\_\+grid (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scs__specific__carrier}{scs\+\_\+specific\+\_\+carrier}} $>$}]{scs\+\_\+carriers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \{}
\DoxyCodeLine{00139\ \ \ std::fill(numerology\_to\_grid\_idx.begin(),\ numerology\_to\_grid\_idx.end(),\ std::numeric\_limits<unsigned>::max());}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ carrier\_grids.reserve(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\_carriers}}.size());}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\_carrier}}\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\_carriers}})\ \{}
\DoxyCodeLine{00143\ \ \ \ \ carrier\_grids.emplace\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\_carrier}});}
\DoxyCodeLine{00144\ \ \ \ \ numerology\_to\_grid\_idx[\mbox{\hyperlink{namespacesrsran_a226e52de355262a1ad4e998b4cedefd7}{to\_numerology\_value}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scs\_carrier}}.scs)]\ =\ carrier\_grids.size()\ -\/\ 1;}
\DoxyCodeLine{00145\ \ \ \}}
\DoxyCodeLine{00146\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a680aec6279612e720b624fefed5f263d}\label{classsrsran_1_1cell__slot__resource__grid_a680aec6279612e720b624fefed5f263d} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!active\_scs@{active\_scs}}
\index{active\_scs@{active\_scs}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{active\_scs()}{active\_scs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}, \mbox{\hyperlink{namespacesrsran_a93952a4d9109a2160fc7b5390df79b0a}{NOF\+\_\+\+NUMEROLOGIES}} $>$ cell\+\_\+slot\+\_\+resource\+\_\+grid\+::active\+\_\+scs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Checks active subcarrier spacings. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00149\ \{}
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{classsrsran_1_1static__vector}{static\_vector<subcarrier\_spacing,\ NOF\_NUMEROLOGIES>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}};}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ u\ =\ 0;\ u\ !=\ numerology\_to\_grid\_idx.size();\ ++u)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{if}\ (numerology\_to\_grid\_idx[u]\ <\ std::numeric\_limits<unsigned>::max())\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}}.push\_back(\mbox{\hyperlink{namespacesrsran_a2e4c9b3ea403617006756dfa03632b0f}{to\_subcarrier\_spacing}}(u));}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \}}
\DoxyCodeLine{00156\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ret}};}
\DoxyCodeLine{00157\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a2dafbcb106a387c3def81723641fe1ec}\label{classsrsran_1_1cell__slot__resource__grid_a2dafbcb106a387c3def81723641fe1ec} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!all\_set@{all\_set}}
\index{all\_set@{all\_set}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{all\_set()}{all\_set()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::all\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}}}]{grant }\end{DoxyParamCaption}) const}

Checks whether all the provided symbol x RB range in the cell resource grid are set. 
\begin{DoxyParams}{Parameters}
{\em grant} & contains the symbol x RB range to be tested. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if all symbols x RBs of grant are currently set in the resource grid. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00214\ \{}
\DoxyCodeLine{00215\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ carrier\ =\ get\_carrier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.scs);}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.all\_set(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.symbols,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.crbs);}
\DoxyCodeLine{00217\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a757f9203d7b2b97bcffe653901c49b82}\label{classsrsran_1_1cell__slot__resource__grid_a757f9203d7b2b97bcffe653901c49b82} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!all\_set@{all\_set}}
\index{all\_set@{all\_set}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{all\_set()}{all\_set()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::all\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{ofdm\+\_\+symbols,  }\item[{\mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}}}]{crbs }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00220\ \{}
\DoxyCodeLine{00221\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ carrier\ =\ get\_carrier(scs);}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.all\_set(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\_symbols}},\ crbs);}
\DoxyCodeLine{00223\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_ada627c98ec8d97eb9f01df8993b56810}\label{classsrsran_1_1cell__slot__resource__grid_ada627c98ec8d97eb9f01df8993b56810} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!clear@{clear}}
\index{clear@{clear}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Reset the resource grid to empty. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \{}
\DoxyCodeLine{00161\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ carrier\ :\ carrier\_grids)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ carrier.subslot\_rbs.clear();}
\DoxyCodeLine{00163\ \ \ \}}
\DoxyCodeLine{00164\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_aec6c47c9786e03e716338e9ab0d0cef8}\label{classsrsran_1_1cell__slot__resource__grid_aec6c47c9786e03e716338e9ab0d0cef8} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!collides@{collides}}
\index{collides@{collides}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{collides()}{collides()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::collides (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}}}]{grant }\end{DoxyParamCaption}) const}

Checks whether the provided symbol x RB range collides with any other allocation in the cell resource grid. 
\begin{DoxyParams}{Parameters}
{\em grant} & contains the symbol x RB range whose available we want to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if at least one symbol x RB of grant is currently occupied in the resource grid. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00181\ \{}
\DoxyCodeLine{00182\ \ \ \textcolor{keyword}{const}\ carrier\_resource\_grid\&\ carrier\ =\ get\_carrier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.scs);}
\DoxyCodeLine{00183\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.collides(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.symbols,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.crbs);}
\DoxyCodeLine{00184\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a266d8dbac70a0ddd083530606b4a9ff3}\label{classsrsran_1_1cell__slot__resource__grid_a266d8dbac70a0ddd083530606b4a9ff3} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!collides@{collides}}
\index{collides@{collides}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{collides()}{collides()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::collides (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{ofdm\+\_\+symbols,  }\item[{\mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}}}]{crbs }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00187\ \{}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{const}\ carrier\_resource\_grid\&\ carrier\ =\ get\_carrier(scs);}
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.collides(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\_symbols}},\ crbs);}
\DoxyCodeLine{00190\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_ab097312eb6d78252462fd30d0c19b359}\label{classsrsran_1_1cell__slot__resource__grid_ab097312eb6d78252462fd30d0c19b359} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!collides@{collides}}
\index{collides@{collides}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{collides()}{collides()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::collides (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{ofdm\+\_\+symbols,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$}]{crbs }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00195\ \{}
\DoxyCodeLine{00196\ \ \ \textcolor{keyword}{const}\ carrier\_resource\_grid\&\ carrier\ =\ get\_carrier(scs);}
\DoxyCodeLine{00197\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.collides(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\_symbols}},\ crbs);}
\DoxyCodeLine{00198\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_abf35ef94e4fda289536095561faded14}\label{classsrsran_1_1cell__slot__resource__grid_abf35ef94e4fda289536095561faded14} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!fill@{fill}}
\index{fill@{fill}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::fill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1grant__info}{grant\+\_\+info}}}]{grant }\end{DoxyParamCaption})}

Allocates the symbol x RB range in the cell resource grid. 
\begin{DoxyParams}{Parameters}
{\em prbs} & PRB interval of the allocation. PRB=0 corresponds to the first PRB of the BWP. \\
\hline
{\em symbols} & OFDM symbol interval of the allocation. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00167\ \{}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{auto}\&\ carrier\ =\ get\_carrier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.scs);}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \textcolor{comment}{//\ Fill\ RB\ grid.}}
\DoxyCodeLine{00171\ \ \ carrier.subslot\_rbs.fill(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.symbols,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant}}.crbs);}
\DoxyCodeLine{00172\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a5d25f56d0c742281f2ab91f3337633a0}\label{classsrsran_1_1cell__slot__resource__grid_a5d25f56d0c742281f2ab91f3337633a0} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!fill@{fill}}
\index{fill@{fill}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::fill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{ofdm\+\_\+symbols,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$}]{crbs }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00175\ \{}
\DoxyCodeLine{00176\ \ \ \textcolor{keyword}{auto}\&\ carrier\ =\ get\_carrier(scs);}
\DoxyCodeLine{00177\ \ \ carrier.subslot\_rbs.fill(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofdm\_symbols}},\ crbs);}
\DoxyCodeLine{00178\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_af1b0b3f47197cbdaafea7c20097663c4}\label{classsrsran_1_1cell__slot__resource__grid_af1b0b3f47197cbdaafea7c20097663c4} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!get\_carrier\_res\_grid@{get\_carrier\_res\_grid}}
\index{get\_carrier\_res\_grid@{get\_carrier\_res\_grid}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{get\_carrier\_res\_grid()}{get\_carrier\_res\_grid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1carrier__subslot__resource__grid}{carrier\+\_\+subslot\+\_\+resource\+\_\+grid}} \& srsran\+::cell\+\_\+slot\+\_\+resource\+\_\+grid\+::get\+\_\+carrier\+\_\+res\+\_\+grid (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00192\ \ \ \{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_carrier(scs).subslot\_rbs;}
\DoxyCodeLine{00194\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_a5e2dacf79f13264dde4fe5c02c85ab25}\label{classsrsran_1_1cell__slot__resource__grid_a5e2dacf79f13264dde4fe5c02c85ab25} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!used\_crbs@{used\_crbs}}
\index{used\_crbs@{used\_crbs}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{used\_crbs()}{used\_crbs()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a819fec1d2b695c433077ea924e7ebcd8}{crb\+\_\+bitmap}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::used\+\_\+crbs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1bwp__configuration}{bwp\+\_\+configuration}} \&}]{bwp\+\_\+cfg,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{symbols }\end{DoxyParamCaption}) const}



Calculates a bitmap where each bit set to one represents a CRB that is occupied or unavailable. A CRB is considered occupied if it is outside of the provided BWP CRB boundaries or if it is already allocated in at least one OFDM symbol of the provided OFDM symbol range. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bwp\+\_\+cfg} & Bandwidth configuration for which the allocation is to be made. \\
\hline
\mbox{\texttt{ in}}  & {\em symbols} & Range of OFDM symbols, where the search for available CRBs is carrier out. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a CRB bitmap with bits set to one for unavailable CRBs. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00201\ \{}
\DoxyCodeLine{00202\ \ \ \textcolor{keyword}{const}\ carrier\_resource\_grid\&\ carrier\ =\ get\_carrier(bwp\_cfg.scs);}
\DoxyCodeLine{00203\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.used\_crbs(bwp\_cfg.\mbox{\hyperlink{structsrsran_1_1bwp__configuration_ad7e6a6961052ba5b05ecb93aa0b9510f}{crbs}},\ symbols);}
\DoxyCodeLine{00204\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__slot__resource__grid_ad1e324237175ccf1b7bc18e494af6360}\label{classsrsran_1_1cell__slot__resource__grid_ad1e324237175ccf1b7bc18e494af6360} 
\index{srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}!used\_crbs@{used\_crbs}}
\index{used\_crbs@{used\_crbs}!srsran::cell\_slot\_resource\_grid@{srsran::cell\_slot\_resource\_grid}}
\doxysubsubsection{\texorpdfstring{used\_crbs()}{used\_crbs()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a819fec1d2b695c433077ea924e7ebcd8}{crb\+\_\+bitmap}} cell\+\_\+slot\+\_\+resource\+\_\+grid\+::used\+\_\+crbs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aca64228c7486db8ce1f0a3118e8cedc8}{subcarrier\+\_\+spacing}}}]{scs,  }\item[{\mbox{\hyperlink{structsrsran_1_1crb__interval}{crb\+\_\+interval}}}]{crb\+\_\+lims,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofdm__symbol__range}{ofdm\+\_\+symbol\+\_\+range}}}]{symbols }\end{DoxyParamCaption}) const}



Calculates a bitmap where each bit set to one represents a CRB that is occupied or unavailable. A CRB is considered occupied if it is outside of the provided BWP CRB boundaries or if it is already allocated in at least one OFDM symbol of the provided OFDM symbol range. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em scs} & Subcarrier spacing of interest. \\
\hline
\mbox{\texttt{ in}}  & {\em crb\+\_\+lims} & CRB limits used for the allocation. \\
\hline
\mbox{\texttt{ in}}  & {\em symbols} & Range of OFDM symbols, where the search for available CRBs is carrier out. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a CRB bitmap with bits set to one for unavailable CRBs. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00208\ \{}
\DoxyCodeLine{00209\ \ \ \textcolor{keyword}{const}\ carrier\_resource\_grid\&\ carrier\ =\ get\_carrier(scs);}
\DoxyCodeLine{00210\ \ \ \textcolor{keywordflow}{return}\ carrier.subslot\_rbs.used\_crbs(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crb\_lims}},\ symbols);}
\DoxyCodeLine{00211\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/cell/resource\+\_\+grid.\+h\item 
lib/scheduler/cell/resource\+\_\+grid.\+cpp\end{DoxyCompactItemize}
