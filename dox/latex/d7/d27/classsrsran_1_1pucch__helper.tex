\doxysection{srsran\+::pucch\+\_\+helper Class Reference}
\hypertarget{classsrsran_1_1pucch__helper}{}\label{classsrsran_1_1pucch__helper}\index{srsran::pucch\_helper@{srsran::pucch\_helper}}


Collaboration diagram for srsran\+::pucch\+\_\+helper\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=237pt]{dc/d95/classsrsran_1_1pucch__helper__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pucch__helper_a930d11b1bb136c6fb047e201c306378c}{pucch\+\_\+helper}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prg\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pucch__helper_a51dc117f6b3da4d0357a166cf4b45fbf}{compute\+\_\+group\+\_\+sequence}} (\mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964c}{pucch\+\_\+group\+\_\+hopping}} group\+\_\+hopping, \mbox{\hyperlink{classunsigned}{unsigned}} n\+\_\+id, \mbox{\hyperlink{classunsigned}{unsigned}} \&u, \mbox{\hyperlink{classunsigned}{unsigned}} \&v)
\begin{DoxyCompactList}\small\item\em Computes the NR-\/\+PUCCH group sequence (TS 38.\+211 clause 6.\+3.\+2.\+2.\+1 Group and sequence hopping). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1pucch__helper_a819cbddf949def43d67782c3d185be6f}{get\+\_\+alpha\+\_\+index}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \&\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\+\_\+prefix}} \&cp, \mbox{\hyperlink{classunsigned}{unsigned}} n\+\_\+id, \mbox{\hyperlink{classunsigned}{unsigned}} symbol, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{m0}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{m\+\_\+cs}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Computes the NR alpha index (1-\/NRE) (TS 38.\+211 clause 6.\+3.\+2.\+2.\+2 Cyclic shift hopping) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pucch__helper_a930d11b1bb136c6fb047e201c306378c}\label{classsrsran_1_1pucch__helper_a930d11b1bb136c6fb047e201c306378c} 
\index{srsran::pucch\_helper@{srsran::pucch\_helper}!pucch\_helper@{pucch\_helper}}
\index{pucch\_helper@{pucch\_helper}!srsran::pucch\_helper@{srsran::pucch\_helper}}
\doxysubsubsection{\texorpdfstring{pucch\_helper()}{pucch\_helper()}}
{\footnotesize\ttfamily srsran\+::pucch\+\_\+helper\+::pucch\+\_\+helper (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$}]{prg\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ prg(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prg\_}}))}
\DoxyCodeLine{00044\ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ srsran\_assert(prg,\ \textcolor{stringliteral}{"{}Invalid\ PRG."{}});}
\DoxyCodeLine{00046\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pucch__helper_a51dc117f6b3da4d0357a166cf4b45fbf}\label{classsrsran_1_1pucch__helper_a51dc117f6b3da4d0357a166cf4b45fbf} 
\index{srsran::pucch\_helper@{srsran::pucch\_helper}!compute\_group\_sequence@{compute\_group\_sequence}}
\index{compute\_group\_sequence@{compute\_group\_sequence}!srsran::pucch\_helper@{srsran::pucch\_helper}}
\doxysubsubsection{\texorpdfstring{compute\_group\_sequence()}{compute\_group\_sequence()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pucch\+\_\+helper\+::compute\+\_\+group\+\_\+sequence (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964c}{pucch\+\_\+group\+\_\+hopping}}}]{group\+\_\+hopping,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{n\+\_\+id,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}} \&}]{u,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}} \&}]{v }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Computes the NR-\/\+PUCCH group sequence (TS 38.\+211 clause 6.\+3.\+2.\+2.\+1 Group and sequence hopping). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f\_gh}}\ =\ 0;}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f\_ss}}\ =\ 0;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{switch}\ (group\_hopping)\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964ca9fc49374420f4310fb89e88ea2689da5}{pucch\_group\_hopping::NEITHER}}:}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f\_ss}}\ =\ n\_id\ \%\ \mbox{\hyperlink{classsrsran_1_1low__papr__sequence__collection_a625ba303acd297e74d04fbcd10c4db54}{low\_papr\_sequence\_collection::NOF\_GROUPS}};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964cab332708e4304e13c9b424e7465254954}{pucch\_group\_hopping::ENABLE}}:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a0309080bda896071da85153e30580790}{srsran\_terminate}}(\textcolor{stringliteral}{"{}Group\ hopping\ is\ not\ implemented"{}});}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964cafc93ea58f6d27ffed2b6518ffecf3e4e}{pucch\_group\_hopping::DISABLE}}:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a0309080bda896071da85153e30580790}{srsran\_terminate}}(\textcolor{stringliteral}{"{}Hopping\ is\ not\ implemented"{}});}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ u\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f\_gh}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f\_ss}})\ \%\ \mbox{\hyperlink{classsrsran_1_1low__papr__sequence__collection_a625ba303acd297e74d04fbcd10c4db54}{low\_papr\_sequence\_collection::NOF\_GROUPS}};}
\DoxyCodeLine{00067\ \ \ \ \ v\ =\ 0;}
\DoxyCodeLine{00068\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__helper_a819cbddf949def43d67782c3d185be6f}\label{classsrsran_1_1pucch__helper_a819cbddf949def43d67782c3d185be6f} 
\index{srsran::pucch\_helper@{srsran::pucch\_helper}!get\_alpha\_index@{get\_alpha\_index}}
\index{get\_alpha\_index@{get\_alpha\_index}!srsran::pucch\_helper@{srsran::pucch\_helper}}
\doxysubsubsection{\texorpdfstring{get\_alpha\_index()}{get\_alpha\_index()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::pucch\+\_\+helper\+::get\+\_\+alpha\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \&}]{slot,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cyclic__prefix}{cyclic\+\_\+prefix}} \&}]{cp,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{n\+\_\+id,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{m0,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{m\+\_\+cs }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Computes the NR alpha index (1-\/NRE) (TS 38.\+211 clause 6.\+3.\+2.\+2.\+2 Cyclic shift hopping) 


\begin{DoxyParams}{Parameters}
{\em slot\mbox{[}in\mbox{]}} & Current slot \\
\hline
{\em cp\mbox{[}in\mbox{]}} & Cyclic prefix type \\
\hline
{\em n\+\_\+id\mbox{[}in\mbox{]}} & Higher layer parameter hopping\+ID if configured, physical cell id otherwise \\
\hline
{\em symbol\mbox{[}in\mbox{]}} & OFDM symbol index in the slot \\
\hline
{\em m0\mbox{[}in\mbox{]}} & Initial cyclic shift \\
\hline
{\em m\+\_\+cs\mbox{[}in\mbox{]}} & Cyclic shift \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
NR alpha index 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ Initialize\ pseudo-\/random\ sequence\ with\ the\ seed\ set\ to\ nid}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cinit}}\ =\ n\_id;}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ Pseudo-\/random\ sequence\ length\ for\ max\ numerology\ (i.e.\ 4)}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_seq\_length}}\ \ =\ 8U\ *\ MAX\_NSYMB\_PER\_SLOT\ *\ \mbox{\hyperlink{namespacesrsran_afe120c5fa59fc13e75fa47b6161f3ad3}{NOF\_SUBFRAMES\_PER\_FRAME}}\ *\ (1U\ <<\ 4U);}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ sequence\_length\ =\ 8U\ *\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(cp)\ *\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.nof\_slots\_per\_frame();}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ zero\ array}}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static\_bit\_buffer<max\_seq\_length>}}\ cs(sequence\_length);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ prg-\/>init(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cinit}});}
\DoxyCodeLine{00097\ \ \ \ \ prg-\/>generate(cs);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Slot\ number}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\_slot}}\ =\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.slot\_index();}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Create\ n\_cs\ parameter}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{base\_idx}}\ =\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(cp)\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\_slot}}\ +\ symbol;}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\_cs}}\ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a02763b7d33ebb4e0c39b4a9730b6687f}{reverse\_byte}}(cs.get\_byte(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{base\_idx}}));}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alpha\_idx}}\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{m0}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{m\_cs}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\_cs}})\ \%\ NRE;}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alpha\_idx}};}
\DoxyCodeLine{00108\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/signal\+\_\+processors/pucch/pucch\+\_\+helper.\+h\end{DoxyCompactItemize}
