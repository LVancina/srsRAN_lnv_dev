\doxysection{srsran\+::olla\+\_\+algorithm Class Reference}
\hypertarget{classsrsran_1_1olla__algorithm}{}\label{classsrsran_1_1olla__algorithm}\index{srsran::olla\_algorithm@{srsran::olla\_algorithm}}


Outer-\/layer Link Adaptation (OLLA) algorithm, which modifies SNR thresholds used in the selection of MCS to achieve a specified target BLER.  




{\ttfamily \#include $<$outer\+\_\+loop\+\_\+link\+\_\+adaptation.\+h$>$}



Collaboration diagram for srsran\+::olla\+\_\+algorithm\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{dc/d33/classsrsran_1_1olla__algorithm__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1olla__algorithm_a0dffbd56e949ab691cf0d6275efac3e6}{olla\+\_\+algorithm}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{target\+\_\+bler\+\_\+}}, \mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\+\_\+inc\+\_\+step\+\_\+db}}, \mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\+\_\+snr\+\_\+offset\+\_\+db}})
\begin{DoxyCompactList}\small\item\em Creats an OLLA algorithm instance. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1olla__algorithm_abfd7f7e11de46d30e285bf0ff567640e}{update}} (\mbox{\hyperlink{classbool}{bool}} ack, \mbox{\hyperlink{namespacesrsran_a367cc2af01bc27587547d88877227aee}{sch\+\_\+mcs\+\_\+index}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{used\+\_\+mcs}}, \mbox{\hyperlink{classsrsran_1_1interval}{interval}}$<$ \mbox{\hyperlink{namespacesrsran_a367cc2af01bc27587547d88877227aee}{sch\+\_\+mcs\+\_\+index}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mcs\+\_\+boundaries}})
\begin{DoxyCompactList}\small\item\em Update SNR offset with ACK/\+CRC feedback. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1olla__algorithm_a6f20b8c6e5f0e7de9d73616056eaa56e}{offset\+\_\+db}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Offset to apply to SNR estimate. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Outer-\/layer Link Adaptation (OLLA) algorithm, which modifies SNR thresholds used in the selection of MCS to achieve a specified target BLER. 

This technique was first proposed by A Sampath, P Sarath Kumar, JM Holtzman, in IEEE Vehicular Technology Conference, vol. 2. On setting reverse link target sir in a cdma system, (1997). 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1olla__algorithm_a0dffbd56e949ab691cf0d6275efac3e6}\label{classsrsran_1_1olla__algorithm_a0dffbd56e949ab691cf0d6275efac3e6} 
\index{srsran::olla\_algorithm@{srsran::olla\_algorithm}!olla\_algorithm@{olla\_algorithm}}
\index{olla\_algorithm@{olla\_algorithm}!srsran::olla\_algorithm@{srsran::olla\_algorithm}}
\doxysubsubsection{\texorpdfstring{olla\_algorithm()}{olla\_algorithm()}}
{\footnotesize\ttfamily srsran\+::olla\+\_\+algorithm\+::olla\+\_\+algorithm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{target\+\_\+bler\+\_\+,  }\item[{\mbox{\hyperlink{classfloat}{float}}}]{snr\+\_\+inc\+\_\+step\+\_\+db,  }\item[{\mbox{\hyperlink{classfloat}{float}}}]{max\+\_\+snr\+\_\+offset\+\_\+db }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creats an OLLA algorithm instance. 


\begin{DoxyParams}{Parameters}
{\em target\+\_\+bler\+\_\+} & Target BLER to achieve. Values\+: \mbox{[}0, 0.\+5). \\
\hline
{\em snr\+\_\+inc\+\_\+step\+\_\+db} & Constant increment for the SNR offset, in decibels (dB). \\
\hline
{\em max\+\_\+snr\+\_\+offset\+\_\+db} & Maximum SNR offset amplitude, in dB. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00046\ \ \ \ \ target\_bler(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{target\_bler\_}}),}
\DoxyCodeLine{00047\ \ \ \ \ delta\_down(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\_inc\_step\_db}}),}
\DoxyCodeLine{00048\ \ \ \ \ delta\_up((1\ -\/\ target\_bler)\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\_inc\_step\_db}}\ /\ target\_bler),}
\DoxyCodeLine{00049\ \ \ \ \ max\_snr\_offset(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_snr\_offset\_db}})}
\DoxyCodeLine{00050\ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ srsran\_assert(target\_bler\ >\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ target\_bler\ <\ 0.5,\ \textcolor{stringliteral}{"{}Invalid\ target\ BLER"{}});}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//\ See\ Francisco\ Blanquez-\/Casado,\ Gerardo\ Gomez,\ Maria\ del\ Carmen\ Aguayo-\/Torres\ and\ Jose\ Tomas\ Entrambasaguas,}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ "{}eOLLA:\ an\ enhanced\ outer\ loop\ link\ adaptation\ for\ cellular\ networks"{},\ EURASIP\ Journal\ on\ Wireless}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ Communications\ and\ Networking,\ 2016.}}
\DoxyCodeLine{00055\ \ \ \ \ srsran\_assert(delta\_down\ <\ 2\ *\ std::exp(1)\ *\ target\_bler\ /\ 1.03,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Convergence\ guarantees\ of\ the\ OLLA\ algorithm\ have\ not\ been\ met"{}});}
\DoxyCodeLine{00057\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_snr\_offset\_db}}\ >\ 0.0f,\ \textcolor{stringliteral}{"{}Invalid\ maximum\ SNR\ offset"{}});}
\DoxyCodeLine{00058\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1olla__algorithm_a6f20b8c6e5f0e7de9d73616056eaa56e}\label{classsrsran_1_1olla__algorithm_a6f20b8c6e5f0e7de9d73616056eaa56e} 
\index{srsran::olla\_algorithm@{srsran::olla\_algorithm}!offset\_db@{offset\_db}}
\index{offset\_db@{offset\_db}!srsran::olla\_algorithm@{srsran::olla\_algorithm}}
\doxysubsubsection{\texorpdfstring{offset\_db()}{offset\_db()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::olla\+\_\+algorithm\+::offset\+\_\+db (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Offset to apply to SNR estimate. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{\ \textcolor{keywordflow}{return}\ current\_offset;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1olla__algorithm_abfd7f7e11de46d30e285bf0ff567640e}\label{classsrsran_1_1olla__algorithm_abfd7f7e11de46d30e285bf0ff567640e} 
\index{srsran::olla\_algorithm@{srsran::olla\_algorithm}!update@{update}}
\index{update@{update}!srsran::olla\_algorithm@{srsran::olla\_algorithm}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::olla\+\_\+algorithm\+::update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbool}{bool}}}]{ack,  }\item[{\mbox{\hyperlink{namespacesrsran_a367cc2af01bc27587547d88877227aee}{sch\+\_\+mcs\+\_\+index}}}]{used\+\_\+mcs,  }\item[{\mbox{\hyperlink{classsrsran_1_1interval}{interval}}$<$ \mbox{\hyperlink{namespacesrsran_a367cc2af01bc27587547d88877227aee}{sch\+\_\+mcs\+\_\+index}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$}]{mcs\+\_\+boundaries }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Update SNR offset with ACK/\+CRC feedback. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00062\ \ \ \{}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{comment}{//\ The\ OLLA\ algorithm\ does\ not\ account\ for\ the\ saturation\ points\ of\ the\ MCS.\ For\ instance,\ if\ we\ applied\ the\ OLLA}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ formula\ when\ MCS=28,\ and\ average\ BLER=0,\ the\ SNR\ offset\ would\ increase\ without\ bounds.\ As\ a\ workaround,\ we}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ forbid\ increases\ in\ the\ SNR\ offset\ for\ MCS=maxMCS,\ and\ decreases\ in\ the\ SNR\ offset\ when\ MCS=minMCS.}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eff\_delta\_down}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{used\_mcs}}\ >=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mcs\_boundaries}}.stop()\ ?\ 0\ :\ delta\_down;}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eff\_delta\_up}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{used\_mcs}}\ <=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mcs\_boundaries}}.start()\ ?\ 0\ :\ delta\_up;}
\DoxyCodeLine{00068\ \ \ \ \ current\_offset\ +=\ ack\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eff\_delta\_down}}\ :\ -\/\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eff\_delta\_up}};}
\DoxyCodeLine{00069\ \ \ \ \ current\_offset\ =\ std::max(std::min(current\_offset,\ max\_snr\_offset),\ -\/max\_snr\_offset);}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{return}\ current\_offset;}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/support/outer\+\_\+loop\+\_\+link\+\_\+adaptation.\+h\end{DoxyCompactItemize}
