\doxysection{timers.\+h}
\hypertarget{timers_8h_source}{}\label{timers_8h_source}\index{include/srsran/support/timers.h@{include/srsran/support/timers.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/intrusive\_list.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/unique\_function.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/variant.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/executors/task\_executor.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/srsran\_assert.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{chrono}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{deque}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{mutex}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{comment}{///\ Type\ used\ to\ represent\ a\ unique\ timer\ identifier.}}
\DoxyCodeLine{00037\ \textcolor{keyword}{enum}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ :\ \textcolor{keywordtype}{unsigned}\ \{\ invalid\ =\ std::numeric\_limits<\textcolor{keywordtype}{unsigned}>::max()\ \};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{comment}{///\ Unit\ used\ to\ represent\ a\ time\ duration\ in\ terms\ of\ timer\_manager\ ticks.}}
\DoxyCodeLine{00040\ \textcolor{keyword}{using}\ timer\_duration\ =\ std::chrono::milliseconds;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{///\ \(\backslash\)brief\ This\ class\ implements\ the\ service\ associated\ with\ the\ management\ of\ the\ timers\ of\ the\ application,\ including}}
\DoxyCodeLine{00045\ \textcolor{comment}{///\ the\ allocation,\ destruction,\ starting/halting\ and\ timeout\ triggering\ of\ the\ registered\ timers.\ The\ user}}
\DoxyCodeLine{00046\ \textcolor{comment}{///\ can\ check\ and\ control\ the\ state\ of\ an\ individual\ timer\ via\ the\ respective\ \(\backslash\)c\ unique\_timer\ handle\ object.}}
\DoxyCodeLine{00047\ \textcolor{comment}{///}}
\DoxyCodeLine{00048\ \textcolor{comment}{///\ The\ \(\backslash\)c\ timer\_manager\ and\ \(\backslash\)c\ unique\_timer\ classes\ follow\ a\ publisher/subscriber\ model.\ The\ \(\backslash\)c\ timer\_manager,}}
\DoxyCodeLine{00049\ \textcolor{comment}{///\ the\ publisher,\ receives\ periodic\ ticks\ from\ a\ clock\ source\ (e.g.\ RF\ front-\/end\ or\ system\ clock)\ that\ advance\ its}}
\DoxyCodeLine{00050\ \textcolor{comment}{///\ internal\ clock.\ It\ also\ contains\ an\ internal\ list\ of\ subscribed\ \(\backslash\)c\ unique\_timers.\ Once\ enough\ time\ has\ passed\ and}}
\DoxyCodeLine{00051\ \textcolor{comment}{///\ a\ running\ timer\ time-\/outs,\ the\ respective\ timer\ gets\ notified\ via\ a\ callback.\ The\ user\ can\ control\ the\ timer}}
\DoxyCodeLine{00052\ \textcolor{comment}{///\ starting\ time,\ duration\ until\ timeout\ and\ timeout\ callback\ function\ definition\ via\ the\ \(\backslash\)c\ unique\_timer\ interface.}}
\DoxyCodeLine{00053\ \textcolor{comment}{///}}
\DoxyCodeLine{00054\ \textcolor{comment}{///\ The\ implementation\ assumes\ that\ the\ "{}tick()"{}\ method\ is\ always\ called\ from\ the\ same\ thread\ and\ that\ an\ unique\_timer}}
\DoxyCodeLine{00055\ \textcolor{comment}{///\ object\ is\ not\ accessed\ concurrently\ by\ different\ threads.\ However,\ separate\ unique\_timers\ can\ be\ safely\ used\ from}}
\DoxyCodeLine{00056\ \textcolor{comment}{///\ separate\ threads.\ An\ unique\_timer\ object\ and\ the\ timer\_manager\ communicate\ with\ one\ another\ via\ thread-\/safe\ queues.}}
\DoxyCodeLine{00057\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}}
\DoxyCodeLine{00058\ \{}
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Unambiguous\ identifier\ of\ the\ last\ command\ sent\ by\ a\ unique\_timer\ to\ the\ timer\_manager.}}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{using}\ cmd\_id\_t\ =\ uint32\_t;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Constant\ used\ to\ represent\ invalid\ timer\ durations.}}
\DoxyCodeLine{00063\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ timer\_duration\ INVALID\_DURATION\ =\ \mbox{\hyperlink{classsrsran_1_1timer__manager}{std}}::\mbox{\hyperlink{classsrsran_1_1timer__manager}{numeric\_limits}}<\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_duration}}>::\mbox{\hyperlink{classsrsran_1_1timer__manager}{max}}();}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Possible\ states\ for\ a\ timer.}}
\DoxyCodeLine{00066\ \ \ \textcolor{keyword}{enum}\ \textcolor{keyword}{class}\ state\_t\ \{\ stopped,\ running,\ expired\ \};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{///\ Command\ sent\ by\ the\ unique\_timer\ (front-\/end)\ to\ the\ timer\ manager\ (back-\/end).}}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{struct}\ cmd\_t\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{enum}\ action\_t\ \{\ start,\ stop,\ destroy\ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{///\ Unique\ identity\ of\ the\ timer.}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ id;}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{///\ Identifier\ associated\ with\ this\ particular\ command.}}
\DoxyCodeLine{00076\ \ \ \ \ cmd\_id\_t\ cmd\_id;}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{///\ Action\ Request\ type\ sent\ by\ the\ unique\_timer.}}
\DoxyCodeLine{00079\ \ \ \ \ action\_t\ action;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{///\ Timer\ duration\ used,\ in\ case\ the\ action\ type\ is\ "{}start"{}.}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ duration;}
\DoxyCodeLine{00083\ \ \ \};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{///\ Data\ relative\ to\ a\ timer\ state\ that\ is\ safe\ to\ access\ from\ the\ front-\/end\ side\ (the\ unique\_timer).}}
\DoxyCodeLine{00086\ \ \ \textcolor{keyword}{struct}\ timer\_frontend\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{///\ Reference\ to\ timer\ manager\ class.}}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}\&\ parent;}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{///\ Timer\ identifier.\ This\ identifier\ should\ remain\ constant\ throughout\ the\ timer\ lifetime.}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ id;}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{///\ Task\ executor\ used\ to\ dispatch\ expiry\ callback.\ When\ set\ to\ nullptr,\ the\ timer\ is\ not\ allocated.}}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}*\ exec\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Identifier\ of\ the\ last\ command\ sent\ from\ the\ front-\/end\ to\ the\ back-\/end\ side\ of\ the\ timer\_manager.\ We\ use}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{///\ this\ value\ to\ track\ whether\ a\ timer\ run\ has\ been\ overwritten\ and\ there\ is\ no\ need\ to\ trigger\ an\ timeout.}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{///\ Atomic\ is\ used\ because\ we\ let\ the\ timer\_manager\ back-\/end\ fetch\ this\ value\ to\ get\ a\ coarse\ estimation\ of\ the}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{///\ last\ cmd\_id\ at\ the\ front-\/end\ side,\ and\ avoid\ an\ unnecessary\ timeout\ callback\ trigger.}}
\DoxyCodeLine{00097\ \ \ \ \ std::atomic<cmd\_id\_t>\ cmd\_id\{0\};}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{///\ The\ current\ state\ of\ timer\ (e.g.\ running/expired/notify\_stop)\ from\ the\ perspective\ of\ the\ timer\ front-\/end.}}
\DoxyCodeLine{00099\ \ \ \ \ state\_t\ state\ =\ state\_t::stopped;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{///\ Duration\ of\ each\ timer\ run.}}
\DoxyCodeLine{00101\ \ \ \ \ timer\_duration\ duration\ =\ INVALID\_DURATION;}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{///\ Callback\ triggered\ when\ timer\ expires.\ Callback\ updates\ are\ protected\ by\ backend\ lock.}}
\DoxyCodeLine{00103\ \ \ \ \ unique\_function<\textcolor{keywordtype}{void}(timer\_id\_t)>\ timeout\_callback;}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ timer\_frontend(\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}\&\ parent\_,\ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ id\_);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{void}\ destroy();}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ set(timer\_duration\ duration);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{void}\ set(timer\_duration\ duration,\ unique\_function<\textcolor{keywordtype}{void}(timer\_id\_t)>\ callback);}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{void}\ run();}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{void}\ stop();}
\DoxyCodeLine{00116\ \ \ \};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Timer\ context\ used\ solely\ by\ the\ back-\/end\ side\ of\ the\ timer\ manager.}}
\DoxyCodeLine{00119\ \ \ \textcolor{keyword}{struct}\ timer\_backend\_context\ \{}
\DoxyCodeLine{00120\ \ \ \ \ cmd\_id\_t\ cmd\_id\ \ =\ 0;}
\DoxyCodeLine{00121\ \ \ \ \ state\_t\ \ state\ \ \ =\ state\_t::stopped;}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ timeout\ =\ 0;}
\DoxyCodeLine{00123\ \ \ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Object\ holding\ both\ the\ front-\/end\ and\ back-\/end\ contexts\ of\ the\ timers.}}
\DoxyCodeLine{00126\ \ \ \textcolor{keyword}{struct}\ timer\_handle\ :\ \textcolor{keyword}{public}\ intrusive\_double\_linked\_list\_element<>,\ \textcolor{keyword}{public}\ intrusive\_forward\_list\_element<>\ \{}
\DoxyCodeLine{00127\ \ \ \ \ std::unique\_ptr<timer\_frontend>\ frontend;}
\DoxyCodeLine{00128\ \ \ \ \ timer\_backend\_context\ \ \ \ \ \ \ \ \ \ \ backend;}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ timer\_handle()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00131\ \ \ \};}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00134\ \ \ \textcolor{comment}{///\ Constructs\ a\ timer\ manager.}}
\DoxyCodeLine{00135\ \ \ \textcolor{comment}{///\ \(\backslash\)param\ capacity\ Number\ of\ timers\ to\ pre-\/reserve\ and\ speed\ up\ timer\ construction.}}
\DoxyCodeLine{00136\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classsrsran_1_1timer__manager_af2eac84d2d214332c0b5395add1cff39}{timer\_manager}}(size\_t\ pre\_reserve\_capacity\ =\ 64);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{///\ Advances\ one\ tick\ and\ triggers\ any\ running\ timer\ that\ just\ expired.}}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1timer__manager_a4e379023ca809b15c063cf96ce696d34}{tick}}();}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{comment}{///\ Creates\ a\ new\ instance\ of\ a\ unique\ timer.}}
\DoxyCodeLine{00142\ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\ \mbox{\hyperlink{classsrsran_1_1timer__manager_ae7969b02b1e0306e319b93505212f36c}{create\_unique\_timer}}(\mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}\&\ exec);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \textcolor{comment}{///\ Returns\ the\ number\ of\ timers\ handled\ by\ this\ instance.}}
\DoxyCodeLine{00145\ \ \ \mbox{\hyperlink{classsrsran_1_1timer__manager_aa7dbcfc746e6c26caa57bba65dff28a8}{size\_t}}\ \mbox{\hyperlink{classsrsran_1_1timer__manager_aa7dbcfc746e6c26caa57bba65dff28a8}{nof\_timers}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \textcolor{comment}{///\ Returns\ the\ number\ of\ running\ timers\ handled\ by\ this\ instance.}}
\DoxyCodeLine{00148\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classsrsran_1_1timer__manager_a6f308d387326950ddf2531f77fe560a8}{nof\_running\_timers}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00151\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Create\ a\ new\ front-\/end\ context\ to\ be\ used\ by\ a\ newly\ created\ unique\_timer.}}
\DoxyCodeLine{00154\ \ \ timer\_frontend\&\ create\_frontend\_timer(\mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}\&\ exec);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \textcolor{comment}{///\ Push\ a\ new\ timer\ command\ (start,\ stop,\ destroy)\ from\ the\ front-\/end\ execution\ context\ to\ the\ backend.}}
\DoxyCodeLine{00157\ \ \ \textcolor{keywordtype}{void}\ push\_timer\_command(cmd\_t\ cmd);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Create\ a\ new\ timer\_handle\ object\ in\ the\ timer\ manager\ back-\/end\ side\ and\ associate\ it\ with\ the\ provided}}
\DoxyCodeLine{00160\ \ \ \textcolor{comment}{///\ front-\/end\ timer.}}
\DoxyCodeLine{00161\ \ \ \textcolor{keywordtype}{void}\ create\_timer\_handle(std::unique\_ptr<timer\_frontend>\ timer);}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{///\ Start\ the\ ticking\ of\ a\ timer\ with\ a\ given\ duration.}}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordtype}{void}\ start\_timer\_backend(timer\_handle\&\ timer,\ \textcolor{keywordtype}{unsigned}\ duration);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Stop\ a\ timer\ from\ ticking.\ If\ \(\backslash\)c\ expiry\_reason\ is\ set\ to\ true,\ the\ timer\ callback\ is\ dispatched\ to\ the}}
\DoxyCodeLine{00167\ \ \ \textcolor{comment}{///\ frontend\ execution\ context.}}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordtype}{bool}\ try\_stop\_timer\_backend(timer\_handle\&\ timer,\ \textcolor{keywordtype}{bool}\ expiry\_reason);}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordtype}{void}\ stop\_timer\_backend(timer\_handle\&\ timer,\ \textcolor{keywordtype}{bool}\ expiry\_reason);}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{///\ Called\ to\ destroy\ a\ timer\ context\ and\ return\ it\ back\ to\ the\ free\ timer\ pool.}}
\DoxyCodeLine{00172\ \ \ \textcolor{keywordtype}{void}\ destroy\_timer\_backend(timer\_handle\&\ timer);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{///\ Dispatch\ timeout\ handling\ to\ the\ front-\/end\ side.}}
\DoxyCodeLine{00175\ \ \ \textcolor{keywordtype}{bool}\ trigger\_timeout\_handling(timer\_handle\&\ timer);}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{///\ Handle\ timers\ for\ which\ the\ timeout\ handling\ dispatch\ failed\ and\ was\ postponed.}}
\DoxyCodeLine{00178\ \ \ \textcolor{keywordtype}{void}\ handle\_postponed\_timeouts();}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ srslog::basic\_logger\&\ logger;}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{///\ Counter\ of\ the\ number\ of\ ticks\ elapsed.\ This\ counter\ gets\ incremented\ on\ every\ \(\backslash\)c\ tick\ call.}}
\DoxyCodeLine{00183\ \ \ \textcolor{keywordtype}{unsigned}\ cur\_time\ =\ 0;}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{///\ Number\ of\ created\ timer\_handle\ objects\ that\ are\ currently\ running.}}
\DoxyCodeLine{00186\ \ \ size\_t\ nof\_timers\_running\ =\ 0;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ List\ of\ timer\_handle\ objects\ currently\ being\ managed\ by\ the\ timer\_manager\ class.\ The\ index\ of\ the\ element}}
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{///\ in\ this\ container\ matches\ the\ id\ of\ the\ corresponding\ unique\_timer\ object.}}
\DoxyCodeLine{00190\ \ \ \textcolor{comment}{///\ This\ container\ will\ only\ grow\ in\ size.\ "{}Deleted"{}\ unique\_timers\ in\ the\ front-\/end\ side\ are\ just\ tagged\ as\ empty}}
\DoxyCodeLine{00191\ \ \ \textcolor{comment}{///\ in\ their\ respective\ timer\_handle,\ in\ the\ back-\/end\ side.\ This\ allows\ already\ created\ timer\_handle\ objects\ to\ be}}
\DoxyCodeLine{00192\ \ \ \textcolor{comment}{///\ reused\ for\ the\ creation\ of\ new\ unique\_timers\ in\ the\ front-\/end.\ The\ fact\ that\ the\ timer\_handle\ is\ not\ deleted}}
\DoxyCodeLine{00193\ \ \ \textcolor{comment}{///\ also\ avoids\ potential\ dangling\ pointer\ when\ the\ timer\ expiry\ callback\ is\ dispatched\ to\ the\ front-\/end\ execution}}
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{///\ context.}}
\DoxyCodeLine{00195\ \ \ \textcolor{comment}{///\ Note:\ we\ use\ a\ deque\ to\ maintain\ reference\ validity.}}
\DoxyCodeLine{00196\ \ \ std::deque<timer\_handle>\ timer\_list;}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \textcolor{comment}{///\ List\ of\ timer\_handle\ objects\ in\ timer\_list\ that\ are\ currently\ not\ allocated.}}
\DoxyCodeLine{00199\ \ \ \textcolor{keyword}{mutable}\ std::mutex\ \ \ \ \ \ \ \ \ \ \ free\_list\_mutex;}
\DoxyCodeLine{00200\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\_timer\_id\ =\ 0;}
\DoxyCodeLine{00201\ \ \ std::vector<timer\_frontend*>\ free\_list;}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Timer\ wheel,\ which\ is\ circularly\ indexed\ via\ a\ running\ timer\ timeout.\ Collisions\ are\ resolved\ via\ an}}
\DoxyCodeLine{00204\ \ \ \textcolor{comment}{///\ intrusive\ linked\ list\ stored\ in\ the\ timer\_handle\ objects.}}
\DoxyCodeLine{00205\ \ \ \textcolor{comment}{///\ For\ a\ number\ of\ running\ timers\ N,\ and\ uniform\ distribution\ of\ timeout\ values,\ the\ tick()\ complexity}}
\DoxyCodeLine{00206\ \ \ \textcolor{comment}{///\ should\ be\ O(N/WHEEL\_SIZE).\ Thus,\ the\ performance\ should\ improve\ with\ a\ larger\ WHEEL\_SIZE,\ at\ the\ expense\ of\ more}}
\DoxyCodeLine{00207\ \ \ \textcolor{comment}{///\ used\ memory.}}
\DoxyCodeLine{00208\ \ \ std::vector<intrusive\_double\_linked\_list<timer\_handle>>\ time\_wheel;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ This\ is\ a\ list\ of\ timers\ that\ already\ timeouted,\ but\ for\ some\ unforeseen\ reason,}}
\DoxyCodeLine{00211\ \ \ \textcolor{comment}{///\ it\ was\ not\ possible\ to\ dispatch\ their\ respective\ timeout\ handling\ to\ the\ timer\ front-\/end.}}
\DoxyCodeLine{00212\ \ \ \textcolor{comment}{///\ The\ timeout\ handling\ will\ be\ re-\/triggered\ in\ the\ next\ slot.}}
\DoxyCodeLine{00213\ \ \ std::deque<std::pair<timer\_id\_t,\ cmd\_id\_t>>\ failed\_to\_trigger\_timers;}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{comment}{///\ Commands\ sent\ by\ the\ timer\ front-\/end\ to\ the\ backend.}}
\DoxyCodeLine{00216\ \ \ std::mutex\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cmd\_mutex;}
\DoxyCodeLine{00217\ \ \ std::vector<variant<cmd\_t,\ std::unique\_ptr<timer\_frontend>>>\ pending\_cmds,\ cmds\_to\_process;}
\DoxyCodeLine{00218\ \};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{comment}{///\ \(\backslash\)brief\ This\ class\ represents\ a\ timer\ which\ invokes\ a\ user-\/provided\ callback\ upon\ timer\ expiration.\ To\ setup\ a}}
\DoxyCodeLine{00221\ \textcolor{comment}{///\ timer\ session\ it\ needs\ to\ connect\ to\ a\ \(\backslash\)c\ timer\_manager\ class.}}
\DoxyCodeLine{00222\ \textcolor{comment}{///\ This\ class\ is\ not\ thread-\/safe.}}
\DoxyCodeLine{00223\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}}
\DoxyCodeLine{00224\ \{}
\DoxyCodeLine{00225\ \ \ \textcolor{keyword}{using}\ state\_t\ =\ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}::state\_t;}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00228\ \ \ unique\_timer()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00229\ \ \ unique\_timer(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&)\ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ unique\_timer(\mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&\&\ other)\ \textcolor{keyword}{noexcept}\ :\ handle(std::exchange(other.handle,\ \textcolor{keywordtype}{nullptr}))\ \{\}}
\DoxyCodeLine{00233\ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&\ operator=(\mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\&\&\ other)\ \textcolor{keyword}{noexcept}}
\DoxyCodeLine{00234\ \ \ \{}
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{reset}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{)}};}
\DoxyCodeLine{00236\ \ \ \ \ handle\ =\ std::exchange(other.handle,\ \textcolor{keywordtype}{nullptr});}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00238\ \ \ \}}
\DoxyCodeLine{00239\ \ \ \string~unique\_timer()\ \{\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{reset}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{)}};\ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \textcolor{comment}{///\ Destroy\ current\ unique\_timer\ context,\ cancelling\ any\ pending\ event.}}
\DoxyCodeLine{00242\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a98054a87f53f29fe0b5ec05a1714ed01}{reset}}()}
\DoxyCodeLine{00243\ \ \ \{}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{)}})\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \ \ handle-\/>destroy();}
\DoxyCodeLine{00246\ \ \ \ \ \ \ handle\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00247\ \ \ \ \ \}}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \textcolor{comment}{///\ Returns\ true\ if\ the\ timer\ is\ valid,\ otherwise\ returns\ false\ if\ already\ released.}}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ handle\ !=\ \textcolor{keywordtype}{nullptr};\ \}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \textcolor{comment}{///\ Returns\ the\ unique\ timer\ identifier.}}
\DoxyCodeLine{00254\ \ \ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a2232d20922016eae4754e4966017b318}{id}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{)}}\ ?\ handle-\/>id\ :\ \mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}::invalid;\ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \textcolor{comment}{///\ Returns\ true\ if\ the\ timer\ duration\ has\ been\ set,\ otherwise\ returns\ false.}}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_aa2eaabc8cfb2ff1ca0e4263847c4cc67}{is\_set}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ is\_valid()\ \&\&\ handle-\/>duration\ !=\ timer\_manager::INVALID\_DURATION;\ \}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \textcolor{comment}{///\ Returns\ true\ if\ the\ timer\ is\ currently\ running,\ otherwise\ returns\ false.}}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{is\_running}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{)}}\ \&\&\ handle-\/>state\ ==\ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}::state\_t::running;\ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{comment}{///\ Returns\ true\ if\ the\ timer\ has\ expired,\ otherwise\ returns\ false.}}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a616a78a8128f49a808daee1450c06f7c}{has\_expired}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{)}}\ \&\&\ handle-\/>state\ ==\ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}::state\_t::expired;\ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \textcolor{comment}{///\ Returns\ the\ configured\ duration\ for\ this\ timer\ measured\ in\ ticks.}}
\DoxyCodeLine{00266\ \ \ timer\_duration\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a97ad01e4b7d8588d25596489c362b15b}{duration}}()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ is\_valid()\ ?\ handle-\/>duration\ :\ timer\_manager::INVALID\_DURATION;\ \}}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \textcolor{comment}{///\ Configures\ the\ duration\ of\ the\ timer\ calling\ the\ provided\ callback\ upon\ timer\ expiration.}}
\DoxyCodeLine{00269\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(timer\_duration\ duration,\ unique\_function<\textcolor{keywordtype}{void}(timer\_id\_t)>\ callback)}
\DoxyCodeLine{00270\ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(is\_valid(),\ \textcolor{stringliteral}{"{}Trying\ to\ setup\ empty\ timer\ pimpl"{}});}
\DoxyCodeLine{00272\ \ \ \ \ handle-\/>set(duration,\ std::move(callback));}
\DoxyCodeLine{00273\ \ \ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \textcolor{comment}{///\ Configures\ the\ duration\ of\ the\ timer.}}
\DoxyCodeLine{00276\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a7943b179dd5b5efedaee6ec0359899df}{set}}(timer\_duration\ duration)}
\DoxyCodeLine{00277\ \ \ \{}
\DoxyCodeLine{00278\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(is\_valid(),\ \textcolor{stringliteral}{"{}Trying\ to\ setup\ empty\ timer\ pimpl"{}});}
\DoxyCodeLine{00279\ \ \ \ \ handle-\/>set(duration);}
\DoxyCodeLine{00280\ \ \ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \textcolor{comment}{///\ Activates\ the\ timer\ to\ start\ ticking.}}
\DoxyCodeLine{00283\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_af3fa2fce72a8058698b971e498e0c262}{run}}()}
\DoxyCodeLine{00284\ \ \ \{}
\DoxyCodeLine{00285\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(is\_valid(),\ \textcolor{stringliteral}{"{}Starting\ invalid\ timer"{}});}
\DoxyCodeLine{00286\ \ \ \ \ handle-\/>run();}
\DoxyCodeLine{00287\ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \textcolor{comment}{///\ Stops\ the\ timer\ from\ ticking.}}
\DoxyCodeLine{00290\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1unique__timer_a1a4efde28d11d176d481f00ce0274d78}{stop}}()}
\DoxyCodeLine{00291\ \ \ \{}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{is\_running}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{(}}\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{)}})\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ handle-\/>stop();}
\DoxyCodeLine{00294\ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00298\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1unique__timer}{timer\_manager}};}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \textcolor{keyword}{explicit}\ unique\_timer(\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}::timer\_frontend\&\ impl)\ :\ handle(\&impl)\ \{\}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}::timer\_frontend*\ handle\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00303\ \};}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \textcolor{comment}{///\ \(\backslash\)brief\ Factory\ of\ timers\ that\ associates\ created\ timers\ to\ specific\ task\ executors.}}
\DoxyCodeLine{00306\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}}
\DoxyCodeLine{00307\ \{}
\DoxyCodeLine{00308\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00309\ \ \ timer\_factory()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00310\ \ \ timer\_factory(\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}\&\ timer\_mng\_,\ \mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}\&\ timer\_exec\_)\ :}
\DoxyCodeLine{00311\ \ \ \ \ timer\_mng(\&timer\_mng\_),\ timer\_exec(\&timer\_exec\_)}
\DoxyCodeLine{00312\ \ \ \{}
\DoxyCodeLine{00313\ \ \ \}}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\ create\_timer()\ \{\ \textcolor{keywordflow}{return}\ timer\_mng\mbox{\hyperlink{classsrsran_1_1timer__manager_ae7969b02b1e0306e319b93505212f36c}{-\/>}}\mbox{\hyperlink{classsrsran_1_1timer__manager_ae7969b02b1e0306e319b93505212f36c}{create\_unique\_timer}}\mbox{\hyperlink{classsrsran_1_1timer__manager_ae7969b02b1e0306e319b93505212f36c}{(}}*timer\_exec\mbox{\hyperlink{classsrsran_1_1timer__manager_ae7969b02b1e0306e319b93505212f36c}{)}};\ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00318\ \ \ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}*\ timer\_mng\ \ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}*\ timer\_exec\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00320\ \};}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
