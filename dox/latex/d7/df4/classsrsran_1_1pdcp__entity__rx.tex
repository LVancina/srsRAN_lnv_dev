\doxysection{srsran\+::pdcp\+\_\+entity\+\_\+rx Class Reference}
\hypertarget{classsrsran_1_1pdcp__entity__rx}{}\label{classsrsran_1_1pdcp__entity__rx}\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}


{\ttfamily \#include $<$pdcp\+\_\+entity\+\_\+rx.\+h$>$}



Inheritance diagram for srsran\+::pdcp\+\_\+entity\+\_\+rx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d62/classsrsran_1_1pdcp__entity__rx__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pdcp\+\_\+entity\+\_\+rx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d3d/classsrsran_1_1pdcp__entity__rx__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_1_1reordering__callback}{reordering\+\_\+callback}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_adf75faa7539889bfd903767b0d7f19ff}{pdcp\+\_\+entity\+\_\+rx}} (uint32\+\_\+t ue\+\_\+index, \mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rb\+\_\+id\+\_\+}}, \mbox{\hyperlink{structsrsran_1_1pdcp__rx__config}{pdcp\+\_\+rx\+\_\+config}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__data__notifier}{pdcp\+\_\+rx\+\_\+upper\+\_\+data\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__notifier}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+cn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} timers)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a39b007dbb1e3f1e89bcf2170e9ce79e9}{handle\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer__chain}{byte\+\_\+buffer\+\_\+chain}} buf) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming PDU. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a090fe3869988eed3dd9a31b2e810462b}{reestablish}} (\mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\+\_\+cfg\+\_\+}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Triggers re-\/establishment as specified in TS 38.\+323, section 5.\+1.\+2. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_abf886b4fdf4a95383050f0ce8dcd5169}{set\+\_\+status\+\_\+handler}} (\mbox{\hyperlink{classsrsran_1_1pdcp__tx__status__handler}{pdcp\+\_\+tx\+\_\+status\+\_\+handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\+\_\+handler\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a85f3391ee534c4ac6a3f7d3333e25486}{compile\+\_\+status\+\_\+report}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Compiles a PDCP status report. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a8e30058d6ce496b3bfd8d6957125b466}{read\+\_\+data\+\_\+pdu\+\_\+header}} (\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header}{pdcp\+\_\+data\+\_\+pdu\+\_\+header}} \&hdr, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&buf) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Reads the header of a PDCP data PDU and writes the content into an associated object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_ae95b766e0d68f7341a88419ca3e0e55c}{discard\+\_\+data\+\_\+header}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&buf) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a39ba6fa4cef564cb63acebbb9fd18614}{extract\+\_\+mac}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&buf, security\+::sec\+\_\+mac \&mac) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_ae7fd9ff9d70f842a48225c8efe73708e}{configure\+\_\+security}} (\mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\+\_\+cfg\+\_\+}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\begin{DoxyCompactList}\small\item\em Handle the incoming security config. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_aa177790f50489364b4b414e062d64d0c}{set\+\_\+integrity\+\_\+protection}} (security\+::integrity\+\_\+enabled \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{integrity\+\_\+enabled\+\_\+}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_aaca566b1b99a58208721db83996a6153}{set\+\_\+ciphering}} (security\+::ciphering\+\_\+enabled \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ciphering\+\_\+enabled\+\_\+}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a6a25c13e5068f2f69409098c170da025}{set\+\_\+state}} (\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state}{pdcp\+\_\+rx\+\_\+state}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{st\+\_\+}})
\item 
\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state}{pdcp\+\_\+rx\+\_\+state}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a1153f0564bb059269bfae91f125d3c1d}{get\+\_\+state}} ()
\item 
\mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_a51a37e91477d678cb5077d9910f28392}{get\+\_\+sec\+\_\+config}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_aac0b970386437c1813a8e5fcadd6944b}{is\+\_\+reordering\+\_\+timer\+\_\+running}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{srsran\+::pdcp\+\_\+rx\+\_\+lower\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries pdcp\+\_\+rx\+\_\+lower\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries pdcp\+\_\+rx\+\_\+lower\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface}{pdcp\+\_\+rx\+\_\+lower\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{srsran\+::pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics}{srsran\+::pdcp\+\_\+rx\+\_\+metrics}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_afc5da1cfdf2618c1e71c6499e829ad10}{metrics\+\_\+add\+\_\+sdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+sdus\+\_\+}}, size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+sdu\+\_\+bytes\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a064356e91dd89daef7c96e4209ad7319}{metrics\+\_\+add\+\_\+pdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdus\+\_\+}}, size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdu\+\_\+bytes\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_af5d3bb08972c459e35ebd573c0f54b26}{metrics\+\_\+add\+\_\+lost\+\_\+pdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdus\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a53ad553b24a367c0ad70c2685060d50b}{metrics\+\_\+add\+\_\+dropped\+\_\+pdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdus\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_ab4573cbb81327ea1bd88bc785f2f3c6e}{metrics\+\_\+add\+\_\+integrity\+\_\+verified\+\_\+pdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdus\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a7f98589393811a7f211576d9a051581d}{metrics\+\_\+add\+\_\+integrity\+\_\+failed\+\_\+pdus}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+pdus\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a3bdcd22a08189738f36f2546d4132ee8}{metrics\+\_\+add\+\_\+t\+\_\+reordering\+\_\+timeouts}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{num\+\_\+timeouts\+\_\+}})
\item 
\mbox{\hyperlink{structsrsran_1_1pdcp__rx__metrics__container}{pdcp\+\_\+rx\+\_\+metrics\+\_\+container}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a4b69fa4c5f48802a936d761129543c1a}{get\+\_\+metrics}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\begin{DoxyCompactList}\small\item\em Metrics interfaces. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1pdcp__rx__metrics__container}{pdcp\+\_\+rx\+\_\+metrics\+\_\+container}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_abe8d13c04e2a7979af215c22872efffc}{get\+\_\+metrics\+\_\+and\+\_\+reset}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pdcp__rx__metrics_a875492ff4075d1e3d0b76184c24dea36}{reset\+\_\+metrics}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base}{srsran\+::pdcp\+\_\+entity\+\_\+tx\+\_\+rx\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a1aaf2f968f4520881d63b9ca0e73f4df}{pdcp\+\_\+entity\+\_\+tx\+\_\+rx\+\_\+base}} (\mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rb\+\_\+id\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a40dbb8c1c2d97d55fd44cc67ddc5361c}{pdcp\+\_\+rb\+\_\+type}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rb\+\_\+type\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a9e50d988260b31c9ea661e6ff525036f}{pdcp\+\_\+rlc\+\_\+mode}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rlc\+\_\+mode\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a6efd299a2e6b44aa7ae09878d4757fec}{pdcp\+\_\+sn\+\_\+size}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sn\+\_\+size\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a49f42b37d6149ee894f65191dc9cd590}{is\+\_\+srb}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a7d10e6a754901bf47e992f64c2e7e7dd}{is\+\_\+drb}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a48e5cf1083cfd5498bed1a60577ea12c}{is\+\_\+um}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a8ac05ae8054a419c238593fc736e135c}{is\+\_\+am}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a5f8f1e57de1c654ab9f4accffe80cb8c}{SN}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} count) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_af1205aba91ef7fe5d6d35f5c9c888fb7}{HFN}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} count) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_ab7c5e3c3bc748f0382e74091e2507089}{COUNT}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} hfn, \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base}{srsran\+::pdcp\+\_\+entity\+\_\+tx\+\_\+rx\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base_a2d500113dfbaea034c67492ed1d68d04}{bearer\+\_\+id}}
\item 
\mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} {\bfseries rb\+\_\+id}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a40dbb8c1c2d97d55fd44cc67ddc5361c}{pdcp\+\_\+rb\+\_\+type}} {\bfseries rb\+\_\+type}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a9e50d988260b31c9ea661e6ff525036f}{pdcp\+\_\+rlc\+\_\+mode}} {\bfseries rlc\+\_\+mode}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries hdr\+\_\+len\+\_\+bytes}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries window\+\_\+size}
\item 
\mbox{\hyperlink{classbool}{bool}} {\bfseries max\+\_\+count\+\_\+notified} = \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{false}}
\item 
\mbox{\hyperlink{classbool}{bool}} {\bfseries max\+\_\+count\+\_\+overflow} = \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{false}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a6efd299a2e6b44aa7ae09878d4757fec}{pdcp\+\_\+sn\+\_\+size}} {\bfseries sn\+\_\+size}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classBase}{Base} class used for receiving PDCP bearers. It provides interfaces for the PDCP bearers, for the higher and lower layers 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_adf75faa7539889bfd903767b0d7f19ff}\label{classsrsran_1_1pdcp__entity__rx_adf75faa7539889bfd903767b0d7f19ff} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!pdcp\_entity\_rx@{pdcp\_entity\_rx}}
\index{pdcp\_entity\_rx@{pdcp\_entity\_rx}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{pdcp\_entity\_rx()}{pdcp\_entity\_rx()}}
{\footnotesize\ttfamily pdcp\+\_\+entity\+\_\+rx\+::pdcp\+\_\+entity\+\_\+rx (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}}}]{rb\+\_\+id\+\_\+,  }\item[{\mbox{\hyperlink{structsrsran_1_1pdcp__rx__config}{pdcp\+\_\+rx\+\_\+config}}}]{cfg\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__data__notifier}{pdcp\+\_\+rx\+\_\+upper\+\_\+data\+\_\+notifier}} \&}]{upper\+\_\+dn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__notifier}{pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+notifier}} \&}]{upper\+\_\+cn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}}}]{timers }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classsrsran_1_1pdcp__entity__tx__rx__base}{pdcp\_entity\_tx\_rx\_base}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rb\_id\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\_}}.rb\_type,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\_}}.rlc\_mode,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\_}}.sn\_size),}
\DoxyCodeLine{00039\ \ \ logger(\textcolor{stringliteral}{"{}PDCP"{}},\ \{ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rb\_id\_}},\ \textcolor{stringliteral}{"{}UL"{}}\}),}
\DoxyCodeLine{00040\ \ \ cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\_}}),}
\DoxyCodeLine{00041\ \ \ direction(cfg.direction\ ==\ pdcp\_security\_direction::uplink\ ?\ security::security\_direction::uplink}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ security::security\_direction::downlink),}
\DoxyCodeLine{00043\ \ \ rx\_window(create\_rx\_window(cfg.sn\_size)),}
\DoxyCodeLine{00044\ \ \ upper\_dn(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_dn\_}}),}
\DoxyCodeLine{00045\ \ \ upper\_cn(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_cn\_}}),}
\DoxyCodeLine{00046\ \ \ timers(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timers\_}})}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ t-\/Reordering\ timer}}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}\ (cfg.t\_reordering\ !=\ pdcp\_t\_reordering::ms0\ \&\&\ cfg.t\_reordering\ !=\ pdcp\_t\_reordering::infinity)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ reordering\_timer\ =\ timers.create\_timer();}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint32__t}{uint32\_t}}\textcolor{keyword}{>}(cfg.t\_reordering)\ >\ 0)\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ reordering\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(std::chrono::milliseconds\{\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(cfg.t\_reordering)\},}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reordering\_callback\{\textcolor{keyword}{this}\});}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \}}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{if}\ (cfg.rb\_type\ ==\ pdcp\_rb\_type::drb\ \&\&\ cfg.t\_reordering\ ==\ pdcp\_t\_reordering::infinity)\ \{}
\DoxyCodeLine{00057\ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}t-\/Reordering\ of\ infinity\ on\ DRBs\ is\ not\ advised.\ It\ can\ cause\ data\ stalls."{}});}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ \ \ logger.log\_info(\textcolor{stringliteral}{"{}PDCP\ configured.\ \{\}"{}},\ cfg);}
\DoxyCodeLine{00060\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a85f3391ee534c4ac6a3f7d3333e25486}\label{classsrsran_1_1pdcp__entity__rx_a85f3391ee534c4ac6a3f7d3333e25486} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!compile\_status\_report@{compile\_status\_report}}
\index{compile\_status\_report@{compile\_status\_report}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{compile\_status\_report()}{compile\_status\_report()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} pdcp\+\_\+entity\+\_\+rx\+::compile\+\_\+status\+\_\+report (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Compiles a PDCP status report. 

Ref\+: TS 38.\+323, Sec. 5.\+4.\+1, Sec. 6.\+2.\+3.\+1 and Sec. 6.\+3.\{9,10\}

\begin{DoxyReturn}{Returns}
Control PDU for PDCP status report as a \doxylink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer} 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__status__provider_aa8f7c435d14e6257c5ca9e1727344c5f}{srsran\+::pdcp\+\_\+rx\+\_\+status\+\_\+provider}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00379\ \{}
\DoxyCodeLine{00380\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ buf\ =\ \{\};}
\DoxyCodeLine{00381\ \ \ \mbox{\hyperlink{classsrsran_1_1bit__encoder}{bit\_encoder}}\ enc(buf);}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \textcolor{comment}{//\ Pack\ PDU\ header}}
\DoxyCodeLine{00384\ \ \ enc.pack(to\_number(\mbox{\hyperlink{namespacesrsran_a6e791999e341321921cec2656c25bbf7afc5364bf9dbfa34954526becad136d4b}{pdcp\_dc\_field::control}}),\ 1);}
\DoxyCodeLine{00385\ \ \ enc.pack(to\_number(\mbox{\hyperlink{namespacesrsran_a9692f6bdc224b67971d19a00a7bfb83da139a39643d328ece9f9f884bbd3d7a49}{pdcp\_control\_pdu\_type::status\_report}}),\ 3);}
\DoxyCodeLine{00386\ \ \ enc.pack(0b0000,\ 4);}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \ \ \textcolor{comment}{//\ Pack\ RX\_DELIV\ into\ FMC\ field}}
\DoxyCodeLine{00389\ \ \ enc.pack(st.\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state_a83745595f3998f0fdd7ceaedfff78018}{rx\_deliv}},\ 32);}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \textcolor{comment}{//\ Set\ bitmap\ boundaries,\ ensure\ to\ not\ exceed\ max\ control\ PDU\ size\ (9000\ Bytes)}}
\DoxyCodeLine{00392\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classuint32__t}{uint32\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_bits}}\ \ \ \ \ =\ (\mbox{\hyperlink{namespacesrsran_a87e85ce47897b33838ff1759dafdfafe}{pdcp\_control\_pdu\_max\_size}}\ -\/\ 5)\ *\ 8;}
\DoxyCodeLine{00393\ \ \ \mbox{\hyperlink{classuint32__t}{uint32\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_begin}}\ =\ st.\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state_a83745595f3998f0fdd7ceaedfff78018}{rx\_deliv}}\ +\ 1;\ \textcolor{comment}{//\ Bitmap\ starts\ from\ FMC+1}}
\DoxyCodeLine{00394\ \ \ \mbox{\hyperlink{classuint32__t}{uint32\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_end}}\ \ \ =\ st.\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state_a9a547aa5c343e415d3d65f46607acfac}{rx\_next}};}
\DoxyCodeLine{00395\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_begin\ <\ bitmap\_end\ \&\&\ bitmap\_end\ -\/\ bitmap\_begin\ >}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_bits}})\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_end}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_begin}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_bits}};}
\DoxyCodeLine{00397\ \ \ \}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \textcolor{comment}{//\ Pack\ bitmap}}
\DoxyCodeLine{00400\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classuint32__t}{uint32\_t}}\ i\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_begin}};\ i\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bitmap\_end}};\ i++)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{comment}{//\ Bit\ ==\ 0:\ PDCP\ SDU\ with\ COUNT\ =\ (FMC\ +\ bit\ position)\ modulo\ 2\string^32\ is\ missing.}}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{comment}{//\ Bit\ ==\ 1:\ PDCP\ SDU\ with\ COUNT\ =\ (FMC\ +\ bit\ position)\ modulo\ 2\string^32\ is\ correctly\ received.}}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bit}}\ =\ rx\_window-\/>has\_sn(i)\ ?\ 1\ :\ 0;}
\DoxyCodeLine{00404\ \ \ \ \ enc.pack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bit}},\ 1);}
\DoxyCodeLine{00405\ \ \ \}}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ \textcolor{keywordflow}{return}\ buf;}
\DoxyCodeLine{00408\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_ae7fd9ff9d70f842a48225c8efe73708e}\label{classsrsran_1_1pdcp__entity__rx_ae7fd9ff9d70f842a48225c8efe73708e} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!configure\_security@{configure\_security}}
\index{configure\_security@{configure\_security}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{configure\_security()}{configure\_security()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::configure\+\_\+security (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}}}]{sec\+\_\+cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Handle the incoming security config. 



Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface_a0c1b9b775778a916423bd2ad9383965b}{srsran\+::pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00105\ \ \ \{}
\DoxyCodeLine{00106\ \ \ \ \ srsran\_assert((is\_srb()\ \&\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.domain\ ==\ security::sec\_domain::rrc)\ ||}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (is\_drb()\ \&\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.domain\ ==\ security::sec\_domain::up),}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ sec\_domain=\{\}\ for\ \{\}\ in\ \{\}"{}},}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sec\_cfg.domain,}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rb\_type,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rb\_id);}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ The\ 'NULL'\ integrity\ protection\ algorithm\ (nia0)\ is\ used\ only\ for\ SRBs\ and\ for\ the\ UE\ in\ limited\ service\ mode,}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ see\ TS\ 33.501\ [11]\ and\ when\ used\ for\ SRBs,\ integrity\ protection\ is\ disabled\ for\ DRBs.\ In\ case\ the\ ′NULL'}}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ integrity\ protection\ algorithm\ is\ used,\ 'NULL'\ ciphering\ algorithm\ is\ also\ used.}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ Ref:\ TS\ 38.331\ Sec.\ 5.3.1.2}}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.integ\_algo\ ==\ security::integrity\_algorithm::nia0)\ \&\&}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ (is\_drb()\ ||\ (is\_srb()\ \&\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.cipher\_algo\ !=\ security::ciphering\_algorithm::nea0)))\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ logger.log\_error(}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Integrity\ algorithm\ NIA0\ is\ only\ permitted\ for\ SRBs\ configured\ with\ NEA0.\ is\_srb=\{\}\ NIA\{\}\ NEA\{\}"{}},}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ is\_srb(),}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.integ\_algo,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}}.cipher\_algo);}
\DoxyCodeLine{00123\ \ \ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ sec\_cfg\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}};}
\DoxyCodeLine{00126\ \ \ \ \ logger.log\_info(}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Security\ configured:\ NIA\{\}\ NEA\{\}\ domain=\{\}"{}},\ sec\_cfg.integ\_algo,\ sec\_cfg.cipher\_algo,\ sec\_cfg.domain);}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{if}\ (sec\_cfg.k\_128\_int.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ logger.log\_info(sec\_cfg.k\_128\_int.value().data(),\ 16,\ \textcolor{stringliteral}{"{}128\ K\_int"{}});}
\DoxyCodeLine{00130\ \ \ \ \ \}}
\DoxyCodeLine{00131\ \ \ \ \ logger.log\_info(sec\_cfg.k\_128\_enc.data(),\ 16,\ \textcolor{stringliteral}{"{}128\ K\_enc"{}});}
\DoxyCodeLine{00132\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_ae95b766e0d68f7341a88419ca3e0e55c}\label{classsrsran_1_1pdcp__entity__rx_ae95b766e0d68f7341a88419ca3e0e55c} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!discard\_data\_header@{discard\_data\_header}}
\index{discard\_data\_header@{discard\_data\_header}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{discard\_data\_header()}{discard\_data\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcp\+\_\+entity\+\_\+rx\+::discard\+\_\+data\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{buf }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00589\ \{}
\DoxyCodeLine{00590\ \ \ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a832175c27ef0d111b127c1a0bc421ec3}{trim\_head}}(hdr\_len\_bytes);}
\DoxyCodeLine{00591\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a39ba6fa4cef564cb63acebbb9fd18614}\label{classsrsran_1_1pdcp__entity__rx_a39ba6fa4cef564cb63acebbb9fd18614} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!extract\_mac@{extract\_mac}}
\index{extract\_mac@{extract\_mac}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{extract\_mac()}{extract\_mac()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcp\+\_\+entity\+\_\+rx\+::extract\+\_\+mac (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{buf,  }\item[{security\+::sec\+\_\+mac \&}]{mac }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00594\ \{}
\DoxyCodeLine{00595\ \ \ \textcolor{keywordflow}{if}\ (buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\ <=\ security::sec\_mac\_len)\ \{}
\DoxyCodeLine{00596\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}PDU\ too\ small\ to\ extract\ MAC-\/I.\ pdu\_len=\{\}\ mac\_len=\{\}"{}},\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}(),\ security::sec\_mac\_len);}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00598\ \ \ \}}
\DoxyCodeLine{00599\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ security::sec\_mac\_len;\ i++)\ \{}
\DoxyCodeLine{00600\ \ \ \ \ mac[i]\ =\ buf[buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\ -\/\ security::sec\_mac\_len\ +\ i];}
\DoxyCodeLine{00601\ \ \ \}}
\DoxyCodeLine{00602\ \ \ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_ad94ff05447760ce113c0ee12f92cb503}{trim\_tail}}(security::sec\_mac\_len);}
\DoxyCodeLine{00603\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a51a37e91477d678cb5077d9910f28392}\label{classsrsran_1_1pdcp__entity__rx_a51a37e91477d678cb5077d9910f28392} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!get\_sec\_config@{get\_sec\_config}}
\index{get\_sec\_config@{get\_sec\_config}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{get\_sec\_config()}{get\_sec\_config()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::get\+\_\+sec\+\_\+config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \{\ \textcolor{keywordflow}{return}\ sec\_cfg;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a1153f0564bb059269bfae91f125d3c1d}\label{classsrsran_1_1pdcp__entity__rx_a1153f0564bb059269bfae91f125d3c1d} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!get\_state@{get\_state}}
\index{get\_state@{get\_state}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{get\_state()}{get\_state()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pdcp__rx__state}{pdcp\+\_\+rx\+\_\+state}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::get\+\_\+state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00159\ \{\ \textcolor{keywordflow}{return}\ st;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a39b007dbb1e3f1e89bcf2170e9ce79e9}\label{classsrsran_1_1pdcp__entity__rx_a39b007dbb1e3f1e89bcf2170e9ce79e9} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!handle\_pdu@{handle\_pdu}}
\index{handle\_pdu@{handle\_pdu}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{handle\_pdu()}{handle\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcp\+\_\+entity\+\_\+rx\+::handle\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer__chain}{byte\+\_\+buffer\+\_\+chain}}}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming PDU. 



Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__lower__interface_a831aa82a3c246bd196e6616ad25bca4e}{srsran\+::pdcp\+\_\+rx\+\_\+lower\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{}
\DoxyCodeLine{00064\ \ \ trace\_point\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rx\_tp}}\ =\ \mbox{\hyperlink{namespacesrsran_a46a9d0c2069e595c7efbda41e108f76b}{up\_tracer}}.now();}
\DoxyCodeLine{00065\ \ \ metrics\_add\_pdus(1,\ buf.length());}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ Log\ PDU}}
\DoxyCodeLine{00068\ \ \ logger.log\_debug(buf.begin(),\ buf.end(),\ \textcolor{stringliteral}{"{}RX\ PDU.\ pdu\_len=\{\}"{}},\ buf.length());}
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{//\ Sanity\ check}}
\DoxyCodeLine{00070\ \ \ \textcolor{keywordflow}{if}\ (buf.length()\ ==\ 0)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ metrics\_add\_dropped\_pdus(1);}
\DoxyCodeLine{00072\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Dropping\ empty\ PDU."{}});}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \ \ pdu\ =\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer__chain_a70e5409c573cb8d32396cca0f6c416fc}{deep\_copy}}();}
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{namespacesrsran_a6e791999e341321921cec2656c25bbf7}{pdcp\_dc\_field}}\ dc\ \ =\ \mbox{\hyperlink{namespacesrsran_a90ac3a874857ad9d998b6b711c2d531a}{pdcp\_pdu\_get\_dc}}(*(pdu.begin()));}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{if}\ (is\_srb()\ ||\ dc\ ==\ \mbox{\hyperlink{namespacesrsran_a6e791999e341321921cec2656c25bbf7a8d777f385d3dfec8815d20f7496026dc}{pdcp\_dc\_field::data}})\ \{}
\DoxyCodeLine{00079\ \ \ \ \ handle\_data\_pdu(std::move(pdu));}
\DoxyCodeLine{00080\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00081\ \ \ \ \ handle\_control\_pdu(std::move(buf));}
\DoxyCodeLine{00082\ \ \ \}}
\DoxyCodeLine{00083\ \ \ \mbox{\hyperlink{namespacesrsran_a46a9d0c2069e595c7efbda41e108f76b}{up\_tracer}}\ <<\ \mbox{\hyperlink{structsrsran_1_1trace__event}{trace\_event}}\{\textcolor{stringliteral}{"{}pdcp\_rx\_pdu"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rx\_tp}}\};}
\DoxyCodeLine{00084\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_aac0b970386437c1813a8e5fcadd6944b}\label{classsrsran_1_1pdcp__entity__rx_aac0b970386437c1813a8e5fcadd6944b} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!is\_reordering\_timer\_running@{is\_reordering\_timer\_running}}
\index{is\_reordering\_timer\_running@{is\_reordering\_timer\_running}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{is\_reordering\_timer\_running()}{is\_reordering\_timer\_running()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::is\+\_\+reordering\+\_\+timer\+\_\+running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00161\ \{\ \textcolor{keywordflow}{return}\ reordering\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{is\_running}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a8e30058d6ce496b3bfd8d6957125b466}\label{classsrsran_1_1pdcp__entity__rx_a8e30058d6ce496b3bfd8d6957125b466} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!read\_data\_pdu\_header@{read\_data\_pdu\_header}}
\index{read\_data\_pdu\_header@{read\_data\_pdu\_header}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{read\_data\_pdu\_header()}{read\_data\_pdu\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} pdcp\+\_\+entity\+\_\+rx\+::read\+\_\+data\+\_\+pdu\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header}{pdcp\+\_\+data\+\_\+pdu\+\_\+header}} \&}]{hdr,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{buf }\end{DoxyParamCaption}) const}



Reads the header of a PDCP data PDU and writes the content into an associated object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em hdr} & Reference to a \doxylink{structsrsran_1_1pdcp__data__pdu__header}{pdcp\+\_\+data\+\_\+pdu\+\_\+header} that is filled with the header content \\
\hline
\mbox{\texttt{ in}}  & {\em buf} & Reference to the PDU bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if header was read successfully, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00556\ \{}
\DoxyCodeLine{00557\ \ \ \textcolor{comment}{//\ Check\ PDU\ is\ long\ enough\ to\ extract\ header}}
\DoxyCodeLine{00558\ \ \ \textcolor{keywordflow}{if}\ (buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}()\ <=\ hdr\_len\_bytes)\ \{}
\DoxyCodeLine{00559\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}PDU\ too\ small\ to\ extract\ header.\ pdu\_len=\{\}\ hdr\_len=\{\}"{}},\ buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}(),\ hdr\_len\_bytes);}
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00561\ \ \ \}}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00563\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1byte__buffer__segment__byte__iterator__impl}{byte\_buffer::const\_iterator}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ =\ buf.begin();}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ \textcolor{comment}{//\ Extract\ RCVD\_SN}}
\DoxyCodeLine{00566\ \ \ \textcolor{keywordflow}{switch}\ (cfg.sn\_size)\ \{}
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{keywordflow}{case}\ pdcp\_sn\_size::size12bits:}
\DoxyCodeLine{00568\ \ \ \ \ \ \ hdr.\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header_a510d279e02871dcc93b5fc4e4d76e110}{sn}}\ =\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ \&\ 0x0fU)\ <<\ 8U;\ \textcolor{comment}{//\ first\ 4\ bits\ SN}}
\DoxyCodeLine{00569\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}};}
\DoxyCodeLine{00570\ \ \ \ \ \ \ hdr.\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header_a510d279e02871dcc93b5fc4e4d76e110}{sn}}\ |=\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ \&\ 0xffU);\ \textcolor{comment}{//\ last\ 8\ bits\ SN}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}};}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00573\ \ \ \ \ \textcolor{keywordflow}{case}\ pdcp\_sn\_size::size18bits:}
\DoxyCodeLine{00574\ \ \ \ \ \ \ hdr.\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header_a510d279e02871dcc93b5fc4e4d76e110}{sn}}\ =\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ \&\ 0x03U)\ <<\ 16U;\ \textcolor{comment}{//\ first\ 2\ bits\ SN}}
\DoxyCodeLine{00575\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}};}
\DoxyCodeLine{00576\ \ \ \ \ \ \ hdr.\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header_a510d279e02871dcc93b5fc4e4d76e110}{sn}}\ |=\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ \&\ 0xffU)\ <<\ 8U;\ \textcolor{comment}{//\ middle\ 8\ bits\ SN}}
\DoxyCodeLine{00577\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}};}
\DoxyCodeLine{00578\ \ \ \ \ \ \ hdr.\mbox{\hyperlink{structsrsran_1_1pdcp__data__pdu__header_a510d279e02871dcc93b5fc4e4d76e110}{sn}}\ |=\ (*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}}\ \&\ 0xffU);\ \textcolor{comment}{//\ last\ 8\ bits\ SN}}
\DoxyCodeLine{00579\ \ \ \ \ \ \ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buf\_it}};}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00582\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Invalid\ SN\ size\ config.\ sn\_size=\{\}"{}},\ cfg.sn\_size);}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00584\ \ \ \}}
\DoxyCodeLine{00585\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00586\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a090fe3869988eed3dd9a31b2e810462b}\label{classsrsran_1_1pdcp__entity__rx_a090fe3869988eed3dd9a31b2e810462b} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!reestablish@{reestablish}}
\index{reestablish@{reestablish}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{reestablish()}{reestablish()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pdcp\+\_\+entity\+\_\+rx\+::reestablish (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1security_1_1sec__128__as__config}{security\+::sec\+\_\+128\+\_\+as\+\_\+config}}}]{sec\+\_\+cfg\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Triggers re-\/establishment as specified in TS 38.\+323, section 5.\+1.\+2. 



Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface_a50f124eddac57b1a35b17b12a9d0d7a3}{srsran\+::pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \{}
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ -\/\ process\ the\ PDCP\ Data\ PDUs\ that\ are\ received\ from\ lower\ layers\ due\ to\ the\ re-\/establishment\ of\ the\ lower\ layers,}}
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ \ \ as\ specified\ in\ the\ clause\ 5.2.2.1;}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ -\/\ for\ SRBs,\ discard\ all\ stored\ PDCP\ SDUs\ and\ PDCP\ PDUs;}}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{if}\ (is\_srb())\ \{}
\DoxyCodeLine{00093\ \ \ \ \ discard\_all\_sdus();}
\DoxyCodeLine{00094\ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ -\/\ for\ SRBs\ and\ UM\ DRBs,\ if\ t-\/Reordering\ is\ running:}}
\DoxyCodeLine{00097\ \ \ \textcolor{comment}{//\ \ \ -\/\ stop\ and\ reset\ t-\/Reordering;}}
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ \ \ -\/\ for\ UM\ DRBs,\ deliver\ all\ stored\ PDCP\ SDUs\ to\ the\ upper\ layers\ in\ ascending\ order\ of\ associated\ COUNT}}
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ \ \ \ \ values\ after\ performing\ header\ decompression;}}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{if}\ (is\_srb()\ ||\ is\_um())\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{if}\ (reordering\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{is\_running}}())\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ reordering\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a1a4efde28d11d176d481f00ce0274d78}{stop}}();}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_um())\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ deliver\_all\_sdus();}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{//\ -\/\ for\ AM\ DRBs\ for\ Uu\ interface,\ perform\ header\ decompression\ using\ ROHC\ for\ all\ stored\ PDCP\ SDUs\ if\ drb-\/}}
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{//\ \ \ ContinueROHC\ is\ not\ configured\ in\ TS\ 38.331\ [3];}}
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ -\/\ for\ AM\ DRBs\ for\ PC5\ interface,\ perform\ header\ decompression\ using\ ROHC\ for\ all\ stored\ PDCP\ IP\ SDUs;}}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ -\/\ for\ AM\ DRBs\ for\ Uu\ interface,\ perform\ header\ decompression\ using\ EHC\ for\ all\ stored\ PDCP\ SDUs\ if\ drb-\/}}
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{//\ \ \ ContinueEHC-\/DL\ is\ not\ configured\ in\ TS\ 38.331\ [3];}}
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ -\/\ for\ UM\ DRBs\ and\ AM\ DRBs,\ reset\ the\ ROHC\ protocol\ for\ downlink\ and\ start\ with\ NC\ state\ in\ U-\/mode\ (as}}
\DoxyCodeLine{00115\ \ \ \textcolor{comment}{//\ \ \ defined\ in\ RFC\ 3095\ [8]\ and\ RFC\ 4815\ [9])\ if\ drb-\/ContinueROHC\ is\ not\ configured\ in\ TS\ 38.331\ [3];}}
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ -\/\ for\ UM\ DRBs\ and\ AM\ DRBs,\ reset\ the\ EHC\ protocol\ for\ downlink\ if\ drb-\/ContinueEHC-\/DL\ is\ not\ configured\ in}}
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ \ \ TS\ 38.331\ [3];}}
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{//\ TODO\ header\ compression\ not\ supported\ yet.}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \textcolor{comment}{//\ -\/\ for\ UM\ DRBs\ and\ SRBs,\ set\ RX\_NEXT\ and\ RX\_DELIV\ to\ the\ initial\ value;}}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{if}\ (is\_srb()\ ||\ is\_um())\ \{}
\DoxyCodeLine{00122\ \ \ \ \ st\ =\ \{\};}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{//\ -\/\ apply\ the\ ciphering\ algorithm\ and\ key\ provided\ by\ upper\ layers\ during\ the\ PDCP\ entity\ re-\/establishment}}
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//\ \ \ procedure;}}
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//\ -\/\ apply\ the\ integrity\ protection\ algorithm\ and\ key\ provided\ by\ upper\ layers\ during\ the\ PDCP\ entity\ re-\/}}
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{//\ \ \ establishment\ procedure.}}
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{classsrsran_1_1pdcp__entity__rx_ae7fd9ff9d70f842a48225c8efe73708e}{configure\_security}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sec\_cfg\_}});}
\DoxyCodeLine{00130\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_aaca566b1b99a58208721db83996a6153}\label{classsrsran_1_1pdcp__entity__rx_aaca566b1b99a58208721db83996a6153} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!set\_ciphering@{set\_ciphering}}
\index{set\_ciphering@{set\_ciphering}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{set\_ciphering()}{set\_ciphering()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::set\+\_\+ciphering (\begin{DoxyParamCaption}\item[{security\+::ciphering\+\_\+enabled}]{ciphering\+\_\+enabled\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{srsran\+::pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \ \ \{}
\DoxyCodeLine{00151\ \ \ \ \ ciphering\_enabled\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ciphering\_enabled\_}};}
\DoxyCodeLine{00152\ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}Set\ ciphering\_enabled=\{\}"{}},\ ciphering\_enabled);}
\DoxyCodeLine{00153\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_aa177790f50489364b4b414e062d64d0c}\label{classsrsran_1_1pdcp__entity__rx_aa177790f50489364b4b414e062d64d0c} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!set\_integrity\_protection@{set\_integrity\_protection}}
\index{set\_integrity\_protection@{set\_integrity\_protection}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{set\_integrity\_protection()}{set\_integrity\_protection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::set\+\_\+integrity\+\_\+protection (\begin{DoxyParamCaption}\item[{security\+::integrity\+\_\+enabled}]{integrity\+\_\+enabled\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1pdcp__rx__upper__control__interface}{srsran\+::pdcp\+\_\+rx\+\_\+upper\+\_\+control\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00135\ \ \ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{integrity\_enabled\_}}\ ==\ security::integrity\_enabled::on)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!sec\_cfg.k\_128\_int.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Cannot\ enable\ integrity\ protection:\ Integrity\ key\ is\ not\ configured."{}});}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!sec\_cfg.integ\_algo.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Cannot\ enable\ integrity\ protection:\ Integrity\ algorithm\ is\ not\ configured."{}});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ \ \ \ \ integrity\_enabled\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{integrity\_enabled\_}};}
\DoxyCodeLine{00147\ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}Set\ integrity\_enabled=\{\}"{}},\ integrity\_enabled);}
\DoxyCodeLine{00148\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_a6a25c13e5068f2f69409098c170da025}\label{classsrsran_1_1pdcp__entity__rx_a6a25c13e5068f2f69409098c170da025} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!set\_state@{set\_state}}
\index{set\_state@{set\_state}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{set\_state()}{set\_state()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::set\+\_\+state (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1pdcp__rx__state}{pdcp\+\_\+rx\+\_\+state}}}]{st\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00158\ \{\ st\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{st\_}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pdcp__entity__rx_abf886b4fdf4a95383050f0ce8dcd5169}\label{classsrsran_1_1pdcp__entity__rx_abf886b4fdf4a95383050f0ce8dcd5169} 
\index{srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}!set\_status\_handler@{set\_status\_handler}}
\index{set\_status\_handler@{set\_status\_handler}!srsran::pdcp\_entity\_rx@{srsran::pdcp\_entity\_rx}}
\doxysubsubsection{\texorpdfstring{set\_status\_handler()}{set\_status\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::pdcp\+\_\+entity\+\_\+rx\+::set\+\_\+status\+\_\+handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1pdcp__tx__status__handler}{pdcp\+\_\+tx\+\_\+status\+\_\+handler}} \texorpdfstring{$\ast$}{*}}]{status\+\_\+handler\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \{\ status\_handler\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\_handler\_}};\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/pdcp/pdcp\+\_\+entity\+\_\+rx.\+h\item 
lib/pdcp/pdcp\+\_\+entity\+\_\+rx.\+cpp\end{DoxyCompactItemize}
