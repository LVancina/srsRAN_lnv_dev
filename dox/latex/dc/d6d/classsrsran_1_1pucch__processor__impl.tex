\doxysection{srsran\+::pucch\+\_\+processor\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pucch__processor__impl}{}\label{classsrsran_1_1pucch__processor__impl}\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}


Implementation of the PUCCH processor interface.  




{\ttfamily \#include $<$pucch\+\_\+processor\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::pucch\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{d5/d1e/classsrsran_1_1pucch__processor__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pucch\+\_\+processor\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d7/d61/classsrsran_1_1pucch__processor__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_a95285853a30142520ae570786efcc652}{process}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format0__configuration}{format0\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH Format 0 message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_a64b530e5722315a05f4ee253d6a106e2}{process}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format1__configuration}{format1\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH Format 1 message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_aa4b5c9ee47dbd143bdc2fbaa54b27982}{process}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format2__configuration}{format2\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH Format 2 message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_ae516566b99eaa236dc5d30f690efff64}{process}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format3__configuration}{format3\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH Format 3 message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} \mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_a6ab6d719f920c14214cd7ea19f22a40f}{process}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format4__configuration}{format4\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH Format 4 message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1pucch__processor__impl_a3dfb88735eb9636ed6d3ba9ce825c6e8}{pucch\+\_\+processor\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pucch__processor}{dmrs\+\_\+pucch\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{channel\+\_\+estimator\+\_\+format\+\_\+1\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pucch__processor}{dmrs\+\_\+pucch\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{channel\+\_\+estimator\+\_\+format\+\_\+2\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__detector}{pucch\+\_\+detector}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__demodulator}{pucch\+\_\+demodulator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demodulator\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1uci__decoder}{uci\+\_\+decoder}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{decoder\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+::channel\+\_\+estimate\+\_\+dimensions}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimates\+\_\+dimensions}})
\begin{DoxyCompactList}\small\item\em PUCCH processor constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pucch__processor}{srsran\+::pucch\+\_\+processor}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pucch\+\_\+processor} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1pucch__processor__impl_a1c4efd807841e52c67da5c1e29e35254}\label{classsrsran_1_1pucch__processor__impl_a1c4efd807841e52c67da5c1e29e35254} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{constexpr}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries FORMAT2\+\_\+\+MAX\+\_\+\+UCI\+\_\+\+NBITS} = 1706
\begin{DoxyCompactList}\small\item\em Maximum supported PUCCH Format 2 UCI payload length in number of bits. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the PUCCH processor interface. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pucch__processor__impl_a3dfb88735eb9636ed6d3ba9ce825c6e8}\label{classsrsran_1_1pucch__processor__impl_a3dfb88735eb9636ed6d3ba9ce825c6e8} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!pucch\_processor\_impl@{pucch\_processor\_impl}}
\index{pucch\_processor\_impl@{pucch\_processor\_impl}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{pucch\_processor\_impl()}{pucch\_processor\_impl()}}
{\footnotesize\ttfamily srsran\+::pucch\+\_\+processor\+\_\+impl\+::pucch\+\_\+processor\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pucch__processor}{dmrs\+\_\+pucch\+\_\+processor}} $>$}]{channel\+\_\+estimator\+\_\+format\+\_\+1\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dmrs__pucch__processor}{dmrs\+\_\+pucch\+\_\+processor}} $>$}]{channel\+\_\+estimator\+\_\+format\+\_\+2\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__detector}{pucch\+\_\+detector}} $>$}]{detector\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pucch__demodulator}{pucch\+\_\+demodulator}} $>$}]{demodulator\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1uci__decoder}{uci\+\_\+decoder}} $>$}]{decoder\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+::channel\+\_\+estimate\+\_\+dimensions}} \&}]{estimates\+\_\+dimensions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



PUCCH processor constructor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00108\ \ \ \ \ channel\_estimator\_format\_1(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{channel\_estimator\_format\_1\_}})),}
\DoxyCodeLine{00109\ \ \ \ \ channel\_estimator\_format\_2(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{channel\_estimator\_format\_2\_}})),}
\DoxyCodeLine{00110\ \ \ \ \ detector(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_}})),}
\DoxyCodeLine{00111\ \ \ \ \ demodulator(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demodulator\_}})),}
\DoxyCodeLine{00112\ \ \ \ \ decoder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{decoder\_}})),}
\DoxyCodeLine{00113\ \ \ \ \ estimates(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimates\_dimensions}}),}
\DoxyCodeLine{00114\ \ \ \ \ max\_sizes(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimates\_dimensions}})}
\DoxyCodeLine{00115\ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ srsran\_assert(channel\_estimator\_format\_1,\ \textcolor{stringliteral}{"{}Invalid\ channel\ estimator\ for\ PUCCH\ Format\ 1."{}});}
\DoxyCodeLine{00117\ \ \ \ \ srsran\_assert(channel\_estimator\_format\_2,\ \textcolor{stringliteral}{"{}Invalid\ channel\ estimator\ for\ PUCCH\ Format\ 2."{}});}
\DoxyCodeLine{00118\ \ \ \ \ srsran\_assert(detector,\ \textcolor{stringliteral}{"{}Invalid\ detector."{}});}
\DoxyCodeLine{00119\ \ \ \ \ srsran\_assert(demodulator,\ \textcolor{stringliteral}{"{}Invalid\ PUCCH\ demodulator."{}});}
\DoxyCodeLine{00120\ \ \ \ \ srsran\_assert(decoder,\ \textcolor{stringliteral}{"{}Invalid\ UCI\ decoder."{}});}
\DoxyCodeLine{00121\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pucch__processor__impl_a95285853a30142520ae570786efcc652}\label{classsrsran_1_1pucch__processor__impl_a95285853a30142520ae570786efcc652} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} srsran\+::pucch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format0__configuration}{format0\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH Format 0 message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 0 configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The PUCCH process result. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__processor_a6f97b6496bc125fd29fb00c9ea057207}{srsran\+::pucch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ pucch\_detector::format0\_configuration\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}};}
\DoxyCodeLine{00072\ \ \ \ \ std::pair<pucch\_uci\_message,\ channel\_state\_information>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}\ =\ detector-\/>detect(grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}});}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ pucch\_processor\_result\ result;}
\DoxyCodeLine{00075\ \ \ \ \ result.message\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}.first;}
\DoxyCodeLine{00076\ \ \ \ \ result.csi\ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}.second;}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00079\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__processor__impl_a64b530e5722315a05f4ee253d6a106e2}\label{classsrsran_1_1pucch__processor__impl_a64b530e5722315a05f4ee253d6a106e2} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} pucch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format1__configuration}{format1\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH Format 1 message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 1 configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The PUCCH process result. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__processor_a2146aa56c7b6e2bd333cc3e1ef914862}{srsran\+::pucch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \{}
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ Check\ that\ the\ PUCCH\ Format\ 1\ configuration\ is\ valid.}}
\DoxyCodeLine{00033\ \ \ assert\_format1\_config(config);}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ Prepare\ channel\ estimation.}}
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{structsrsran_1_1dmrs__pucch__processor_1_1config__t}{dmrs\_pucch\_processor::config\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}};}
\DoxyCodeLine{00037\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.\mbox{\hyperlink{structsrsran_1_1dmrs__pucch__processor_1_1config__t_a1dd189c40dce2d3a2a30bcdee9e36a97}{format}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pucch\_format::FORMAT\_1;}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.slot\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.slot;}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.cp\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.cp;}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.start\_symbol\_index\ \ \ =\ config.start\_symbol\_index;}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.nof\_symbols\ \ \ \ \ \ \ \ \ \ =\ config.nof\_symbols;}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.starting\_prb\ \ \ \ \ \ \ \ \ =\ config.starting\_prb\ +\ config.bwp\_start\_rb;}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.intra\_slot\_hopping\ \ \ =\ config.second\_hop\_prb.has\_value();}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.second\_hop\_prb\ \ \ \ \ \ \ =\ config.second\_hop\_prb.has\_value()}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ (config.second\_hop\_prb.value()\ +\ config.bwp\_start\_rb)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.starting\_prb;}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.initial\_cyclic\_shift\ =\ config.initial\_cyclic\_shift;}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.time\_domain\_occ\ \ \ \ \ \ =\ config.time\_domain\_occ;}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.n\_id;}
\DoxyCodeLine{00050\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.ports.assign(config.ports.begin(),\ config.ports.end());}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ Unused\ channel\ estimator\ parameters\ for\ this\ format.}}
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.group\_hopping\ \ \ =\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964ca9fc49374420f4310fb89e88ea2689da5}{pucch\_group\_hopping::NEITHER}};}
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.nof\_prb\ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.n\_id\_0\ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.additional\_dmrs\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ Prepare\ channel\ estimate.}}
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\_estimate::channel\_estimate\_dimensions}}\ dims;}
\DoxyCodeLine{00060\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_a24df3f37b165eafa20372fb1a6d92593}{nof\_prb}}\ \ \ \ \ \ \ =\ config.bwp\_start\_rb\ +\ config.bwp\_size\_rb;}
\DoxyCodeLine{00061\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_a759f9917bb054394d9c63c6d200a5da0}{nof\_symbols}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(config.cp);}
\DoxyCodeLine{00062\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_ac6d21f6cff9ce01f2e5371cad1874fcd}{nof\_rx\_ports}}\ \ =\ config.ports.size();}
\DoxyCodeLine{00063\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_adf05f48ebdec3324019177430f92f5a7}{nof\_tx\_layers}}\ =\ pucch\_constants::MAX\_LAYERS;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ estimates.\mbox{\hyperlink{classsrsran_1_1channel__estimate_a866476ab3a67570fa83ee5ab42a892d6}{resize}}(dims);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ Perform\ channel\ estimation.}}
\DoxyCodeLine{00068\ \ \ channel\_estimator\_format\_1-\/>estimate(estimates,\ grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}});}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{//\ Prepare\ detector\ configuration.}}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__detector_1_1format1__configuration}{pucch\_detector::format1\_configuration}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}};}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.\mbox{\hyperlink{structsrsran_1_1pucch__detector_1_1format1__configuration_a938b1be9a8cf61b278deb0fe6ab02f03}{slot}}\ \ \ \ \ \ \ \ \ =\ config.slot;}
\DoxyCodeLine{00073\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.cp\ \ \ \ \ \ \ \ \ \ \ =\ config.cp;}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.starting\_prb\ =\ config.starting\_prb\ +\ config.bwp\_start\_rb;}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ (config.second\_hop\_prb.has\_value())\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.second\_hop\_prb.emplace(config.second\_hop\_prb.value()\ +\ config.bwp\_start\_rb);}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.start\_symbol\_index\ \ \ =\ config.start\_symbol\_index;}
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.nof\_symbols\ \ \ \ \ \ \ \ \ \ =\ config.nof\_symbols;}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.group\_hopping\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964ca9fc49374420f4310fb89e88ea2689da5}{pucch\_group\_hopping::NEITHER}};}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.port\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.ports.front();}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.beta\_pucch\ \ \ \ \ \ \ \ \ \ \ =\ 1.0F;}
\DoxyCodeLine{00083\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.time\_domain\_occ\ \ \ \ \ \ =\ config.time\_domain\_occ;}
\DoxyCodeLine{00084\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.initial\_cyclic\_shift\ =\ config.initial\_cyclic\_shift;}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.n\_id;}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}}.nof\_harq\_ack\ \ \ \ \ \ \ \ \ =\ config.nof\_harq\_ack;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ Actual\ message\ detection.}}
\DoxyCodeLine{00089\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__detector_1_1pucch__detection__result}{pucch\_detector::pucch\_detection\_result}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}\ =\ detector-\/>detect(grid,\ estimates,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detector\_config}});}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ Prepare\ result.}}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\_processor\_result}}\ result;}
\DoxyCodeLine{00093\ \ \ estimates.\mbox{\hyperlink{classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc}{get\_channel\_state\_information}}(result.csi);}
\DoxyCodeLine{00094\ \ \ result.message\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}.uci\_message;}
\DoxyCodeLine{00095\ \ \ result.detection\_metric\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{detection\_result}}.detection\_metric;}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00098\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__processor__impl_aa4b5c9ee47dbd143bdc2fbaa54b27982}\label{classsrsran_1_1pucch__processor__impl_aa4b5c9ee47dbd143bdc2fbaa54b27982} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} pucch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format2__configuration}{format2\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH Format 2 message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 2 configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The PUCCH process result. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__processor_abb1f25c046643557e420c7aec8b094aa}{srsran\+::pucch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{}
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ Check\ that\ the\ PUCCH\ Format\ 2\ configuration\ is\ valid.}}
\DoxyCodeLine{00104\ \ \ assert\_format2\_config(config);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\_processor\_result}}\ result;}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ PUCCH\ UCI\ message\ configuration.}}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__uci__message_1_1configuration}{pucch\_uci\_message::configuration}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}};}
\DoxyCodeLine{00110\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}}.\mbox{\hyperlink{structsrsran_1_1pucch__uci__message_1_1configuration_ab4c94ec41890456033a05b2efe32814e}{nof\_sr}}\ \ \ \ \ \ \ \ =\ config.nof\_sr;}
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}}.nof\_harq\_ack\ \ =\ config.nof\_harq\_ack;}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}}.nof\_csi\_part1\ =\ config.nof\_csi\_part1;}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}}.nof\_csi\_part2\ =\ config.nof\_csi\_part2;}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ result.message\ =\ \mbox{\hyperlink{classsrsran_1_1pucch__uci__message}{pucch\_uci\_message}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_uci\_message\_config}});}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ Channel\ estimator\ configuration.}}
\DoxyCodeLine{00118\ \ \ \mbox{\hyperlink{structsrsran_1_1dmrs__pucch__processor_1_1config__t}{dmrs\_pucch\_processor::config\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}};}
\DoxyCodeLine{00119\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.\mbox{\hyperlink{structsrsran_1_1dmrs__pucch__processor_1_1config__t_a1dd189c40dce2d3a2a30bcdee9e36a97}{format}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pucch\_format::FORMAT\_2;}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.slot\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.slot;}
\DoxyCodeLine{00121\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.cp\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.cp;}
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.group\_hopping\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_afd00fa3eb3bf558276dee93d12e9964ca9fc49374420f4310fb89e88ea2689da5}{pucch\_group\_hopping::NEITHER}};}
\DoxyCodeLine{00123\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.start\_symbol\_index\ \ \ =\ config.start\_symbol\_index;}
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.nof\_symbols\ \ \ \ \ \ \ \ \ \ =\ config.nof\_symbols;}
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.starting\_prb\ \ \ \ \ \ \ \ \ =\ config.bwp\_start\_rb\ +\ config.starting\_prb;}
\DoxyCodeLine{00126\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.intra\_slot\_hopping\ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00127\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.second\_hop\_prb\ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.nof\_prb\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.nof\_prb;}
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.initial\_cyclic\_shift\ =\ 0;}
\DoxyCodeLine{00130\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.time\_domain\_occ\ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.additional\_dmrs\ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.n\_id;}
\DoxyCodeLine{00133\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.n\_id\_0\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.n\_id\_0;}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}}.ports.assign(config.ports.begin(),\ config.ports.end());}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ Prepare\ channel\ estimate.}}
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\_estimate::channel\_estimate\_dimensions}}\ dims;}
\DoxyCodeLine{00138\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_a24df3f37b165eafa20372fb1a6d92593}{nof\_prb}}\ \ \ \ \ \ \ =\ config.bwp\_start\_rb\ +\ config.bwp\_size\_rb;}
\DoxyCodeLine{00139\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_a759f9917bb054394d9c63c6d200a5da0}{nof\_symbols}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(config.cp);}
\DoxyCodeLine{00140\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_ac6d21f6cff9ce01f2e5371cad1874fcd}{nof\_rx\_ports}}\ \ =\ config.ports.size();}
\DoxyCodeLine{00141\ \ \ dims.\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions_adf05f48ebdec3324019177430f92f5a7}{nof\_tx\_layers}}\ =\ pucch\_constants::MAX\_LAYERS;}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ estimates.\mbox{\hyperlink{classsrsran_1_1channel__estimate_a866476ab3a67570fa83ee5ab42a892d6}{resize}}(dims);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{comment}{//\ Perform\ channel\ estimation.}}
\DoxyCodeLine{00146\ \ \ channel\_estimator\_format\_2-\/>estimate(estimates,\ grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{estimator\_config}});}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ estimates.\mbox{\hyperlink{classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc}{get\_channel\_state\_information}}(result.csi);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<log\_likelihood\_ratio>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}\ =}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<log\_likelihood\_ratio>}}(temp\_llr).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(pucch\_constants::FORMAT2\_NOF\_DATA\_SC\ *\ config.nof\_prb\ *}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config.nof\_symbols\ *\ \mbox{\hyperlink{namespacesrsran_af78ee928d6d8a3d8ff6bbc753f50c44e}{get\_bits\_per\_symbol}}(\mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802dfa4539d029e1781f9347b6d7d173c04a6a}{modulation\_scheme::QPSK}}));}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \textcolor{comment}{//\ PUCCH\ Format\ 2\ demodulator\ configuration.}}
\DoxyCodeLine{00155\ \ \ \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format2__configuration}{pucch\_demodulator::format2\_configuration}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}};}
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.\mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format2__configuration_a4991565f8ae80539d8207be080f87bf6}{rx\_ports}}\ \ \ \ \ \ \ \ \ \ \ =\ config.ports;}
\DoxyCodeLine{00157\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.first\_prb\ \ \ \ \ \ \ \ \ \ =\ config.bwp\_start\_rb\ +\ config.starting\_prb;}
\DoxyCodeLine{00158\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.nof\_prb\ \ \ \ \ \ \ \ \ \ \ \ =\ config.nof\_prb;}
\DoxyCodeLine{00159\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.start\_symbol\_index\ =\ config.start\_symbol\_index;}
\DoxyCodeLine{00160\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.nof\_symbols\ \ \ \ \ \ \ \ =\ config.nof\_symbols;}
\DoxyCodeLine{00161\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.rnti\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.rnti;}
\DoxyCodeLine{00162\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}}.n\_id\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.n\_id;}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \textcolor{comment}{//\ Perform\ demodulation.}}
\DoxyCodeLine{00165\ \ \ demodulator-\/>demodulate(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}},\ grid,\ estimates,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demod\_config}});}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \textcolor{comment}{//\ UCI\ decoder\ configuration.}}
\DoxyCodeLine{00168\ \ \ \mbox{\hyperlink{structsrsran_1_1uci__decoder_1_1configuration}{uci\_decoder::configuration}}\ decoder\_config;}
\DoxyCodeLine{00169\ \ \ decoder\_config.\mbox{\hyperlink{structsrsran_1_1uci__decoder_1_1configuration_a2bb14b8670d03d0020059ff5fa4ee85e}{modulation}}\ =\ \mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802dfa4539d029e1781f9347b6d7d173c04a6a}{modulation\_scheme::QPSK}};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{//\ Decode\ UCI\ payload.}}
\DoxyCodeLine{00172\ \ \ result.message.set\_status(decoder-\/>decode(result.message.get\_full\_payload(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}},\ decoder\_config));}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{//\ Expected\ UCI\ payload\ length\ in\ number\ of\ bits.}}
\DoxyCodeLine{00175\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expected\_nof\_uci\_bits}}\ =\ config.nof\_harq\_ack\ +\ config.nof\_sr\ +\ config.nof\_csi\_part1\ +\ config.nof\_csi\_part2;}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{//\ Assert\ that\ the\ decoded\ UCI\ payload\ has\ the\ expected\ number\ of\ bits.}}
\DoxyCodeLine{00178\ \ \ srsran\_assert(result.message.get\_full\_payload().size()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expected\_nof\_uci\_bits}},}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Decoded\ UCI\ payload\ length,\ i.e.,\ \{\},\ does\ not\ match\ expected\ number\ of\ UCI\ bits,\ i.e.,\ \{\}."{}},}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.message.get\_full\_payload().size(),}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{expected\_nof\_uci\_bits}});}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00184\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__processor__impl_ae516566b99eaa236dc5d30f690efff64}\label{classsrsran_1_1pucch__processor__impl_ae516566b99eaa236dc5d30f690efff64} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} srsran\+::pucch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format3__configuration}{format3\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH Format 3 message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 3 configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The PUCCH process result. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__processor_ad90bd9716bb608c2fa5ef354ace2c451}{srsran\+::pucch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00089\ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ TBD.}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ pucch\_processor\_result();}
\DoxyCodeLine{00092\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__processor__impl_a6ab6d719f920c14214cd7ea19f22a40f}\label{classsrsran_1_1pucch__processor__impl_a6ab6d719f920c14214cd7ea19f22a40f} 
\index{srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}!process@{process}}
\index{process@{process}!srsran::pucch\_processor\_impl@{srsran::pucch\_processor\_impl}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1pucch__processor__result}{pucch\+\_\+processor\+\_\+result}} srsran\+::pucch\+\_\+processor\+\_\+impl\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__processor_1_1format4__configuration}{format4\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH Format 4 message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em indication} & PUCCH process result. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 4 configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The PUCCH process result. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__processor_a4c81a8a42d5957c60569332814ce6278}{srsran\+::pucch\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096\ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{//\ TBD.}}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{return}\ pucch\_processor\_result();}
\DoxyCodeLine{00099\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pucch\+\_\+processor\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pucch\+\_\+processor\+\_\+impl.\+cpp\end{DoxyCompactItemize}
