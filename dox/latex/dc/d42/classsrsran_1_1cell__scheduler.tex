\doxysection{srsran\+::cell\+\_\+scheduler Class Reference}
\hypertarget{classsrsran_1_1cell__scheduler}{}\label{classsrsran_1_1cell__scheduler}\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}}


This class holds all the resources that are specific to a cell. This includes the SIB and RA scheduler objects, PDCCH scheduler object, the cell resource grid, etc.  




{\ttfamily \#include $<$cell\+\_\+scheduler.\+h$>$}



Collaboration diagram for srsran\+::cell\+\_\+scheduler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d36/classsrsran_1_1cell__scheduler__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1cell__scheduler_a6dc0d5233636651863169807e42814cb}{cell\+\_\+scheduler}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__expert__config}{scheduler\+\_\+expert\+\_\+config}} \&sched\+\_\+cfg, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message}{sched\+\_\+cell\+\_\+configuration\+\_\+request\+\_\+message}} \&msg, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&cell\+\_\+cfg, \mbox{\hyperlink{classsrsran_1_1ue__scheduler}{ue\+\_\+scheduler}} \&\mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\+\_\+sched}}, \mbox{\hyperlink{classsrsran_1_1scheduler__event__logger}{scheduler\+\_\+event\+\_\+logger}} \&ev\+\_\+logger, \mbox{\hyperlink{classsrsran_1_1scheduler__metrics__handler}{scheduler\+\_\+metrics\+\_\+handler}} \&metrics)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__scheduler_ace1dbfa2be3f5ce6d604f92c664a2bba}{run\+\_\+slot}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} sl\+\_\+tx)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__result}{sched\+\_\+result}} \& \mbox{\hyperlink{classsrsran_1_1cell__scheduler_a5ee8bcd9e1a99263ae9ba59cdbc3ecb8}{last\+\_\+result}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__scheduler_a15614d42c2616e68568cd9131ab16d01}{handle\+\_\+rach\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rach__indication__message}{rach\+\_\+indication\+\_\+message}} \&msg)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__scheduler_a7592d60aacc387a63480b5362826e3e1}{handle\+\_\+crc\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__crc__indication}{ul\+\_\+crc\+\_\+indication}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\+\_\+ind}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1cell__scheduler_a5ef8ee91623e25874cd759ad8bad87e0}{handle\+\_\+paging\+\_\+information}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__paging__information}{sched\+\_\+paging\+\_\+information}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pi}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1cell__scheduler_a06dde2118496304eb53b073033988ced}\label{classsrsran_1_1cell__scheduler_a06dde2118496304eb53b073033988ced} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \& {\bfseries cell\+\_\+cfg}
\item 
\Hypertarget{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}\label{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9} 
\mbox{\hyperlink{classsrsran_1_1ue__scheduler}{ue\+\_\+scheduler}} \& {\bfseries ue\+\_\+sched}
\begin{DoxyCompactList}\small\item\em Reference to UE scheduler whose DU cell group contains this cell. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class holds all the resources that are specific to a cell. This includes the SIB and RA scheduler objects, PDCCH scheduler object, the cell resource grid, etc. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1cell__scheduler_a6dc0d5233636651863169807e42814cb}\label{classsrsran_1_1cell__scheduler_a6dc0d5233636651863169807e42814cb} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!cell\_scheduler@{cell\_scheduler}}
\index{cell\_scheduler@{cell\_scheduler}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{cell\_scheduler()}{cell\_scheduler()}}
{\footnotesize\ttfamily cell\+\_\+scheduler\+::cell\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__expert__config}{scheduler\+\_\+expert\+\_\+config}} \&}]{sched\+\_\+cfg,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__cell__configuration__request__message}{sched\+\_\+cell\+\_\+configuration\+\_\+request\+\_\+message}} \&}]{msg,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1cell__configuration}{cell\+\_\+configuration}} \&}]{cell\+\_\+cfg,  }\item[{\mbox{\hyperlink{classsrsran_1_1ue__scheduler}{ue\+\_\+scheduler}} \&}]{ue\+\_\+sched,  }\item[{\mbox{\hyperlink{classsrsran_1_1scheduler__event__logger}{scheduler\+\_\+event\+\_\+logger}} \&}]{ev\+\_\+logger,  }\item[{\mbox{\hyperlink{classsrsran_1_1scheduler__metrics__handler}{scheduler\+\_\+metrics\+\_\+handler}} \&}]{metrics }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00035\ \ \ cell\_cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_cfg\_}}),}
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\_sched}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_sched\_}}),}
\DoxyCodeLine{00037\ \ \ res\_grid(cell\_cfg),}
\DoxyCodeLine{00038\ \ \ event\_logger(ev\_logger),}
\DoxyCodeLine{00039\ \ \ metrics(metrics\_handler),}
\DoxyCodeLine{00040\ \ \ result\_logger(sched\_cfg.log\_broadcast\_messages,\ cell\_cfg.cell\_index),}
\DoxyCodeLine{00041\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}SCHED"{}})),}
\DoxyCodeLine{00042\ \ \ ssb\_sch(cell\_cfg),}
\DoxyCodeLine{00043\ \ \ pdcch\_sch(cell\_cfg),}
\DoxyCodeLine{00044\ \ \ csi\_sch(cell\_cfg),}
\DoxyCodeLine{00045\ \ \ ra\_sch(sched\_cfg.ra,\ cell\_cfg,\ pdcch\_sch,\ ev\_logger),}
\DoxyCodeLine{00046\ \ \ prach\_sch(cell\_cfg),}
\DoxyCodeLine{00047\ \ \ pucch\_alloc(cell\_cfg,\ sched\_cfg.ue.\mbox{\hyperlink{structsrsran_1_1scheduler__ue__expert__config_a1fb8a4ea2cdd40e0df539f844331b09b}{max\_pucchs\_per\_slot}},\ sched\_cfg.ue.\mbox{\hyperlink{structsrsran_1_1scheduler__ue__expert__config_acd5a312b18e77ecdcb45c36c450a407b}{max\_ul\_grants\_per\_slot}}),}
\DoxyCodeLine{00048\ \ \ uci\_alloc(pucch\_alloc),}
\DoxyCodeLine{00049\ \ \ sib1\_sch(sched\_cfg.si,\ cell\_cfg,\ pdcch\_sch,\ msg),}
\DoxyCodeLine{00050\ \ \ si\_msg\_sch(sched\_cfg.si,\ cell\_cfg,\ pdcch\_sch,\ msg),}
\DoxyCodeLine{00051\ \ \ pucch\_guard\_sch(cell\_cfg),}
\DoxyCodeLine{00052\ \ \ pg\_sch(sched\_cfg,\ cell\_cfg,\ pdcch\_sch,\ msg)}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ Register\ new\ cell\ in\ the\ UE\ scheduler.}}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\_sched}}.add\_cell(\mbox{\hyperlink{structsrsran_1_1ue__scheduler__cell__params}{ue\_scheduler\_cell\_params}}\{msg.cell\_index,\ \&pdcch\_sch,\ \&pucch\_alloc,\ \&uci\_alloc,\ \&res\_grid\});}
\DoxyCodeLine{00056\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1cell__scheduler_a7592d60aacc387a63480b5362826e3e1}\label{classsrsran_1_1cell__scheduler_a7592d60aacc387a63480b5362826e3e1} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!handle\_crc\_indication@{handle\_crc\_indication}}
\index{handle\_crc\_indication@{handle\_crc\_indication}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{handle\_crc\_indication()}{handle\_crc\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} cell\+\_\+scheduler\+::handle\+\_\+crc\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__crc__indication}{ul\+\_\+crc\+\_\+indication}} \&}]{crc\+\_\+ind }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00059\ \{}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{has\_msg3\_crcs}}\ =\ std::any\_of(}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.crcs.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.crcs.end(),\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ pdu)\ \{\ return\ pdu.ue\_index\ ==\ INVALID\_DU\_UE\_INDEX;\ \});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{has\_msg3\_crcs}})\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1ul__crc__indication}{ul\_crc\_indication}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{msg3\_crcs}}\{\},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_crcs}}\{\};}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{msg3\_crcs}}.sl\_rx\ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.sl\_rx;}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{msg3\_crcs}}.cell\_index\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.cell\_index;}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_crcs}}.sl\_rx\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.sl\_rx;}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_crcs}}.cell\_index\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.cell\_index;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1ul__crc__pdu__indication}{ul\_crc\_pdu\_indication}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_pdu}}\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}}.crcs)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_pdu}}.ue\_index\ ==\ INVALID\_DU\_UE\_INDEX)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{msg3\_crcs}}.crcs.push\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_pdu}});}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_crcs}}.crcs.push\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_pdu}});}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Forward\ CRC\ to\ Msg3\ HARQs\ that\ has\ no\ ueId\ yet\ associated.}}
\DoxyCodeLine{00077\ \ \ \ \ ra\_sch.\mbox{\hyperlink{classsrsran_1_1ra__scheduler_a0e269324af31260a0a428f36e491a63c}{handle\_crc\_indication}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{msg3\_crcs}});}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Forward\ remaining\ CRCs\ to\ UE\ scheduler.}}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\_sched}}.get\_feedback\_handler().handle\_crc\_indication(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_crcs}});}
\DoxyCodeLine{00080\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\_sched}}.get\_feedback\_handler().handle\_crc\_indication(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_ind}});}
\DoxyCodeLine{00082\ \ \ \}}
\DoxyCodeLine{00083\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__scheduler_a5ef8ee91623e25874cd759ad8bad87e0}\label{classsrsran_1_1cell__scheduler_a5ef8ee91623e25874cd759ad8bad87e0} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!handle\_paging\_information@{handle\_paging\_information}}
\index{handle\_paging\_information@{handle\_paging\_information}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{handle\_paging\_information()}{handle\_paging\_information()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::cell\+\_\+scheduler\+::handle\+\_\+paging\+\_\+information (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__paging__information}{sched\+\_\+paging\+\_\+information}} \&}]{pi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{\ pg\_sch.\mbox{\hyperlink{classsrsran_1_1paging__scheduler_a403fbb2a6662ca0c34526c8261f6af96}{handle\_paging\_information}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pi}});\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__scheduler_a15614d42c2616e68568cd9131ab16d01}\label{classsrsran_1_1cell__scheduler_a15614d42c2616e68568cd9131ab16d01} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!handle\_rach\_indication@{handle\_rach\_indication}}
\index{handle\_rach\_indication@{handle\_rach\_indication}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{handle\_rach\_indication()}{handle\_rach\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::cell\+\_\+scheduler\+::handle\+\_\+rach\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rach__indication__message}{rach\+\_\+indication\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00062\ \{\ ra\_sch.\mbox{\hyperlink{classsrsran_1_1ra__scheduler_a458acf6cb413052be3cfa62d81d67387}{handle\_rach\_indication}}(msg);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__scheduler_a5ee8bcd9e1a99263ae9ba59cdbc3ecb8}\label{classsrsran_1_1cell__scheduler_a5ee8bcd9e1a99263ae9ba59cdbc3ecb8} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!last\_result@{last\_result}}
\index{last\_result@{last\_result}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{last\_result()}{last\_result()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1sched__result}{sched\+\_\+result}} \& srsran\+::cell\+\_\+scheduler\+::last\+\_\+result (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{\ \textcolor{keywordflow}{return}\ res\_grid[0].result;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1cell__scheduler_ace1dbfa2be3f5ce6d604f92c664a2bba}\label{classsrsran_1_1cell__scheduler_ace1dbfa2be3f5ce6d604f92c664a2bba} 
\index{srsran::cell\_scheduler@{srsran::cell\_scheduler}!run\_slot@{run\_slot}}
\index{run\_slot@{run\_slot}!srsran::cell\_scheduler@{srsran::cell\_scheduler}}
\doxysubsubsection{\texorpdfstring{run\_slot()}{run\_slot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} cell\+\_\+scheduler\+::run\+\_\+slot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{sl\+\_\+tx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \{}
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ If\ there\ are\ skipped\ slots,\ handle\ them.\ Otherwise,\ the\ cell\ grid\ and\ cached\ results\ are\ not\ correctly\ cleared.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{compiler_8h_ace7b29eabaab627226463cd33ae06192}{SRSRAN\_LIKELY}}(res\_grid.\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator_aa52169b8647ed214277cbc027f52f4bc}{slot\_tx}}().\mbox{\hyperlink{classsrsran_1_1slot__point_a988d40945efc785f48725c857852c922}{valid}}()))\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{compiler_8h_a1bdfef20c1237666a841b5c9b9c8e69b}{SRSRAN\_UNLIKELY}}(res\_grid.\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator_aa52169b8647ed214277cbc027f52f4bc}{slot\_tx}}()\ +\ 1\ !=\ sl\_tx))\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\_point}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}}\ =\ res\_grid.\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator_aa52169b8647ed214277cbc027f52f4bc}{slot\_tx}}()\ +\ 1;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}Status:\ Detected\ skipped\ slot=\{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}});}
\DoxyCodeLine{00092\ \ \ \ \ \ \ res\_grid.\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator_aaabf70a4007c1e2983668e0351824d57}{slot\_indication}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}});}
\DoxyCodeLine{00093\ \ \ \ \ \ \ pdcch\_sch.slot\_indication(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}});}
\DoxyCodeLine{00094\ \ \ \ \ \ \ pucch\_alloc.\mbox{\hyperlink{classsrsran_1_1pucch__allocator__impl_a28afae114a35aaba7930a38598c46c3f}{slot\_indication}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}});}
\DoxyCodeLine{00095\ \ \ \ \ \ \ uci\_alloc.\mbox{\hyperlink{classsrsran_1_1uci__allocator__impl_a84eb829ee60066ebf2e38f13386e45c8}{slot\_indication}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{skipped\_slot}});}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ >\ Start\ with\ clearing\ old\ allocations\ from\ the\ grid.}}
\DoxyCodeLine{00100\ \ \ res\_grid.\mbox{\hyperlink{structsrsran_1_1cell__resource__allocator_aaabf70a4007c1e2983668e0351824d57}{slot\_indication}}(sl\_tx);}
\DoxyCodeLine{00101\ \ \ pdcch\_sch.slot\_indication(sl\_tx);}
\DoxyCodeLine{00102\ \ \ pucch\_alloc.\mbox{\hyperlink{classsrsran_1_1pucch__allocator__impl_a28afae114a35aaba7930a38598c46c3f}{slot\_indication}}(sl\_tx);}
\DoxyCodeLine{00103\ \ \ uci\_alloc.\mbox{\hyperlink{classsrsran_1_1uci__allocator__impl_a84eb829ee60066ebf2e38f13386e45c8}{slot\_indication}}(sl\_tx);}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ >\ Mark\ slot\ start\ for\ logging\ purposes.}}
\DoxyCodeLine{00106\ \ \ result\_logger.on\_slot\_start();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ >\ SSB\ scheduling.}}
\DoxyCodeLine{00109\ \ \ ssb\_sch.\mbox{\hyperlink{classsrsran_1_1ssb__scheduler_abb5bdddf271195e8451e12728073560d}{run\_slot}}(res\_grid,\ sl\_tx);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ >\ Schedule\ CSI-\/RS.}}
\DoxyCodeLine{00112\ \ \ csi\_sch.run\_slot(res\_grid[0]);}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ >\ Schedule\ SIB1\ and\ SI-\/message\ signalling.}}
\DoxyCodeLine{00115\ \ \ sib1\_sch.\mbox{\hyperlink{classsrsran_1_1sib1__scheduler_ab13df715de7b2f178fda642f3e1c74b8}{schedule\_sib1}}(res\_grid[0],\ sl\_tx);}
\DoxyCodeLine{00116\ \ \ si\_msg\_sch.\mbox{\hyperlink{classsrsran_1_1si__message__scheduler_ac5938828572886464b5ad441f17441d1}{run\_slot}}(res\_grid[0]);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{//\ >\ Schedule\ PUCCH\ guardbands.}}
\DoxyCodeLine{00119\ \ \ pucch\_guard\_sch.\mbox{\hyperlink{classsrsran_1_1pucch__guardbands__scheduler_abd893d72863b1d965665ba1d5b82ada4}{run\_slot}}(res\_grid);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ >\ Schedule\ PRACH\ PDUs.}}
\DoxyCodeLine{00122\ \ \ prach\_sch.\mbox{\hyperlink{classsrsran_1_1prach__scheduler_a4f3bcd812b4d17894e526e7e0dd420f2}{run\_slot}}(res\_grid);}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{//\ >\ Schedule\ RARs\ and\ Msg3.}}
\DoxyCodeLine{00125\ \ \ ra\_sch.\mbox{\hyperlink{classsrsran_1_1ra__scheduler_a218ba7f4d2fe7d8d8f3f6b6e8eb82066}{run\_slot}}(res\_grid);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//\ >\ Schedule\ Paging.}}
\DoxyCodeLine{00128\ \ \ pg\_sch.\mbox{\hyperlink{classsrsran_1_1paging__scheduler_abb405e5b911a3a370a70be35c86de6f0}{schedule\_paging}}(res\_grid);}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \textcolor{comment}{//\ >\ Schedule\ UE\ DL\ and\ UL\ data.}}
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{classsrsran_1_1cell__scheduler_adbeecd92cd4d7d077824a99a25355ee9}{ue\_sched}}.\mbox{\hyperlink{classsrsran_1_1ue__scheduler_aa5f0746de26f6da9202784824bb86ef5}{run\_slot}}(sl\_tx,\ cell\_cfg.cell\_index);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \textcolor{comment}{//\ >\ Log\ processed\ events.}}
\DoxyCodeLine{00134\ \ \ event\_logger.log();}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ >\ Log\ the\ scheduler\ results.}}
\DoxyCodeLine{00137\ \ \ result\_logger.on\_scheduler\_result(last\_result());}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{comment}{//\ >\ Push\ the\ scheduler\ results\ to\ the\ metrics\ handler.}}
\DoxyCodeLine{00140\ \ \ metrics.\mbox{\hyperlink{classsrsran_1_1scheduler__metrics__handler_abc092a207333c6e214401566aacc960a}{push\_result}}(sl\_tx,\ last\_result());}
\DoxyCodeLine{00141\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/cell\+\_\+scheduler.\+h\item 
lib/scheduler/cell\+\_\+scheduler.\+cpp\end{DoxyCompactItemize}
