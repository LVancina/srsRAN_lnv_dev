\doxysection{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage\texorpdfstring{$<$}{<} std\+::vector\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}, true \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4}{}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4}\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}


Specialization of internal ring\+\_\+buffer data storage for the case a std\+::vector is used. For this specialization, the compiler does not know the size of the buffer at compile time, but it knows that it is a power of 2. Thus, it is able to avoid the \% operator, and uses instead a bit-\/wise and.  




{\ttfamily \#include $<$ring\+\_\+buffer.\+h$>$}



Inheritance diagram for srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage\texorpdfstring{$<$}{<} std\+::vector\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}, true \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{d4/db6/classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage\texorpdfstring{$<$}{<} std\+::vector\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}, true \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/dd4/classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_abaaaf79a74702acf8646046c402864f3}{ring\+\_\+buffer\+\_\+storage}} (\mbox{\hyperlink{classunsigned}{unsigned}} sz)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7e10f7a45848cbc0ef0be0c75a9ebf84}{set\+\_\+size}} (\mbox{\hyperlink{classunsigned}{unsigned}} sz)
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7152ffbd29681e0797a0ebb3c6b3a169}{advance\+\_\+pos}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pos}}, \mbox{\hyperlink{classunsigned}{unsigned}} n) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Advance {\ttfamily pos} by {\ttfamily n} positions accounting for wrap-\/around. Leverages the fact that max\+\_\+size() is a power of 2. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a991e1ab417fa3e274bc1107b757302e7}{max\+\_\+size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a2e515ad46c9c30d23d61f019d0e3115a}{swap}} (\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{ring\+\_\+buffer\+\_\+storage}} \&\mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a75679a46a8fb9e66c7edd18326cdeffd}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a75679a46a8fb9e66c7edd18326cdeffd} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries count}
\begin{DoxyCompactList}\small\item\em Number of elements in the buffer. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ae2a0f94aea5183396298861c880ba49a}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ae2a0f94aea5183396298861c880ba49a} 
std\+::vector$<$ T $>$ {\bfseries data}
\begin{DoxyCompactList}\small\item\em Container where elements are stored. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ab033409451b0c986080ebab6a918edac}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ab033409451b0c986080ebab6a918edac} 
\mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries rpos}
\begin{DoxyCompactList}\small\item\em Reading position. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T$>$\newline
class srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage$<$ std\+::vector$<$ T $>$, true $>$}
Specialization of internal ring\+\_\+buffer data storage for the case a std\+::vector is used. For this specialization, the compiler does not know the size of the buffer at compile time, but it knows that it is a power of 2. Thus, it is able to avoid the \% operator, and uses instead a bit-\/wise and. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_abaaaf79a74702acf8646046c402864f3}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_abaaaf79a74702acf8646046c402864f3} 
\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}!ring\_buffer\_storage@{ring\_buffer\_storage}}
\index{ring\_buffer\_storage@{ring\_buffer\_storage}!srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}
\doxysubsubsection{\texorpdfstring{ring\_buffer\_storage()}{ring\_buffer\_storage()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$\+::ring\+\_\+buffer\+\_\+storage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00171\ :\ super\_type(to\_next\_pow2(sz))\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7152ffbd29681e0797a0ebb3c6b3a169}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7152ffbd29681e0797a0ebb3c6b3a169} 
\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}!advance\_pos@{advance\_pos}}
\index{advance\_pos@{advance\_pos}!srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}
\doxysubsubsection{\texorpdfstring{advance\_pos()}{advance\_pos()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$\+::advance\+\_\+pos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{pos,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{n }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Advance {\ttfamily pos} by {\ttfamily n} positions accounting for wrap-\/around. Leverages the fact that max\+\_\+size() is a power of 2. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00182\ \ \ \{}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{comment}{//\ x\ mod\ y\ ==\ x\ *\ (y\ -\/\ 1),\ when\ y\ is\ power\ of\ 2.}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pos}}\ +\ n)\ \&\ (this-\/>max\_size()\ -\/\ 1);}
\DoxyCodeLine{00185\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a991e1ab417fa3e274bc1107b757302e7}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a991e1ab417fa3e274bc1107b757302e7} 
\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}!max\_size@{max\_size}}
\index{max\_size@{max\_size}!srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}
\doxysubsubsection{\texorpdfstring{max\_size()}{max\_size()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{false}} $>$\+::max\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ae2a0f94aea5183396298861c880ba49a}{data}}.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7e10f7a45848cbc0ef0be0c75a9ebf84}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a7e10f7a45848cbc0ef0be0c75a9ebf84} 
\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}!set\_size@{set\_size}}
\index{set\_size@{set\_size}!srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}
\doxysubsubsection{\texorpdfstring{set\_size()}{set\_size()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$\+::set\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00174\ \ \ \{}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ Round\ up\ to\ closest\ power\ of\ 2.}}
\DoxyCodeLine{00176\ \ \ \ \ super\_type::set\_size(to\_next\_pow2(sz));}
\DoxyCodeLine{00177\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a2e515ad46c9c30d23d61f019d0e3115a}\label{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a2e515ad46c9c30d23d61f019d0e3115a} 
\index{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}!swap@{swap}}
\index{swap@{swap}!srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$@{srsran::detail::ring\_buffer\_storage$<$ std::vector$<$ T $>$, true $>$}}
\doxysubsubsection{\texorpdfstring{swap()}{swap()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{srsran\+::detail\+::ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{false}} $>$\+::swap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage}{ring\+\_\+buffer\+\_\+storage}}$<$ std\+::vector$<$ T $>$, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}} $>$ \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00132\ \ \ \{}
\DoxyCodeLine{00133\ \ \ \ \ std::swap(\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ab033409451b0c986080ebab6a918edac}{rpos}},\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.rpos);}
\DoxyCodeLine{00134\ \ \ \ \ std::swap(\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_a75679a46a8fb9e66c7edd18326cdeffd}{count}},\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.count);}
\DoxyCodeLine{00135\ \ \ \ \ std::swap(\mbox{\hyperlink{classsrsran_1_1detail_1_1ring__buffer__storage_3_01std_1_1vector_3_01T_01_4_00_01true_01_4_ae2a0f94aea5183396298861c880ba49a}{data}},\ \mbox{\hyperlink{namespacesrsran_aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf}{other}}.data);}
\DoxyCodeLine{00136\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/adt/ring\+\_\+buffer.\+h\end{DoxyCompactItemize}
