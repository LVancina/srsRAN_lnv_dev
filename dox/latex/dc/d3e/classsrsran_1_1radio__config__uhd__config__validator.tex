\doxysection{srsran\+::radio\+\_\+config\+\_\+uhd\+\_\+config\+\_\+validator Class Reference}
\hypertarget{classsrsran_1_1radio__config__uhd__config__validator}{}\label{classsrsran_1_1radio__config__uhd__config__validator}\index{srsran::radio\_config\_uhd\_config\_validator@{srsran::radio\_config\_uhd\_config\_validator}}


Radio configuration validator for uhd based radios.  




{\ttfamily \#include $<$radio\+\_\+config\+\_\+uhd\+\_\+validator.\+h$>$}



Inheritance diagram for srsran\+::radio\+\_\+config\+\_\+uhd\+\_\+config\+\_\+validator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d5/d20/classsrsran_1_1radio__config__uhd__config__validator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::radio\+\_\+config\+\_\+uhd\+\_\+config\+\_\+validator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d5/d23/classsrsran_1_1radio__config__uhd__config__validator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1radio__config__uhd__config__validator_a1aeaf7667d808b5fbb2e28f4a961f05d}{is\+\_\+configuration\+\_\+valid}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio}{radio\+\_\+configuration\+::radio}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Determines whether a radio configuration is valid. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1radio__configuration_1_1validator}{srsran\+::radio\+\_\+configuration\+::validator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}validator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Radio configuration validator for uhd based radios. 

This validator validates that parameters values are generally valid, for example frequencies are valid numbers and positive or stream arguments follow a certain pattern. However, it does not validate whether the actual values are supported by the UHD device.

It is up to the user to select parameters within ranges. These can be consulted using the UHD application {\itshape uhd\+\_\+usrp\+\_\+probe}. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1radio__config__uhd__config__validator_a1aeaf7667d808b5fbb2e28f4a961f05d}\label{classsrsran_1_1radio__config__uhd__config__validator_a1aeaf7667d808b5fbb2e28f4a961f05d} 
\index{srsran::radio\_config\_uhd\_config\_validator@{srsran::radio\_config\_uhd\_config\_validator}!is\_configuration\_valid@{is\_configuration\_valid}}
\index{is\_configuration\_valid@{is\_configuration\_valid}!srsran::radio\_config\_uhd\_config\_validator@{srsran::radio\_config\_uhd\_config\_validator}}
\doxysubsubsection{\texorpdfstring{is\_configuration\_valid()}{is\_configuration\_valid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} radio\+\_\+config\+\_\+uhd\+\_\+config\+\_\+validator\+::is\+\_\+configuration\+\_\+valid (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio}{radio\+\_\+configuration\+::radio}} \&}]{config }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Determines whether a radio configuration is valid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & Configuration parameters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the given radio configuration is valid for the given device, otherwise false. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1radio__configuration_1_1validator_ae830db3076294ea7dfc5065ca42d100b}{srsran\+::radio\+\_\+configuration\+::validator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00174\ \{}
\DoxyCodeLine{00175\ \ \ \textcolor{keywordflow}{if}\ (!validate\_clock\_sources(config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a63fa8b4843026c812c569bce86eadfd4}{clock}}))\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00177\ \ \ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \textcolor{keywordflow}{if}\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ac1fd3bf6b73c6e21f7d5dac645e7d8b5}{tx\_streams}}.size()\ !=\ config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a1b0fcc5284e6480f1dd1431818303f75}{rx\_streams}}.size())\ \{}
\DoxyCodeLine{00180\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}Transmit\ and\ receive\ number\ of\ streams\ must\ be\ equal.\(\backslash\)n"{}});}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00182\ \ \ \}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{keywordflow}{if}\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ac1fd3bf6b73c6e21f7d5dac645e7d8b5}{tx\_streams}}.empty())\ \{}
\DoxyCodeLine{00185\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}At\ least\ one\ transmit\ and\ one\ receive\ stream\ must\ be\ configured.\(\backslash\)n"{}});}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1stream}{radio\_configuration::stream}}\&\ tx\_stream\ :\ config.tx\_streams)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{if}\ (!validate\_stream(tx\_stream,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00192\ \ \ \ \ \}}
\DoxyCodeLine{00193\ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1stream}{radio\_configuration::stream}}\&\ rx\_stream\ :\ config.rx\_streams)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordflow}{if}\ (!validate\_stream(rx\_stream,\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00198\ \ \ \ \ \}}
\DoxyCodeLine{00199\ \ \ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{if}\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ac1fd3bf6b73c6e21f7d5dac645e7d8b5}{tx\_streams}}.size()\ !=\ config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a1b0fcc5284e6480f1dd1431818303f75}{rx\_streams}}.size())\ \{}
\DoxyCodeLine{00202\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}Transmit\ and\ receive\ number\ of\ streams\ must\ be\ equal.\(\backslash\)n"{}});}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{keywordflow}{if}\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a571871adffcbbb61f0a1fffba78322d5}{args}}.find(\textcolor{stringliteral}{"{}type=b2"{}})\ !=\ std::string::npos)\ \{}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_stream}}\ =\ 0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_streams}}\ =\ config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ac1fd3bf6b73c6e21f7d5dac645e7d8b5}{tx\_streams}}.size();\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_stream}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_streams}};\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_stream}})\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ac1fd3bf6b73c6e21f7d5dac645e7d8b5}{tx\_streams}}[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_stream}}].channels.size()\ !=\ config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a1b0fcc5284e6480f1dd1431818303f75}{rx\_streams}}[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_stream}}].channels.size()))\ \{}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}B2x0\ devices\ do\ not\ support\ different\ number\ of\ transmit\ and\ receive\ antennas.\(\backslash\)n"{}});}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00212\ \ \ \ \ \}}
\DoxyCodeLine{00213\ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{keywordflow}{if}\ (!validate\_sampling\_rate(config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a8df4e9404964dad82b189d7ffbe1948c}{sampling\_rate\_hz}}))\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00217\ \ \ \}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \textcolor{keywordflow}{if}\ (!validate\_otw\_format(config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a7e1603bf423792f134e364fa82791475}{otw\_format}}))\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00221\ \ \ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \textcolor{keywordflow}{if}\ (!validate\_log\_level(config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a781c58687460759bf8b3880d60242ebd}{log\_level}}))\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00225\ \ \ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \textcolor{keywordflow}{if}\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_ad921908f41e8e88272c273f9d9e081df}{discontinuous\_tx}}\ \&\&\ (config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a7fb6e3f9febeb534c9efbb5077ade817}{power\_ramping\_us}}\ <\ 0))\ \{}
\DoxyCodeLine{00228\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}Power\ ramping\ time,\ i.e.,\ \{:.1f\}\ us,\ must\ be\ positive\ or\ zero.\(\backslash\)n"{}},\ config.\mbox{\hyperlink{structsrsran_1_1radio__configuration_1_1radio_a7fb6e3f9febeb534c9efbb5077ade817}{power\_ramping\_us}});}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00230\ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00233\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/radio/uhd/radio\+\_\+config\+\_\+uhd\+\_\+validator.\+h\item 
lib/radio/uhd/radio\+\_\+config\+\_\+uhd\+\_\+validator.\+cpp\end{DoxyCompactItemize}
