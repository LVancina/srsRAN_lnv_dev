\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::amf\+\_\+connection\+\_\+manager Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager}{}\label{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager}\index{srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::amf\+\_\+connection\+\_\+manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{d1/d10/classsrsran_1_1srs__cu__cp_1_1amf__connection__manager__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_aedb0c618bc3ca8939929c71fc96ce697}{amf\+\_\+connection\+\_\+manager}} (\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__routine__manager}{cu\+\_\+cp\+\_\+routine\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{routine\+\_\+manager\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__configuration}{ngap\+\_\+configuration}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\+\_\+cfg\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ngap__control__notifier}{cu\+\_\+cp\+\_\+ngap\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\+\_\+ctrl\+\_\+notif\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_ab5c8e0964052b82b86deef34b20b86f0}{connect\+\_\+to\+\_\+amf}} (std\+::promise$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{completion\+\_\+signal}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}})
\begin{DoxyCompactList}\small\item\em Initiates the connection to the AMF. A promise is passed as a parameter to enable blocking synchronization between the completion of the scheduled async task and the caller side. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_a33056baf2c6a73c6ba64e502be5045bb}{is\+\_\+amf\+\_\+connected}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether the CU-\/\+CP is connected to the AMF. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_aedb0c618bc3ca8939929c71fc96ce697}\label{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_aedb0c618bc3ca8939929c71fc96ce697} 
\index{srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}!amf\_connection\_manager@{amf\_connection\_manager}}
\index{amf\_connection\_manager@{amf\_connection\_manager}!srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}}
\doxysubsubsection{\texorpdfstring{amf\_connection\_manager()}{amf\_connection\_manager()}}
{\footnotesize\ttfamily amf\+\_\+connection\+\_\+manager\+::amf\+\_\+connection\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__routine__manager}{cu\+\_\+cp\+\_\+routine\+\_\+manager}} \&}]{routine\+\_\+manager\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__configuration}{ngap\+\_\+configuration}} \&}]{ngap\+\_\+cfg\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ngap__control__notifier}{cu\+\_\+cp\+\_\+ngap\+\_\+control\+\_\+notifier}} \&}]{ngap\+\_\+ctrl\+\_\+notif\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00034\ \ \ routine\_manager(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{routine\_manager\_}}),\ ngap\_cfg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_cfg\_}}),\ ngap\_ctrl\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_ctrl\_notifier\_}})}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_ab5c8e0964052b82b86deef34b20b86f0}\label{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_ab5c8e0964052b82b86deef34b20b86f0} 
\index{srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}!connect\_to\_amf@{connect\_to\_amf}}
\index{connect\_to\_amf@{connect\_to\_amf}!srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}}
\doxysubsubsection{\texorpdfstring{connect\_to\_amf()}{connect\_to\_amf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} amf\+\_\+connection\+\_\+manager\+::connect\+\_\+to\+\_\+amf (\begin{DoxyParamCaption}\item[{std\+::promise$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \texorpdfstring{$\ast$}{*}}]{completion\+\_\+signal = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}} }\end{DoxyParamCaption})}



Initiates the connection to the AMF. A promise is passed as a parameter to enable blocking synchronization between the completion of the scheduled async task and the caller side. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \{}
\DoxyCodeLine{00040\ \ \ \textcolor{comment}{//\ Schedules\ setup\ routine\ to\ be\ executed\ in\ sequence\ with\ other\ CU-\/CP\ procedures.}}
\DoxyCodeLine{00041\ \ \ routine\_manager.schedule\_async\_task(}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([\textcolor{keyword}{this},\ p\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{completion\_signal}}](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<void>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Launch\ procedure\ to\ initiate\ AMF\ connection.}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ CORO\_AWAIT\_VALUE(\textcolor{keywordtype}{bool}\ success,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<amf\_connection\_setup\_routine>}}(ngap\_cfg,\ ngap\_ctrl\_notifier));}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Handle\ result\ of\ NG\ setup.}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ handle\_connection\_setup\_result(success);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ through\ the\ promise\ the\ result\ of\ the\ connection\ setup.}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ p-\/>set\_value(success);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ CORO\_RETURN();}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \}));}
\DoxyCodeLine{00058\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_a33056baf2c6a73c6ba64e502be5045bb}\label{classsrsran_1_1srs__cu__cp_1_1amf__connection__manager_a33056baf2c6a73c6ba64e502be5045bb} 
\index{srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}!is\_amf\_connected@{is\_amf\_connected}}
\index{is\_amf\_connected@{is\_amf\_connected}!srsran::srs\_cu\_cp::amf\_connection\_manager@{srsran::srs\_cu\_cp::amf\_connection\_manager}}
\doxysubsubsection{\texorpdfstring{is\_amf\_connected()}{is\_amf\_connected()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::srs\+\_\+cu\+\_\+cp\+::amf\+\_\+connection\+\_\+manager\+::is\+\_\+amf\+\_\+connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether the CU-\/\+CP is connected to the AMF. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \{\ \textcolor{keywordflow}{return}\ amf\_connected.load(std::memory\_order\_relaxed);\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/cu\+\_\+cp/cu\+\_\+cp\+\_\+controller/amf\+\_\+connection\+\_\+manager.\+h\item 
lib/cu\+\_\+cp/cu\+\_\+cp\+\_\+controller/amf\+\_\+connection\+\_\+manager.\+cpp\end{DoxyCompactItemize}
