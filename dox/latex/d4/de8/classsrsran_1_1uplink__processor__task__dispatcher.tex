\doxysection{srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher Class Reference}
\hypertarget{classsrsran_1_1uplink__processor__task__dispatcher}{}\label{classsrsran_1_1uplink__processor__task__dispatcher}\index{srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}}


Uplink processor implementation with a task dispatcher per channel.  




{\ttfamily \#include $<$uplink\+\_\+processor\+\_\+task\+\_\+dispatcher.\+h$>$}



Inheritance diagram for srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{d7/dc5/classsrsran_1_1uplink__processor__task__dispatcher__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{da/dd4/classsrsran_1_1uplink__processor__task__dispatcher__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1uplink__processor__task__dispatcher_a6dbdda2160f2791ca3917a1c6d45aa47}{uplink\+\_\+processor\+\_\+task\+\_\+dispatcher}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1uplink__processor}{uplink\+\_\+processor}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{processor\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\+\_\+executor\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+executor\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\+\_\+executor\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__task__dispatcher_a6ca9dc116d787e866af62ec749440f0b}{process\+\_\+prach}} (\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&buffer, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&context) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes the PRACH using the given configuration and context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__task__dispatcher_acccb04b113ad587aee7ee25081feb298}{process\+\_\+pusch}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ data, \mbox{\hyperlink{classsrsran_1_1unique__rx__buffer}{unique\+\_\+rx\+\_\+buffer}} rm\+\_\+buffer, \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu}{uplink\+\_\+processor\+::pusch\+\_\+pdu}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUSCH transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1uplink__processor__task__dispatcher_ad043f155b3dbc283626b121b15b4e259}{process\+\_\+pucch}} (\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&notifier, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pucch__pdu}{pucch\+\_\+pdu}} \&pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Processes a PUCCH transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Uplink processor implementation with a task dispatcher per channel. 

In this implementation, every task of a physical channel is processed by the same executor. When a task finishes, the results are notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} interface. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1uplink__processor__task__dispatcher_a6dbdda2160f2791ca3917a1c6d45aa47}\label{classsrsran_1_1uplink__processor__task__dispatcher_a6dbdda2160f2791ca3917a1c6d45aa47} 
\index{srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}!uplink\_processor\_task\_dispatcher@{uplink\_processor\_task\_dispatcher}}
\index{uplink\_processor\_task\_dispatcher@{uplink\_processor\_task\_dispatcher}!srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}}
\doxysubsubsection{\texorpdfstring{uplink\_processor\_task\_dispatcher()}{uplink\_processor\_task\_dispatcher()}}
{\footnotesize\ttfamily srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1uplink__processor}{uplink\+\_\+processor}} $>$}]{processor\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{pucch\+\_\+executor\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{pusch\+\_\+executor\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{prach\+\_\+executor\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00046\ \ \ \ \ processor(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{processor\_}})),}
\DoxyCodeLine{00047\ \ \ \ \ pucch\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pucch\_executor\_}}),}
\DoxyCodeLine{00048\ \ \ \ \ pusch\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_executor\_}}),}
\DoxyCodeLine{00049\ \ \ \ \ prach\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prach\_executor\_}})}
\DoxyCodeLine{00050\ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ srsran\_assert(processor,\ \textcolor{stringliteral}{"{}A\ valid\ uplink\ processor\ must\ be\ provided"{}});}
\DoxyCodeLine{00052\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1uplink__processor__task__dispatcher_a6ca9dc116d787e866af62ec749440f0b}\label{classsrsran_1_1uplink__processor__task__dispatcher_a6ca9dc116d787e866af62ec749440f0b} 
\index{srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}!process\_prach@{process\_prach}}
\index{process\_prach@{process\_prach}!srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}}
\doxysubsubsection{\texorpdfstring{process\_prach()}{process\_prach()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+::process\+\_\+prach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&}]{buffer,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes the PRACH using the given configuration and context. 

The PRACH detection results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event \doxylink{classsrsran_1_1upper__phy__rx__results__notifier_a6af85cf1e4481f8237093724287bb0f5}{on\+\_\+new\+\_\+prach\+\_\+results}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em buffer} & Channel symbols the PRACH detection is performed on. \\
\hline
\mbox{\texttt{ in}}  & {\em context} & Context used by the underlying PRACH detector. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_ad0519efb1c413cbebaaf98c68844e0ca}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =\ prach\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}(}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ [\&notifier,\ \&buffer,\ context,\ \textcolor{keyword}{this}]()\ \{\ processor-\/>process\_prach(notifier,\ buffer,\ context);\ \});}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (!success)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ logger.warning(context.slot.sfn(),\ context.slot.slot\_index(),\ \textcolor{stringliteral}{"{}Failed\ to\ execute\ PRACH.\ Ignoring\ detection."{}});}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1uplink__processor__task__dispatcher_ad043f155b3dbc283626b121b15b4e259}\label{classsrsran_1_1uplink__processor__task__dispatcher_ad043f155b3dbc283626b121b15b4e259} 
\index{srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}!process\_pucch@{process\_pucch}}
\index{process\_pucch@{process\_pucch}!srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}}
\doxysubsubsection{\texorpdfstring{process\_pucch()}{process\_pucch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+::process\+\_\+pucch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pucch__pdu}{pucch\+\_\+pdu}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUCCH transmission. 

The PUCCH results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event \doxylink{classsrsran_1_1upper__phy__rx__results__notifier_a0fefe51cae3fcb5a4518f134aae1f18a}{on\+\_\+new\+\_\+pucch\+\_\+results}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & PUCCH transmission parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_ae3d398b429f188f73ce61c0f1f045d7c}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \ \ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ pucch\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}([\&notifier,\ \&grid,\ pdu,\ \textcolor{keyword}{this}]()\ \{\ processor-\/>process\_pucch(notifier,\ grid,\ pdu);\ \});}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{if}\ (!success)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ logger.warning(}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ pdu.context.slot.sfn(),\ pdu.context.slot.slot\_index(),\ \textcolor{stringliteral}{"{}Failed\ to\ execute\ PUCCH.\ Ignoring\ processing."{}});}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1uplink__processor__task__dispatcher_acccb04b113ad587aee7ee25081feb298}\label{classsrsran_1_1uplink__processor__task__dispatcher_acccb04b113ad587aee7ee25081feb298} 
\index{srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}!process\_pusch@{process\_pusch}}
\index{process\_pusch@{process\_pusch}!srsran::uplink\_processor\_task\_dispatcher@{srsran::uplink\_processor\_task\_dispatcher}}
\doxysubsubsection{\texorpdfstring{process\_pusch()}{process\_pusch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::uplink\+\_\+processor\+\_\+task\+\_\+dispatcher\+::process\+\_\+pusch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{data,  }\item[{\mbox{\hyperlink{classsrsran_1_1unique__rx__buffer}{unique\+\_\+rx\+\_\+buffer}}}]{rm\+\_\+buffer,  }\item[{\mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}} \&}]{notifier,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1uplink__processor_1_1pusch__pdu}{uplink\+\_\+processor\+::pusch\+\_\+pdu}} \&}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Processes a PUSCH transmission. 

The size of each transport block is determined by {\ttfamily data\mbox{[}TB index\mbox{]}.size()}.

The PUSCH results will be notified by the \doxylink{classsrsran_1_1upper__phy__rx__results__notifier}{upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} with event on\+\_\+new\+\_\+pusch\+\_\+results.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em data} & Received transport block. \\
\hline
\mbox{\texttt{ in,out}}  & {\em rm\+\_\+buffer} & Rate matcher buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em notifier} & Event notification interface. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Grid the capture data is stored in. \\
\hline
\mbox{\texttt{ in}}  & {\em pdu} & PUSCH transmission parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1uplink__processor_acb4c0019b0045c7a7766ea1beff35466}{srsran\+::uplink\+\_\+processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ pusch\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}([data,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\_buffer2}}\ =\ std::move(rm\_buffer),\ \&notifier,\ \&grid,\ pdu,\ \textcolor{keyword}{this}]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ processor-\/>process\_pusch(data,\ std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\_buffer2}}),\ notifier,\ grid,\ pdu);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{if}\ (!success)\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ logger.warning(pdu.pdu.slot.sfn(),\ pdu.pdu.slot.slot\_index(),\ \textcolor{stringliteral}{"{}Failed\ to\ execute\ PUSCH.\ Ignoring\ processing."{}});}
\DoxyCodeLine{00081\ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/uplink\+\_\+processor\+\_\+task\+\_\+dispatcher.\+h\end{DoxyCompactItemize}
