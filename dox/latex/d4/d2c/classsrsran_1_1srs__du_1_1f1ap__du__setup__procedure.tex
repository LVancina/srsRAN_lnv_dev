\doxysection{srsran\+::srs\+\_\+du\+::f1ap\+\_\+du\+\_\+setup\+\_\+procedure Class Reference}
\hypertarget{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure}{}\label{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure}\index{srsran::srs\_du::f1ap\_du\_setup\_procedure@{srsran::srs\_du::f1ap\_du\_setup\_procedure}}


F1 Setup Procedure for the g\+NB-\/\+DU as per TS 38.\+473, 8.\+2.\+3.  




{\ttfamily \#include $<$f1ap\+\_\+du\+\_\+setup\+\_\+procedure.\+h$>$}



Collaboration diagram for srsran\+::srs\+\_\+du\+::f1ap\+\_\+du\+\_\+setup\+\_\+procedure\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{d5/de1/classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a54cea5a041685e5912d15176f336ae6c}{f1ap\+\_\+du\+\_\+setup\+\_\+procedure}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1__setup__request__message}{f1\+\_\+setup\+\_\+request\+\_\+message}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{request\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1f1ap__message__notifier}{f1ap\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__du_1_1f1ap__event__manager}{f1ap\+\_\+event\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ev\+\_\+mng\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} \&timers, \mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1ap__du__context}{f1ap\+\_\+du\+\_\+context}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\+\_\+ctxt\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a0335cf2b15656664d3c51921a6154ff1}{operator()}} (\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1__setup__response__message}{f1\+\_\+setup\+\_\+response\+\_\+message}} $>$ $>$ \&ctx)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
F1 Setup Procedure for the g\+NB-\/\+DU as per TS 38.\+473, 8.\+2.\+3. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a54cea5a041685e5912d15176f336ae6c}\label{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a54cea5a041685e5912d15176f336ae6c} 
\index{srsran::srs\_du::f1ap\_du\_setup\_procedure@{srsran::srs\_du::f1ap\_du\_setup\_procedure}!f1ap\_du\_setup\_procedure@{f1ap\_du\_setup\_procedure}}
\index{f1ap\_du\_setup\_procedure@{f1ap\_du\_setup\_procedure}!srsran::srs\_du::f1ap\_du\_setup\_procedure@{srsran::srs\_du::f1ap\_du\_setup\_procedure}}
\doxysubsubsection{\texorpdfstring{f1ap\_du\_setup\_procedure()}{f1ap\_du\_setup\_procedure()}}
{\footnotesize\ttfamily f1ap\+\_\+du\+\_\+setup\+\_\+procedure\+::f1ap\+\_\+du\+\_\+setup\+\_\+procedure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1__setup__request__message}{f1\+\_\+setup\+\_\+request\+\_\+message}} \&}]{request\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1f1ap__message__notifier}{f1ap\+\_\+message\+\_\+notifier}} \&}]{cu\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__du_1_1f1ap__event__manager}{f1ap\+\_\+event\+\_\+manager}} \&}]{ev\+\_\+mng\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} \&}]{timers,  }\item[{\mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1ap__du__context}{f1ap\+\_\+du\+\_\+context}} \&}]{du\+\_\+ctxt\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00039\ \ \ request(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{request\_}}),}
\DoxyCodeLine{00040\ \ \ cu\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_notif\_}}),}
\DoxyCodeLine{00041\ \ \ ev\_mng(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ev\_mng\_}}),}
\DoxyCodeLine{00042\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}DU-\/F1"{}})),}
\DoxyCodeLine{00043\ \ \ du\_ctxt(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\_ctxt\_}}),}
\DoxyCodeLine{00044\ \ \ f1\_setup\_wait\_timer(timers.create\_timer())}
\DoxyCodeLine{00045\ \{}
\DoxyCodeLine{00046\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a0335cf2b15656664d3c51921a6154ff1}\label{classsrsran_1_1srs__du_1_1f1ap__du__setup__procedure_a0335cf2b15656664d3c51921a6154ff1} 
\index{srsran::srs\_du::f1ap\_du\_setup\_procedure@{srsran::srs\_du::f1ap\_du\_setup\_procedure}!operator()@{operator()}}
\index{operator()@{operator()}!srsran::srs\_du::f1ap\_du\_setup\_procedure@{srsran::srs\_du::f1ap\_du\_setup\_procedure}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} f1ap\+\_\+du\+\_\+setup\+\_\+procedure\+::operator() (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__du_1_1f1__setup__response__message}{f1\+\_\+setup\+\_\+response\+\_\+message}} $>$ $>$ \&}]{ctx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \{}
\DoxyCodeLine{00050\ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00053\ \ \ \ \ transaction\ =\ ev\_mng.transactions.create\_transaction();}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ transaction.\mbox{\hyperlink{classsrsran_1_1protocol__transaction_ada14f3210c34dec8da4ddbdf6471119f}{valid}}())\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(create\_f1\_setup\_result());}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ Send\ request\ to\ CU.}}
\DoxyCodeLine{00059\ \ \ \ \ send\_f1\_setup\_request();}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ Await\ CU\ response.}}
\DoxyCodeLine{00062\ \ \ \ \ CORO\_AWAIT(transaction);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ retry\_required())\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{comment}{//\ No\ more\ attempts.\ Exit\ loop.}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00067\ \ \ \ \ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Await\ timer.}}
\DoxyCodeLine{00070\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Received\ F1SetupFailure\ with\ Time\ to\ Wait\ IE\ -\/\ reinitiating\ F1\ setup\ in\ \{\}s\ (retry=\{\}/\{\})"{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ time\_to\_wait.count(),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f1\_setup\_retry\_no,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ request.max\_setup\_retries);}
\DoxyCodeLine{00074\ \ \ \ \ CORO\_AWAIT(}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a498a04b804e0eaa84f9df5bfdb108ffa}{async\_wait\_for}}(f1\_setup\_wait\_timer,\ std::chrono::duration\_cast<std::chrono::milliseconds>(time\_to\_wait)));}
\DoxyCodeLine{00076\ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ Forward\ procedure\ result\ to\ DU\ manager.}}
\DoxyCodeLine{00079\ \ \ CORO\_RETURN(create\_f1\_setup\_result());}
\DoxyCodeLine{00080\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/f1ap/du/procedures/f1ap\+\_\+du\+\_\+setup\+\_\+procedure.\+h\item 
lib/f1ap/du/procedures/f1ap\+\_\+du\+\_\+setup\+\_\+procedure.\+cpp\end{DoxyCompactItemize}
