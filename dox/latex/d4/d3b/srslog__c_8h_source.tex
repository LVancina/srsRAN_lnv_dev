\doxysection{srslog\+\_\+c.\+h}
\hypertarget{srslog__c_8h_source}{}\label{srslog__c_8h_source}\index{include/srsran/srslog/srslog\_c.h@{include/srsran/srslog/srslog\_c.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_\_cplusplus}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{cstddef}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{stddef}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_\_cplusplus}
\DoxyCodeLine{00032\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{/**}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ Common\ types.}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00038\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ srslog\_bool;}
\DoxyCodeLine{00039\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}\ srslog\_opaque\_sink\ \ \ \ \ \ \ \ \ srslog\_sink;}
\DoxyCodeLine{00040\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}\ srslog\_opaque\_log\_channel\ \ srslog\_log\_channel;}
\DoxyCodeLine{00041\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}\ srslog\_opaque\_basic\_logger\ srslog\_logger;}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{/**}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ *\ This\ function\ initializes\ the\ logging\ framework.\ It\ must\ be\ called\ before}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ *\ any\ log\ entry\ is\ generated.}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ *\ NOTE:\ Calling\ this\ function\ more\ than\ once\ has\ no\ side\ effects.}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00048\ \textcolor{keywordtype}{void}\ srslog\_init(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{comment}{/**}}
\DoxyCodeLine{00051\ \textcolor{comment}{\ *\ Installs\ the\ specified\ sink\ to\ be\ used\ as\ the\ default\ one\ by\ new\ log}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ *\ channels\ and\ loggers.}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ *\ The\ initial\ default\ sink\ writes\ to\ stdout.}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00055\ \textcolor{keywordtype}{void}\ srslog\_set\_default\_sink(srslog\_sink*\ s);}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{comment}{/**}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ *\ Returns\ the\ instance\ of\ the\ default\ sink\ being\ used.}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00060\ srslog\_sink*\ srslog\_get\_default\_sink(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{comment}{/**}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ *\ Returns\ an\ instance\ of\ a\ log\_channel\ with\ the\ specified\ id\ that\ writes\ to}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ *\ the\ default\ sink\ using\ the\ default\ log\ channel\ configuration.}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ *\ NOTE:\ Any\ '\#'\ characters\ in\ the\ id\ will\ get\ removed.}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00067\ srslog\_log\_channel*\ srslog\_fetch\_log\_channel(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ id);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{comment}{/**}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ *\ Finds\ a\ log\ channel\ with\ the\ specified\ id\ string\ in\ the\ repository.\ On}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ *\ success\ returns\ a\ pointer\ to\ the\ requested\ log\ channel,\ otherwise\ NULL.}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00073\ srslog\_log\_channel*\ srslog\_find\_log\_channel(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ id);}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{comment}{/**}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ *\ Controls\ whether\ the\ specified\ channel\ accepts\ incoming\ log\ entries.}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ srslog\_set\_log\_channel\_enabled(srslog\_log\_channel*\ channel,\ srslog\_bool\ enabled);}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{comment}{/**}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ *\ Returns\ 1\ if\ the\ specified\ channel\ is\ accepting\ incoming\ log\ entries,}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ *\ otherwise\ 0.}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00084\ srslog\_bool\ srslog\_is\_log\_channel\_enabled(srslog\_log\_channel*\ channel);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{comment}{/**}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ *\ Returns\ the\ id\ string\ of\ the\ specified\ channel.}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00089\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ srslog\_get\_log\_channel\_id(srslog\_log\_channel*\ channel);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{/**}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ *\ Logs\ the\ provided\ log\ entry\ using\ the\ specified\ log\ channel.\ When\ the\ channel}}
\DoxyCodeLine{00093\ \textcolor{comment}{\ *\ is\ disabled\ the\ log\ entry\ wil\ be\ discarded.}}
\DoxyCodeLine{00094\ \textcolor{comment}{\ *\ NOTE:\ Only\ printf\ style\ formatting\ is\ supported\ when\ using\ the\ C\ API.}}
\DoxyCodeLine{00095\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00096\ \textcolor{keywordtype}{void}\ srslog\_log(srslog\_log\_channel*\ channel,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{comment}{/**}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ *\ Returns\ an\ instance\ of\ a\ basic\ logger\ (see\ basic\_logger\ type)\ with\ the}}
\DoxyCodeLine{00100\ \textcolor{comment}{\ *\ specified\ id\ string.\ All\ logger\ channels\ will\ write\ into\ the\ default\ sink.}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00102\ srslog\_logger*\ srslog\_fetch\_default\_logger(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ id);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{comment}{/**}}
\DoxyCodeLine{00105\ \textcolor{comment}{\ *\ Finds\ a\ logger\ with\ the\ specified\ id\ string\ in\ the\ repository.\ On\ success}}
\DoxyCodeLine{00106\ \textcolor{comment}{\ *\ returns\ a\ pointer\ to\ the\ requested\ log\ channel,\ otherwise\ NULL.}}
\DoxyCodeLine{00107\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00108\ srslog\_logger*\ srslog\_find\_default\_logger(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ id);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{comment}{/**}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ *\ These\ functions\ log\ the\ provided\ log\ entry\ using\ the\ specified\ logger.}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ *\ Entries\ are\ automatically\ discarded\ depending\ on\ the\ configured\ level\ of\ the}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ *\ logger.}}
\DoxyCodeLine{00114\ \textcolor{comment}{\ *\ NOTE:\ Only\ printf\ style\ formatting\ is\ supported\ when\ using\ the\ C\ API.}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00116\ \textcolor{keywordtype}{void}\ srslog\_debug(srslog\_logger*\ log,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...);}
\DoxyCodeLine{00117\ \textcolor{keywordtype}{void}\ srslog\_info(srslog\_logger*\ log,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...);}
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ srslog\_warning(srslog\_logger*\ log,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...);}
\DoxyCodeLine{00119\ \textcolor{keywordtype}{void}\ srslog\_error(srslog\_logger*\ log,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{comment}{/**}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ *\ Returns\ the\ id\ string\ of\ the\ specified\ logger.}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00124\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ srslog\_get\_logger\_id(srslog\_logger*\ log);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00127\ \ \ srslog\_lvl\_none,\ \ \ \ \textcolor{comment}{/**<\ disable\ logger\ */}}
\DoxyCodeLine{00128\ \ \ srslog\_lvl\_error,\ \ \ \textcolor{comment}{/**<\ error\ logging\ level\ */}}
\DoxyCodeLine{00129\ \ \ srslog\_lvl\_warning,\ \textcolor{comment}{/**<\ warning\ logging\ level\ */}}
\DoxyCodeLine{00130\ \ \ srslog\_lvl\_info,\ \ \ \ \textcolor{comment}{/**<\ info\ logging\ level\ */}}
\DoxyCodeLine{00131\ \ \ srslog\_lvl\_debug\ \ \ \ \textcolor{comment}{/**<\ debug\ logging\ level\ */}}
\DoxyCodeLine{00132\ \}\ srslog\_log\_levels;}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{comment}{/**}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ *\ Sets\ the\ logging\ level\ into\ the\ specified\ logger.}}
\DoxyCodeLine{00136\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00137\ \textcolor{keywordtype}{void}\ srslog\_set\_logger\_level(srslog\_logger*\ log,\ srslog\_log\_levels\ lvl);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{comment}{/**}}
\DoxyCodeLine{00140\ \textcolor{comment}{\ *\ Finds\ a\ sink\ with\ the\ specified\ id\ string\ in\ the\ repository.\ On}}
\DoxyCodeLine{00141\ \textcolor{comment}{\ *\ success\ returns\ a\ pointer\ to\ the\ requested\ sink,\ otherwise\ NULL.}}
\DoxyCodeLine{00142\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00143\ srslog\_sink*\ srslog\_find\_sink(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ id);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \textcolor{comment}{/**}}
\DoxyCodeLine{00146\ \textcolor{comment}{\ *\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ to\ the\ stdout\ stream.}}
\DoxyCodeLine{00147\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00148\ srslog\_sink*\ srslog\_fetch\_stdout\_sink(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{comment}{/**}}
\DoxyCodeLine{00151\ \textcolor{comment}{\ *\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ to\ the\ stderr\ stream.}}
\DoxyCodeLine{00152\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00153\ srslog\_sink*\ srslog\_fetch\_stderr\_sink(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \textcolor{comment}{/**}}
\DoxyCodeLine{00156\ \textcolor{comment}{\ *\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ into\ a\ file\ in\ the\ specified\ path.}}
\DoxyCodeLine{00157\ \textcolor{comment}{\ *\ Specifying\ a\ max\_size\ value\ different\ to\ zero\ will\ make\ the\ sink\ create\ a}}
\DoxyCodeLine{00158\ \textcolor{comment}{\ *\ new\ file\ each\ time\ the\ current\ file\ exceeds\ this\ value.\ The\ units\ of}}
\DoxyCodeLine{00159\ \textcolor{comment}{\ *\ max\_size\ are\ bytes.}}
\DoxyCodeLine{00160\ \textcolor{comment}{\ *\ Setting\ force\_flush\ to\ true\ will\ flush\ the\ sink\ after\ every\ write.}}
\DoxyCodeLine{00161\ \textcolor{comment}{\ *\ NOTE:\ Any\ '\#'\ characters\ in\ the\ id\ will\ get\ removed.}}
\DoxyCodeLine{00162\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00163\ srslog\_sink*\ srslog\_fetch\_file\_sink(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ size\_t\ max\_size,\ srslog\_bool\ force\_flush);}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_\_cplusplus}
\DoxyCodeLine{00166\ \}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}

\end{DoxyCode}
