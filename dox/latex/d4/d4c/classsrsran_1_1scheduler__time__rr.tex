\doxysection{srsran\+::scheduler\+\_\+time\+\_\+rr Class Reference}
\hypertarget{classsrsran_1_1scheduler__time__rr}{}\label{classsrsran_1_1scheduler__time__rr}\index{srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}}


Inheritance diagram for srsran\+::scheduler\+\_\+time\+\_\+rr\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{de/d63/classsrsran_1_1scheduler__time__rr__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::scheduler\+\_\+time\+\_\+rr\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d8/dc1/classsrsran_1_1scheduler__time__rr__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1scheduler__time__rr_a5c2415ac9776b03790a2cdb35b70b54b}{dl\+\_\+sched}} (\mbox{\hyperlink{classsrsran_1_1ue__pdsch__allocator}{ue\+\_\+pdsch\+\_\+allocator}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\+\_\+alloc}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__resource__grid__view}{ue\+\_\+resource\+\_\+grid\+\_\+view}} \&res\+\_\+grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__repository}{ue\+\_\+repository}} \&ues) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1scheduler__time__rr_ac3a80ab4144fa2b27698c408af79291c}{ul\+\_\+sched}} (\mbox{\hyperlink{classsrsran_1_1ue__pusch__allocator}{ue\+\_\+pusch\+\_\+allocator}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+alloc}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__resource__grid__view}{ue\+\_\+resource\+\_\+grid\+\_\+view}} \&res\+\_\+grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__repository}{ue\+\_\+repository}} \&ues) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1scheduler__time__rr_a0ef677865160af001e9f3f3715183aaf}\label{classsrsran_1_1scheduler__time__rr_a0ef677865160af001e9f3f3715183aaf} 
\index{srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}!scheduler\_time\_rr@{scheduler\_time\_rr}}
\index{scheduler\_time\_rr@{scheduler\_time\_rr}!srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}}
\doxysubsubsection{\texorpdfstring{scheduler\_time\_rr()}{scheduler\_time\_rr()}}
{\footnotesize\ttfamily scheduler\+\_\+time\+\_\+rr\+::scheduler\+\_\+time\+\_\+rr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00416\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}SCHED"{}})),}
\DoxyCodeLine{00417\ \ \ next\_dl\_ue\_index(INVALID\_DU\_UE\_INDEX),}
\DoxyCodeLine{00418\ \ \ next\_ul\_ue\_index(INVALID\_DU\_UE\_INDEX)}
\DoxyCodeLine{00419\ \{}
\DoxyCodeLine{00420\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1scheduler__time__rr_a5c2415ac9776b03790a2cdb35b70b54b}\label{classsrsran_1_1scheduler__time__rr_a5c2415ac9776b03790a2cdb35b70b54b} 
\index{srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}!dl\_sched@{dl\_sched}}
\index{dl\_sched@{dl\_sched}!srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}}
\doxysubsubsection{\texorpdfstring{dl\_sched()}{dl\_sched()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} scheduler\+\_\+time\+\_\+rr\+::dl\+\_\+sched (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1ue__pdsch__allocator}{ue\+\_\+pdsch\+\_\+allocator}} \&}]{pdsch\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__resource__grid__view}{ue\+\_\+resource\+\_\+grid\+\_\+view}} \&}]{res\+\_\+grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__repository}{ue\+\_\+repository}} \&}]{ues }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Schedule UE DL grants for a given slot and one or more cells. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em pdsch\+\_\+alloc} & PDSCH grant allocator. This object provides a handle to allocate PDSCH grants in the g\+NB resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em res\+\_\+grid} & view of the current resource grid occupancy state for all gnb cells. \\
\hline
\mbox{\texttt{ in}}  & {\em ues} & List of eligible UEs to be scheduled in the given slot. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1scheduler__policy_a433f4e03eb5a40ebb0d468ce144ece4d}{srsran\+::scheduler\+\_\+policy}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00425\ \{}
\DoxyCodeLine{00426\ \ \ \textcolor{comment}{//\ First\ schedule\ re-\/transmissions.}}
\DoxyCodeLine{00427\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{retx\_ue\_function}}\ =\ [\textcolor{keyword}{this},\ \&res\_grid,\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_alloc}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\&\ u)\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordflow}{return}\ alloc\_dl\_ue(u,\ res\_grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_alloc}},\ \textcolor{keyword}{true},\ logger);}
\DoxyCodeLine{00429\ \ \ \};}
\DoxyCodeLine{00430\ \ \ next\_dl\_ue\_index\ =\ round\_robin\_apply(ues,\ next\_dl\_ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{retx\_ue\_function}});}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ \textcolor{comment}{//\ Then,\ schedule\ new\ transmissions.}}
\DoxyCodeLine{00433\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}}\ =\ compute\_max\_nof\_rbs\_per\_ue\_per\_slot(ues,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00434\ \ \ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tx\_ue\_function}}\ =\ [\textcolor{keyword}{this},\ \&res\_grid,\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_alloc}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\&\ u)\ \{}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{keywordflow}{return}\ alloc\_dl\_ue(u,\ res\_grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdsch\_alloc}},\ \textcolor{keyword}{false},\ logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}});}
\DoxyCodeLine{00436\ \ \ \};}
\DoxyCodeLine{00437\ \ \ next\_dl\_ue\_index\ =\ round\_robin\_apply(ues,\ next\_dl\_ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tx\_ue\_function}});}
\DoxyCodeLine{00438\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1scheduler__time__rr_ac3a80ab4144fa2b27698c408af79291c}\label{classsrsran_1_1scheduler__time__rr_ac3a80ab4144fa2b27698c408af79291c} 
\index{srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}!ul\_sched@{ul\_sched}}
\index{ul\_sched@{ul\_sched}!srsran::scheduler\_time\_rr@{srsran::scheduler\_time\_rr}}
\doxysubsubsection{\texorpdfstring{ul\_sched()}{ul\_sched()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} scheduler\+\_\+time\+\_\+rr\+::ul\+\_\+sched (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1ue__pusch__allocator}{ue\+\_\+pusch\+\_\+allocator}} \&}]{pusch\+\_\+alloc,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__resource__grid__view}{ue\+\_\+resource\+\_\+grid\+\_\+view}} \&}]{res\+\_\+grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1ue__repository}{ue\+\_\+repository}} \&}]{ues }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Schedule UE UL grants for a given \{slot, cell\}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em pusch\+\_\+alloc} & PUSCH grant allocator. This object provides a handle to allocate PUSCH grants in the g\+NB resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em res\+\_\+grid} & view of the current resource grid occupancy state for all gnb cells. \\
\hline
\mbox{\texttt{ in}}  & {\em ues} & List of eligible UEs to be scheduled in the given slot. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1scheduler__policy_afc3f671bbc517e24c155573da49ce9a9}{srsran\+::scheduler\+\_\+policy}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00443\ \{}
\DoxyCodeLine{00444\ \ \ \textcolor{comment}{//\ First\ schedule\ UL\ data\ re-\/transmissions.}}
\DoxyCodeLine{00445\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_retx\_ue\_function}}\ =\ [\textcolor{keyword}{this},\ \&res\_grid,\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\&\ u)\ \{}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{keywordflow}{return}\ alloc\_ul\_ue(u,\ res\_grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}},\ \textcolor{keyword}{true},\ \textcolor{keyword}{false},\ logger);}
\DoxyCodeLine{00447\ \ \ \};}
\DoxyCodeLine{00448\ \ \ next\_ul\_ue\_index\ =\ round\_robin\_apply(ues,\ next\_ul\_ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_retx\_ue\_function}});}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \ \ \textcolor{comment}{//\ Then,\ schedule\ all\ pending\ SR.}}
\DoxyCodeLine{00451\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sr\_ue\_function}}\ =\ [\textcolor{keyword}{this},\ \&res\_grid,\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\&\ u)\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{return}\ alloc\_ul\_ue(u,\ res\_grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}},\ \textcolor{keyword}{false},\ \textcolor{keyword}{true},\ logger);}
\DoxyCodeLine{00453\ \ \ \};}
\DoxyCodeLine{00454\ \ \ next\_ul\_ue\_index\ =\ round\_robin\_apply(ues,\ next\_ul\_ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sr\_ue\_function}});}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \textcolor{comment}{//\ Finally,\ schedule\ UL\ data\ new\ transmissions.}}
\DoxyCodeLine{00457\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}}\ =\ compute\_max\_nof\_rbs\_per\_ue\_per\_slot(ues,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00458\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_tx\_ue\_function}}\ =\ [\textcolor{keyword}{this},\ \&res\_grid,\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\&\ u)\ \{}
\DoxyCodeLine{00459\ \ \ \ \ \textcolor{keywordflow}{return}\ alloc\_ul\_ue(u,\ res\_grid,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_alloc}},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ logger,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_new\_tx\_max\_nof\_rbs\_per\_ue\_per\_slot}});}
\DoxyCodeLine{00460\ \ \ \};}
\DoxyCodeLine{00461\ \ \ next\_ul\_ue\_index\ =\ round\_robin\_apply(ues,\ next\_ul\_ue\_index,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{data\_tx\_ue\_function}});}
\DoxyCodeLine{00462\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/policy/scheduler\+\_\+time\+\_\+rr.\+h\item 
lib/scheduler/policy/scheduler\+\_\+time\+\_\+rr.\+cpp\end{DoxyCompactItemize}
