\doxysection{e2.\+h}
\hypertarget{e2_8h_source}{}\label{e2_8h_source}\index{include/srsran/e2/e2.h@{include/srsran/e2/e2.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \mbox{\hyperlink{e2__event__manager_8h}{"{}e2\_event\_manager.h"{}}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \mbox{\hyperlink{e2__messages_8h}{"{}e2\_messages.h"{}}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/byte\_buffer.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/expected.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/asn1/e2ap/e2ap.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/asn1/e2ap/e2sm\_kpm.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/asn1/e2ap/e2sm\_rc.h"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/ran/lcid.h"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/rlc/rlc\_metrics.h"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/scheduler/scheduler\_metrics.h"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/async/async\_task.h"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/async/eager\_async\_task.h"{}}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{comment}{///\ This\ interface\ is\ used\ to\ push\ E2\ messages\ to\ the\ E2\ interface.}}
\DoxyCodeLine{00041\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__message__handler}{e2\_message\_handler}}}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_message\_handler()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{///\ Handle\ the\ incoming\ E2\ message.}}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1e2__message__handler_a25894c4dedb94645ebeab8c0ca0cb7cc}{handle\_message}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1e2__message}{e2\_message}}\&\ msg)\ =\ 0;}
\DoxyCodeLine{00048\ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{comment}{///\ Interface\ used\ by\ E2\ to\ inform\ about\ events.}}
\DoxyCodeLine{00051\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__event__handler}{e2\_event\_handler}}}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_event\_handler()\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00055\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ handle\_connection\_loss()\ =\ 0;}
\DoxyCodeLine{00056\ \};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{comment}{///\ This\ interface\ notifies\ the\ reception\ of\ new\ E2\ messages\ over\ the\ E2\ interface.}}
\DoxyCodeLine{00059\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__message__notifier}{e2\_message\_notifier}}}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_message\_notifier()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{///\ This\ callback\ is\ invoked\ on\ each\ received\ E2\ message.}}
\DoxyCodeLine{00065\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1e2__message__notifier_a08f7a2da5d56fe9cc31521273bb3c32a}{on\_new\_message}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1e2__message}{e2\_message}}\&\ msg)\ =\ 0;}
\DoxyCodeLine{00066\ \};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__connection__manager}{e2\_connection\_manager}}}
\DoxyCodeLine{00069\ \{}
\DoxyCodeLine{00070\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_connection\_manager()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Initiates\ the\ E2\ Setup\ procedure\ as\ per\ \_\_\_\_\_}}
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{///\ \(\backslash\)param[in]\ request\ The\ E2SetupRequest\ message\ to\ transmit.}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{///\ \(\backslash\)return\ Returns\ a\ e2\_setup\_response\_message\ struct\ with\ the\ success\ member\ set\ to\ 'true'\ in\ case\ of\ a}}
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{///\ successful\ outcome,\ 'false'\ otherwise.}}
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{///\ and\ awaits\ the\ response.\ If\ a\ E2SetupFailure\ is\ received\ the\ E2\ will\ handle\ the\ failure.}}
\DoxyCodeLine{00078\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classsrsran_1_1async__task}{async\_task}}<\mbox{\hyperlink{structsrsran_1_1e2__setup__response__message}{e2\_setup\_response\_message}}>\ \mbox{\hyperlink{classsrsran_1_1e2__connection__manager_a4d6113f277ecb82fdba8c6bb35a916f3}{handle\_e2\_setup\_request}}(\mbox{\hyperlink{structsrsran_1_1e2__setup__request__message}{e2\_setup\_request\_message}}\&\ request)\ =\ 0;}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ Initiates\ the\ E2\ Setup\ procedure\ as\ per\ \_\_\_\_\_.\ Setup\ Request\ generated\ from\ cfg.}}
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{///\ \(\backslash\)return\ Returns\ a\ e2\_setup\_response\_message\ struct\ with\ the\ success\ member\ set\ to\ 'true'\ in\ case\ of\ a}}
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{///\ successful\ outcome,\ 'false'\ otherwise.}}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{///\ and\ awaits\ the\ response.\ If\ a\ E2SetupFailure\ is\ received\ the\ E2\ will\ handle\ the\ failure.}}
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classsrsran_1_1async__task}{async\_task}}<\mbox{\hyperlink{structsrsran_1_1e2__setup__response__message}{e2\_setup\_response\_message}}>\ \mbox{\hyperlink{classsrsran_1_1e2__connection__manager_a4038a776da5a79395809f74832db424e}{start\_initial\_e2\_setup\_routine}}()\ =\ 0;}
\DoxyCodeLine{00085\ \};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__du__metrics__notifier}{e2\_du\_metrics\_notifier}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1scheduler__ue__metrics__notifier}{scheduler\_ue\_metrics\_notifier}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1rlc__metrics__notifier}{rlc\_metrics\_notifier}}}
\DoxyCodeLine{00088\ \{}
\DoxyCodeLine{00089\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00090\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_du\_metrics\_notifier()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{using}\ \mbox{\hyperlink{classsrsran_1_1rlc__metrics__notifier}{rlc\_metrics\_notifier}}::report\_metrics;}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{using}\ \mbox{\hyperlink{classsrsran_1_1scheduler__ue__metrics__notifier}{scheduler\_ue\_metrics\_notifier}}::report\_metrics;}
\DoxyCodeLine{00094\ \};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__du__metrics__interface}{e2\_du\_metrics\_interface}}}
\DoxyCodeLine{00097\ \{}
\DoxyCodeLine{00098\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00099\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_du\_metrics\_interface()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{///\ @brief\ Get\ the\ metrics\ from\ the\ scheduler.}}
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{///\ @param\ ue\_metrics}}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1e2__du__metrics__interface_ae08aa9049e409d577a752d443b13d7ea}{get\_metrics}}(\mbox{\hyperlink{structsrsran_1_1scheduler__ue__metrics}{scheduler\_ue\_metrics}}\&\ ue\_metrics)\ =\ 0;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{///\ \(\backslash\)brief\ connects\ e2\_du\_metric\_provider}}
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{///\ \(\backslash\)param[in]\ meas\_provider\ pointer\ to\ the\ e2\_du\_metric\_provider}}
\DoxyCodeLine{00106\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1e2__du__metrics__interface_a8628a3aa4eec178fcc3f88c04f751e68}{connect\_e2\_du\_meas\_provider}}(std::unique\_ptr<e2\_du\_metrics\_notifier>\ meas\_provider)\ =\ 0;}
\DoxyCodeLine{00107\ \};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{comment}{///\ This\ interface\ is\ used\ to\ pack\ outgoing\ and\ unpack\ incoming\ E2\ messages.}}
\DoxyCodeLine{00110\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2ap__packer}{e2ap\_packer}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1e2__message__handler}{e2\_message\_handler}}}
\DoxyCodeLine{00111\ \{}
\DoxyCodeLine{00112\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00113\ \ \ \textcolor{keyword}{virtual}\ \string~e2ap\_packer()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{comment}{///\ Handle\ packed\ E2AP\ PDU\ that\ needs\ to\ be\ unpacked\ and\ forwarded.}}
\DoxyCodeLine{00116\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1e2ap__packer_a09f8bb30db5c5876dae16ee523395960}{handle\_packed\_pdu}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\&\ pdu)\ =\ 0;}
\DoxyCodeLine{00117\ \};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{comment}{///\ Combined\ entry\ point\ for\ E2\ handling.}}
\DoxyCodeLine{00120\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1e2__interface}{e2\_interface}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1e2__message__handler}{e2\_message\_handler}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1e2__event__handler}{e2\_event\_handler}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1e2__connection__manager}{e2\_connection\_manager}}}
\DoxyCodeLine{00121\ \{}
\DoxyCodeLine{00122\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{virtual}\ \string~e2\_interface()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ start()\ \ \ \ =\ 0;}
\DoxyCodeLine{00125\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ stop()\ \ \ \ \ =\ 0;}
\DoxyCodeLine{00126\ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
