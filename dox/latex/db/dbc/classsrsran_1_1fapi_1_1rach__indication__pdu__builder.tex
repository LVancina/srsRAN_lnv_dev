\doxysection{srsran\+::fapi\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder Class Reference}
\hypertarget{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{}\label{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}\index{srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}}


RACH.\+indication PDU builder that helps to fill in the parameters specified in SCF-\/222 v4.\+0 section 3.\+4.\+11.  




{\ttfamily \#include $<$message\+\_\+builders.\+h$>$}



Collaboration diagram for srsran\+::fapi\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{d8/d98/classsrsran_1_1fapi_1_1rach__indication__pdu__builder__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_aca2d46e170bf056f1dd729584e1cdd06}{rach\+\_\+indication\+\_\+pdu\+\_\+builder}} (\mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__pdu}{rach\+\_\+indication\+\_\+pdu}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\+\_\+indication\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_af10ad80cdbab874d8cc16f6a17410b1f}{set\+\_\+basic\+\_\+params}} (uint16\+\_\+t handle, \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} symbol\+\_\+index, \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} slot\+\_\+index, \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} ra\+\_\+index, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\+\_\+rssi\+\_\+dB}}, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ rsrp, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\+\_\+snr\+\_\+dB}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\+\_\+use\+\_\+d\+Bm}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}})
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\+\_\+indication\+\_\+pdu\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_abbb4bf3d6534e187e656dd3f800a5918}{add\+\_\+preamble}} (\mbox{\hyperlink{classunsigned}{unsigned}} preamble\+\_\+index, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ timing\+\_\+advance\+\_\+offset, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} $>$ timing\+\_\+advance\+\_\+offset\+\_\+ns, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{preamble\+\_\+power}}, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ preamble\+\_\+snr)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
RACH.\+indication PDU builder that helps to fill in the parameters specified in SCF-\/222 v4.\+0 section 3.\+4.\+11. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_aca2d46e170bf056f1dd729584e1cdd06}\label{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_aca2d46e170bf056f1dd729584e1cdd06} 
\index{srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}!rach\_indication\_pdu\_builder@{rach\_indication\_pdu\_builder}}
\index{rach\_indication\_pdu\_builder@{rach\_indication\_pdu\_builder}!srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{rach\_indication\_pdu\_builder()}{rach\_indication\_pdu\_builder()}}
{\footnotesize\ttfamily srsran\+::fapi\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__pdu}{rach\+\_\+indication\+\_\+pdu}} \&}]{pdu\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01283\ :\ pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_}})\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_abbb4bf3d6534e187e656dd3f800a5918}\label{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_abbb4bf3d6534e187e656dd3f800a5918} 
\index{srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}!add\_preamble@{add\_preamble}}
\index{add\_preamble@{add\_preamble}!srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{add\_preamble()}{add\_preamble()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\+\_\+indication\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder\+::add\+\_\+preamble (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{preamble\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{timing\+\_\+advance\+\_\+offset,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} $>$}]{timing\+\_\+advance\+\_\+offset\+\_\+ns,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{preamble\+\_\+power,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{preamble\+\_\+snr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Adds a preamble to the RACH.\+indication PDU and returns a reference to the builder. \begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 section 3.\+4.\+11 in table RACH.\+indication message body. 

Units for timing advace offset parameter are specified in SCF-\/222 v4.\+0 section 3.\+4.\+11 in table RACH.\+indication message body, and this function expect this units. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01337\ \ \ \{}
\DoxyCodeLine{01338\ \ \ \ \ \textcolor{keyword}{auto}\&\ preamble\ =\ pdu.preambles.emplace\_back();}
\DoxyCodeLine{01339\ }
\DoxyCodeLine{01340\ \ \ \ \ preamble.preamble\_index\ =\ preamble\_index;}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ \ \ \ \ preamble.timing\_advance\_offset\ =}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ (timing\_advance\_offset)\ ?\ timing\_advance\_offset.value()\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \ \ \ \ preamble.timing\_advance\_offset\_ns\ =}
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ (timing\_advance\_offset\_ns)\ ?\ timing\_advance\_offset\_ns.value()\ :\ std::numeric\_limits<uint32\_t>::max();}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ \ \ \ \ preamble.preamble\_pwr\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{preamble\_power}})\ ?\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint32__t}{uint32\_t}}\textcolor{keyword}{>}((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{preamble\_power}}.value()\ +\ 140.F)\ *\ 1000.F)}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<\mbox{\hyperlink{classuint32__t}{uint32\_t}}>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01350\ }
\DoxyCodeLine{01351\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ snr\ =\ (preamble\_snr)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((preamble\_snr.value()\ +\ 64.F)\ *\ 2.F)}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<\mbox{\hyperlink{classuint8__t}{uint8\_t}}>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \ \ \ \ srsran\_assert(snr\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Preamble\ SNR\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ snr,}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint8\_t>::max());}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \ \ preamble.preamble\_snr\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint8__t}{uint8\_t}}\textcolor{keyword}{>}(snr);}
\DoxyCodeLine{01360\ }
\DoxyCodeLine{01361\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01362\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_af10ad80cdbab874d8cc16f6a17410b1f}\label{classsrsran_1_1fapi_1_1rach__indication__pdu__builder_af10ad80cdbab874d8cc16f6a17410b1f} 
\index{srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}!set\_basic\_params@{set\_basic\_params}}
\index{set\_basic\_params@{set\_basic\_params}!srsran::fapi::rach\_indication\_pdu\_builder@{srsran::fapi::rach\_indication\_pdu\_builder}}
\doxysubsubsection{\texorpdfstring{set\_basic\_params()}{set\_basic\_params()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{rach\+\_\+indication\+\_\+pdu\+\_\+builder}} \& srsran\+::fapi\+::rach\+\_\+indication\+\_\+pdu\+\_\+builder\+::set\+\_\+basic\+\_\+params (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{handle,  }\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{symbol\+\_\+index,  }\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{slot\+\_\+index,  }\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{ra\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{avg\+\_\+rssi\+\_\+dB,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{rsrp,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{avg\+\_\+snr\+\_\+dB,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{rsrp\+\_\+use\+\_\+d\+Bm = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Sets the basic parameters of the RACH.\+indication PDU and returns a reference to the builder. \begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 section 3.\+4.\+11 in table RACH.\+indication message body. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01296\ \ \ \{}
\DoxyCodeLine{01297\ \ \ \ \ pdu.handle\ \ \ \ \ \ \ =\ handle;}
\DoxyCodeLine{01298\ \ \ \ \ pdu.symbol\_index\ =\ symbol\_index;}
\DoxyCodeLine{01299\ \ \ \ \ pdu.slot\_index\ \ \ =\ slot\_index;}
\DoxyCodeLine{01300\ \ \ \ \ pdu.ra\_index\ \ \ \ \ =\ ra\_index;}
\DoxyCodeLine{01301\ }
\DoxyCodeLine{01302\ \ \ \ \ pdu.avg\_rssi\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\_rssi\_dB}})\ ?\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint32__t}{uint32\_t}}\textcolor{keyword}{>}((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\_rssi\_dB}}.value()\ +\ 140.F)\ *\ 1000.F)}
\DoxyCodeLine{01303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<\mbox{\hyperlink{classuint32__t}{uint32\_t}}>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01304\ }
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ avg\_snr\ =}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\_snr\_dB}})\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{avg\_snr\_dB}}.value()\ +\ 64.F)\ *\ 2)\ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<\mbox{\hyperlink{classuint8__t}{uint8\_t}}>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01307\ }
\DoxyCodeLine{01308\ \ \ \ \ srsran\_assert(avg\_snr\ <=\ std::numeric\_limits<uint8\_t>::max(),}
\DoxyCodeLine{01309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Average\ SNR\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ avg\_snr,}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint8\_t>::max());}
\DoxyCodeLine{01312\ \ \ \ \ pdu.avg\_snr\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint8__t}{uint8\_t}}\textcolor{keyword}{>}(avg\_snr);}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((rsrp.value()\ +\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_use\_dBm}})\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<uint16\_t>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01316\ }
\DoxyCodeLine{01317\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}},}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01321\ }
\DoxyCodeLine{01322\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}});}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01325\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/fapi/message\+\_\+builders.\+h\end{DoxyCompactItemize}
