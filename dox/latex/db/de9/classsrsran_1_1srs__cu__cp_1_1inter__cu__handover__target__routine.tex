\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine}{}\label{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine}\index{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{d3/d36/classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a35fb64468f3b15b720809eb1c8bc5dc9}{inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__request}{ngap\+\_\+handover\+\_\+request}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{request\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier}{du\+\_\+processor\+\_\+f1ap\+\_\+ue\+\_\+context\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\+\_\+ue\+\_\+ctxt\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier}{du\+\_\+processor\+\_\+e1ap\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\+\_\+ctrl\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier}{du\+\_\+processor\+\_\+cu\+\_\+cp\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__ue__manager}{du\+\_\+processor\+\_\+ue\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+manager\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1security__indication__t}{security\+\_\+indication\+\_\+t}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default\+\_\+security\+\_\+indication\+\_\+}}, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a6c93aa07f87f24d18caee59092f292f4}{operator()}} (\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__resource__allocation__response}{ngap\+\_\+handover\+\_\+resource\+\_\+allocation\+\_\+response}} $>$ $>$ \&ctx)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_aba7681eba2aa438cd3d507944c3b5c22}{name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a35fb64468f3b15b720809eb1c8bc5dc9}\label{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a35fb64468f3b15b720809eb1c8bc5dc9} 
\index{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}!inter\_cu\_handover\_target\_routine@{inter\_cu\_handover\_target\_routine}}
\index{inter\_cu\_handover\_target\_routine@{inter\_cu\_handover\_target\_routine}!srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}}
\doxysubsubsection{\texorpdfstring{inter\_cu\_handover\_target\_routine()}{inter\_cu\_handover\_target\_routine()}}
{\footnotesize\ttfamily inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine\+::inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__request}{ngap\+\_\+handover\+\_\+request}} \&}]{request\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier}{du\+\_\+processor\+\_\+f1ap\+\_\+ue\+\_\+context\+\_\+notifier}} \&}]{f1ap\+\_\+ue\+\_\+ctxt\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier}{du\+\_\+processor\+\_\+e1ap\+\_\+control\+\_\+notifier}} \&}]{e1ap\+\_\+ctrl\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier}{du\+\_\+processor\+\_\+cu\+\_\+cp\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__ue__manager}{du\+\_\+processor\+\_\+ue\+\_\+manager}} \&}]{ue\+\_\+manager\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1security__indication__t}{security\+\_\+indication\+\_\+t}} \&}]{default\+\_\+security\+\_\+indication\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00055\ \ \ request(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{request\_}}),}
\DoxyCodeLine{00056\ \ \ f1ap\_ue\_ctxt\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\_ue\_ctxt\_notif\_}}),}
\DoxyCodeLine{00057\ \ \ e1ap\_ctrl\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_ctrl\_notif\_}}),}
\DoxyCodeLine{00058\ \ \ cu\_cp\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_notifier\_}}),}
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_manager\_}}),}
\DoxyCodeLine{00060\ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),}
\DoxyCodeLine{00061\ \ \ default\_security\_indication(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default\_security\_indication\_}})}
\DoxyCodeLine{00062\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Fill\ input\ for\ RRC\ UE\ creation.}}
\DoxyCodeLine{00064\ \ \ rrc\_context.is\_inter\_cu\_handover\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00065\ \ \ rrc\_context.sec\_context\ \ \ \ \ \ \ \ \ \ =\ request.security\_context;}
\DoxyCodeLine{00066\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_aba7681eba2aa438cd3d507944c3b5c22}\label{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_aba7681eba2aa438cd3d507944c3b5c22} 
\index{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}!name@{name}}
\index{name@{name}!srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} srsran\+::srs\+\_\+cu\+\_\+cp\+::inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Inter\ CU\ Handover\ Target\ Routine"{}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a6c93aa07f87f24d18caee59092f292f4}\label{classsrsran_1_1srs__cu__cp_1_1inter__cu__handover__target__routine_a6c93aa07f87f24d18caee59092f292f4} 
\index{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}!operator()@{operator()}}
\index{operator()@{operator()}!srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine@{srsran::srs\_cu\_cp::inter\_cu\_handover\_target\_routine}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine\+::operator() (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__resource__allocation__response}{ngap\+\_\+handover\+\_\+resource\+\_\+allocation\+\_\+response}} $>$ $>$ \&}]{ctx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ logger.debug(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ initialized"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\ =\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a3ef8cd198d1f01983fe87c7b0e10ac19}{find\_ue}}(request.ue\_index);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ Perform\ initial\ sanity\ checks\ on\ incoming\ message.}}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_up\_resource\_manager().validate\_request(request.pdu\_session\_res\_setup\_list\_ho\_req))\ \{}
\DoxyCodeLine{00079\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ Invalid\ PduSessionResourceSetupRequest\ during\ Handover"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00080\ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00081\ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ Calculate\ next\ user-\/plane\ configuration\ based\ on\ incoming\ setup\ message.}}
\DoxyCodeLine{00085\ \ \ \ \ next\_config\ =\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_up\_resource\_manager().calculate\_update(request.pdu\_session\_res\_setup\_list\_ho\_req);}
\DoxyCodeLine{00086\ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ Prepare\ E1AP\ Bearer\ Context\ Setup\ Request\ and\ call\ E1AP\ notifier}}
\DoxyCodeLine{00089\ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Generate\ security\ keys\ for\ Bearer\ Context\ Setup\ Request\ (RRC\ UE\ is\ not\ created\ yet)}}
\DoxyCodeLine{00091\ \ \ \ \ security\_cfg\ =\ generate\_security\_keys(rrc\_context.sec\_context);}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordflow}{if}\ (!security\_cfg.has\_value())\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ failed\ to\ generate\ security\ keys"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00094\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ fill\_e1ap\_bearer\_context\_setup\_request(security\_cfg.value());}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Call\ E1AP\ procedure}}
\DoxyCodeLine{00100\ \ \ \ \ CORO\_AWAIT\_VALUE(bearer\_context\_setup\_response,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e1ap\_ctrl\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier_af9b3ad0e2928d5a24247104b7d7ec679}{on\_bearer\_context\_setup\_request}}(bearer\_context\_setup\_request));}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ Handle\ Bearer\ Context\ Setup\ Response}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (!handle\_procedure\_response(ue\_context\_setup\_request,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ request.pdu\_session\_res\_setup\_list\_ho\_req,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bearer\_context\_setup\_response,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\_config,}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_up\_resource\_manager(),}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger))\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ failed\ to\ setup\ bearer\ at\ CU-\/UP"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00111\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00112\ \ \ \ \ \}}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{comment}{//\ Prepare\ F1AP\ UE\ Context\ Setup\ Request\ and\ call\ F1AP\ notifier}}
\DoxyCodeLine{00116\ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ Add\ remaining\ fields\ to\ UE\ Context\ Setup\ Request}}
\DoxyCodeLine{00118\ \ \ \ \ ue\_context\_setup\_request.ue\_index\ \ \ \ \ \ =\ request.ue\_index;}
\DoxyCodeLine{00119\ \ \ \ \ ue\_context\_setup\_request.sp\_cell\_id\ \ \ \ =\ request.source\_to\_target\_transparent\_container.target\_cell\_id;}
\DoxyCodeLine{00120\ \ \ \ \ ue\_context\_setup\_request.serv\_cell\_idx\ =\ 0;\ \textcolor{comment}{//\ TODO:\ Remove\ hardcoded\ value}}
\DoxyCodeLine{00121\ \ \ \ \ ue\_context\_setup\_request.cu\_to\_du\_rrc\_info.ie\_exts.emplace();}
\DoxyCodeLine{00122\ \ \ \ \ ue\_context\_setup\_request.cu\_to\_du\_rrc\_info.ie\_exts.value().ho\_prep\_info\ =}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ request.source\_to\_target\_transparent\_container.rrc\_container.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}();}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ Call\ F1AP\ procedure}}
\DoxyCodeLine{00126\ \ \ \ \ CORO\_AWAIT\_VALUE(ue\_context\_setup\_response,}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f1ap\_ue\_ctxt\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier_a55aeedac8b5b7d79621fcaa0e33dc3ce}{on\_ue\_context\_setup\_request}}(ue\_context\_setup\_request,\ rrc\_context));}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{//\ Handle\ UE\ Context\ Setup\ Response}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{if}\ (!handle\_procedure\_response(}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ bearer\_context\_modification\_request,\ ue\_context\_setup\_response,\ next\_config,\ logger))\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ failed\ to\ setup\ UE\ context\ at\ DU"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00132\ \ \ \ \ \ \ cu\_cp\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier_a2c3db8f6fdcab44a5a9e21980d91e623}{on\_ue\_removal\_required}}(ue\_context\_setup\_response.ue\_index);}
\DoxyCodeLine{00133\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00134\ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//\ Target\ UE\ object\ exists\ from\ this\ point\ on.}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{comment}{//\ Setup\ SRB1\ and\ initialize\ security\ context\ in\ RRC}}
\DoxyCodeLine{00140\ \ \ \{}
\DoxyCodeLine{00141\ \ \ \ \ create\_srb1();}
\DoxyCodeLine{00142\ \ \ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \textcolor{comment}{//\ Prepare\ Bearer\ Context\ Modification\ Request\ and\ call\ E1AP\ notifier}}
\DoxyCodeLine{00145\ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{comment}{//\ Add\ remaining\ fields\ to\ Bearer\ Context\ Modification\ Request}}
\DoxyCodeLine{00147\ \ \ \ \ bearer\_context\_modification\_request.ue\_index\ =\ request.ue\_index;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//\ Call\ E1AP\ procedure}}
\DoxyCodeLine{00150\ \ \ \ \ CORO\_AWAIT\_VALUE(bearer\_context\_modification\_response,}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e1ap\_ctrl\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier_a76a7320c1207f5791ec81f4f1c3fffa7}{on\_bearer\_context\_modification\_request}}(bearer\_context\_modification\_request));}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{comment}{//\ Handle\ BearerContextModificationResponse}}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{if}\ (!bearer\_context\_modification\_response.success)\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ failed\ to\ modify\ bearer\ at\ CU-\/UP"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00156\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \textcolor{comment}{//\ Prepare\ RRC\ Reconfiguration\ and\ call\ RRC\ UE\ notifier}}
\DoxyCodeLine{00161\ \ \ \textcolor{comment}{//\ If\ default\ DRB\ is\ being\ setup,\ SRB2\ needs\ to\ be\ setup\ as\ well}}
\DoxyCodeLine{00162\ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{if}\ (!fill\_rrc\_reconfig\_args(rrc\_reconfig\_args,}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_context\_setup\_request.srbs\_to\_be\_setup\_list,}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\_config.pdu\_sessions\_to\_setup\_list,}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_context\_setup\_response.du\_to\_cu\_rrc\_info,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\}\ \textcolor{comment}{/*\ No\ NAS\ PDUs\ required\ */},}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_rrc\_ue\_notifier().generate\_meas\_config(),}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{false},}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{false},}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{false},}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger))\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ failed\ to\ fill\ RRC\ Reconfiguration"{}},\ request.ue\_index,\ name());}
\DoxyCodeLine{00174\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{false}));}
\DoxyCodeLine{00175\ \ \ \ \ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//\ Define\ transaction\ ID}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ We\ set\ this\ to\ zero,\ as\ only\ in\ the\ inter\ CU\ Handover\ case,\ the\ first\ RRC\ transaction\ of\ the\ target\ UE\ is\ an\ RRC}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ Reconfiguration.\ When\ the\ RRC\ Reconfig\ Complete\ with\ a\ transaction\ ID\ =\ 0\ is\ received,\ we\ will\ notify\ the\ NGAP\ to}}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{comment}{//\ trigger\ a\ HandoverNotify\ message.}}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ transaction\_id\ =\ 0;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{comment}{//\ Get\ RRC\ Handover\ Command\ container}}
\DoxyCodeLine{00184\ \ \ \ \ rrc\_reconfiguration\ =\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}-\/>get\_rrc\_ue\_notifier().on\_rrc\_handover\_command\_required(rrc\_reconfig\_args,\ transaction\_id);}
\DoxyCodeLine{00185\ \ \ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ CORO\_RETURN(generate\_handover\_resource\_allocation\_response(\textcolor{keyword}{true}));}
\DoxyCodeLine{00188\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/cu\+\_\+cp/routines/mobility/inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine.\+h\item 
lib/cu\+\_\+cp/routines/mobility/inter\+\_\+cu\+\_\+handover\+\_\+target\+\_\+routine.\+cpp\end{DoxyCompactItemize}
