\doxysection{srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder Class Reference}
\hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder}{}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder}\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}


Manages the mapping between PRACH configuration and the (threshold, margin) pairs.  




{\ttfamily \#include $<$prach\+\_\+detector\+\_\+generic\+\_\+thresholds.\+h$>$}



Collaboration diagram for srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{d8/dff/classsrsran_1_1detail_1_1threshold__and__margin__finder__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__and__margin__finder_1_1threshold__entry}{threshold\+\_\+entry}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d}{threshold\+\_\+flag}} \{ \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dabda9643ac6601722a28f238714274da4}{red}}
, \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dafe01d67a002dfa0f3ac084298142eccd}{orange}}
, \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23da9f27410725ab8cc8854a2769c7a516b8}{green}}
 \}
\begin{DoxyCompactList}\small\item\em Flag applied to each threshold entry. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a738d2c748700c969456d715cba9d3102}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a738d2c748700c969456d715cba9d3102} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries threshold\+\_\+and\+\_\+margin\+\_\+type} = std\+::pair$<$\mbox{\hyperlink{classfloat}{float}}, \mbox{\hyperlink{classunsigned}{unsigned}}$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a2206b91849f46f96826befdded2da293}{threshold\+\_\+and\+\_\+margin\+\_\+finder}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__and__margin__finder_1_1threshold__entry}{threshold\+\_\+entry}} $>$ in)
\begin{DoxyCompactList}\small\item\em Constructor\+: receives the list of pairings and ensures it is sorted. \end{DoxyCompactList}\item 
threshold\+\_\+and\+\_\+margin\+\_\+type \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a21f1c7a2e49d259805e65ba49845eb5a}{get}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__params}{threshold\+\_\+params}} \&params) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Retrieves the (threshold, margin) pair corresponding to the given configuration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d}{threshold\+\_\+flag}} \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_ae185adb61df2c0ec256e528c720b6980}{check\+\_\+flag}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__params}{threshold\+\_\+params}} \&params) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the mapping between PRACH configuration and the (threshold, margin) pairs. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d} 
\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!threshold\_flag@{threshold\_flag}}
\index{threshold\_flag@{threshold\_flag}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}
\doxysubsubsection{\texorpdfstring{threshold\_flag}{threshold\_flag}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{enum}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{class}} \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d}{srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder\+::threshold\+\_\+flag}}\hspace{0.3cm}{\ttfamily [strong]}}



Flag applied to each threshold entry. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{red@{red}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!red@{red}}}\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dabda9643ac6601722a28f238714274da4}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dabda9643ac6601722a28f238714274da4} 
red&Threshold entry not suitable for proper PRACH detection. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{orange@{orange}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!orange@{orange}}}\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dafe01d67a002dfa0f3ac084298142eccd}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dafe01d67a002dfa0f3ac084298142eccd} 
orange&Threshold entry with suboptimal PRACH detection performance. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{green@{green}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!green@{green}}}\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23da9f27410725ab8cc8854a2769c7a516b8}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23da9f27410725ab8cc8854a2769c7a516b8} 
green&Threshold entry meeting PRACH detection requirements. \\
\hline

\end{DoxyEnumFields}

\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dabda9643ac6601722a28f238714274da4}{red}},}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dafe01d67a002dfa0f3ac084298142eccd}{orange}},}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23da9f27410725ab8cc8854a2769c7a516b8}{green}}}
\DoxyCodeLine{00132\ \ \ \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a2206b91849f46f96826befdded2da293}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a2206b91849f46f96826befdded2da293} 
\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!threshold\_and\_margin\_finder@{threshold\_and\_margin\_finder}}
\index{threshold\_and\_margin\_finder@{threshold\_and\_margin\_finder}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}
\doxysubsubsection{\texorpdfstring{threshold\_and\_margin\_finder()}{threshold\_and\_margin\_finder()}}
{\footnotesize\ttfamily srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder\+::threshold\+\_\+and\+\_\+margin\+\_\+finder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__and__margin__finder_1_1threshold__entry}{threshold\+\_\+entry}} $>$}]{in }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Constructor\+: receives the list of pairings and ensures it is sorted. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00144\ \ \ \ \ sorted\_thresholds\_and\_margins(in.begin(),\ in.end())}
\DoxyCodeLine{00145\ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ std::sort(sorted\_thresholds\_and\_margins.begin(),}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sorted\_thresholds\_and\_margins.end(),}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ threshold\_entry\&\ a,\ \textcolor{keyword}{const}\ threshold\_entry\&\ b)\ \{\ return\ (a.configuration\ <\ b.configuration);\ \});}
\DoxyCodeLine{00149\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{d0/d48/classsrsran_1_1detail_1_1threshold__and__margin__finder_a2206b91849f46f96826befdded2da293_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{d0/d48/classsrsran_1_1detail_1_1threshold__and__margin__finder_a2206b91849f46f96826befdded2da293_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_ae185adb61df2c0ec256e528c720b6980}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_ae185adb61df2c0ec256e528c720b6980} 
\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!check\_flag@{check\_flag}}
\index{check\_flag@{check\_flag}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}
\doxysubsubsection{\texorpdfstring{check\_flag()}{check\_flag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23d}{threshold\+\_\+flag}} srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder\+::check\+\_\+flag (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__params}{threshold\+\_\+params}} \&}]{params }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00172\ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ std::lower\_bound(sorted\_thresholds\_and\_margins.begin(),}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sorted\_thresholds\_and\_margins.end(),}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ params,}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ threshold\_entry\&\ a,\ \textcolor{keyword}{const}\ threshold\_params\&\ b)\ \{\ return\ (a.configuration\ <\ b);\ \});}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{if}\ ((it\ !=\ sorted\_thresholds\_and\_margins.end())\ \&\&\ (it-\/>configuration\ ==\ params))\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>flag;}
\DoxyCodeLine{00181\ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1threshold__and__margin__finder_a38dda6bea9845ee2f87043005028f23dabda9643ac6601722a28f238714274da4}{threshold\_flag::red}};}
\DoxyCodeLine{00183\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1detail_1_1threshold__and__margin__finder_a21f1c7a2e49d259805e65ba49845eb5a}\label{classsrsran_1_1detail_1_1threshold__and__margin__finder_a21f1c7a2e49d259805e65ba49845eb5a} 
\index{srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}!get@{get}}
\index{get@{get}!srsran::detail::threshold\_and\_margin\_finder@{srsran::detail::threshold\_and\_margin\_finder}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily threshold\+\_\+and\+\_\+margin\+\_\+type srsran\+::detail\+::threshold\+\_\+and\+\_\+margin\+\_\+finder\+::get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1detail_1_1threshold__params}{threshold\+\_\+params}} \&}]{params }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves the (threshold, margin) pair corresponding to the given configuration. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00153\ \ \ \{}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ std::lower\_bound(sorted\_thresholds\_and\_margins.begin(),}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sorted\_thresholds\_and\_margins.end(),}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ params,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ threshold\_entry\&\ a,\ \textcolor{keyword}{const}\ threshold\_params\&\ b)\ \{\ return\ (a.configuration\ <\ b);\ \});}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ sorted\_thresholds\_and\_margins.end())\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>threshold\_and\_margin;}
\DoxyCodeLine{00162\ \ \ \ \ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{comment}{//\ todo(david):\ once\ all\ cases\ are\ covered,\ replace\ this\ by\ a\ srsran\_assert.}}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_aaea6c484cd5f8113a5b11434d68e371b}{is\_long\_preamble}}(params.format))\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\textcolor{comment}{/*\ threshold\ */}\ 2.0F,\ \textcolor{comment}{/*\ margin\ */}\ 5\};}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\textcolor{comment}{/*\ threshold\ */}\ 0.3F,\ \textcolor{comment}{/*\ margin\ */}\ 12\};}
\DoxyCodeLine{00169\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d48/classsrsran_1_1detail_1_1threshold__and__margin__finder_a21f1c7a2e49d259805e65ba49845eb5a_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/\mbox{\hyperlink{prach__detector__generic__thresholds_8h}{prach\+\_\+detector\+\_\+generic\+\_\+thresholds.\+h}}\end{DoxyCompactItemize}
