\doxysection{srslog\+::log\+\_\+backend\+\_\+impl Class Reference}
\hypertarget{classsrslog_1_1log__backend__impl}{}\label{classsrslog_1_1log__backend__impl}\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}


{\ttfamily \#include $<$log\+\_\+backend\+\_\+impl.\+h$>$}



Inheritance diagram for srslog\+::log\+\_\+backend\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d7/d8a/classsrslog_1_1log__backend__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srslog\+::log\+\_\+backend\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{dc/ddc/classsrslog_1_1log__backend__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrslog_1_1log__backend__impl_a27ec4ad5ead079c6475e10747a3b9a3a}{log\+\_\+backend\+\_\+impl}} (\mbox{\hyperlink{classsrslog_1_1sink__repository}{sink\+\_\+repository}} \&sink\+\_\+repo)
\item 
\Hypertarget{classsrslog_1_1log__backend__impl_acedba00330502fd19c9f06f82acba635}\label{classsrslog_1_1log__backend__impl_acedba00330502fd19c9f06f82acba635} 
{\bfseries log\+\_\+backend\+\_\+impl} (const \mbox{\hyperlink{classsrslog_1_1log__backend__impl}{log\+\_\+backend\+\_\+impl}} \&other)=delete
\item 
\Hypertarget{classsrslog_1_1log__backend__impl_ae561f6be4a0eda31b9cf1a9eb30da1aa}\label{classsrslog_1_1log__backend__impl_ae561f6be4a0eda31b9cf1a9eb30da1aa} 
\mbox{\hyperlink{classsrslog_1_1log__backend__impl}{log\+\_\+backend\+\_\+impl}} \& {\bfseries operator=} (const \mbox{\hyperlink{classsrslog_1_1log__backend__impl}{log\+\_\+backend\+\_\+impl}} \&other)=delete
\item 
void \mbox{\hyperlink{classsrslog_1_1log__backend__impl_a28f080d9e6fdc29feae90593c4289cc0}{start}} (backend\+\_\+priority priority=backend\+\_\+priority\+::normal) override
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrslog_1_1log__backend__impl_a6f0f1d0b28ba221d4bd79bcf102f5da9}{push}} (\mbox{\hyperlink{structsrslog_1_1detail_1_1log__entry}{detail\+::log\+\_\+entry}} \&\&entry) override
\item 
fmt\+::dynamic\+\_\+format\+\_\+arg\+\_\+store$<$ fmt\+::format\+\_\+context $>$ \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1log__backend__impl_a272f17f7607737553c592725749dc07e}{alloc\+\_\+arg\+\_\+store}} () override
\begin{DoxyCompactList}\small\item\em Allocates a dyn\+\_\+arg\+\_\+store and returns a pointer to it on success, otherwise returns nullptr. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrslog_1_1log__backend__impl_a077ade5320042bbeb42767a0ced5c92e}{is\+\_\+running}} () const override
\begin{DoxyCompactList}\small\item\em Returns true when the backend has been started, otherwise false. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrslog_1_1log__backend__impl_a058aa2eed8e099cecaf944d4e5ea8f61}{set\+\_\+error\+\_\+handler}} (error\+\_\+handler err\+\_\+handler)
\begin{DoxyCompactList}\small\item\em Installs the specified error handler into the backend worker. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrslog_1_1log__backend__impl_af6eecba559adbc10a8f0d0c8721d532a}{stop}} ()
\begin{DoxyCompactList}\small\item\em Stops the backend worker thread. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class implements the log backend interface. It internally manages a worker thread to process incoming log entries. NOTE\+: Thread safe class. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrslog_1_1log__backend__impl_a27ec4ad5ead079c6475e10747a3b9a3a}\label{classsrslog_1_1log__backend__impl_a27ec4ad5ead079c6475e10747a3b9a3a} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!log\_backend\_impl@{log\_backend\_impl}}
\index{log\_backend\_impl@{log\_backend\_impl}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{log\_backend\_impl()}{log\_backend\_impl()}}
{\footnotesize\ttfamily srslog\+::log\+\_\+backend\+\_\+impl\+::log\+\_\+backend\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrslog_1_1sink__repository}{sink\+\_\+repository}} \&}]{sink\+\_\+repo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ :\ worker(sink\_repo,\ queue,\ arg\_pool)\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrslog_1_1log__backend__impl_a272f17f7607737553c592725749dc07e}\label{classsrslog_1_1log__backend__impl_a272f17f7607737553c592725749dc07e} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!alloc\_arg\_store@{alloc\_arg\_store}}
\index{alloc\_arg\_store@{alloc\_arg\_store}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{alloc\_arg\_store()}{alloc\_arg\_store()}}
{\footnotesize\ttfamily fmt\+::dynamic\+\_\+format\+\_\+arg\+\_\+store$<$ fmt\+::format\+\_\+context $>$ \texorpdfstring{$\ast$}{*} srslog\+::log\+\_\+backend\+\_\+impl\+::alloc\+\_\+arg\+\_\+store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Allocates a dyn\+\_\+arg\+\_\+store and returns a pointer to it on success, otherwise returns nullptr. 



Implements \mbox{\hyperlink{classsrslog_1_1detail_1_1log__backend_a18d1c6ce98e2f5cf5730e76cff254248}{srslog\+::detail\+::log\+\_\+backend}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \{\ \textcolor{keywordflow}{return}\ arg\_pool.\mbox{\hyperlink{classsrslog_1_1detail_1_1dyn__arg__store__pool_a1fb11e9bbc9e81d2bfd0650dd766e85c}{alloc}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1log__backend__impl_a077ade5320042bbeb42767a0ced5c92e}\label{classsrslog_1_1log__backend__impl_a077ade5320042bbeb42767a0ced5c92e} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!is\_running@{is\_running}}
\index{is\_running@{is\_running}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{is\_running()}{is\_running()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srslog\+::log\+\_\+backend\+\_\+impl\+::is\+\_\+running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns true when the backend has been started, otherwise false. 



Implements \mbox{\hyperlink{classsrslog_1_1detail_1_1log__backend_a2bf906bec5e3362d2064f3bba433df3f}{srslog\+::detail\+::log\+\_\+backend}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \{\ \textcolor{keywordflow}{return}\ worker.\mbox{\hyperlink{classsrslog_1_1backend__worker_a779a741d31c550aa735bf2962177700f}{is\_running}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1log__backend__impl_a6f0f1d0b28ba221d4bd79bcf102f5da9}\label{classsrslog_1_1log__backend__impl_a6f0f1d0b28ba221d4bd79bcf102f5da9} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!push@{push}}
\index{push@{push}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srslog\+::log\+\_\+backend\+\_\+impl\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrslog_1_1detail_1_1log__entry}{detail\+::log\+\_\+entry}} \&\&}]{entry }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Pushes a log entry into the backend. Returns true on success, otherwise false. 

Implements \mbox{\hyperlink{classsrslog_1_1detail_1_1log__backend_a13c29881fc1af8da38ba63655d038f8e}{srslog\+::detail\+::log\+\_\+backend}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{auto}*\ arg\_store\ =\ entry.metadata.store;}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (!queue.push(std::move(entry)))\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ arg\_pool.\mbox{\hyperlink{classsrslog_1_1detail_1_1dyn__arg__store__pool_a2e3de258ca7aa659a4d05f6237109cf2}{dealloc}}(arg\_store);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00053\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1log__backend__impl_a058aa2eed8e099cecaf944d4e5ea8f61}\label{classsrslog_1_1log__backend__impl_a058aa2eed8e099cecaf944d4e5ea8f61} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!set\_error\_handler@{set\_error\_handler}}
\index{set\_error\_handler@{set\_error\_handler}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{set\_error\_handler()}{set\_error\_handler()}}
{\footnotesize\ttfamily void srslog\+::log\+\_\+backend\+\_\+impl\+::set\+\_\+error\+\_\+handler (\begin{DoxyParamCaption}\item[{error\+\_\+handler}]{err\+\_\+handler }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Installs the specified error handler into the backend worker. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{\ worker.\mbox{\hyperlink{classsrslog_1_1backend__worker_a0254ca3a08a242d6ab89546e562dbee1}{set\_error\_handler}}(std::move(err\_handler));\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1log__backend__impl_a28f080d9e6fdc29feae90593c4289cc0}\label{classsrslog_1_1log__backend__impl_a28f080d9e6fdc29feae90593c4289cc0} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!start@{start}}
\index{start@{start}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void srslog\+::log\+\_\+backend\+\_\+impl\+::start (\begin{DoxyParamCaption}\item[{backend\+\_\+priority}]{priority = {\ttfamily backend\+\_\+priority\+:\+:normal} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Starts the processing of incoming log entries. NOTE\+: Calling this function more than once has no side effects. 

Implements \mbox{\hyperlink{classsrslog_1_1detail_1_1log__backend_afa55f23e43827304a172b159fd585780}{srslog\+::detail\+::log\+\_\+backend}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{\ worker.\mbox{\hyperlink{classsrslog_1_1backend__worker_ab82ec78d95c8b3b8ea623911dd62268f}{start}}(priority);\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1log__backend__impl_af6eecba559adbc10a8f0d0c8721d532a}\label{classsrslog_1_1log__backend__impl_af6eecba559adbc10a8f0d0c8721d532a} 
\index{srslog::log\_backend\_impl@{srslog::log\_backend\_impl}!stop@{stop}}
\index{stop@{stop}!srslog::log\_backend\_impl@{srslog::log\_backend\_impl}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void srslog\+::log\+\_\+backend\+\_\+impl\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Stops the backend worker thread. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{\ worker.\mbox{\hyperlink{classsrslog_1_1backend__worker_a4cc4b03e0bfdd20fa137f6b5669eb9a7}{stop}}();\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/srslog/log\+\_\+backend\+\_\+impl.\+h\end{DoxyCompactItemize}
