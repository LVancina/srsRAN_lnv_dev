\doxysection{srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository Class Reference}
\hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository}{}\label{classsrsran_1_1ofh_1_1uplink__context__repository}\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}


Uplink context repository.  




{\ttfamily \#include $<$uplink\+\_\+context\+\_\+repository.\+h$>$}



Collaboration diagram for srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{d9/de1/classsrsran_1_1ofh_1_1uplink__context__repository__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context__repository_aab1c3ad0a0026a64c6d8677f9ef03ba8}{uplink\+\_\+context\+\_\+repository}} (\mbox{\hyperlink{classunsigned}{unsigned}} size\+\_\+, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context__repository_a1f1356881bbeec0a23017453acd78b19}{add}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1resource__grid__context}{resource\+\_\+grid\+\_\+context}} \&context, \mbox{\hyperlink{classsrsran_1_1resource__grid}{resource\+\_\+grid}} \&grid)
\begin{DoxyCompactList}\small\item\em Adds the given entry to the repository at slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context__repository_ae0b0a398724c35826e0cd050a040f813}{write\+\_\+grid}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}, \mbox{\hyperlink{classunsigned}{unsigned}} port, \mbox{\hyperlink{classunsigned}{unsigned}} symbol, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\+\_\+re}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{re\+\_\+iq\+\_\+buffer}})
\begin{DoxyCompactList}\small\item\em Writes to the grid at the given slot, port, symbol and start resource element the given IQ buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context}{uplink\+\_\+context}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context__repository_a0333a219fbba7f308cde41c88ad25316}{get}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}, \mbox{\hyperlink{classunsigned}{unsigned}} symbol) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the entry of the repository for the given slot and symbol. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context__repository_aef4e81f82a5eadd733b7dfdd04784456}{clear}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}, \mbox{\hyperlink{classunsigned}{unsigned}} symbol)
\begin{DoxyCompactList}\small\item\em Clears the repository entry for the given slot and symbol. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Uplink context repository. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository_aab1c3ad0a0026a64c6d8677f9ef03ba8}\label{classsrsran_1_1ofh_1_1uplink__context__repository_aab1c3ad0a0026a64c6d8677f9ef03ba8} 
\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}!uplink\_context\_repository@{uplink\_context\_repository}}
\index{uplink\_context\_repository@{uplink\_context\_repository}!srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}
\doxysubsubsection{\texorpdfstring{uplink\_context\_repository()}{uplink\_context\_repository()}}
{\footnotesize\ttfamily srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+::uplink\+\_\+context\+\_\+repository (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{size\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \texorpdfstring{$\ast$}{*}}]{logger\+\_\+ = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00154\ \ \ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),\ buffer(size\_)}
\DoxyCodeLine{00155\ \ \ \{}
\DoxyCodeLine{00156\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository_a1f1356881bbeec0a23017453acd78b19}\label{classsrsran_1_1ofh_1_1uplink__context__repository_a1f1356881bbeec0a23017453acd78b19} 
\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}!add@{add}}
\index{add@{add}!srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}
\doxysubsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+::add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1resource__grid__context}{resource\+\_\+grid\+\_\+context}} \&}]{context,  }\item[{\mbox{\hyperlink{classsrsran_1_1resource__grid}{resource\+\_\+grid}} \&}]{grid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Adds the given entry to the repository at slot. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \ \ \{}
\DoxyCodeLine{00161\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ symbol\_id\ =\ 0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{symbol\_end}}\ =\ grid.get\_reader().get\_nof\_symbols();\ symbol\_id\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{symbol\_end}};}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ ++symbol\_id)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (logger)\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!entry(context.slot,\ symbol\_id).\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context_ad85b69526b61360cc822b7f206187987}{empty}}())\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ resource\_grid\_context\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}\ =\ entry(context.slot,\ symbol\_id).\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context_a19f1c368f50dd34b2e3b294e07985f34}{get\_grid\_context}}();}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ logger-\/>warning(\textcolor{stringliteral}{"{}Missed\ incoming\ User-\/Plane\ uplink\ messages\ for\ slot\ '\{\}',\ symbol\ '\{\}'\ and\ sector\#\{\}"{}},}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}.slot,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symbol\_id,}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}.sector);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ entry(context.slot,\ symbol\_id)\ =\ uplink\_context(symbol\_id,\ context,\ grid);}
\DoxyCodeLine{00175\ \ \ \ \ \}}
\DoxyCodeLine{00176\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository_aef4e81f82a5eadd733b7dfdd04784456}\label{classsrsran_1_1ofh_1_1uplink__context__repository_aef4e81f82a5eadd733b7dfdd04784456} 
\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}!clear@{clear}}
\index{clear@{clear}!srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+::clear (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears the repository entry for the given slot and symbol. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00196\ \ \ \ \ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ symbol)\ =\ \{\};}
\DoxyCodeLine{00197\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository_a0333a219fbba7f308cde41c88ad25316}\label{classsrsran_1_1ofh_1_1uplink__context__repository_a0333a219fbba7f308cde41c88ad25316} 
\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}!get@{get}}
\index{get@{get}!srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context}{uplink\+\_\+context}} srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+::get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the entry of the repository for the given slot and symbol. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00187\ \ \ \{}
\DoxyCodeLine{00188\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordflow}{return}\ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ symbol);}
\DoxyCodeLine{00190\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1uplink__context__repository_ae0b0a398724c35826e0cd050a040f813}\label{classsrsran_1_1ofh_1_1uplink__context__repository_ae0b0a398724c35826e0cd050a040f813} 
\index{srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}!write\_grid@{write\_grid}}
\index{write\_grid@{write\_grid}!srsran::ofh::uplink\_context\_repository@{srsran::ofh::uplink\_context\_repository}}
\doxysubsubsection{\texorpdfstring{write\_grid()}{write\_grid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::uplink\+\_\+context\+\_\+repository\+::write\+\_\+grid (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{start\+\_\+re,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{re\+\_\+iq\+\_\+buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Writes to the grid at the given slot, port, symbol and start resource element the given IQ buffer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00180\ \ \ \{}
\DoxyCodeLine{00181\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00182\ \ \ \ \ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ symbol).\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__context_a667e65be66c956cdec1d72ea0821f150}{write\_grid}}(port,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\_re}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{re\_iq\_buffer}});}
\DoxyCodeLine{00183\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/ofh/support/uplink\+\_\+context\+\_\+repository.\+h\end{DoxyCompactItemize}
