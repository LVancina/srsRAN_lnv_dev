\doxysection{srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl}{}\label{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl}\index{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl@{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl}}


Class representing the ACC100 implementation of PUSCH decoding.  




{\ttfamily \#include $<$hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{dc/dac/classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d4/dc4/classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a340767107b7ca21728dfbc4372b15d79}{hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc}{srsran\+::dpdk\+::bbdev\+\_\+acc}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bbdev\+\_\+accelerator\+\_\+}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ext\+\_\+softbuffer\+\_\+}}, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\+\_\+buffer\+\_\+context\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a3393f234cfff1a4b819ccf4933e877d4}{\texorpdfstring{$\sim$}{\string~}hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl}} ()
\begin{DoxyCompactList}\small\item\em Destructor taking care of freeing the utilized resources and hardware-\/accelerator queue. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl}{srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+impl}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+impl} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_ae1f9780e84df03d11aeb935953a8778c}{enqueue\+\_\+operation}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} int8\+\_\+t $>$ data, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} int8\+\_\+t $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{soft\+\_\+data}}=\{\}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\+\_\+index}}=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Enqueues an accelerated operation and provides the input data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_a9ba30a5014dd028f5f18fa8bf82893f4}{dequeue\+\_\+operation}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ data, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ int8\+\_\+t $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{soft\+\_\+data}}=\{\}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{segment\+\_\+index}}=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Dequeues an accelerated operation and retrieves both the output data, while using a soft-\/buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_a5810735fb40a5785bf44daa55b186587}{configure\+\_\+operation}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1hal_1_1hw__pusch__decoder__configuration}{hw\+\_\+pusch\+\_\+decoder\+\_\+configuration}} \&config, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\+\_\+index}}=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_a159d3407e5ad5734284a6431bae5700c}{read\+\_\+operation\+\_\+outputs}} (\mbox{\hyperlink{structsrsran_1_1hal_1_1hw__pusch__decoder__outputs}{hw\+\_\+pusch\+\_\+decoder\+\_\+outputs}} \&out, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cb\+\_\+index}}=0, \mbox{\hyperlink{classunsigned}{unsigned}} absolute\+\_\+cb\+\_\+id=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_afd0393efb349b9153c317fdba1d3002a}{free\+\_\+harq\+\_\+context\+\_\+entry}} (\mbox{\hyperlink{classunsigned}{unsigned}} absolute\+\_\+cb\+\_\+id) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__impl_afdfaae9fc8c48cabca01b7737f159b23}{is\+\_\+external\+\_\+harq\+\_\+supported}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec}{srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}hw\+\_\+accelerator\+\_\+pusch\+\_\+dec} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1hal_1_1hw__accelerator}{srsran\+::hal\+::hw\+\_\+accelerator$<$ int8\+\_\+t, uint8\+\_\+t $>$}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}hw\+\_\+accelerator} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class representing the ACC100 implementation of PUSCH decoding. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a340767107b7ca21728dfbc4372b15d79}\label{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a340767107b7ca21728dfbc4372b15d79} 
\index{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl@{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl}!hw\_accelerator\_pusch\_dec\_acc100\_impl@{hw\_accelerator\_pusch\_dec\_acc100\_impl}}
\index{hw\_accelerator\_pusch\_dec\_acc100\_impl@{hw\_accelerator\_pusch\_dec\_acc100\_impl}!srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl@{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl}}
\doxysubsubsection{\texorpdfstring{hw\_accelerator\_pusch\_dec\_acc100\_impl()}{hw\_accelerator\_pusch\_dec\_acc100\_impl()}}
{\footnotesize\ttfamily srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1dpdk_1_1bbdev__acc}{srsran\+::dpdk\+::bbdev\+\_\+acc}} $>$}]{bbdev\+\_\+accelerator\+\_\+,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{ext\+\_\+softbuffer\+\_\+,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1hal_1_1ext__harq__buffer__context__repository}{ext\+\_\+harq\+\_\+buffer\+\_\+context\+\_\+repository}} $>$}]{harq\+\_\+buffer\+\_\+context\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor taking care of obtaining a bbdev-\/based hardware-\/accelerator queue and allocating the required resources. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00119\ \ \ \ \ bbdev\_accelerator(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bbdev\_accelerator\_}})),}
\DoxyCodeLine{00120\ \ \ \ \ ext\_softbuffer(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ext\_softbuffer\_}}),}
\DoxyCodeLine{00121\ \ \ \ \ harq\_buffer\_context(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_buffer\_context\_}}))}
\DoxyCodeLine{00122\ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ =\ bbdev\_accelerator-\/>reserve\_queue(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{RTE\_BBDEV\_OP\_LDPC\_DEC}});}
\DoxyCodeLine{00124\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}}\ >=\ 0,\ \textcolor{stringliteral}{"{}No\ free\ bbdev\ queues\ available."{}});}
\DoxyCodeLine{00125\ \ \ \ \ queue\_id\ \ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qid}});}
\DoxyCodeLine{00126\ \ \ \ \ device\_id\ =\ bbdev\_accelerator-\/>get\_device\_id();}
\DoxyCodeLine{00127\ \ \ \ \ allocate\_resources();}
\DoxyCodeLine{00128\ \ \ \ \ drop\_op.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_affcaf4b2d9be2c09261eb04de6fa67b3}{resize}}(MAX\_NOF\_SEGMENTS);}
\DoxyCodeLine{00129\ \ \ \ \ drop\_op.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a179a14a79e4686cf1d1259031d0976cb}{reset}}();}
\DoxyCodeLine{00130\ \ \ \ \ harq\_context\_entries.reserve(MAX\_NOF\_SEGMENTS);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ HAL\ logging.}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog::basic\_logger}}\&\ logger\ =\ bbdev\_accelerator-\/>get\_logger();}
\DoxyCodeLine{00134\ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}[acc100]\ new\ decoder:\ queue=\{\}."{}},\ queue\_id);}
\DoxyCodeLine{00135\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{d0/d46/classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a340767107b7ca21728dfbc4372b15d79_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{d0/d46/classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a340767107b7ca21728dfbc4372b15d79_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a3393f234cfff1a4b819ccf4933e877d4}\label{classsrsran_1_1hal_1_1hw__accelerator__pusch__dec__acc100__impl_a3393f234cfff1a4b819ccf4933e877d4} 
\index{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl@{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl}!````~hw\_accelerator\_pusch\_dec\_acc100\_impl@{\texorpdfstring{$\sim$}{\string~}hw\_accelerator\_pusch\_dec\_acc100\_impl}}
\index{````~hw\_accelerator\_pusch\_dec\_acc100\_impl@{\texorpdfstring{$\sim$}{\string~}hw\_accelerator\_pusch\_dec\_acc100\_impl}!srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl@{srsran::hal::hw\_accelerator\_pusch\_dec\_acc100\_impl}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}hw\_accelerator\_pusch\_dec\_acc100\_impl()}{\string~hw\_accelerator\_pusch\_dec\_acc100\_impl()}}
{\footnotesize\ttfamily srsran\+::hal\+::hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl\+::\texorpdfstring{$\sim$}{\string~}hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destructor taking care of freeing the utilized resources and hardware-\/accelerator queue. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ bbdev\_accelerator-\/>free\_queue(queue\_id);}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{comment}{//\ HAL\ logging.}}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog::basic\_logger}}\&\ logger\ =\ bbdev\_accelerator-\/>get\_logger();}
\DoxyCodeLine{00144\ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}[acc100]\ destroyed\ decoder:\ queue=\{\}."{}},\ queue\_id);}
\DoxyCodeLine{00145\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/hal/phy/upper/channel\+\_\+processors/pusch/\mbox{\hyperlink{hw__accelerator__pusch__dec__acc100__impl_8h}{hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl.\+h}}\item 
lib/hal/phy/upper/channel\+\_\+processors/pusch/hw\+\_\+accelerator\+\_\+pusch\+\_\+dec\+\_\+acc100\+\_\+impl.\+cpp\end{DoxyCompactItemize}
