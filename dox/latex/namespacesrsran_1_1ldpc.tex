\doxysection{srsran\+::ldpc Namespace Reference}
\hypertarget{namespacesrsran_1_1ldpc}{}\label{namespacesrsran_1_1ldpc}\index{srsran::ldpc@{srsran::ldpc}}


LDPC constants and helper functions.  


\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0}{BG\+\_\+matrix\+\_\+t}} = std\+::array$<$std\+::array$<$uint16\+\_\+t, MAX\+\_\+\+BG\+\_\+\+N\+\_\+\+FULL$>$, MAX\+\_\+\+BG\+\_\+M$>$
\begin{DoxyCompactList}\small\item\em Representation of a graph, inspired by TS38.\+212 Tables 5.\+3.\+2-\/2 and 5.\+3.\+2-\/3. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_a975ab17fe24037ee171c7f551370c344}\label{namespacesrsran_1_1ldpc_a975ab17fe24037ee171c7f551370c344} 
using {\bfseries BG\+\_\+adjacency\+\_\+row\+\_\+t} = std\+::array$<$uint16\+\_\+t, MAX\+\_\+\+BG\+\_\+\+CHECK\+\_\+\+EDGES$>$
\begin{DoxyCompactList}\small\item\em Represents a list of variable nodes connected to a check node. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_ad12361f063beb5300b9de75ef6879a53}\label{namespacesrsran_1_1ldpc_ad12361f063beb5300b9de75ef6879a53} 
using {\bfseries BG\+\_\+adjacency\+\_\+matrix\+\_\+t} = std\+::array$<$\mbox{\hyperlink{namespacesrsran_1_1ldpc_a975ab17fe24037ee171c7f551370c344}{BG\+\_\+adjacency\+\_\+row\+\_\+t}}, MAX\+\_\+\+BG\+\_\+M$>$
\begin{DoxyCompactList}\small\item\em For check node {\ttfamily m}, BG\+\_\+adjacency\+\_\+matrix\+\_\+t\mbox{[}m\mbox{]} provides a list of the variable nodes connected to it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}\label{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f} 
enum \mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\+\_\+size\+\_\+t}} \{ \newline
{\bfseries LS2} = 2
, {\bfseries LS3} = 3
, {\bfseries LS4} = 4
, {\bfseries LS5} = 5
, \newline
{\bfseries LS6} = 6
, {\bfseries LS7} = 7
, {\bfseries LS8} = 8
, {\bfseries LS9} = 9
, \newline
{\bfseries LS10} = 10
, {\bfseries LS11} = 11
, {\bfseries LS12} = 12
, {\bfseries LS13} = 13
, \newline
{\bfseries LS14} = 14
, {\bfseries LS15} = 15
, {\bfseries LS16} = 16
, {\bfseries LS18} = 18
, \newline
{\bfseries LS20} = 20
, {\bfseries LS22} = 22
, {\bfseries LS24} = 24
, {\bfseries LS26} = 26
, \newline
{\bfseries LS28} = 28
, {\bfseries LS30} = 30
, {\bfseries LS32} = 32
, {\bfseries LS36} = 36
, \newline
{\bfseries LS40} = 40
, {\bfseries LS44} = 44
, {\bfseries LS48} = 48
, {\bfseries LS52} = 52
, \newline
{\bfseries LS56} = 56
, {\bfseries LS60} = 60
, {\bfseries LS64} = 64
, {\bfseries LS72} = 72
, \newline
{\bfseries LS80} = 80
, {\bfseries LS88} = 88
, {\bfseries LS96} = 96
, {\bfseries LS104} = 104
, \newline
{\bfseries LS112} = 112
, {\bfseries LS120} = 120
, {\bfseries LS128} = 128
, {\bfseries LS144} = 144
, \newline
{\bfseries LS160} = 160
, {\bfseries LS176} = 176
, {\bfseries LS192} = 192
, {\bfseries LS208} = 208
, \newline
{\bfseries LS224} = 224
, {\bfseries LS240} = 240
, {\bfseries LS256} = 256
, {\bfseries LS288} = 288
, \newline
{\bfseries LS320} = 320
, {\bfseries LS352} = 352
, {\bfseries LS384} = 384
 \}
\begin{DoxyCompactList}\small\item\em Available lifting sizes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
constexpr \mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} \mbox{\hyperlink{namespacesrsran_1_1ldpc_a7260856d9ec4648dad107763036ef906}{compute\+\_\+tb\+\_\+crc\+\_\+size}} (\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} tbs)
\begin{DoxyCompactList}\small\item\em Computes the transport block CRC size from the transport block size. \end{DoxyCompactList}\item 
constexpr unsigned \mbox{\hyperlink{namespacesrsran_1_1ldpc_a23acad74746ca49586fe02e3033bd392}{compute\+\_\+nof\+\_\+codeblocks}} (\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} tbs, \mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} bg)
\begin{DoxyCompactList}\small\item\em Computes the number of codeblocks from a transport block size. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{namespacesrsran_1_1ldpc_a65389d5aa819559b5c2cac18d5ec37ae}{compute\+\_\+lifting\+\_\+size}} (\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} tbs, \mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} base\+\_\+graph, unsigned nof\+\_\+segments)
\begin{DoxyCompactList}\small\item\em Computes the lifting size used to encode/decode a transport block. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} \mbox{\hyperlink{namespacesrsran_1_1ldpc_aeffeb135707ed719a149777da808b611}{compute\+\_\+codeblock\+\_\+size}} (\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} base\+\_\+graph, unsigned lifting\+\_\+size)
\begin{DoxyCompactList}\small\item\em Computes the codeblock size for the given base graph and lifting size. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_ae2d4d9ea6559339acffe226c0a6eb811}\label{namespacesrsran_1_1ldpc_ae2d4d9ea6559339acffe226c0a6eb811} 
\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} {\bfseries compute\+\_\+full\+\_\+codeblock\+\_\+size} (\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} base\+\_\+graph, \mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} codeblock\+\_\+size)
\begin{DoxyCompactList}\small\item\em Computes the codeblock size after the LDPC encoding. \end{DoxyCompactList}\item 
std\+::array$<$ \mbox{\hyperlink{classsrsran_1_1ldpc__graph__impl}{ldpc\+\_\+graph\+\_\+impl}}, TOTAL\+\_\+\+NOF\+\_\+\+GRAPHS $>$ \mbox{\hyperlink{namespacesrsran_1_1ldpc_acb7bb22392263a2969944389e23c4229}{create\+\_\+graph\+\_\+array}} ()
\begin{DoxyCompactList}\small\item\em Creates an array with all possible LDPC graphs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0}{BG\+\_\+matrix\+\_\+t}} \mbox{\hyperlink{namespacesrsran_1_1ldpc_abf4ced5eb8d3e107bc4de984b8307ae4}{get\+\_\+graph}} (\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} bg, \mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\+\_\+size\+\_\+t}} ls)
\begin{DoxyCompactList}\small\item\em Get the LDPC Tanner graph corresponding to the given base graph and lifting size. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_a7dca7b20e9a7a405badc06d9c54048b3}\label{namespacesrsran_1_1ldpc_a7dca7b20e9a7a405badc06d9c54048b3} 
uint8\+\_\+t {\bfseries get\+\_\+lifting\+\_\+index} (\mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\+\_\+size\+\_\+t}} ls)
\begin{DoxyCompactList}\small\item\em Get the lifting size index for a given lifting size. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_af54a88d40d0aafdf172bf1ae1b734177}\label{namespacesrsran_1_1ldpc_af54a88d40d0aafdf172bf1ae1b734177} 
uint8\+\_\+t {\bfseries get\+\_\+lifting\+\_\+size\+\_\+position} (\mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\+\_\+size\+\_\+t}} ls)
\begin{DoxyCompactList}\small\item\em Get the position of the lifting size in the list of all lifting sizes. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_a4734dde79189e81d55c6c53ab68f03a1}\label{namespacesrsran_1_1ldpc_a4734dde79189e81d55c6c53ab68f03a1} 
const \mbox{\hyperlink{namespacesrsran_1_1ldpc_ad12361f063beb5300b9de75ef6879a53}{BG\+\_\+adjacency\+\_\+matrix\+\_\+t}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+adjacency\+\_\+matrix} (\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}} bg)
\begin{DoxyCompactList}\small\item\em Get the adjacency matrix of base graph {\ttfamily bg} (sparse representation). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{namespacesrsran_1_1ldpc_a3a46322ad929e76af7cb959300dafd93}\label{namespacesrsran_1_1ldpc_a3a46322ad929e76af7cb959300dafd93} 
constexpr unsigned {\bfseries NOF\+\_\+\+LIFTING\+\_\+\+SIZES} = 51
\begin{DoxyCompactList}\small\item\em Total number of lifting sizes. \end{DoxyCompactList}\item 
\Hypertarget{namespacesrsran_1_1ldpc_aefe38c511b39f84ec0d0e9b9c7f05cb2}\label{namespacesrsran_1_1ldpc_aefe38c511b39f84ec0d0e9b9c7f05cb2} 
constexpr unsigned {\bfseries NOF\+\_\+\+LIFTING\+\_\+\+INDICES} = 8
\begin{DoxyCompactList}\small\item\em All lifting sizes are assigned an index from 0 to 7 (see TS38.\+212 Table 5.\+3.\+2-\/1). \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
LDPC constants and helper functions. 

\doxysubsection{Typedef Documentation}
\Hypertarget{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0}\label{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0} 
\index{srsran::ldpc@{srsran::ldpc}!BG\_matrix\_t@{BG\_matrix\_t}}
\index{BG\_matrix\_t@{BG\_matrix\_t}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{BG\_matrix\_t}{BG\_matrix\_t}}
{\footnotesize\ttfamily using \mbox{\hyperlink{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0}{srsran\+::ldpc\+::\+BG\+\_\+matrix\+\_\+t}} = std\+::array$<$std\+::array$<$uint16\+\_\+t, MAX\+\_\+\+BG\+\_\+\+N\+\_\+\+FULL$>$, MAX\+\_\+\+BG\+\_\+M$>$}



Representation of a graph, inspired by TS38.\+212 Tables 5.\+3.\+2-\/2 and 5.\+3.\+2-\/3. 

Graphs are represented by a {\ttfamily max\+\_\+\+BG\+\_\+M} $\times$ {\ttfamily max\+\_\+\+BG\+\_\+\+N\+\_\+full} matrix. A number between 0 and 383 at entry $(m, n)$ denotes a connection between check node $m$ and variable node $n$ in the base graph. The value of the number represents the circular shift applied to the connections in the lifted graph. If entry $(m, n)$ is equal to {\ttfamily NO\+\_\+\+EDGE}, there is no connection in either the base graph or the lifted one. 

\doxysubsection{Function Documentation}
\Hypertarget{namespacesrsran_1_1ldpc_aeffeb135707ed719a149777da808b611}\label{namespacesrsran_1_1ldpc_aeffeb135707ed719a149777da808b611} 
\index{srsran::ldpc@{srsran::ldpc}!compute\_codeblock\_size@{compute\_codeblock\_size}}
\index{compute\_codeblock\_size@{compute\_codeblock\_size}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{compute\_codeblock\_size()}{compute\_codeblock\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} srsran\+::ldpc\+::compute\+\_\+codeblock\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}}}]{base\+\_\+graph,  }\item[{unsigned}]{lifting\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Computes the codeblock size for the given base graph and lifting size. 

As per TS38.\+212 Section 5.\+2.\+2, the number bits to encode is fixed for a given base graph and a given lifting size. The codeblock consists of information bits, CRC bits and the number of filler bits required to match the codeblock size. \Hypertarget{namespacesrsran_1_1ldpc_a65389d5aa819559b5c2cac18d5ec37ae}\label{namespacesrsran_1_1ldpc_a65389d5aa819559b5c2cac18d5ec37ae} 
\index{srsran::ldpc@{srsran::ldpc}!compute\_lifting\_size@{compute\_lifting\_size}}
\index{compute\_lifting\_size@{compute\_lifting\_size}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{compute\_lifting\_size()}{compute\_lifting\_size()}}
{\footnotesize\ttfamily unsigned srsran\+::ldpc\+::compute\+\_\+lifting\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}}}]{tbs,  }\item[{\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}}}]{base\+\_\+graph,  }\item[{unsigned}]{nof\+\_\+segments }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Computes the lifting size used to encode/decode a transport block. 

As per TS38.\+212 Section 5.\+2.\+2, the lifting size depends on the size of the transport block, on the LDPC base graph and on the number of segments the transport block is split into. \Hypertarget{namespacesrsran_1_1ldpc_a23acad74746ca49586fe02e3033bd392}\label{namespacesrsran_1_1ldpc_a23acad74746ca49586fe02e3033bd392} 
\index{srsran::ldpc@{srsran::ldpc}!compute\_nof\_codeblocks@{compute\_nof\_codeblocks}}
\index{compute\_nof\_codeblocks@{compute\_nof\_codeblocks}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{compute\_nof\_codeblocks()}{compute\_nof\_codeblocks()}}
{\footnotesize\ttfamily constexpr unsigned srsran\+::ldpc\+::compute\+\_\+nof\+\_\+codeblocks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}}}]{tbs,  }\item[{\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}}}]{bg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



Computes the number of codeblocks from a transport block size. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tbs} & Transport block size as a number of bits (not including CRC). \\
\hline
\mbox{\texttt{ in}}  & {\em bg} & Base graph. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of codeblocks a transport block of size {\ttfamily tbs} is encoded into when using using base graph {\ttfamily bg}. 
\end{DoxyReturn}
\Hypertarget{namespacesrsran_1_1ldpc_a7260856d9ec4648dad107763036ef906}\label{namespacesrsran_1_1ldpc_a7260856d9ec4648dad107763036ef906} 
\index{srsran::ldpc@{srsran::ldpc}!compute\_tb\_crc\_size@{compute\_tb\_crc\_size}}
\index{compute\_tb\_crc\_size@{compute\_tb\_crc\_size}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{compute\_tb\_crc\_size()}{compute\_tb\_crc\_size()}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}} srsran\+::ldpc\+::compute\+\_\+tb\+\_\+crc\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1units_1_1bits}{units\+::bits}}}]{tbs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



Computes the transport block CRC size from the transport block size. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tbs} & Transport block size as a number of bits. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of CRC bits appended to a transport block. 
\end{DoxyReturn}
\Hypertarget{namespacesrsran_1_1ldpc_acb7bb22392263a2969944389e23c4229}\label{namespacesrsran_1_1ldpc_acb7bb22392263a2969944389e23c4229} 
\index{srsran::ldpc@{srsran::ldpc}!create\_graph\_array@{create\_graph\_array}}
\index{create\_graph\_array@{create\_graph\_array}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{create\_graph\_array()}{create\_graph\_array()}}
{\footnotesize\ttfamily std\+::array$<$ \mbox{\hyperlink{classsrsran_1_1ldpc__graph__impl}{ldpc\+\_\+graph\+\_\+impl}}, TOTAL\+\_\+\+NOF\+\_\+\+GRAPHS $>$ srsran\+::ldpc\+::create\+\_\+graph\+\_\+array (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates an array with all possible LDPC graphs. 

The graphs will be ordered by base graph and lifting size. For instance, the graph corresponding to BG2 and LS4 will be at entry \doxylink{namespacesrsran_1_1ldpc_a3a46322ad929e76af7cb959300dafd93}{NOF\+\_\+\+LIFTING\+\_\+\+SIZES} {\ttfamily  + 3 }, since {\ttfamily LS4} is the third one in the list of all possible lifting sizes (i.\+e., all\+\_\+lifting\+\_\+sizes). \Hypertarget{namespacesrsran_1_1ldpc_abf4ced5eb8d3e107bc4de984b8307ae4}\label{namespacesrsran_1_1ldpc_abf4ced5eb8d3e107bc4de984b8307ae4} 
\index{srsran::ldpc@{srsran::ldpc}!get\_graph@{get\_graph}}
\index{get\_graph@{get\_graph}!srsran::ldpc@{srsran::ldpc}}
\doxysubsubsection{\texorpdfstring{get\_graph()}{get\_graph()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_1_1ldpc_a0b8949379af210066d7ad481844adbc0}{BG\+\_\+matrix\+\_\+t}} srsran\+::ldpc\+::get\+\_\+graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a706194bb5a137df4a318956519521e66}{ldpc\+\_\+base\+\_\+graph\+\_\+type}}}]{bg,  }\item[{\mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\+\_\+size\+\_\+t}}}]{ls }\end{DoxyParamCaption})}



Get the LDPC Tanner graph corresponding to the given base graph and lifting size. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bg} & Desired base graph. \\
\hline
\mbox{\texttt{ in}}  & {\em ls} & Desired lifting size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A compact parity check matrix\+: the value taken by entry $(m, n)$ represents the shift applied when lifting the edge between check node $m$ and variable node $n$ of the base graph. 
\end{DoxyReturn}
