\doxysection{srsran\+::demodulation\+\_\+mapper\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1demodulation__mapper__impl}{}\label{classsrsran_1_1demodulation__mapper__impl}\index{srsran::demodulation\_mapper\_impl@{srsran::demodulation\_mapper\_impl}}


Approximate-\/\+LLR demodulator.  




{\ttfamily \#include $<$demodulation\+\_\+mapper\+\_\+impl.\+h$>$}

Inheritance diagram for srsran\+::demodulation\+\_\+mapper\+\_\+impl\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1demodulation__mapper__impl}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classsrsran_1_1demodulation__mapper__impl_a41fe683ab1a2139de42ddb8e776aa866}{demodulate\+\_\+soft}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ llrs, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ symbols, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const float $>$ noise\+\_\+vars, \mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802df}{modulation\+\_\+scheme}} mod) override
\begin{DoxyCompactList}\small\item\em Soft demodulation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1demodulation__mapper}{srsran\+::demodulation\+\_\+mapper}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}demodulation\+\_\+mapper} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Approximate-\/\+LLR demodulator. 

Implementation of the interface provided by \doxylink{classsrsran_1_1demodulation__mapper}{demodulation\+\_\+mapper}. Instead of the defining expression, the log-\/likelihood ratios are computed using the widely accepted approximation  \[
\ell(b_{m+i}) = -\frac{1}{\sigma_m^2} \biggl( \min_{s\in \mathcal{S}_{i,0}} \abs{y_m - s}^2
              - \min_{s\in \mathcal{S}_{i,1}} \abs{y_m - s}^2 \biggr)
\] where $y_m$ denotes the noisy modulation symbol, $\sigma_m^2$ is the equivalent (after equalization) noise variance and $\mathcal{S}_{i,B}$ is the set of constellation points for which $b_{m+i}=B\in\{0,1\}$. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1demodulation__mapper__impl_a41fe683ab1a2139de42ddb8e776aa866}\label{classsrsran_1_1demodulation__mapper__impl_a41fe683ab1a2139de42ddb8e776aa866} 
\index{srsran::demodulation\_mapper\_impl@{srsran::demodulation\_mapper\_impl}!demodulate\_soft@{demodulate\_soft}}
\index{demodulate\_soft@{demodulate\_soft}!srsran::demodulation\_mapper\_impl@{srsran::demodulation\_mapper\_impl}}
\doxysubsubsection{\texorpdfstring{demodulate\_soft()}{demodulate\_soft()}}
{\footnotesize\ttfamily void demodulation\+\_\+mapper\+\_\+impl\+::demodulate\+\_\+soft (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{llrs,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{symbols,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const float $>$}]{noise\+\_\+vars,  }\item[{\mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802df}{modulation\+\_\+scheme}}}]{mod }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Soft demodulation. 

Demodulates complex symbols into log-\/likelihood ratios (i.\+e., soft bits). 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em llrs} & Demodulated log-\/likelihood ratios. \\
\hline
\mbox{\texttt{ in}}  & {\em symbols} & Complex symbols to demodulate (equalization output). \\
\hline
\mbox{\texttt{ in}}  & {\em noise\+\_\+vars} & Noise variances (after equalization). \\
\hline
\mbox{\texttt{ in}}  & {\em mod} & Modulation scheme. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Parameters {\ttfamily symbols} and {\ttfamily noise\+\_\+vars} must have the same length. Each entry of {\ttfamily noise\+\_\+vars} contains the (estimated) noise variance after equalization corresponding to the symbol with the same index. 

The length of {\ttfamily llrs} is given by the number of symbols multiplied by the modulation order of {\ttfamily mod}. 

Any operation involving ill-\/formed inputs (NaN, infinity or negative noise variances, as well as Na\+N-\/valued symbols or infinity-\/over-\/infinity divisions) will result in an indeterminate, zero-\/valued log-\/ likelihood ratio. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1demodulation__mapper_aa2e3976142cb103cbdf3e8edbecbaffd}{srsran\+::demodulation\+\_\+mapper}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+modulation/\mbox{\hyperlink{demodulation__mapper__impl_8h}{demodulation\+\_\+mapper\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+modulation/demodulation\+\_\+mapper\+\_\+impl.\+cpp\end{DoxyCompactItemize}
