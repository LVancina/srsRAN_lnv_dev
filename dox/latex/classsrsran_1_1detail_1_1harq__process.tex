\doxysection{srsran\+::detail\+::harq\+\_\+process\texorpdfstring{$<$}{<} Is\+Downlink \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1detail_1_1harq__process}{}\label{classsrsran_1_1detail_1_1harq__process}\index{srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}}


Basic class for HARQ processes\+: will be extended by DL and UL HARQ process classes.  




{\ttfamily \#include $<$harq\+\_\+process.\+h$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1detail_1_1harq__process_1_1transport__block}{transport\+\_\+block}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a32e89cddebce66f1314ae6ef5d2f86db}{harq\+\_\+process}} (\mbox{\hyperlink{namespacesrsran_a5afde872b5d597c47d3674cc7f86b19b}{harq\+\_\+id\+\_\+t}} h\+\_\+id, \mbox{\hyperlink{classsrsran_1_1harq__logger}{harq\+\_\+logger}} \&logger\+\_\+, \mbox{\hyperlink{classsrsran_1_1ue__harq__timeout__notifier}{ue\+\_\+harq\+\_\+timeout\+\_\+notifier}} timeout\+\_\+notif=\{\}, unsigned max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots\+\_\+=\mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_aca2c55a601c1fa70a98205aa6e94b178}{DEFAULT\+\_\+\+ACK\+\_\+\+TIMEOUT\+\_\+\+SLOTS}})
\begin{DoxyCompactList}\small\item\em HARQ process constructor. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a25d48986abcc1ab197d5ddb5aaa6b3a1}\label{classsrsran_1_1detail_1_1harq__process_a25d48986abcc1ab197d5ddb5aaa6b3a1} 
void {\bfseries slot\+\_\+indication} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_abe21b7283d9cf736c42598707733b9a2}{slot\+\_\+tx}})
\begin{DoxyCompactList}\small\item\em Indicate the beginning of a new slot. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_abe21b7283d9cf736c42598707733b9a2}\label{classsrsran_1_1detail_1_1harq__process_abe21b7283d9cf736c42598707733b9a2} 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} {\bfseries slot\+\_\+tx} () const
\begin{DoxyCompactList}\small\item\em Last slot when a SCH grant was scheduled for this HARQ process. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a28423fdd349f957019429b04f2554b82}\label{classsrsran_1_1detail_1_1harq__process_a28423fdd349f957019429b04f2554b82} 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} {\bfseries slot\+\_\+ack} () const
\begin{DoxyCompactList}\small\item\em Slot when the last SCH grant of this HARQ process is supposed to be ACKed. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a7bacbfff919533bb0e77bac0b634b573}\label{classsrsran_1_1detail_1_1harq__process_a7bacbfff919533bb0e77bac0b634b573} 
bool {\bfseries empty} (unsigned tb\+\_\+idx) const
\begin{DoxyCompactList}\small\item\em Checks whether a specified TB is empty. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a9cb73980ed9d17579518de736c86210d}\label{classsrsran_1_1detail_1_1harq__process_a9cb73980ed9d17579518de736c86210d} 
bool {\bfseries has\+\_\+pending\+\_\+retx} (unsigned tb\+\_\+idx) const
\begin{DoxyCompactList}\small\item\em Checks whether specified TB has pending new\+\_\+retx. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a22fe37de33da5a82210f32c40e44f51b}\label{classsrsran_1_1detail_1_1harq__process_a22fe37de33da5a82210f32c40e44f51b} 
bool {\bfseries is\+\_\+waiting\+\_\+ack} (unsigned tb\+\_\+idx) const
\begin{DoxyCompactList}\small\item\em Checks whether specified TB is expecting an ACK. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_af5e847e9804080c38e0012b65e4aa45b}\label{classsrsran_1_1detail_1_1harq__process_af5e847e9804080c38e0012b65e4aa45b} 
unsigned {\bfseries max\+\_\+nof\+\_\+harq\+\_\+retxs} (unsigned tb\+\_\+idx) const
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_ab9e3038edccbdcf995a2e202286c2b0e}\label{classsrsran_1_1detail_1_1harq__process_ab9e3038edccbdcf995a2e202286c2b0e} 
const \mbox{\hyperlink{structsrsran_1_1detail_1_1harq__process_1_1transport__block}{transport\+\_\+block}} \& {\bfseries tb} (unsigned tb\+\_\+idx) const
\begin{DoxyCompactList}\small\item\em Getter for TB parameters. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a3fa487e3cad06347815ab4b36bb12cd4}\label{classsrsran_1_1detail_1_1harq__process_a3fa487e3cad06347815ab4b36bb12cd4} 
void {\bfseries reset} ()
\begin{DoxyCompactList}\small\item\em Resets HARQ process state. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a84f47c48eb4e8cebbacec9570c38d20b}\label{classsrsran_1_1detail_1_1harq__process_a84f47c48eb4e8cebbacec9570c38d20b} 
void {\bfseries cancel\+\_\+harq\+\_\+retxs} (unsigned tb\+\_\+idx)
\begin{DoxyCompactList}\small\item\em Cancels the HARQ process by stopping retransmissions of the currently held TB. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a3443dc7fd854397f3ca268c41e75c547}\label{classsrsran_1_1detail_1_1harq__process_a3443dc7fd854397f3ca268c41e75c547} 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} {\bfseries get\+\_\+slot\+\_\+ack\+\_\+timeout} () const
\begin{DoxyCompactList}\small\item\em Getter of the slot when the HARQ process will assume that the ACK/\+CRC went missing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a496fbde909cacb94b3587796e62dcc8a}\label{classsrsran_1_1detail_1_1harq__process_a496fbde909cacb94b3587796e62dcc8a} 
const \mbox{\hyperlink{namespacesrsran_a5afde872b5d597c47d3674cc7f86b19b}{harq\+\_\+id\+\_\+t}} {\bfseries id}
\begin{DoxyCompactList}\small\item\em HARQ process id. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_aca2c55a601c1fa70a98205aa6e94b178}\label{classsrsran_1_1detail_1_1harq__process_aca2c55a601c1fa70a98205aa6e94b178} 
static constexpr unsigned {\bfseries DEFAULT\+\_\+\+ACK\+\_\+\+TIMEOUT\+\_\+\+SLOTS} = 256U
\begin{DoxyCompactList}\small\item\em Default timeout in slots after which the HARQ process assumes that the CRC/\+ACK went missing (implementation-\/defined). \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_ab928cb124599261cbe12ca52a2a65d32}\label{classsrsran_1_1detail_1_1harq__process_ab928cb124599261cbe12ca52a2a65d32} 
static constexpr unsigned {\bfseries SHORT\+\_\+\+ACK\+\_\+\+TIMEOUT\+\_\+\+DTX} = 4U
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_ac3ebfdd7209bfad4d029e6eebf0f4d61}\label{classsrsran_1_1detail_1_1harq__process_ac3ebfdd7209bfad4d029e6eebf0f4d61} 
static constexpr size\+\_\+t {\bfseries MAX\+\_\+\+NOF\+\_\+\+TBS} = Is\+Downlink ? 2 \+: 1
\begin{DoxyCompactList}\small\item\em Maximum number of Transport Blocks as per TS38.\+321, 5.\+3.\+2.\+1 and 5.\+4.\+2.\+1. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_acf820bac333e521828f50b1b5a6561ec}\label{classsrsran_1_1detail_1_1harq__process_acf820bac333e521828f50b1b5a6561ec} 
void {\bfseries tx\+\_\+common} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_abe21b7283d9cf736c42598707733b9a2}{slot\+\_\+tx}}, \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a28423fdd349f957019429b04f2554b82}{slot\+\_\+ack}})
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a7670c35609253825c92cf24e4857fccb}\label{classsrsran_1_1detail_1_1harq__process_a7670c35609253825c92cf24e4857fccb} 
void {\bfseries new\+\_\+tx\+\_\+tb\+\_\+common} (unsigned tb\+\_\+idx, unsigned max\+\_\+nof\+\_\+harq\+\_\+retxs, uint8\+\_\+t harq\+\_\+bit\+\_\+idx)
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_adcc1fdb2eb5600750bb0108355695d63}\label{classsrsran_1_1detail_1_1harq__process_adcc1fdb2eb5600750bb0108355695d63} 
void {\bfseries new\+\_\+retx\+\_\+tb\+\_\+common} (unsigned tb\+\_\+idx, uint8\+\_\+t harq\+\_\+bit\+\_\+idx)
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a5ce6a0d9d0f9beb8f6ab3110754aa4f2}\label{classsrsran_1_1detail_1_1harq__process_a5ce6a0d9d0f9beb8f6ab3110754aa4f2} 
bool {\bfseries ack\+\_\+info\+\_\+common} (uint32\+\_\+t tb\+\_\+idx, bool ack)
\begin{DoxyCompactList}\small\item\em Updates the ACK state of the TB of the HARQ process. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_ad09fce227ccd2316688368380034cdb1}\label{classsrsran_1_1detail_1_1harq__process_ad09fce227ccd2316688368380034cdb1} 
void {\bfseries reset\+\_\+tb} (unsigned tb\+\_\+idx)
\begin{DoxyCompactList}\small\item\em Clear the contents of a specific TB of this HARQ process and resets it back to empty state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_ad7e0f4d9da7d133212dda53c348404fb}\label{classsrsran_1_1detail_1_1harq__process_ad7e0f4d9da7d133212dda53c348404fb} 
\mbox{\hyperlink{classsrsran_1_1harq__logger}{harq\+\_\+logger}} \& {\bfseries logger}
\begin{DoxyCompactList}\small\item\em HARQ entity logger used by this HARQ process. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a35f4b6a7825c094edd6f2fdc2a4b6306}\label{classsrsran_1_1detail_1_1harq__process_a35f4b6a7825c094edd6f2fdc2a4b6306} 
\mbox{\hyperlink{classsrsran_1_1ue__harq__timeout__notifier}{ue\+\_\+harq\+\_\+timeout\+\_\+notifier}} {\bfseries timeout\+\_\+notifier}
\begin{DoxyCompactList}\small\item\em Notifier used by this HARQ process when there is a timeout. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a75aaa14f4fe066cad0f0fe4faeb18206}\label{classsrsran_1_1detail_1_1harq__process_a75aaa14f4fe066cad0f0fe4faeb18206} 
const unsigned {\bfseries max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots}
\begin{DoxyCompactList}\small\item\em Maximum value of time interval, in slots, before the HARQ process assumes that the ACK/\+CRC went missing. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a5f6845494254d1a9e47cf75632e58223}\label{classsrsran_1_1detail_1_1harq__process_a5f6845494254d1a9e47cf75632e58223} 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} {\bfseries last\+\_\+slot\+\_\+ind}
\begin{DoxyCompactList}\small\item\em Last slot indication. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a07dfe837dcacf644ac6f88837defc04f}{last\+\_\+slot\+\_\+tx}}
\item 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_afa6c1b681769339446023fd322ecbde8}{last\+\_\+slot\+\_\+ack}}
\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_adb49d584080fc9bfbe52271d4043c1ad}\label{classsrsran_1_1detail_1_1harq__process_adb49d584080fc9bfbe52271d4043c1ad} 
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} {\bfseries slot\+\_\+ack\+\_\+timeout}
\begin{DoxyCompactList}\small\item\em Slot when the HARQ process will assume that the ACK/\+CRC went missing. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a042395a16f58de6280834700ea472451}\label{classsrsran_1_1detail_1_1harq__process_a042395a16f58de6280834700ea472451} 
std\+::array$<$ \mbox{\hyperlink{structsrsran_1_1detail_1_1harq__process_1_1transport__block}{transport\+\_\+block}}, \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_ac3ebfdd7209bfad4d029e6eebf0f4d61}{MAX\+\_\+\+NOF\+\_\+\+TBS}} $>$ {\bfseries tb\+\_\+array}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$bool Is\+Downlink$>$\newline
class srsran\+::detail\+::harq\+\_\+process$<$ Is\+Downlink $>$}
Basic class for HARQ processes\+: will be extended by DL and UL HARQ process classes. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1detail_1_1harq__process_a32e89cddebce66f1314ae6ef5d2f86db}\label{classsrsran_1_1detail_1_1harq__process_a32e89cddebce66f1314ae6ef5d2f86db} 
\index{srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}!harq\_process@{harq\_process}}
\index{harq\_process@{harq\_process}!srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}}
\doxysubsubsection{\texorpdfstring{harq\_process()}{harq\_process()}}
{\footnotesize\ttfamily template$<$bool Is\+Downlink$>$ \\
detail\+::harq\+\_\+process\+::harq\+\_\+process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a5afde872b5d597c47d3674cc7f86b19b}{harq\+\_\+id\+\_\+t}}}]{h\+\_\+id,  }\item[{\mbox{\hyperlink{classsrsran_1_1harq__logger}{harq\+\_\+logger}} \&}]{logger\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1ue__harq__timeout__notifier}{ue\+\_\+harq\+\_\+timeout\+\_\+notifier}}}]{timeout\+\_\+notif = {\ttfamily \{\}},  }\item[{unsigned}]{max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots\+\_\+ = {\ttfamily \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_aca2c55a601c1fa70a98205aa6e94b178}{DEFAULT\+\_\+\+ACK\+\_\+\+TIMEOUT\+\_\+\+SLOTS}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



HARQ process constructor. 


\begin{DoxyParams}{Parameters}
{\em h\+\_\+id} & HARQ process ID. \\
\hline
{\em max\+\_\+ack\+\_\+wait\+\_\+in\+\_\+slots\+\_\+} & number of slots above which the scheduler considers that the ACK/\+CRC went missing. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Data Documentation}
\Hypertarget{classsrsran_1_1detail_1_1harq__process_afa6c1b681769339446023fd322ecbde8}\label{classsrsran_1_1detail_1_1harq__process_afa6c1b681769339446023fd322ecbde8} 
\index{srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}!last\_slot\_ack@{last\_slot\_ack}}
\index{last\_slot\_ack@{last\_slot\_ack}!srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}}
\doxysubsubsection{\texorpdfstring{last\_slot\_ack}{last\_slot\_ack}}
{\footnotesize\ttfamily template$<$bool Is\+Downlink$>$ \\
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process}{srsran\+::detail\+::harq\+\_\+process}}$<$ Is\+Downlink $>$\+::last\+\_\+slot\+\_\+ack\hspace{0.3cm}{\ttfamily [protected]}}

For DL, slot\+\_\+ack is the slot at which g\+NB is expected to receive the ACK via UCI. For UL, slot\+\_\+ack is the slot when the PUSCH CRC will be received by the g\+NB. It coincides with slot\+\_\+tx of UL. \Hypertarget{classsrsran_1_1detail_1_1harq__process_a07dfe837dcacf644ac6f88837defc04f}\label{classsrsran_1_1detail_1_1harq__process_a07dfe837dcacf644ac6f88837defc04f} 
\index{srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}!last\_slot\_tx@{last\_slot\_tx}}
\index{last\_slot\_tx@{last\_slot\_tx}!srsran::detail::harq\_process$<$ IsDownlink $>$@{srsran::detail::harq\_process$<$ IsDownlink $>$}}
\doxysubsubsection{\texorpdfstring{last\_slot\_tx}{last\_slot\_tx}}
{\footnotesize\ttfamily template$<$bool Is\+Downlink$>$ \\
\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process}{srsran\+::detail\+::harq\+\_\+process}}$<$ Is\+Downlink $>$\+::last\+\_\+slot\+\_\+tx\hspace{0.3cm}{\ttfamily [protected]}}

For DL, slot\+\_\+tx corresponds to the slot when the TB in the HARQ process is going to be transmitted by the g\+NB. For UL, slot\+\_\+tx corresponds to the slot when the TB in the HARQ process is going to be transmitted by the UE. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+h\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+cpp\end{DoxyCompactItemize}
