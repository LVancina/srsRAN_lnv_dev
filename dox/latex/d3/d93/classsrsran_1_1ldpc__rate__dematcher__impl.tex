\doxysection{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl}{}\label{classsrsran_1_1ldpc__rate__dematcher__impl}\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}


LDPC rate dematching implementation.  




{\ttfamily \#include $<$ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d55/classsrsran_1_1ldpc__rate__dematcher__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{db/dc7/classsrsran_1_1ldpc__rate__dematcher__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_ace370290b571f592a6a637f84ae143a3}{rate\+\_\+dematch}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ output, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ input, \mbox{\hyperlink{classbool}{bool}} new\+\_\+data, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1codeblock__metadata}{codeblock\+\_\+metadata}} \&cfg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Recovers a full codeblock from its rate-\/matched version. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}ldpc\+\_\+rate\+\_\+dematcher} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default virtual destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_a89db5b9587f921bb8d31fc0e50eaefdd}{combine\+\_\+softbits}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ out, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in0}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in1}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Combines two sequences of soft bits by taking saturated addition. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_ab402ce42139d7cdb2217989a79ec225b}{deinterleave\+\_\+qpsk}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ out, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ in) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Deinterleaves a sequence of soft bits with a modulation order of two. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_acd2eefc7ebd542dcf2401d0c92f5a96a}{deinterleave\+\_\+qam16}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ out, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ in) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Deinterleaves a sequence of soft bits with a modulation order of four. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_a76c1d8a9d45aa803130ac8a36842d620}{deinterleave\+\_\+qam64}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ out, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ in) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Deinterleaves a sequence of soft bits with a modulation order of six. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__impl_a2f7a99eca24b8e0fd29f801ffb52ef00}{deinterleave\+\_\+qam256}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ out, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ in) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Deinterleaves a sequence of soft bits with a modulation order of eight. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
LDPC rate dematching implementation. 

It reverts the rate matching procedure described in TS38.\+212 Section 5.\+4.\+2. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_a89db5b9587f921bb8d31fc0e50eaefdd}\label{classsrsran_1_1ldpc__rate__dematcher__impl_a89db5b9587f921bb8d31fc0e50eaefdd} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!combine\_softbits@{combine\_softbits}}
\index{combine\_softbits@{combine\_softbits}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{combine\_softbits()}{combine\_softbits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::combine\+\_\+softbits (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{out,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in0,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in1 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Combines two sequences of soft bits by taking saturated addition. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & Resulting sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in0} & First input sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in1} & Second input sequence of soft bits. \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx2__impl_ab3eb0209e899c9d22971084e3fe6adea}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx2\+\_\+impl}}, \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx512__impl_a9a4e909416d27ad3357e7e53caa67b1e}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx512\+\_\+impl}}, and \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__neon__impl_af82947151263f9fc548d59cd6b8cfe5a}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+neon\+\_\+impl}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \{}
\DoxyCodeLine{00120\ \ \ srsran\_assert(out.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in0}}.size(),\ \textcolor{stringliteral}{"{}All\ sizes\ must\ be\ equal."{}});}
\DoxyCodeLine{00121\ \ \ srsran\_assert(out.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in1}}.size(),\ \textcolor{stringliteral}{"{}All\ sizes\ must\ be\ equal."{}});}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ index\ =\ 0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{index\_end}}\ =\ out.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}();\ index\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{index\_end}};\ ++index)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ out[index]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in0}}[index]\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{in1}}[index];}
\DoxyCodeLine{00125\ \ \ \}}
\DoxyCodeLine{00126\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_acd2eefc7ebd542dcf2401d0c92f5a96a}\label{classsrsran_1_1ldpc__rate__dematcher__impl_acd2eefc7ebd542dcf2401d0c92f5a96a} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!deinterleave\_qam16@{deinterleave\_qam16}}
\index{deinterleave\_qam16@{deinterleave\_qam16}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{deinterleave\_qam16()}{deinterleave\_qam16()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::deinterleave\+\_\+qam16 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{out,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Deinterleaves a sequence of soft bits with a modulation order of four. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & Resulting sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in} & Input sequence of soft bits. \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx2__impl_aa3343ce4cb87ba2f770c83c62ed30cbb}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx2\+\_\+impl}}, \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx512__impl_a9306551d55dba78903e9452403aad5af}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx512\+\_\+impl}}, and \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__neon__impl_a67758703efcb9a798e367d04d87a159f}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+neon\+\_\+impl}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00223\ \{}
\DoxyCodeLine{00224\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{deinterleave\_bits\_Qm<4>}}(out,\ in);}
\DoxyCodeLine{00225\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_a2f7a99eca24b8e0fd29f801ffb52ef00}\label{classsrsran_1_1ldpc__rate__dematcher__impl_a2f7a99eca24b8e0fd29f801ffb52ef00} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!deinterleave\_qam256@{deinterleave\_qam256}}
\index{deinterleave\_qam256@{deinterleave\_qam256}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{deinterleave\_qam256()}{deinterleave\_qam256()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::deinterleave\+\_\+qam256 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{out,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Deinterleaves a sequence of soft bits with a modulation order of eight. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & Resulting sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in} & Input sequence of soft bits. \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx2__impl_a557577ff185801e8b268510044968972}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx2\+\_\+impl}}, \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx512__impl_a6188cccae8c6ae60af28c6a3adf64736}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx512\+\_\+impl}}, and \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__neon__impl_a41243839cec3f1d4e667122782b7e77e}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+neon\+\_\+impl}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00235\ \{}
\DoxyCodeLine{00236\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{deinterleave\_bits\_Qm<8>}}(out,\ in);}
\DoxyCodeLine{00237\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_a76c1d8a9d45aa803130ac8a36842d620}\label{classsrsran_1_1ldpc__rate__dematcher__impl_a76c1d8a9d45aa803130ac8a36842d620} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!deinterleave\_qam64@{deinterleave\_qam64}}
\index{deinterleave\_qam64@{deinterleave\_qam64}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{deinterleave\_qam64()}{deinterleave\_qam64()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::deinterleave\+\_\+qam64 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{out,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Deinterleaves a sequence of soft bits with a modulation order of six. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & Resulting sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in} & Input sequence of soft bits. \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx2__impl_aec95eb7044e43eacfc45c04982668907}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx2\+\_\+impl}}, \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx512__impl_a9b1be3908d3b25002a92f7149169d2a9}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx512\+\_\+impl}}, and \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__neon__impl_a8a26543d9b9af98c5196d46ce9cc9dcf}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+neon\+\_\+impl}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00229\ \{}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{deinterleave\_bits\_Qm<6>}}(out,\ in);}
\DoxyCodeLine{00231\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_ab402ce42139d7cdb2217989a79ec225b}\label{classsrsran_1_1ldpc__rate__dematcher__impl_ab402ce42139d7cdb2217989a79ec225b} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!deinterleave\_qpsk@{deinterleave\_qpsk}}
\index{deinterleave\_qpsk@{deinterleave\_qpsk}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{deinterleave\_qpsk()}{deinterleave\_qpsk()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::deinterleave\+\_\+qpsk (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{out,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{in }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Deinterleaves a sequence of soft bits with a modulation order of two. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & Resulting sequence of soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em in} & Input sequence of soft bits. \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx2__impl_ac3f25ed26f65fcc14a5bc8d96d0fd59c}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx2\+\_\+impl}}, \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__avx512__impl_a91315d4740fdc3a0ec9d143c07a5e212}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+avx512\+\_\+impl}}, and \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher__neon__impl_ab6b086edc449e0676be2f15aaf5b5fff}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher\+\_\+neon\+\_\+impl}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00217\ \{}
\DoxyCodeLine{00218\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{deinterleave\_bits\_Qm<2>}}(out,\ in);}
\DoxyCodeLine{00219\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ldpc__rate__dematcher__impl_ace370290b571f592a6a637f84ae143a3}\label{classsrsran_1_1ldpc__rate__dematcher__impl_ace370290b571f592a6a637f84ae143a3} 
\index{srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}!rate\_dematch@{rate\_dematch}}
\index{rate\_dematch@{rate\_dematch}!srsran::ldpc\_rate\_dematcher\_impl@{srsran::ldpc\_rate\_dematcher\_impl}}
\doxysubsubsection{\texorpdfstring{rate\_dematch()}{rate\_dematch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl\+::rate\+\_\+dematch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{output,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{input,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{new\+\_\+data,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1codeblock__metadata}{codeblock\+\_\+metadata}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Recovers a full codeblock from its rate-\/matched version. 

This function also takes care of combining repeated codeblocks for H-\/\+ARQ schemes (both chase combining and incremental redundancy).

Log-\/likelihood ratios corresponding to filler bits are set to {\ttfamily INT8\+\_\+\+MAX}. Log-\/likelihood ratios that cannot be determined from the input are set to zero. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em output} & Full-\/length codeblock (log-\/likelihood ratios). \\
\hline
\mbox{\texttt{ in}}  & {\em input} & Rate-\/matched codeblock (log-\/likelihood ratios). \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Configuration parameters. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The sizes of {\ttfamily input} and {\ttfamily output} determine the behavior of the rate recovering algorithm. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1ldpc__rate__dematcher_af5519446672d31730abbd295fcbafccc}{srsran\+::ldpc\+\_\+rate\+\_\+dematcher}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ init(new\_data,\ cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a32a5afaaa0c7e075e015aedb9fa1de51}{tb\_common}});}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}}\ =\ output.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}();}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Make\ sure\ N\_ref\ is\ valid.}}
\DoxyCodeLine{00056\ \ \ srsran\_assert(cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a32a5afaaa0c7e075e015aedb9fa1de51}{tb\_common}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1tb__common__metadata_a88bed84d436e083e45f6f6e8d4d58dbd}{Nref}}\ <=\ MAX\_CODEBLOCK\_SIZE,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}N\_ref\ \{\}\ must\ be\ smaller\ or\ equal\ to\ \{\}."{}},}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a32a5afaaa0c7e075e015aedb9fa1de51}{tb\_common}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1tb__common__metadata_a88bed84d436e083e45f6f6e8d4d58dbd}{Nref}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MAX\_CODEBLOCK\_SIZE);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//\ If\ N\_ref\ is\ given,\ limit\ the\ buffer\ size.\ Otherwise,\ use\ default.}}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{if}\ (cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a32a5afaaa0c7e075e015aedb9fa1de51}{tb\_common}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1tb__common__metadata_a88bed84d436e083e45f6f6e8d4d58dbd}{Nref}}\ >\ 0)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ buffer\_length\ =\ std::min(cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a32a5afaaa0c7e075e015aedb9fa1de51}{tb\_common}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1tb__common__metadata_a88bed84d436e083e45f6f6e8d4d58dbd}{Nref}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}});}
\DoxyCodeLine{00064\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00065\ \ \ \ \ buffer\_length\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}};}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ The\ input\ size\ cannot\ be\ larger\ than\ the\ maximum\ rate-\/matched\ codeblock\ length.}}
\DoxyCodeLine{00069\ \ \ srsran\_assert(input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ <=\ MAX\_CODEBLOCK\_RM\_SIZE,}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ length\ of\ the\ rate-\/matched\ codeblock\ is\ \{\}\ but\ it\ shouldn't\ be\ more\ than\ \{\}."{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}(),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MAX\_CODEBLOCK\_RM\_SIZE);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ The\ input\ size\ must\ be\ a\ multiple\ of\ the\ modulation\ order.}}
\DoxyCodeLine{00075\ \ \ srsran\_assert(input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ \%\ modulation\_order\ ==\ 0,\ \textcolor{stringliteral}{"{}The\ input\ length\ should\ be\ a\ multiple\ of\ the\ modulation\ order."{}});}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ Compute\ shift\_k0\ according\ to\ TS38.212\ Table\ 5.4.2.1-\/2.}}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ double>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{shift\_factor}};}
\DoxyCodeLine{00079\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_N\_short}}\ =\ 0;}
\DoxyCodeLine{00080\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_K}}\ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}}\ \%\ BG1\_N\_SHORT)\ ==\ 0)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ input\ is\ a\ BG1\ codeblock}}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{shift\_factor}}\ =\ shift\_factor\_bg1;}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_N\_short}}\ \ \ =\ BG1\_N\_SHORT;}
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_K}}\ \ \ \ \ \ \ \ \ =\ BG1\_N\_FULL\ -\/\ BG1\_M;}
\DoxyCodeLine{00086\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}}\ \%\ BG2\_N\_SHORT)\ ==\ 0)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ input\ is\ a\ BG2\ codeblock}}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{shift\_factor}}\ =\ shift\_factor\_bg2;}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_N\_short}}\ \ \ =\ BG2\_N\_SHORT;}
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_K}}\ \ \ \ \ \ \ \ \ =\ BG2\_N\_FULL\ -\/\ BG2\_M;}
\DoxyCodeLine{00091\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00092\ \ \ \ \ srsran\_assert(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}LDPC\ rate\ dematching:\ invalid\ input\ length."{}});}
\DoxyCodeLine{00093\ \ \ \}}
\DoxyCodeLine{00094\ \ \ uint16\_t\ lifting\_size\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}}\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_N\_short}};}
\DoxyCodeLine{00095\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_1_1ldpc_a7dca7b20e9a7a405badc06d9c54048b3}{get\_lifting\_index}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacesrsran_1_1ldpc_aa8225b08a82fdb2faf7642e2a292f85f}{lifting\_size\_t}}\textcolor{keyword}{>}(lifting\_size))\ !=\ VOID\_LIFTSIZE,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}LDPC\ rate\ dematching:\ invalid\ input\ length."{}});}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ Recall\ that\ 2\ *\ lifting\_size\ systematic\ bits\ are\ shortened\ out\ of\ the\ codeblock.}}
\DoxyCodeLine{00099\ \ \ nof\_systematic\_bits\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{BG\_K}}\ -\/\ 2)\ *\ lifting\_size;}
\DoxyCodeLine{00100\ \ \ srsran\_assert(cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a84f64cf3931e9df25ed5b6c5a9782a08}{cb\_specific}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1cb__specific__metadata_a822669460d0a2d1bda9e7021bbe522ba}{nof\_filler\_bits}}\ <\ nof\_systematic\_bits,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}LDPC\ rate\ dematching:\ invalid\ number\ of\ filler\ bits."{}});}
\DoxyCodeLine{00102\ \ \ nof\_filler\_bits\ =\ cfg.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_a84f64cf3931e9df25ed5b6c5a9782a08}{cb\_specific}}.\mbox{\hyperlink{structsrsran_1_1codeblock__metadata_1_1cb__specific__metadata_a822669460d0a2d1bda9e7021bbe522ba}{nof\_filler\_bits}};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{shift\_factor}}[rv]\ *\ buffer\_length)\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{block\_length}};}
\DoxyCodeLine{00105\ \ \ shift\_k0\ \ \ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{floor}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}))\ *\ lifting\_size;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{if}\ (modulation\_order\ ==\ 1)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ allot\_llrs(output,\ input);}
\DoxyCodeLine{00109\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<log\_likelihood\_ratio>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{aux}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<log\_likelihood\_ratio>}}(auxiliary\_buffer).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(input.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}());}
\DoxyCodeLine{00111\ \ \ \ \ deinterleave\_llrs(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{aux}},\ input);}
\DoxyCodeLine{00112\ \ \ \ \ allot\_llrs(output,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{aux}});}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ \};}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+coding/ldpc/\mbox{\hyperlink{ldpc__rate__dematcher__impl_8h}{ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+coding/ldpc/ldpc\+\_\+rate\+\_\+dematcher\+\_\+impl.\+cpp\end{DoxyCompactItemize}
