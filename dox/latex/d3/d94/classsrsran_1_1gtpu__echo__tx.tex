\doxysection{srsran\+::gtpu\+\_\+echo\+\_\+tx Class Reference}
\hypertarget{classsrsran_1_1gtpu__echo__tx}{}\label{classsrsran_1_1gtpu__echo__tx}\index{srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}}


Class used for transmission of GTP-\/U path management messages.  




{\ttfamily \#include $<$gtpu\+\_\+echo\+\_\+tx\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::gtpu\+\_\+echo\+\_\+tx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d9d/classsrsran_1_1gtpu__echo__tx__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::gtpu\+\_\+echo\+\_\+tx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{db/d7e/classsrsran_1_1gtpu__echo__tx__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx_a539668828d2e06db21a59f9444eb6d8f}{gtpu\+\_\+echo\+\_\+tx}} (\mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{gtpu\+\_\+pcap\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier}{gtpu\+\_\+tunnel\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx_a9d470b25d34344f66216675a764d6b76}{send\+\_\+echo\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dst\+\_\+addr}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx_af00d120f6f5070ec4b0a899b3706ad36}{send\+\_\+echo\+\_\+response}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dst\+\_\+addr}}, uint16\+\_\+t sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx_aff9f0ecd513f82eb2bccf46b787b45be}{handle\+\_\+echo\+\_\+response}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{src\+\_\+addr}}, uint16\+\_\+t sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handles an echo response message, disables T3-\/\+RESPONSE for the request with sequence number {\ttfamily sn}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a2e43c5de0ed821277825d1723d0989b0}{gtpu\+\_\+tunnel\+\_\+base\+\_\+tx}} (\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__log__prefix}{gtpu\+\_\+tunnel\+\_\+log\+\_\+prefix}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\+\_\+prefix}}, \mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{gtpu\+\_\+pcap\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier}{gtpu\+\_\+tunnel\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a38fa46bd5f01b21e33dcc39ee5a4edce}{to\+\_\+sockaddr}} (sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\+\_\+sockaddr}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*}addr, uint16\+\_\+t port)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{srsran\+::gtpu\+\_\+echo\+\_\+tx\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries gtpu\+\_\+echo\+\_\+tx\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries gtpu\+\_\+echo\+\_\+tx\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a86d6987cff51704bd7e9f7e41aceef9f}{send\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} buf, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \+::sockaddr\+\_\+storage \&peer\+\_\+sockaddr)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{gtpu\+\_\+tunnel\+\_\+logger}} {\bfseries logger}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class used for transmission of GTP-\/U path management messages. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1gtpu__echo__tx_a539668828d2e06db21a59f9444eb6d8f}\label{classsrsran_1_1gtpu__echo__tx_a539668828d2e06db21a59f9444eb6d8f} 
\index{srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}!gtpu\_echo\_tx@{gtpu\_echo\_tx}}
\index{gtpu\_echo\_tx@{gtpu\_echo\_tx}!srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}}
\doxysubsubsection{\texorpdfstring{gtpu\_echo\_tx()}{gtpu\_echo\_tx()}}
{\footnotesize\ttfamily srsran\+::gtpu\+\_\+echo\+\_\+tx\+::gtpu\+\_\+echo\+\_\+tx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&}]{gtpu\+\_\+pcap\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier}{gtpu\+\_\+tunnel\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+notifier}} \&}]{upper\+\_\+dn\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00040\ \ \ \ \ gtpu\_tunnel\_base\_tx(gtpu\_tunnel\_log\_prefix\{\{\},\ \mbox{\hyperlink{namespacesrsran_ae66ebdfbccf6edcfe04b5d33772b58a7}{GTPU\_PATH\_MANAGEMENT\_TEID}},\ \textcolor{stringliteral}{"{}UL"{}}\},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{gtpu\_pcap\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_dn\_}})}
\DoxyCodeLine{00041\ \ \ \{}
\DoxyCodeLine{00042\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1gtpu__echo__tx_aff9f0ecd513f82eb2bccf46b787b45be}\label{classsrsran_1_1gtpu__echo__tx_aff9f0ecd513f82eb2bccf46b787b45be} 
\index{srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}!handle\_echo\_response@{handle\_echo\_response}}
\index{handle\_echo\_response@{handle\_echo\_response}!srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}}
\doxysubsubsection{\texorpdfstring{handle\_echo\_response()}{handle\_echo\_response()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::gtpu\+\_\+echo\+\_\+tx\+::handle\+\_\+echo\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&}]{src\+\_\+addr,  }\item[{uint16\+\_\+t}]{sn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Handles an echo response message, disables T3-\/\+RESPONSE for the request with sequence number {\ttfamily sn}. 


\begin{DoxyParams}{Parameters}
{\em src\+\_\+addr} & The source address of the echo response message. \\
\hline
{\em sn} & The sequence number of the echo response message and the initiating echo request message. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface_aeba34eb9135ace9dda91b0331ae76519}{srsran\+::gtpu\+\_\+echo\+\_\+tx\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}handle\_echo\_response\ was\ called.\ sn=\{\}"{}},\ sn);}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ TODO:\ disarm\ t3\_response}}
\DoxyCodeLine{00109\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1gtpu__echo__tx_a9d470b25d34344f66216675a764d6b76}\label{classsrsran_1_1gtpu__echo__tx_a9d470b25d34344f66216675a764d6b76} 
\index{srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}!send\_echo\_request@{send\_echo\_request}}
\index{send\_echo\_request@{send\_echo\_request}!srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}}
\doxysubsubsection{\texorpdfstring{send\_echo\_request()}{send\_echo\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::gtpu\+\_\+echo\+\_\+tx\+::send\+\_\+echo\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&}]{dst\+\_\+addr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Sends an echo request message to the {\ttfamily dst\+\_\+addr}. 
\begin{DoxyParams}{Parameters}
{\em dst\+\_\+addr} & The destination address for the echo request message. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface_a072d34ba353311079ca7904f7e092cbf}{srsran\+::gtpu\+\_\+echo\+\_\+tx\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ byte\_buffer\ buf;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ TODO:\ Add\ optional\ IE\ for\ "{}private\ extension"{}}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ gtpu\_header\ hdr\ \ \ \ \ \ \ \ \ =\ \{\};}
\DoxyCodeLine{00052\ \ \ \ \ hdr.flags.version\ \ \ \ \ \ \ =\ GTPU\_FLAGS\_VERSION\_V1;}
\DoxyCodeLine{00053\ \ \ \ \ hdr.flags.protocol\_type\ =\ GTPU\_FLAGS\_GTP\_PROTOCOL;}
\DoxyCodeLine{00054\ \ \ \ \ hdr.flags.ext\_hdr\ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00055\ \ \ \ \ hdr.flags.seq\_number\ \ \ \ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00056\ \ \ \ \ hdr.message\_type\ \ \ \ \ \ \ \ =\ GTPU\_MSG\_ECHO\_REQUEST;}
\DoxyCodeLine{00057\ \ \ \ \ hdr.length\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;\ \textcolor{comment}{//\ length\ will\ be\ computed\ automatically}}
\DoxyCodeLine{00058\ \ \ \ \ hdr.teid\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_ae66ebdfbccf6edcfe04b5d33772b58a7}{GTPU\_PATH\_MANAGEMENT\_TEID}};}
\DoxyCodeLine{00059\ \ \ \ \ hdr.seq\_number\ \ \ \ \ \ \ \ \ \ =\ sn\_next;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{write\_ok}}\ =\ \mbox{\hyperlink{namespacesrsran_afd81a8c24d4de479c6bd3887e97d640e}{gtpu\_write\_header}}(buf,\ hdr,\ logger);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{write\_ok}})\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Discarded\ SDU.\ Cause:\ Error\ writing\ GTP-\/U\ header\ of\ echo\ request."{}});}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ sn\_next++;}
\DoxyCodeLine{00069\ \ \ \ \ logger.log\_info(buf.begin(),\ buf.end(),\ \textcolor{stringliteral}{"{}TX\ echo\ request.\ sn=\{\}\ pdu\_len=\{\}"{}},\ hdr.seq\_number,\ buf.length());}
\DoxyCodeLine{00070\ \ \ \ \ send\_pdu(std::move(buf),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dst\_addr}});}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1gtpu__echo__tx_af00d120f6f5070ec4b0a899b3706ad36}\label{classsrsran_1_1gtpu__echo__tx_af00d120f6f5070ec4b0a899b3706ad36} 
\index{srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}!send\_echo\_response@{send\_echo\_response}}
\index{send\_echo\_response@{send\_echo\_response}!srsran::gtpu\_echo\_tx@{srsran::gtpu\_echo\_tx}}
\doxysubsubsection{\texorpdfstring{send\_echo\_response()}{send\_echo\_response()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::gtpu\+\_\+echo\+\_\+tx\+::send\+\_\+echo\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&}]{dst\+\_\+addr,  }\item[{uint16\+\_\+t}]{sn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Sends an echo response message to the {\ttfamily dst\+\_\+addr} using sequence number {\ttfamily sn}. The sequence number shall be copied from the echo request as specified in TS 29.\+281 Sec. 4.\+3.\+1. 
\begin{DoxyParams}{Parameters}
{\em dst\+\_\+addr} & The destination address for the echo response message. \\
\hline
{\em sn} & The sequence number of the initiating echo request message. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface_a416485d198a96d6f7ea4b1953538eb53}{srsran\+::gtpu\+\_\+echo\+\_\+tx\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ byte\_buffer\ buf;}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ Add\ information\ element\ for\ "{}recovery"{}\ for\ backward\ compatibility.\ See\ TS\ 29.281\ Sec.\ 8.2}}
\DoxyCodeLine{00078\ \ \ \ \ gtpu\_ie\_recovery\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ie\_recovery}}\ =\ \{\};}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a772151f60a31780b164f7b439287d7fa}{gtpu\_write\_ie\_recovery}}(buf,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ie\_recovery}},\ logger);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ TODO:\ Add\ optional\ IE\ for\ "{}private\ extension"{}}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ Add\ header}}
\DoxyCodeLine{00084\ \ \ \ \ gtpu\_header\ hdr\ \ \ \ \ \ \ \ \ =\ \{\};}
\DoxyCodeLine{00085\ \ \ \ \ hdr.flags.version\ \ \ \ \ \ \ =\ GTPU\_FLAGS\_VERSION\_V1;}
\DoxyCodeLine{00086\ \ \ \ \ hdr.flags.protocol\_type\ =\ GTPU\_FLAGS\_GTP\_PROTOCOL;}
\DoxyCodeLine{00087\ \ \ \ \ hdr.flags.ext\_hdr\ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00088\ \ \ \ \ hdr.flags.seq\_number\ \ \ \ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00089\ \ \ \ \ hdr.message\_type\ \ \ \ \ \ \ \ =\ GTPU\_MSG\_ECHO\_RESPONSE;}
\DoxyCodeLine{00090\ \ \ \ \ hdr.length\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;\ \textcolor{comment}{//\ length\ will\ be\ computed\ automatically}}
\DoxyCodeLine{00091\ \ \ \ \ hdr.teid\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_ae66ebdfbccf6edcfe04b5d33772b58a7}{GTPU\_PATH\_MANAGEMENT\_TEID}};}
\DoxyCodeLine{00092\ \ \ \ \ hdr.seq\_number\ \ \ \ \ \ \ \ \ \ =\ sn;\ \textcolor{comment}{//\ responses\ copy\ the\ SN\ of\ the\ request,\ TS\ 29.281\ Sec.\ 4.3.1}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{write\_ok}}\ =\ \mbox{\hyperlink{namespacesrsran_afd81a8c24d4de479c6bd3887e97d640e}{gtpu\_write\_header}}(buf,\ hdr,\ logger);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{write\_ok}})\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Discarded\ SDU.\ Cause:\ Error\ writing\ GTP-\/U\ header\ of\ echo\ response.\ sn=\{\}"{}},\ sn);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ logger.log\_info(buf.begin(),\ buf.end(),\ \textcolor{stringliteral}{"{}TX\ echo\ response.\ sn=\{\}\ pdu\_len=\{\}"{}},\ sn,\ buf.length());}
\DoxyCodeLine{00102\ \ \ \ \ send\_pdu(std::move(buf),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dst\_addr}});}
\DoxyCodeLine{00103\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/gtpu/gtpu\+\_\+echo\+\_\+tx\+\_\+impl.\+h\end{DoxyCompactItemize}
