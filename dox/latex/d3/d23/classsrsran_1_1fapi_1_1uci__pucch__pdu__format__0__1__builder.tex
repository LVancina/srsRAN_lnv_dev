\doxysection{srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder Class Reference}
\hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}


{\ttfamily \#include $<$message\+\_\+builders.\+h$>$}



Collaboration diagram for srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{db/da3/classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_adc3fc2fa46e5b0369ee39e1554fa787d}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} (\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}{set\+\_\+basic\+\_\+parameters}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} handle, \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} rnti, \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\+\_\+format}} type)
\begin{DoxyCompactList}\small\item\em Sets the UCI PUCCH PDU Format 0 and Format 1 basic parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a3bf703bfa39c670aae57a4114f908e66}{set\+\_\+metrics\+\_\+parameters}} (\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ ul\+\_\+sinr\+\_\+metric, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ timing\+\_\+advance\+\_\+offset, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classint}{int}} $>$ timing\+\_\+advance\+\_\+offset\+\_\+ns, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ rssi, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$ rsrp, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\+\_\+use\+\_\+d\+Bm}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}})
\begin{DoxyCompactList}\small\item\em Sets the UCI PUCCH PDU Format 0 and Format 1 metrics parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a4272a91872995f12f758e8ff1ed6b5d8}{set\+\_\+sr\+\_\+parameters}} (\mbox{\hyperlink{classbool}{bool}} detected, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\+\_\+level}})
\begin{DoxyCompactList}\small\item\em Sets the SR PDU parameters and returns a reference to the builder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_ac6dfece52a98085bf03ce0700e3d2e18}{set\+\_\+harq\+\_\+parameters}} (\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\+\_\+level}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a25b18688d653dc410f495c4bf0845411}{uci\+\_\+pucch\+\_\+f0\+\_\+or\+\_\+f1\+\_\+harq\+\_\+values}} $>$ value)
\begin{DoxyCompactList}\small\item\em Sets the HARQ PDU parameters and returns a reference to the builder. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
UCI PUCCH PDU Format 0 or Format 1 builder that helps fill in the parameters specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+2. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_adc3fc2fa46e5b0369ee39e1554fa787d}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_adc3fc2fa46e5b0369ee39e1554fa787d} 
\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}!uci\_pucch\_pdu\_format\_0\_1\_builder@{uci\_pucch\_pdu\_format\_0\_1\_builder}}
\index{uci\_pucch\_pdu\_format\_0\_1\_builder@{uci\_pucch\_pdu\_format\_0\_1\_builder}!srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}
\doxysubsubsection{\texorpdfstring{uci\_pucch\_pdu\_format\_0\_1\_builder()}{uci\_pucch\_pdu\_format\_0\_1\_builder()}}
{\footnotesize\ttfamily srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1}} \&}]{pdu\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01536\ :\ pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_}})\ \{\ pdu.pdu\_bitmap\ =\ 0;\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_aef5139421a9b0309bef6b9efbafce41b} 
\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}!set\_basic\_parameters@{set\_basic\_parameters}}
\index{set\_basic\_parameters@{set\_basic\_parameters}!srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}
\doxysubsubsection{\texorpdfstring{set\_basic\_parameters()}{set\_basic\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+::set\+\_\+basic\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{handle,  }\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{rnti,  }\item[{\mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\+\_\+format}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the UCI PUCCH PDU Format 0 and Format 1 basic parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+2 in Table UCI PUCCH Format 0 or Format 1 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01541\ \ \ \{}
\DoxyCodeLine{01542\ \ \ \ \ pdu.handle\ =\ handle;}
\DoxyCodeLine{01543\ \ \ \ \ pdu.rnti\ \ \ =\ to\_value(rnti);}
\DoxyCodeLine{01544\ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_0:}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ uci\_pucch\_pdu\_format\_0\_1::format\_type::format\_0;}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_1:}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ pdu.pucch\_format\ =\ uci\_pucch\_pdu\_format\_0\_1::format\_type::format\_1;}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ srsran\_assert(0,\ \textcolor{stringliteral}{"{}PUCCH\ format=\{\}\ is\ not\ supported\ by\ this\ PDU"{}},\ type);}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01554\ \ \ \ \ \}}
\DoxyCodeLine{01555\ }
\DoxyCodeLine{01556\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01557\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_ac6dfece52a98085bf03ce0700e3d2e18}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_ac6dfece52a98085bf03ce0700e3d2e18} 
\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}!set\_harq\_parameters@{set\_harq\_parameters}}
\index{set\_harq\_parameters@{set\_harq\_parameters}!srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}
\doxysubsubsection{\texorpdfstring{set\_harq\_parameters()}{set\_harq\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+::set\+\_\+harq\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{confidence\+\_\+level,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a25b18688d653dc410f495c4bf0845411}{uci\+\_\+pucch\+\_\+f0\+\_\+or\+\_\+f1\+\_\+harq\+\_\+values}} $>$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the HARQ PDU parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+2 in Table HARQ PDU for Format 0 or Format 1 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01634\ \ \ \{}
\DoxyCodeLine{01635\ \ \ \ \ pdu.pdu\_bitmap.set(uci\_pucch\_pdu\_format\_0\_1::HARQ\_BIT);}
\DoxyCodeLine{01636\ }
\DoxyCodeLine{01637\ \ \ \ \ \textcolor{keyword}{auto}\&\ harq\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ pdu.harq;}
\DoxyCodeLine{01638\ \ \ \ \ harq.harq\_confidence\_level\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\_level}})\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\_level}}.value()\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01639\ \ \ \ \ harq.harq\_values.assign(value.begin(),\ value.end());}
\DoxyCodeLine{01640\ }
\DoxyCodeLine{01641\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01642\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a3bf703bfa39c670aae57a4114f908e66}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a3bf703bfa39c670aae57a4114f908e66} 
\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}!set\_metrics\_parameters@{set\_metrics\_parameters}}
\index{set\_metrics\_parameters@{set\_metrics\_parameters}!srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}
\doxysubsubsection{\texorpdfstring{set\_metrics\_parameters()}{set\_metrics\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+::set\+\_\+metrics\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{ul\+\_\+sinr\+\_\+metric,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{timing\+\_\+advance\+\_\+offset,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classint}{int}} $>$}]{timing\+\_\+advance\+\_\+offset\+\_\+ns,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{rssi,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classfloat}{float}} $>$}]{rsrp,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{rsrp\+\_\+use\+\_\+d\+Bm = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{true}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the UCI PUCCH PDU Format 0 and Format 1 metrics parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+2 in Table UCI PUCCH Format 0 or Format 1 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01567\ \ \ \{}
\DoxyCodeLine{01568\ \ \ \ \ pdu.timing\_advance\_offset\ \ \ \ =\ (timing\_advance\_offset)\ ?\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(timing\_advance\_offset.value())}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<uint16\_t>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01570\ \ \ \ \ pdu.timing\_advance\_offset\_ns\ =\ (timing\_advance\_offset\_ns)\ ?\ \textcolor{keyword}{static\_cast<}int16\_t\textcolor{keyword}{>}(timing\_advance\_offset\_ns.value())}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<int16\_t>::\mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}}();}
\DoxyCodeLine{01572\ }
\DoxyCodeLine{01573\ \ \ \ \ \textcolor{comment}{//\ SINR.}}
\DoxyCodeLine{01574\ \ \ \ \ \textcolor{keywordtype}{int}\ sinr\ =}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ (ul\_sinr\_metric)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ul\_sinr\_metric.value()\ *\ 500.F)\ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<int16\_t>::\mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}}();}
\DoxyCodeLine{01576\ }
\DoxyCodeLine{01577\ \ \ \ \ srsran\_assert(sinr\ <=\ std::numeric\_limits<int16\_t>::max(),}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::max());}
\DoxyCodeLine{01581\ }
\DoxyCodeLine{01582\ \ \ \ \ srsran\_assert(sinr\ >=\ std::numeric\_limits<int16\_t>::min(),}
\DoxyCodeLine{01583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UL\ SINR\ metric\ (\{\})\ is\ under\ the\ minimum\ (\{\})."{}},}
\DoxyCodeLine{01584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sinr,}
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<int16\_t>::min());}
\DoxyCodeLine{01586\ }
\DoxyCodeLine{01587\ \ \ \ \ pdu.ul\_sinr\_metric\ =\ \textcolor{keyword}{static\_cast<}int16\_t\textcolor{keyword}{>}(sinr);}
\DoxyCodeLine{01588\ }
\DoxyCodeLine{01589\ \ \ \ \ \textcolor{comment}{//\ RSSI.}}
\DoxyCodeLine{01590\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}}\ =}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ (rssi)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((rssi.value()\ +\ 128.F)\ *\ 10.F)\ :\ std::numeric\_limits<uint16\_t>::max();}
\DoxyCodeLine{01592\ }
\DoxyCodeLine{01593\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}}\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSSI\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}},}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01597\ }
\DoxyCodeLine{01598\ \ \ \ \ pdu.rssi\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rssi\_value}});}
\DoxyCodeLine{01599\ }
\DoxyCodeLine{01600\ \ \ \ \ \textcolor{comment}{//\ RSRP.}}
\DoxyCodeLine{01601\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ =\ (rsrp)\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}((rsrp.value()\ +\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_use\_dBm}})\ ?\ 140.F\ :\ 128.F))\ *\ 10.F)}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{numeric\_limits}}<uint16\_t>::\mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}();}
\DoxyCodeLine{01603\ }
\DoxyCodeLine{01604\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}}\ <=\ std::numeric\_limits<uint16\_t>::max(),}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}RSRP\ metric\ (\{\})\ exceeds\ the\ maximum\ (\{\})."{}},}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}},}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<uint16\_t>::max());}
\DoxyCodeLine{01608\ }
\DoxyCodeLine{01609\ \ \ \ \ pdu.rsrp\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_value}});}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01612\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a4272a91872995f12f758e8ff1ed6b5d8}\label{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder_a4272a91872995f12f758e8ff1ed6b5d8} 
\index{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}!set\_sr\_parameters@{set\_sr\_parameters}}
\index{set\_sr\_parameters@{set\_sr\_parameters}!srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder@{srsran::fapi::uci\_pucch\_pdu\_format\_0\_1\_builder}}
\doxysubsubsection{\texorpdfstring{set\_sr\_parameters()}{set\_sr\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__pucch__pdu__format__0__1__builder}{uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder}} \& srsran\+::fapi\+::uci\+\_\+pucch\+\_\+pdu\+\_\+format\+\_\+0\+\_\+1\+\_\+builder\+::set\+\_\+sr\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbool}{bool}}}]{detected,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{classunsigned}{unsigned}} $>$}]{confidence\+\_\+level }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the SR PDU parameters and returns a reference to the builder. 

\begin{DoxyNote}{Note}
These parameters are specified in SCF-\/222 v4.\+0 Section 3.\+4.\+9.\+4 in Table SR PDU for Format 0 or Format 1 PDU. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01617\ \ \ \{}
\DoxyCodeLine{01618\ \ \ \ \ pdu.pdu\_bitmap.set(uci\_pucch\_pdu\_format\_0\_1::SR\_BIT);}
\DoxyCodeLine{01619\ }
\DoxyCodeLine{01620\ \ \ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sr\_pdu}}\ =\ pdu.sr;}
\DoxyCodeLine{01621\ }
\DoxyCodeLine{01622\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sr\_pdu}}.sr\_indication\ =\ detected;}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sr\_pdu}}.sr\_confidence\_level\ =\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\_level}})\ ?\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{confidence\_level}}.value()\ :\ std::numeric\_limits<uint8\_t>::max();}
\DoxyCodeLine{01625\ }
\DoxyCodeLine{01626\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01627\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/fapi/message\+\_\+builders.\+h\end{DoxyCompactItemize}
