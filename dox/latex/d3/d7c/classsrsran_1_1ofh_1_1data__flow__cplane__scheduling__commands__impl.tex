\doxysection{srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl}{}\label{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl}\index{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}}


Open Fronthaul Control-\/\+Plane scheduling and beamforming commands data flow implementation.  




{\ttfamily \#include $<$ofh\+\_\+data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{db/d1d/classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{d0/dfe/classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_ac267be58d014c0d3f4adbabbb15a95e4}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+\_\+config}} \&config, \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__dependencies}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+\_\+dependencies}} \&\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a93a3a8a0edfd76906520b42a34be2d54}{enqueue\+\_\+section\+\_\+type\+\_\+1\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__type__1__context}{data\+\_\+flow\+\_\+cplane\+\_\+type\+\_\+1\+\_\+context}} \&context) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Enqueues Open Fronthaul section type 1 message with the given slot and e\+AxC. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a2a78012383d771f2938870661ef9d9f6}{enqueue\+\_\+section\+\_\+type\+\_\+3\+\_\+prach\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+prach\+\_\+context}} \&context) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Enqueues Open Fronthaul section type 3 PRACH message with the given parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands}{srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Open Fronthaul Control-\/\+Plane scheduling and beamforming commands data flow implementation. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_ac267be58d014c0d3f4adbabbb15a95e4}\label{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_ac267be58d014c0d3f4adbabbb15a95e4} 
\index{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}!data\_flow\_cplane\_scheduling\_commands\_impl@{data\_flow\_cplane\_scheduling\_commands\_impl}}
\index{data\_flow\_cplane\_scheduling\_commands\_impl@{data\_flow\_cplane\_scheduling\_commands\_impl}!srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}}
\doxysubsubsection{\texorpdfstring{data\_flow\_cplane\_scheduling\_commands\_impl()}{data\_flow\_cplane\_scheduling\_commands\_impl()}}
{\footnotesize\ttfamily data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+\_\+config}} \&}]{config,  }\item[{\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__dependencies}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+\_\+dependencies}} \&\&}]{dependencies }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00145\ \ \ logger(*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.logger),}
\DoxyCodeLine{00146\ \ \ nof\_symbols\_per\_slot(\mbox{\hyperlink{namespacesrsran_aa1d2bd5d3008afda19c0949d241a73f7}{get\_nsymb\_per\_slot}}(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_a2f144ad4feb8a11804d192006f70a5c8}{cp}})),}
\DoxyCodeLine{00147\ \ \ ru\_nof\_prbs(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_aec4b03c1149f1073cd0ce198bfd0b159}{ru\_nof\_prbs}}),}
\DoxyCodeLine{00148\ \ \ dl\_compr\_params(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_ade46d1aa1b7e97bf948f1e5061cb6cba}{dl\_compr\_params}}),}
\DoxyCodeLine{00149\ \ \ ul\_compr\_params(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_a5a4009ee32a6852656f27325a09d6b5c}{ul\_compr\_params}}),}
\DoxyCodeLine{00150\ \ \ prach\_compr\_params(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_a0a7feff2a1b4eac66d3915d41eb95db5}{prach\_compr\_params}}),}
\DoxyCodeLine{00151\ \ \ vlan\_params(config.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl__config_abbb0ea99947db9162899266645fa7560}{vlan\_params}}),}
\DoxyCodeLine{00152\ \ \ ul\_cplane\_context\_repo\_ptr(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.ul\_cplane\_context\_repo),}
\DoxyCodeLine{00153\ \ \ frame\_pool\_ptr(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.frame\_pool),}
\DoxyCodeLine{00154\ \ \ ul\_cplane\_context\_repo(*ul\_cplane\_context\_repo\_ptr),}
\DoxyCodeLine{00155\ \ \ frame\_pool(*frame\_pool\_ptr),}
\DoxyCodeLine{00156\ \ \ eth\_builder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.eth\_builder)),}
\DoxyCodeLine{00157\ \ \ ecpri\_builder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.ecpri\_builder)),}
\DoxyCodeLine{00158\ \ \ cp\_builder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.cp\_builder))}
\DoxyCodeLine{00159\ \{}
\DoxyCodeLine{00160\ \ \ srsran\_assert(eth\_builder,\ \textcolor{stringliteral}{"{}Invalid\ Ethernet\ VLAN\ packet\ builder"{}});}
\DoxyCodeLine{00161\ \ \ srsran\_assert(ecpri\_builder,\ \textcolor{stringliteral}{"{}Invalid\ eCPRI\ packet\ builder"{}});}
\DoxyCodeLine{00162\ \ \ srsran\_assert(cp\_builder,\ \textcolor{stringliteral}{"{}Invalid\ Control-\/Plane\ message\ builder"{}});}
\DoxyCodeLine{00163\ \ \ srsran\_assert(frame\_pool\_ptr,\ \textcolor{stringliteral}{"{}Invalid\ frame\ pool"{}});}
\DoxyCodeLine{00164\ \ \ srsran\_assert(ul\_cplane\_context\_repo\_ptr,\ \textcolor{stringliteral}{"{}Invalid\ UL\ repository"{}});}
\DoxyCodeLine{00165\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a93a3a8a0edfd76906520b42a34be2d54}\label{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a93a3a8a0edfd76906520b42a34be2d54} 
\index{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}!enqueue\_section\_type\_1\_message@{enqueue\_section\_type\_1\_message}}
\index{enqueue\_section\_type\_1\_message@{enqueue\_section\_type\_1\_message}!srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}}
\doxysubsubsection{\texorpdfstring{enqueue\_section\_type\_1\_message()}{enqueue\_section\_type\_1\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+::enqueue\+\_\+section\+\_\+type\+\_\+1\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__type__1__context}{data\+\_\+flow\+\_\+cplane\+\_\+type\+\_\+1\+\_\+context}} \&}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Enqueues Open Fronthaul section type 1 message with the given slot and e\+AxC. 



Implements \mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands_adbcc03eba0e7b935374a9f2c7d36cfb4}{srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00169\ \{}
\DoxyCodeLine{00170\ \ \ data\_direction\ \ \ \ direction\ =\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__type__1__context_a71a878ed74353c3bbee62a92716a53ff}{direction}};}
\DoxyCodeLine{00171\ \ \ \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\_point}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}\ \ \ \ \ \ =\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__type__1__context_aca2da097645e28c93121b450117dd516}{slot}};}
\DoxyCodeLine{00172\ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1slot__symbol__point}{slot\_symbol\_point}}\ symbol\_point(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ 0,\ nof\_symbols\_per\_slot);}
\DoxyCodeLine{00173\ \ \ logger.debug(\textcolor{stringliteral}{"{}Packing\ a\ \{\}\ type\ 1\ Control-\/Plane\ message\ for\ slot\ '\{\}'\ and\ eAxC\ '\{\}'"{}},}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (direction\ ==\ data\_direction::downlink)\ ?\ \textcolor{stringliteral}{"{}downlink"{}}\ :\ \textcolor{stringliteral}{"{}uplink"{}},}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.eaxc);}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{comment}{//\ Get\ an\ ethernet\ frame\ buffer.}}
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1scoped__frame__buffer}{scoped\_frame\_buffer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}(frame\_pool,\ symbol\_point,\ message\_type::control\_plane,\ direction);}
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}.empty())\ \{}
\DoxyCodeLine{00181\ \ \ \ \ logger.warning(}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ enough\ space\ in\ the\ buffer\ pool\ to\ create\ a\ \{\}\ type\ 1\ Control-\/Plane\ message\ for\ slot\ '\{\}'\ and\ eAxC\ '\{\}'"{}},}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ (direction\ ==\ data\_direction::downlink)\ ?\ \textcolor{stringliteral}{"{}downlink"{}}\ :\ \textcolor{stringliteral}{"{}uplink"{}},}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ context.eaxc);}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ \ \ \mbox{\hyperlink{classsrsran_1_1ether_1_1frame__buffer}{ether::frame\_buffer}}\&\ frame\_buffer\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}.get\_next\_frame();}
\DoxyCodeLine{00189\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \ \ \ \ \ \ \ buffer\ \ \ \ \ \ \ =\ frame\_buffer.data();}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \textcolor{comment}{//\ Build\ the\ Open\ Fronthaul\ control\ message.\ Only\ one\ port\ supported.}}
\DoxyCodeLine{00192\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}\ \ =\ eth\_builder-\/>get\_header\_size();}
\DoxyCodeLine{00193\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}\ \ =\ ecpri\_builder-\/>get\_header\_size(ecpri::message\_type::rt\_control\_data);}
\DoxyCodeLine{00194\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ offset\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}};}
\DoxyCodeLine{00195\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_buffer}}\ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(buffer).\mbox{\hyperlink{classsrsran_1_1span_afa8aa6b2df95cc96ece6e86cf47068e2}{last}}(buffer.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ -\/\ offset.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}());}
\DoxyCodeLine{00196\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}\ =\ generate\_section1\_control\_parameters(}
\DoxyCodeLine{00197\ \ \ \ \ \ \ context,\ ru\_nof\_prbs,\ (direction\ ==\ data\_direction::downlink)\ ?\ dl\_compr\_params\ :\ ul\_compr\_params);}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}}\ =\ cp\_builder-\/>build\_dl\_ul\_radio\_channel\_message(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_buffer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}});}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \textcolor{keywordtype}{unsigned}\ eaxc\ =\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__type__1__context_a2774cf794be3ce1480f5dd608688d1c6}{eaxc}};}
\DoxyCodeLine{00201\ \ \ \textcolor{comment}{//\ Register\ the\ Control-\/Plane\ parameters\ for\ uplink\ messages.}}
\DoxyCodeLine{00202\ \ \ \textcolor{keywordflow}{if}\ (direction\ ==\ data\_direction::uplink)\ \{}
\DoxyCodeLine{00203\ \ \ \ \ ul\_cplane\_context\_repo.\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__cplane__context__repository_a9a368cfd168608121ed230ac6ccd94df}{add}}(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eaxc,}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.radio\_hdr,}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.prb\_start,}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.nof\_prb,}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.nof\_symbols\});}
\DoxyCodeLine{00209\ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \textcolor{comment}{//\ Add\ eCPRI\ header.}}
\DoxyCodeLine{00212\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_buffer}}\ =}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(buffer).\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}.value(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}.value()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}});}
\DoxyCodeLine{00214\ \ \ \textcolor{keywordtype}{unsigned}\ seq\_id\ =}
\DoxyCodeLine{00215\ \ \ \ \ \ \ (direction\ ==\ data\_direction::downlink)\ ?\ cp\_dl\_seq\_gen.\mbox{\hyperlink{classsrsran_1_1ofh_1_1sequence__identifier__generator_a931ed79f5a1867a80e261111d919a80b}{generate}}(eaxc)\ :\ cp\_ul\_seq\_gen.\mbox{\hyperlink{classsrsran_1_1ofh_1_1sequence__identifier__generator_a931ed79f5a1867a80e261111d919a80b}{generate}}(eaxc);}
\DoxyCodeLine{00216\ \ \ ecpri\_builder-\/>build\_control\_packet(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_buffer}},\ generate\_ecpri\_control\_parameters(seq\_id,\ eaxc));}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \textcolor{comment}{//\ Update\ the\ number\ of\ bytes\ written.}}
\DoxyCodeLine{00219\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}}\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}.value();}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \textcolor{comment}{//\ Add\ Ethernet\ header.}}
\DoxyCodeLine{00222\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}}\ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(buffer).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}.value()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}});}
\DoxyCodeLine{00223\ \ \ eth\_builder-\/>build\_vlan\_frame(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}},\ vlan\_params);}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ frame\_buffer.set\_size(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}}.size());}
\DoxyCodeLine{00226\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a2a78012383d771f2938870661ef9d9f6}\label{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands__impl_a2a78012383d771f2938870661ef9d9f6} 
\index{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}!enqueue\_section\_type\_3\_prach\_message@{enqueue\_section\_type\_3\_prach\_message}}
\index{enqueue\_section\_type\_3\_prach\_message@{enqueue\_section\_type\_3\_prach\_message}!srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl@{srsran::ofh::data\_flow\_cplane\_scheduling\_commands\_impl}}
\doxysubsubsection{\texorpdfstring{enqueue\_section\_type\_3\_prach\_message()}{enqueue\_section\_type\_3\_prach\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl\+::enqueue\+\_\+section\+\_\+type\+\_\+3\+\_\+prach\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context}{data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+prach\+\_\+context}} \&}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Enqueues Open Fronthaul section type 3 PRACH message with the given parameters. 



Implements \mbox{\hyperlink{classsrsran_1_1ofh_1_1data__flow__cplane__scheduling__commands_ab73decbd9626f04fb41f94eb28f5d29c}{srsran\+::ofh\+::data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00230\ \{}
\DoxyCodeLine{00231\ \ \ \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\_point}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}\ =\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_acdbfb0a50584458cfdfddfa7c47e6b3f}{slot}};}
\DoxyCodeLine{00232\ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1slot__symbol__point}{slot\_symbol\_point}}\ symbol\_point(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a8e2784987ab89d2158644830969fdfef}{start\_symbol}},\ nof\_symbols\_per\_slot);}
\DoxyCodeLine{00233\ \ \ logger.debug(\textcolor{stringliteral}{"{}Packing\ a\ type\ 3\ PRACH\ Control-\/Plane\ message\ for\ slot\ '\{\}'\ and\ eAxC\ '\{\}'"{}},\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a45ad6a51cf4b4d61991c1f186c659eaa}{eaxc}});}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \textcolor{comment}{//\ Get\ an\ ethernet\ frame\ buffer.}}
\DoxyCodeLine{00236\ \ \ \mbox{\hyperlink{classsrsran_1_1ofh_1_1scoped__frame__buffer}{scoped\_frame\_buffer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}(frame\_pool,\ symbol\_point,\ message\_type::control\_plane,\ data\_direction::uplink);}
\DoxyCodeLine{00237\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}.empty())\ \{}
\DoxyCodeLine{00238\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Not\ enough\ space\ in\ the\ buffer\ pool\ to\ create\ a\ type\ 3\ PRACH\ Control-\/Plane\ message\ for\ slot\ '\{\}'\ "{}}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}and\ eAxC\ '\{\}'"{}},}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a45ad6a51cf4b4d61991c1f186c659eaa}{eaxc}});}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00243\ \ \ \}}
\DoxyCodeLine{00244\ \ \ \mbox{\hyperlink{classsrsran_1_1ether_1_1frame__buffer}{ether::frame\_buffer}}\&\ frame\_buffer\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scoped\_buffer}}.get\_next\_frame();}
\DoxyCodeLine{00245\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \ \ \ \ \ \ \ buffer\ \ \ \ \ \ \ =\ frame\_buffer.data();}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \textcolor{comment}{//\ Build\ the\ Open\ Fronthaul\ control\ message.\ Only\ one\ port\ supported.}}
\DoxyCodeLine{00248\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}\ \ =\ eth\_builder-\/>get\_header\_size();}
\DoxyCodeLine{00249\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}\ \ =\ ecpri\_builder-\/>get\_header\_size(ecpri::message\_type::rt\_control\_data);}
\DoxyCodeLine{00250\ \ \ \mbox{\hyperlink{classsrsran_1_1units_1_1bytes}{units::bytes}}\ \ offset\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}};}
\DoxyCodeLine{00251\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_buffer}}\ \ \ \ \ \ =\ buffer.\mbox{\hyperlink{classsrsran_1_1span_afa8aa6b2df95cc96ece6e86cf47068e2}{last}}(buffer.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ -\/\ offset.\mbox{\hyperlink{classsrsran_1_1strong__type_a1a71ac48ba41b4a070b32e296c177db0}{value}}());}
\DoxyCodeLine{00252\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}\ =\ generate\_prach\_control\_parameters(context,\ prach\_compr\_params,\ ru\_nof\_prbs);}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ logger.debug(\textcolor{stringliteral}{"{}Generated\ a\ PRACH\ request\ for\ slot\ '\{\}':\ numSymbols=\{\},\ startSym=\{\},\ start\_re=\{\},\ scs=\{\},\ "{}}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}prach\_scs=\{\},\ nof\_rb=\{\},\ timeOffset=\{\},\ freqOffset=\{\}"{}},}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_abf457f2a0066bdbc8c611e537ace91ec}{nof\_repetitions}},}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a8e2784987ab89d2158644830969fdfef}{start\_symbol}},}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a2011ee530e1f0da5fd76770c1200a96e}{prach\_start\_re}},}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a5fa5b607b51bce906141a06d7ecdebbf}{to\_string}}(context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_af15a558a058ac69b84d4d3e959e282be}{scs}}),}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a5fa5b607b51bce906141a06d7ecdebbf}{to\_string}}(context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a3783abf994153f2767adae289a1230b1}{prach\_scs}}),}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_afa2e7a6424e7ec67777baa76677c4ca2}{prach\_nof\_rb}},}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.time\_offset,}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.frequency\_offset);}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}}\ =\ cp\_builder-\/>build\_prach\_mixed\_numerology\_message(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_buffer}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}});}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordtype}{unsigned}\ eaxc\ \ \ \ \ \ \ \ \ \ =\ context.\mbox{\hyperlink{structsrsran_1_1ofh_1_1data__flow__cplane__scheduling__prach__context_a45ad6a51cf4b4d61991c1f186c659eaa}{eaxc}};}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ ul\_cplane\_context\_repo.\mbox{\hyperlink{classsrsran_1_1ofh_1_1uplink__cplane__context__repository_a9a368cfd168608121ed230ac6ccd94df}{add}}(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eaxc,}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.radio\_hdr,}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.prb\_start,}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.nof\_prb,}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ofh\_ctrl\_params}}.section\_fields.common\_fields.nof\_symbols\});}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \textcolor{comment}{//\ Add\ eCPRI\ header.}}
\DoxyCodeLine{00277\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_buffer}}\ =\ buffer.\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}.value(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}.value()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}});}
\DoxyCodeLine{00278\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ seq\_id\ \ \ \ \ \ \ =\ cp\_ul\_seq\_gen.\mbox{\hyperlink{classsrsran_1_1ofh_1_1sequence__identifier__generator_a931ed79f5a1867a80e261111d919a80b}{generate}}(eaxc);}
\DoxyCodeLine{00279\ \ \ ecpri\_builder-\/>build\_control\_packet(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_buffer}},\ generate\_ecpri\_control\_parameters(seq\_id,\ eaxc));}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \textcolor{comment}{//\ Update\ the\ number\ of\ bytes\ written.}}
\DoxyCodeLine{00282\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}}\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ecpri\_hdr\_size}}.value();}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{//\ Add\ Ethernet\ header.}}
\DoxyCodeLine{00285\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}}\ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}(buffer).\mbox{\hyperlink{classsrsran_1_1span_aa4238c2e04ac8c60726db8cc0b687582}{first}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ether\_hdr\_size}}.value()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bytes\_written}});}
\DoxyCodeLine{00286\ \ \ eth\_builder-\/>build\_vlan\_frame(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}},\ vlan\_params);}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ frame\_buffer.set\_size(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{eth\_buffer}}.size());}
\DoxyCodeLine{00289\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ofh/transmitter/ofh\+\_\+data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl.\+h\item 
lib/ofh/transmitter/ofh\+\_\+data\+\_\+flow\+\_\+cplane\+\_\+scheduling\+\_\+commands\+\_\+impl.\+cpp\end{DoxyCompactItemize}
