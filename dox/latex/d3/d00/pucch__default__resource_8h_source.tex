\doxysection{pucch\+\_\+default\+\_\+resource.\+h}
\hypertarget{pucch__default__resource_8h_source}{}\label{pucch__default__resource_8h_source}\index{lib/scheduler/support/pucch/pucch\_default\_resource.h@{lib/scheduler/support/pucch/pucch\_default\_resource.h}}
\mbox{\hyperlink{pucch__default__resource_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/adt/static\_vector.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/ran/pucch/pucch\_mapping.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{cstdint}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{comment}{///\ \(\backslash\)file}}
\DoxyCodeLine{00030\ \textcolor{comment}{///\ \(\backslash\)brief\ Procedures\ for\ selecting\ PUCCH\ default\ resource.}}
\DoxyCodeLine{00031\ \textcolor{comment}{///}}
\DoxyCodeLine{00032\ \textcolor{comment}{///\ Helper\ files\ for\ selecting\ the\ PUCCH\ resource\ before\ dedicated\ resources\ are\ configured\ as\ described\ in\ TS38.213}}
\DoxyCodeLine{00033\ \textcolor{comment}{///\ Section\ 9.2.1.}}
\DoxyCodeLine{00034\ \textcolor{comment}{///}}
\DoxyCodeLine{00035\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{///\ Collects\ the\ default\ PUCCH\ resource\ parameters\ given\ by\ TS38.213\ Table\ 9.2.1-\/1.}}
\DoxyCodeLine{00038\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource}{pucch\_default\_resource}}\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{///\ PUCCH\ format.}}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{namespacesrsran_a5232bd04aa13ea0365427c4d2baa31e3}{pucch\_format}}\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource_a8a276b0c5c4d589bb7491e007fd0c5e6}{format}};}
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{///\ First\ symbol\ index\ within\ the\ slot.}}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource_a9deb1f420689f28a6a52cab1f78c162c}{first\_symbol\_index}};}
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{///\ Number\ of\ symbols.}}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource_a134afd8241e3476c278f77c0ebb7b634}{nof\_symbols}};}
\DoxyCodeLine{00045\ \ \ \textcolor{comment}{///\ PRB\ offset,\ parameter\ \(\backslash\)f\$RB\_\{BWP\}\string^\{offset\}\(\backslash\)f\$\ in\ TS38.213\ Section\ 9.2.1.}}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource_a0640e8114bfcb29926334a6e9c50a7db}{rb\_bwp\_offset}};}
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{///\ Set\ of\ initial\ cyclic\ shift\ indexes.\ The\ number\ of\ elements\ provides\ the\ parameter\ \(\backslash\)f\$N\_\{CS\}\(\backslash\)f\$\ in\ TS38.213}}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{///\ Section\ 9.2.1.}}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{classsrsran_1_1static__vector}{static\_vector}}<uint8\_t,\ 4>\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource_a7e5dc4f91b1075126cd0c45244f0aca1}{cs\_indexes}};}
\DoxyCodeLine{00050\ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{comment}{///\ \(\backslash\)brief\ Calculates\ the\ default\ PUCCH\ resource\ index\ \(\backslash\)f\$r\_\{PUCCH\}\(\backslash\)f\$.}}
\DoxyCodeLine{00053\ \textcolor{comment}{///}}
\DoxyCodeLine{00054\ \textcolor{comment}{///\ It\ implemented\ is\ according\ to\ TS38.213\ Section\ 9.2.1.}}
\DoxyCodeLine{00055\ \textcolor{comment}{///}}
\DoxyCodeLine{00056\ \textcolor{comment}{///\ \(\backslash\)param[in]\ n\_cce\ \ \ Index\ of\ the\ first\ CCE\ for\ the\ PDCCH\ reception,\ parameter\ \(\backslash\)f\$n\_\{CCE,0\}\(\backslash\)f\$.}}
\DoxyCodeLine{00057\ \textcolor{comment}{///\ \(\backslash\)param[in]\ nof\_cce\ Number\ of\ CCEs\ in\ a\ CORESET\ of\ the\ PDCCH\ reception\ with\ DCI\ associated\ to\ the\ PUCCH}}
\DoxyCodeLine{00058\ \textcolor{comment}{///\ transmission,\ Parameter\ \(\backslash\)f\$N\_\{CCE\}\(\backslash\)f\$.}}
\DoxyCodeLine{00059\ \textcolor{comment}{///\ \(\backslash\)param[in]\ delta\_pri\ PUCCH\ resource\ indicator\ field\ in\ the\ associated\ DCI,\ parameter\ \(\backslash\)f\$\(\backslash\)Delta\ \_\{PRI\}\(\backslash\)f\$.}}
\DoxyCodeLine{00060\ \textcolor{comment}{///\ \(\backslash\)return\ PUCCH\ resource\ index\ in\ with\ a\ range\ of\ \{0,\ ...,\ 15\}.}}
\DoxyCodeLine{00061\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_af6a9b2d94fd37adc2a484b09a8481afd}{get\_pucch\_default\_resource\_index}}(\textcolor{keywordtype}{unsigned}\ n\_cce,\ \textcolor{keywordtype}{unsigned}\ nof\_cce,\ \textcolor{keywordtype}{unsigned}\ delta\_pri);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{comment}{///\ \(\backslash\)brief\ Gets\ the\ PRB\ indexes\ for\ PUCCH\ resource\ before\ dedicated\ PUCCH\ as\ per\ TS38.213\ Section\ 9.2.1.}}
\DoxyCodeLine{00064\ \textcolor{comment}{///\ \(\backslash\)param[in]\ r\_pucch\ \ \ \ \ \ \ PUCCH\ resource\ index,\ parameter\ \(\backslash\)f\$r\_\{PUCCH\}\(\backslash\)f\$.}}
\DoxyCodeLine{00065\ \textcolor{comment}{///\ \(\backslash\)param[in]\ rb\_bwp\_offset\ PRB\ offset,\ parameter\ \(\backslash\)f\$RB\_\{BWP\}\string^\{offset\}\(\backslash\)f\$.}}
\DoxyCodeLine{00066\ \textcolor{comment}{///\ \(\backslash\)param[in]\ nof\_cs\ \ \ \ \ \ \ \ Number\ of\ cyclic\ shifts,\ parameter\ \(\backslash\)f\$N\_\{CS\}\(\backslash\)f\$.}}
\DoxyCodeLine{00067\ \textcolor{comment}{///\ \(\backslash\)param[in]\ N\_bwp\_size\ \ \ \ BWP\ size,\ parameter\ \(\backslash\)f\$N\_\{BWP\}\string^\{size\}\(\backslash\)f\$.}}
\DoxyCodeLine{00068\ \textcolor{comment}{///\ \(\backslash\)return\ A\ pair\ of\ values\ containing\ the\ PRB\ index\ for\ the\ first\ and\ second\ hops.}}
\DoxyCodeLine{00069\ std::pair<\textcolor{keywordtype}{unsigned},\ \textcolor{keywordtype}{unsigned}>}
\DoxyCodeLine{00070\ \mbox{\hyperlink{namespacesrsran_a72428627e45edb4d680c3c387f6138fd}{get\_pucch\_default\_prb\_index}}(\textcolor{keywordtype}{unsigned}\ r\_pucch,\ \textcolor{keywordtype}{unsigned}\ rb\_bwp\_offset,\ \textcolor{keywordtype}{unsigned}\ nof\_cs,\ \textcolor{keywordtype}{unsigned}\ N\_bwp\_size);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{comment}{///\ \(\backslash\)brief\ Gets\ the\ PUCCH\ cyclic\ shift\ for\ PUCCH\ resource\ before\ dedicated\ PUCCH\ as\ per\ TS38.213\ Section\ 9.2.1.}}
\DoxyCodeLine{00073\ \textcolor{comment}{///\ \(\backslash\)param[in]\ r\_pucch\ PUCCH\ resource\ index,\ parameter\ \(\backslash\)f\$r\_\{PUCCH\}\(\backslash\)f\$.}}
\DoxyCodeLine{00074\ \textcolor{comment}{///\ \(\backslash\)param[in]\ nof\_cs\ \ Number\ of\ cyclic\ shifts,\ parameter\ \(\backslash\)f\$N\_\{CS\}\(\backslash\)f\$.}}
\DoxyCodeLine{00075\ \textcolor{comment}{///\ \(\backslash\)return\ The\ PUCCH\ resource\ cyclic\ shift.}}
\DoxyCodeLine{00076\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_ab638bc9c0ad3a38897207e3483888afc}{get\_pucch\_default\_cyclic\_shift}}(\textcolor{keywordtype}{unsigned}\ r\_pucch,\ \textcolor{keywordtype}{unsigned}\ nof\_cs);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{comment}{///\ \(\backslash\)brief\ Gets\ the\ PUCCH\ resource\ parameters\ before\ dedicated\ PUCCH\ resources\ are\ configured.}}
\DoxyCodeLine{00079\ \textcolor{comment}{///}}
\DoxyCodeLine{00080\ \textcolor{comment}{///\ The\ values\ are\ given\ by\ TS38.213\ Table\ 9.2.1-\/1.}}
\DoxyCodeLine{00081\ \textcolor{comment}{///}}
\DoxyCodeLine{00082\ \textcolor{comment}{///\ \(\backslash\)param[in]\ row\_index\ PUCCH\ default\ row\ index,\ higher\ layer\ parameter\ \(\backslash\)e\ pucch-\/ResourceCommon\ (TS38.331}}
\DoxyCodeLine{00083\ \textcolor{comment}{///\ Section\ 6.3.2,\ Information\ Element\ \(\backslash\)e\ PUCCH-\/ConfigCommon).\ Possible\ values\ are\ \{0,\ ...\ ,\ 15\}.}}
\DoxyCodeLine{00084\ \textcolor{comment}{///\ \(\backslash\)param[in]\ bwp\_size\ Active\ BWP\ size,\ parameter\ \(\backslash\)f\$N\_\{BWP\}\string^\{size\}\(\backslash\)f\$\ in\ TS38.213\ Section\ 9.2.1.}}
\DoxyCodeLine{00085\ \textcolor{comment}{///\ \(\backslash\)return\ A\ valid\ default\ PUCCH\ resource.}}
\DoxyCodeLine{00086\ \textcolor{comment}{///\ \(\backslash\)remark\ An\ assertion\ is\ triggered\ if\ the\ row\ index\ exceeds\ its\ boundaries.}}
\DoxyCodeLine{00087\ \mbox{\hyperlink{structsrsran_1_1pucch__default__resource}{pucch\_default\_resource}}\ \mbox{\hyperlink{namespacesrsran_a67f943ae988302457428ae6e8fc345dc}{get\_pucch\_default\_resource}}(\textcolor{keywordtype}{unsigned}\ row\_index,\ \textcolor{keywordtype}{unsigned}\ N\_bwp\_size);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
