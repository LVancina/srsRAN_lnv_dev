\doxysection{srslog\+::file\+\_\+utils\+::file Class Reference}
\hypertarget{classsrslog_1_1file__utils_1_1file}{}\label{classsrslog_1_1file__utils_1_1file}\index{srslog::file\_utils::file@{srslog::file\_utils::file}}


{\ttfamily \#include $<$file\+\_\+utils.\+h$>$}



Collaboration diagram for srslog\+::file\+\_\+utils\+::file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=174pt]{d4/dea/classsrslog_1_1file__utils_1_1file__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_afcfaf72851e6a4bf5f879c5a1e554403}{operator bool}} () const
\item 
std\+::\+FILE \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_aedba4d7b6b4e1ef5df1f19d18f56abc6}{get\+\_\+handle}} () const
\begin{DoxyCompactList}\small\item\em Returns the handle of the underlying file. \end{DoxyCompactList}\item 
const std\+::string \& \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_a68664b928a3eb2d1ba96ead06a8e9777}{get\+\_\+path}} () const
\begin{DoxyCompactList}\small\item\em Returns the path of the file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_ac104918e45f47b7372eab90820b17110}{create}} (const std\+::string \&new\+\_\+path)
\item 
\mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_ad07253657cab84fb7e9daf133eca55ad}{write}} (\mbox{\hyperlink{classsrslog_1_1detail_1_1memory__buffer}{detail\+::memory\+\_\+buffer}} buffer)
\item 
\mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_a7cde6bc69c56d58f1015345451ba415e}{flush}} ()
\begin{DoxyCompactList}\small\item\em Flushes the contents of an open file, otherwise does nothing. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}{close}} ()
\begin{DoxyCompactList}\small\item\em Closes an open file, otherwise does nothing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class provides basic file operations and disables itself when it encounters an error. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrslog_1_1file__utils_1_1file_a09236b8751340ba765e0e7f6642d5c8a}\label{classsrslog_1_1file__utils_1_1file_a09236b8751340ba765e0e7f6642d5c8a} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!````~file@{\texorpdfstring{$\sim$}{\string~}file}}
\index{````~file@{\texorpdfstring{$\sim$}{\string~}file}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}file()}{\string~file()}}
{\footnotesize\ttfamily srslog\+::file\+\_\+utils\+::file\+::\texorpdfstring{$\sim$}{\string~}file (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00089\ \{\ \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}{close}}();\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}\label{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!close@{close}}
\index{close@{close}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void srslog\+::file\+\_\+utils\+::file\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Closes an open file, otherwise does nothing. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00140\ \ \ \{}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle)\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ ::fclose(handle);}
\DoxyCodeLine{00143\ \ \ \ \ \ \ handle\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00144\ \ \ \ \ \ \ path.clear();}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_ac104918e45f47b7372eab90820b17110}\label{classsrslog_1_1file__utils_1_1file_ac104918e45f47b7372eab90820b17110} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!create@{create}}
\index{create@{create}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} srslog\+::file\+\_\+utils\+::file\+::create (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{new\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Creates a new file in the specified path by previously closing any opened file. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \ \ \{}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}{close}}();}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{if}\ ((handle\ =\ std::fopen(new\_path.c\_str(),\ \textcolor{stringliteral}{"{}wb"{}})))\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ path\ =\ new\_path;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classformat__error}{format\_error}}(fmt::format(\textcolor{stringliteral}{"{}Unable\ to\ create\ log\ file\ \(\backslash\)"{}\{\}\(\backslash\)"{}"{}},\ new\_path),\ errno);}
\DoxyCodeLine{00111\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_a7cde6bc69c56d58f1015345451ba415e}\label{classsrslog_1_1file__utils_1_1file_a7cde6bc69c56d58f1015345451ba415e} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!flush@{flush}}
\index{flush@{flush}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{flush()}{flush()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} srslog\+::file\+\_\+utils\+::file\+::flush (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Flushes the contents of an open file, otherwise does nothing. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00128\ \ \ \{}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\ \&\&\ ::fflush(handle)\ ==\ EOF)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ err\_str\ =\ \mbox{\hyperlink{classformat__error}{format\_error}}(fmt::format(\textcolor{stringliteral}{"{}Error\ encountered\ while\ flushing\ log\ file\ \(\backslash\)"{}\{\}\(\backslash\)"{}"{}},\ path),\ errno);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}{close}}();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ err\_str;}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00136\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_aedba4d7b6b4e1ef5df1f19d18f56abc6}\label{classsrslog_1_1file__utils_1_1file_aedba4d7b6b4e1ef5df1f19d18f56abc6} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!get\_handle@{get\_handle}}
\index{get\_handle@{get\_handle}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{get\_handle()}{get\_handle()}}
{\footnotesize\ttfamily std\+::\+FILE \texorpdfstring{$\ast$}{*} srslog\+::file\+\_\+utils\+::file\+::get\+\_\+handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the handle of the underlying file. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \{\ \textcolor{keywordflow}{return}\ handle;\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_a68664b928a3eb2d1ba96ead06a8e9777}\label{classsrslog_1_1file__utils_1_1file_a68664b928a3eb2d1ba96ead06a8e9777} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!get\_path@{get\_path}}
\index{get\_path@{get\_path}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{get\_path()}{get\_path()}}
{\footnotesize\ttfamily const std\+::string \& srslog\+::file\+\_\+utils\+::file\+::get\+\_\+path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the path of the file. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00097\ \{\ \textcolor{keywordflow}{return}\ path;\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_afcfaf72851e6a4bf5f879c5a1e554403}\label{classsrslog_1_1file__utils_1_1file_afcfaf72851e6a4bf5f879c5a1e554403} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily srslog\+::file\+\_\+utils\+::file\+::operator \mbox{\hyperlink{classbool}{bool}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \{\ \textcolor{keywordflow}{return}\ handle;\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1file__utils_1_1file_ad07253657cab84fb7e9daf133eca55ad}\label{classsrslog_1_1file__utils_1_1file_ad07253657cab84fb7e9daf133eca55ad} 
\index{srslog::file\_utils::file@{srslog::file\_utils::file}!write@{write}}
\index{write@{write}!srslog::file\_utils::file@{srslog::file\_utils::file}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrslog_1_1detail_1_1error__string}{detail\+::error\+\_\+string}} srslog\+::file\+\_\+utils\+::file\+::write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1memory__buffer}{detail\+::memory\+\_\+buffer}}}]{buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Writes the provided memory buffer into an open file, otherwise does nothing. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00116\ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\ \&\&\ std::fwrite(buffer.data(),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),\ buffer.size(),\ handle)\ !=\ buffer.size())\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ err\_str\ =\ \mbox{\hyperlink{classformat__error}{format\_error}}(fmt::format(\textcolor{stringliteral}{"{}Unable\ to\ write\ log\ file\ \(\backslash\)"{}\{\}\(\backslash\)"{}"{}},\ path),\ errno);}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \mbox{\hyperlink{classsrslog_1_1file__utils_1_1file_af21989b38b1132485cdcf66e2a03e06b}{close}}();}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ err\_str;}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00124\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/srslog/sinks/file\+\_\+utils.\+h\end{DoxyCompactItemize}
