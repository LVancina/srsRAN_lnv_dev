\doxysection{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx Class Reference}
\hypertarget{classsrsran_1_1gtpu__tunnel__base__tx}{}\label{classsrsran_1_1gtpu__tunnel__base__tx}\index{srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}}


Class used for transmitting GTP-\/U bearers.  




{\ttfamily \#include $<$gtpu\+\_\+tunnel\+\_\+base\+\_\+tx.\+h$>$}



Inheritance diagram for srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d7/d52/classsrsran_1_1gtpu__tunnel__base__tx__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d3/d96/classsrsran_1_1gtpu__tunnel__base__tx__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a2e43c5de0ed821277825d1723d0989b0}{gtpu\+\_\+tunnel\+\_\+base\+\_\+tx}} (\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__log__prefix}{gtpu\+\_\+tunnel\+\_\+log\+\_\+prefix}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\+\_\+prefix}}, \mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{gtpu\+\_\+pcap\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier}{gtpu\+\_\+tunnel\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a38fa46bd5f01b21e33dcc39ee5a4edce}{to\+\_\+sockaddr}} (sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\+\_\+sockaddr}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*}addr, uint16\+\_\+t port)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__tx_a86d6987cff51704bd7e9f7e41aceef9f}{send\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} buf, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \+::sockaddr\+\_\+storage \&peer\+\_\+sockaddr)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1gtpu__tunnel__base__tx_a6292253d03dd6fe852eced5185c7b4e6}\label{classsrsran_1_1gtpu__tunnel__base__tx_a6292253d03dd6fe852eced5185c7b4e6} 
\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{gtpu\+\_\+tunnel\+\_\+logger}} {\bfseries logger}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class used for transmitting GTP-\/U bearers. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1gtpu__tunnel__base__tx_a2e43c5de0ed821277825d1723d0989b0}\label{classsrsran_1_1gtpu__tunnel__base__tx_a2e43c5de0ed821277825d1723d0989b0} 
\index{srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}!gtpu\_tunnel\_base\_tx@{gtpu\_tunnel\_base\_tx}}
\index{gtpu\_tunnel\_base\_tx@{gtpu\_tunnel\_base\_tx}!srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}}
\doxysubsubsection{\texorpdfstring{gtpu\_tunnel\_base\_tx()}{gtpu\_tunnel\_base\_tx()}}
{\footnotesize\ttfamily srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__log__prefix}{gtpu\+\_\+tunnel\+\_\+log\+\_\+prefix}}}]{log\+\_\+prefix,  }\item[{\mbox{\hyperlink{classsrsran_1_1dlt__pcap}{dlt\+\_\+pcap}} \&}]{gtpu\+\_\+pcap\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier}{gtpu\+\_\+tunnel\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+notifier}} \&}]{upper\+\_\+dn\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00041\ \ \ \ \ logger(\textcolor{stringliteral}{"{}GTPU"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\_prefix}}),\ gtpu\_pcap(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{gtpu\_pcap\_}}),\ upper\_dn(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_dn\_}})}
\DoxyCodeLine{00042\ \ \ \{}
\DoxyCodeLine{00043\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1gtpu__tunnel__base__tx_a86d6987cff51704bd7e9f7e41aceef9f}\label{classsrsran_1_1gtpu__tunnel__base__tx_a86d6987cff51704bd7e9f7e41aceef9f} 
\index{srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}!send\_pdu@{send\_pdu}}
\index{send\_pdu@{send\_pdu}!srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}}
\doxysubsubsection{\texorpdfstring{send\_pdu()}{send\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx\+::send\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{buf,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \+::sockaddr\+\_\+storage \&}]{peer\+\_\+sockaddr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{if}\ (gtpu\_pcap.is\_write\_enabled())\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ gtpu\_pcap.push\_pdu(buf.deep\_copy());}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ upper\_dn.\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__tx__upper__layer__notifier_a5a130cdde7bb186dad7938c665a9ded9}{on\_new\_pdu}}(std::move(buf),\ peer\_sockaddr);}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1gtpu__tunnel__base__tx_a38fa46bd5f01b21e33dcc39ee5a4edce}\label{classsrsran_1_1gtpu__tunnel__base__tx_a38fa46bd5f01b21e33dcc39ee5a4edce} 
\index{srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}!to\_sockaddr@{to\_sockaddr}}
\index{to\_sockaddr@{to\_sockaddr}!srsran::gtpu\_tunnel\_base\_tx@{srsran::gtpu\_tunnel\_base\_tx}}
\doxysubsubsection{\texorpdfstring{to\_sockaddr()}{to\_sockaddr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+tx\+::to\+\_\+sockaddr (\begin{DoxyParamCaption}\item[{sockaddr\+\_\+storage \&}]{out\+\_\+sockaddr,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*}}]{addr,  }\item[{uint16\+\_\+t}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ Validate\ configuration}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inet\_pton}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{AF\_INET}},\ addr,\ \&((::sockaddr\_in*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sin\_addr}})\ ==\ 1)\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ ((::sockaddr\_in*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>sin\_family\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{AF\_INET}};}
\DoxyCodeLine{00050\ \ \ \ \ \ \ ((::sockaddr\_in*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>sin\_port\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{htons}}(port);}
\DoxyCodeLine{00051\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inet\_pton}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{AF\_INET6}},\ addr,\ \&((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::sockaddr\_in6}}*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sin6\_addr}})\ ==\ 1)\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::sockaddr\_in6}}*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>sin6\_family\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{AF\_INET6}};}
\DoxyCodeLine{00053\ \ \ \ \ \ \ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{::sockaddr\_in6}}*)\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_sockaddr}})-\/>sin6\_port\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{htons}}(port);}
\DoxyCodeLine{00054\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Invalid\ address\ or\ port.\ addr=\{\}\ port=\{\}\ errno=\{\}"{}},\ addr,\ port,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{errno}}));}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00057\ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00059\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/gtpu/gtpu\+\_\+tunnel\+\_\+base\+\_\+tx.\+h\end{DoxyCompactItemize}
