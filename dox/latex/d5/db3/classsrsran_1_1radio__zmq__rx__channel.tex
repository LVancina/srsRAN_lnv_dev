\doxysection{srsran\+::radio\+\_\+zmq\+\_\+rx\+\_\+channel Class Reference}
\hypertarget{classsrsran_1_1radio__zmq__rx__channel}{}\label{classsrsran_1_1radio__zmq__rx__channel}\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}


Collaboration diagram for srsran\+::radio\+\_\+zmq\+\_\+rx\+\_\+channel\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{d5/d42/classsrsran_1_1radio__zmq__rx__channel__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1radio__zmq__rx__channel_1_1channel__description}{channel\+\_\+description}}
\begin{DoxyCompactList}\small\item\em Describes the necessary parameters to create a ZMQ Tx channel. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a807cdb1a5a9480ebc912ad18ba060667}{radio\+\_\+zmq\+\_\+rx\+\_\+channel}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}zmq\+\_\+context, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__zmq__rx__channel_1_1channel__description}{channel\+\_\+description}} \&config, \mbox{\hyperlink{classsrsran_1_1radio__notification__handler}{radio\+\_\+notification\+\_\+handler}} \&notification\+\_\+handler, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{async\+\_\+executor\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a010cc9ae373889758e482d6b8d9df098}{is\+\_\+successful}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a9aa3e90d3fa476878e7ec45d62711a8c}{send\+\_\+request}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_adc00c8441e94445d8195867c0598672e}{receive\+\_\+response}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a8b3a509c04e6cac1ac65b37028795e39}{run\+\_\+async}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a2a292ae69fcd4048d5e9700970dd0ef4}{receive}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ buffer)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_a744736e454524d6ba8652818aa2e4e83}{start}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_ae53727ad695f54faa8ea7ddaff87e016}{stop}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel_afaff166d30850a654ee8e731d19faa6a}{wait\+\_\+stop}} ()
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a807cdb1a5a9480ebc912ad18ba060667}\label{classsrsran_1_1radio__zmq__rx__channel_a807cdb1a5a9480ebc912ad18ba060667} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!radio\_zmq\_rx\_channel@{radio\_zmq\_rx\_channel}}
\index{radio\_zmq\_rx\_channel@{radio\_zmq\_rx\_channel}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{radio\_zmq\_rx\_channel()}{radio\_zmq\_rx\_channel()}}
{\footnotesize\ttfamily radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::radio\+\_\+zmq\+\_\+rx\+\_\+channel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \texorpdfstring{$\ast$}{*}}]{zmq\+\_\+context,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1radio__zmq__rx__channel_1_1channel__description}{channel\+\_\+description}} \&}]{config,  }\item[{\mbox{\hyperlink{classsrsran_1_1radio__notification__handler}{radio\+\_\+notification\+\_\+handler}} \&}]{notification\+\_\+handler,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{async\+\_\+executor\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00034\ \ \ stream\_id(config.stream\_id),}
\DoxyCodeLine{00035\ \ \ channel\_id(config.channel\_id),}
\DoxyCodeLine{00036\ \ \ socket\_type(config.socket\_type),}
\DoxyCodeLine{00037\ \ \ logger(srslog::fetch\_basic\_logger(config.channel\_id\_str,\ \textcolor{keyword}{false})),}
\DoxyCodeLine{00038\ \ \ circular\_buffer(config.buffer\_size),}
\DoxyCodeLine{00039\ \ \ buffer(config.buffer\_size\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\_t}})),}
\DoxyCodeLine{00040\ \ \ notification\_handler(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notification\_handler\_}}),}
\DoxyCodeLine{00041\ \ \ async\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{async\_executor\_}})}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Set\ log\ level.}}
\DoxyCodeLine{00044\ \ \ logger.\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl_a70bfaf5c4255d339daae19d8d7194b23}{set\_level}}(config.log\_level);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ Validate\ the\ socket\ type.}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{if}\ (VALID\_SOCKET\_TYPES.count(config.socket\_type)\ ==\ 0)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Invalid\ receiver\ type\ \{\}\ (\{\})."{}},\ config.socket\_type,\ config.address);}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00050\ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ Create\ socket.}}
\DoxyCodeLine{00053\ \ \ sock\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_socket}}(zmq\_context,\ config.socket\_type);}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{if}\ (sock\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00055\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ open\ transmitter\ socket\ (\{\}).\ \{\}."{}},\ config.address,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00057\ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ Bind\ socket.}}
\DoxyCodeLine{00060\ \ \ logger.info(\textcolor{stringliteral}{"{}Connecting\ to\ address\ \{\}."{}},\ config.address);}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_connect}}(sock,\ config.address.c\_str())\ ==\ -\/1)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ bind\ transmitter\ socket\ (\{\}).\ \{\}."{}},\ config.address,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{//\ If\ a\ timeout\ is\ set...}}
\DoxyCodeLine{00067\ \ \ \textcolor{keywordflow}{if}\ (config.trx\_timeout\_ms)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{int}\ timeout\ =\ config.trx\_timeout\_ms;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Set\ receive\ timeout.}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_setsockopt}}(sock,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ZMQ\_RCVTIMEO}},\ \&timeout,\ \textcolor{keyword}{sizeof}(timeout))\ ==\ -\/1)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ set\ receive\ timeout\ on\ tx\ socket.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Set\ send\ timeout.}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_setsockopt}}(sock,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ZMQ\_SNDTIMEO}},\ \&timeout,\ \textcolor{keyword}{sizeof}(timeout))\ ==\ -\/1)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ set\ send\ timeout\ on\ tx\ socket.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Set\ linger\ timeout.}}
\DoxyCodeLine{00083\ \ \ \ \ timeout\ =\ config.linger\_timeout\_ms;}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_setsockopt}}(sock,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ZMQ\_LINGER}},\ \&timeout,\ \textcolor{keyword}{sizeof}(timeout))\ ==\ -\/1)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Failed\ to\ set\ linger\ timeout\ on\ tx\ socket.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Indicate\ the\ initialization\ was\ successful.}}
\DoxyCodeLine{00091\ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a91f04db3901a06f8ddba1bc0490b9bb6}{init\_successful}}();}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a8ad325ccf3ae657b9ad942ef4c728610}\label{classsrsran_1_1radio__zmq__rx__channel_a8ad325ccf3ae657b9ad942ef4c728610} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!````~radio\_zmq\_rx\_channel@{\texorpdfstring{$\sim$}{\string~}radio\_zmq\_rx\_channel}}
\index{````~radio\_zmq\_rx\_channel@{\texorpdfstring{$\sim$}{\string~}radio\_zmq\_rx\_channel}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}radio\_zmq\_rx\_channel()}{\string~radio\_zmq\_rx\_channel()}}
{\footnotesize\ttfamily radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::\texorpdfstring{$\sim$}{\string~}radio\+\_\+zmq\+\_\+rx\+\_\+channel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00095\ \{}
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ Close\ socket\ if\ opened.}}
\DoxyCodeLine{00097\ \ \ \textcolor{keywordflow}{if}\ (sock\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_close}}(sock);}
\DoxyCodeLine{00099\ \ \ \ \ sock\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00100\ \ \ \}}
\DoxyCodeLine{00101\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a010cc9ae373889758e482d6b8d9df098}\label{classsrsran_1_1radio__zmq__rx__channel_a010cc9ae373889758e482d6b8d9df098} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!is\_successful@{is\_successful}}
\index{is\_successful@{is\_successful}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{is\_successful()}{is\_successful()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::is\+\_\+successful (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \{\ \textcolor{keywordflow}{return}\ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a40ea55c644d39e84d3c21f3104c207f7}{is\_running}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a2a292ae69fcd4048d5e9700970dd0ef4}\label{classsrsran_1_1radio__zmq__rx__channel_a2a292ae69fcd4048d5e9700970dd0ef4} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!receive@{receive}}
\index{receive@{receive}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{receive()}{receive()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::receive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{buffer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00237\ \{}
\DoxyCodeLine{00238\ \ \ logger.debug(\textcolor{stringliteral}{"{}Requested\ to\ receive\ \{\}\ samples."{}},\ data.size());}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \textcolor{comment}{//\ Create\ and\ start\ a\ timer\ to\ inform\ about\ deadlocks.}}
\DoxyCodeLine{00241\ \ \ \mbox{\hyperlink{classsrsran_1_1radio__zmq__timer}{radio\_zmq\_timer}}\ timer(\textcolor{keyword}{true});}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \textcolor{comment}{//\ Try\ to\ read\ samples\ from\ circular\ buffer.}}
\DoxyCodeLine{00244\ \ \ \textcolor{keywordtype}{unsigned}\ count\ =\ 0;}
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{while}\ (state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a40ea55c644d39e84d3c21f3104c207f7}{is\_running}}()\ \&\&\ (count\ !=\ data.size()))\ \{}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{comment}{//\ Try\ to\ pop\ samples.}}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{popped}}\ =\ circular\_buffer.\mbox{\hyperlink{classsrsran_1_1detail_1_1base__blocking__queue_af1dcbeceaf0fa122c07152441f6fd988}{try\_pop}}(data.begin()\ +\ count,\ data.end());}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{comment}{//\ Wait\ some\ time\ before\ trying\ again.}}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{popped}}\ ==\ 0)\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \ \ std::this\_thread::sleep\_for(circ\_buffer\_try\_pop\_sleep);}
\DoxyCodeLine{00252\ \ \ \ \ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ an\ excess\ of\ time\ passed\ while\ trying\ to\ read\ samples.}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{if}\ (timer.is\_expired())\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}Waiting\ for\ reading\ samples.\ Completed\ \{\}\ of\ \{\}\ samples."{}},\ count,\ data.size());}
\DoxyCodeLine{00257\ \ \ \ \ \ \ timer.start();}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{comment}{//\ Increment\ count.}}
\DoxyCodeLine{00261\ \ \ \ \ count\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{popped}};}
\DoxyCodeLine{00262\ \ \ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \textcolor{keywordflow}{if}\ (!state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a40ea55c644d39e84d3c21f3104c207f7}{is\_running}}())\ \{}
\DoxyCodeLine{00265\ \ \ \ \ srsvec::zero(data);}
\DoxyCodeLine{00266\ \ \ \}}
\DoxyCodeLine{00267\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_adc00c8441e94445d8195867c0598672e}\label{classsrsran_1_1radio__zmq__rx__channel_adc00c8441e94445d8195867c0598672e} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!receive\_response@{receive\_response}}
\index{receive\_response@{receive\_response}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{receive\_response()}{receive\_response()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::receive\+\_\+response (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \{}
\DoxyCodeLine{00140\ \ \ \textcolor{comment}{//\ Otherwise,\ send\ samples\ over\ socket.}}
\DoxyCodeLine{00141\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}}\ =\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\_t}});}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}}\ \ \ \ \ \ =\ buffer.size()\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}};}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordtype}{int}\ n\ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_recv}}(sock,\ (\textcolor{keywordtype}{void}*)buffer.data(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ZMQ\_DONTWAIT}});}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ received\ message\ has\ not\ been\ truncated.}}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{if}\ (n\ >\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}})\ \{}
\DoxyCodeLine{00147\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Truncated\ \{\}\ bytes\ in\ ZMQ\ message."{}},\ n\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}});}
\DoxyCodeLine{00148\ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_abea614d7ca5f7d0a3c1add1ba331fd5f}{on\_error}}();}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00150\ \ \ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ Check\ if\ an\ error\ occurred.}}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0)\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ Error\ happened.}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}();}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{EFSM}}\ ||\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{EAGAIN}})\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \textcolor{comment}{//\ Ignore\ timeout\ and\ FSM\ error.}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00159\ \ \ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{comment}{//\ This\ error\ cannot\ be\ ignored.}}
\DoxyCodeLine{00162\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Socket\ failed\ to\ receive\ DATA.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00163\ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_abea614d7ca5f7d0a3c1add1ba331fd5f}{on\_error}}();}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00165\ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ received\ number\ of\ bytes\ is\ consistent\ with\ the\ sample\ number\ of\ bytes.}}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{if}\ (n\ \%\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}}\ !=\ 0)\ \{}
\DoxyCodeLine{00169\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Socket\ failed\ to\ receive\ DATA.\ Invalid\ number\ of\ bytes\ \{\}\%\{\}=\{\}."{}},\ n,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}},\ n\ \%\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}});}
\DoxyCodeLine{00170\ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_abea614d7ca5f7d0a3c1add1ba331fd5f}{on\_error}}();}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00172\ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{//\ Convert\ number\ of\ bytes\ to\ samples.}}
\DoxyCodeLine{00175\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}}\ =\ n\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sample\_size}};}
\DoxyCodeLine{00176\ \ \ logger.debug(\textcolor{stringliteral}{"{}Socket\ received\ \{\}\ samples."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}});}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ buffer\ size\ has\ not\ been\ exceeded.}}
\DoxyCodeLine{00179\ \ \ report\_fatal\_error\_if\_not(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}}\ <=\ buffer.size(),}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Buffer\ overflow.\ Buffer\ size\ (\{\})\ is\ not\ enough\ for\ the\ received\ number\ of\ samples\ (\{\})"{}},}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer.size(),}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}});}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{keywordtype}{unsigned}\ count\ =\ 0;}
\DoxyCodeLine{00185\ \ \ \textcolor{keywordflow}{while}\ (state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a40ea55c644d39e84d3c21f3104c207f7}{is\_running}}()\ \&\&\ (count\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}}))\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{comment}{//\ Try\ to\ write\ samples\ into\ the\ buffer.}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pushed}}\ =\ circular\_buffer.\mbox{\hyperlink{classsrsran_1_1detail_1_1base__blocking__queue_aa966281db2b3954bd99aff1e587734bd}{try\_push}}(buffer.begin()\ +\ count,\ buffer.begin()\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nsamples}});}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ push\ was\ successful.}}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pushed}}\ ==\ 0)\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \textcolor{comment}{//\ Notify\ buffer\ overflow.}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description}{radio\_notification\_handler::event\_description}}\ event;}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \textcolor{keyword}{event}.\mbox{\hyperlink{structsrsran_1_1radio__notification__handler_1_1event__description_a3f49f91a7ca868389088332fd4a16386}{stream\_id}}\ \ =\ stream\_id;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \textcolor{keyword}{event}.channel\_id\ =\ channel\_id;}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \textcolor{keyword}{event}.source\ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_1_1event__source_a7f23df937678f1d803ac52f8af7d91b3a19ac844f8ed52b085914d124bc2c6975}{radio\_notification\_handler::event\_source::RECEIVE}};}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \textcolor{keyword}{event}.type\ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1radio__notification__handler_1_1event__type_ada92c8b313b55717e4f4f4be58a1ab58ad7d3af42b7de04e518d134ab00aea959}{radio\_notification\_handler::event\_type::OVERFLOW}};}
\DoxyCodeLine{00197\ \ \ \ \ \ \ notification\_handler.\mbox{\hyperlink{classsrsran_1_1radio__notification__handler_a8b4a990b42877a8054ac67c85543c541}{on\_radio\_rt\_event}}(event);}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{comment}{//\ Wait\ some\ time\ before\ trying\ again.}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ std::this\_thread::sleep\_for(circ\_buffer\_try\_push\_sleep);}
\DoxyCodeLine{00201\ \ \ \ \ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{comment}{//\ Increment\ sample\ count.}}
\DoxyCodeLine{00204\ \ \ \ \ count\ +=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pushed}};}
\DoxyCodeLine{00205\ \ \ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \textcolor{comment}{//\ If\ successful\ transition\ to\ wait\ for\ data.}}
\DoxyCodeLine{00208\ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a2e2448a567a8bf2bd223ea149b91e7cf}{data\_received}}();}
\DoxyCodeLine{00209\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a8b3a509c04e6cac1ac65b37028795e39}\label{classsrsran_1_1radio__zmq__rx__channel_a8b3a509c04e6cac1ac65b37028795e39} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!run\_async@{run\_async}}
\index{run\_async@{run\_async}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{run\_async()}{run\_async()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::run\+\_\+async (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00212\ \{}
\DoxyCodeLine{00213\ \ \ \textcolor{comment}{//\ Transmit\ request\ if\ it\ has\ no\ pending\ response,\ otherwise\ receive\ response.}}
\DoxyCodeLine{00214\ \ \ \textcolor{keywordflow}{if}\ (!state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_aeeceed645bbb5c9347f7b3879eb2e466}{has\_pending\_response}}())\ \{}
\DoxyCodeLine{00215\ \ \ \ \ send\_request();}
\DoxyCodeLine{00216\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00217\ \ \ \ \ receive\_response();}
\DoxyCodeLine{00218\ \ \ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \textcolor{comment}{//\ Check\ if\ the\ state\ timer\ expired.}}
\DoxyCodeLine{00221\ \ \ \textcolor{keywordflow}{if}\ (state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a78d78a7ea19b62ad1d3334ea2bf83b3c}{has\_wait\_expired}}())\ \{}
\DoxyCodeLine{00222\ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}Waiting\ for\ \{\}."{}},\ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_aeeceed645bbb5c9347f7b3879eb2e466}{has\_pending\_response}}()\ ?\ \textcolor{stringliteral}{"{}data"{}}\ :\ \textcolor{stringliteral}{"{}request"{}});}
\DoxyCodeLine{00223\ \ \ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \textcolor{comment}{//\ Feedback\ task\ if\ not\ stopped.}}
\DoxyCodeLine{00226\ \ \ \textcolor{keywordflow}{if}\ (state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a40ea55c644d39e84d3c21f3104c207f7}{is\_running}}())\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ async\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a296e1c4285dafdbfcbc912c3006690a4}{defer}}([\textcolor{keyword}{this}]()\ \{\ run\_async();\ \}))\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Unable\ to\ initiate\ radio\ zmq\ async\ task"{}});}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00231\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Stopped\ asynchronous\ task."{}});}
\DoxyCodeLine{00232\ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a6b27d29f4951e5848a302f8a517d4ef0}{async\_task\_stopped}}();}
\DoxyCodeLine{00233\ \ \ \}}
\DoxyCodeLine{00234\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a9aa3e90d3fa476878e7ec45d62711a8c}\label{classsrsran_1_1radio__zmq__rx__channel_a9aa3e90d3fa476878e7ec45d62711a8c} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!send\_request@{send\_request}}
\index{send\_request@{send\_request}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{send\_request()}{send\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::send\+\_\+request (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00104\ \{}
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ Receive\ Transmit\ request\ is\ socket\ type\ is\ REPLY\ and\ no\ request\ is\ available.}}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{if}\ (socket\_type\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ZMQ\_REQ}})\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ Receive\ request.}}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ dummy\ =\ 0;}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ n\ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_send}}(sock,\ \&dummy,\ \textcolor{keyword}{sizeof}(dummy),\ 0);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ Request\ received.}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >\ 0)\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Socket\ sent\ request."{}});}
\DoxyCodeLine{00114\ \ \ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a09d5008f734e628329a70885a12c411d}{request\_sent}}();}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ Error.}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{comment}{//\ Error\ happened.}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}();}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{EFSM}}\ ||\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{err}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{EAGAIN}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ignore\ timeout\ and\ FSM\ error.}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Exception\ to\ send\ request.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ error\ cannot\ be\ ignored.}}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Socket\ failed\ to\ send\ request.\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{zmq\_errno}}()));}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_abea614d7ca5f7d0a3c1add1ba331fd5f}{on\_error}}();}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00131\ \ \ \ \ \}}
\DoxyCodeLine{00132\ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \textcolor{comment}{//\ Implement\ other\ socket\ types\ here.}}
\DoxyCodeLine{00135\ \ \ \textcolor{comment}{//\ ...}}
\DoxyCodeLine{00136\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_a744736e454524d6ba8652818aa2e4e83}\label{classsrsran_1_1radio__zmq__rx__channel_a744736e454524d6ba8652818aa2e4e83} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!start@{start}}
\index{start@{start}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00270\ \{}
\DoxyCodeLine{00271\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ async\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a296e1c4285dafdbfcbc912c3006690a4}{defer}}([\textcolor{keyword}{this}]()\ \{\ run\_async();\ \}))\ \{}
\DoxyCodeLine{00272\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Unable\ to\ initiate\ radio\ zmq\ execution"{}});}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00274\ \ \ \}}
\DoxyCodeLine{00275\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_ae53727ad695f54faa8ea7ddaff87e016}\label{classsrsran_1_1radio__zmq__rx__channel_ae53727ad695f54faa8ea7ddaff87e016} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!stop@{stop}}
\index{stop@{stop}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00278\ \{}
\DoxyCodeLine{00279\ \ \ logger.debug(\textcolor{stringliteral}{"{}Stopping..."{}});}
\DoxyCodeLine{00280\ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_ac6918d9c14e46805e8985637212eca94}{stop}}();}
\DoxyCodeLine{00281\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1radio__zmq__rx__channel_afaff166d30850a654ee8e731d19faa6a}\label{classsrsran_1_1radio__zmq__rx__channel_afaff166d30850a654ee8e731d19faa6a} 
\index{srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}!wait\_stop@{wait\_stop}}
\index{wait\_stop@{wait\_stop}!srsran::radio\_zmq\_rx\_channel@{srsran::radio\_zmq\_rx\_channel}}
\doxysubsubsection{\texorpdfstring{wait\_stop()}{wait\_stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} radio\+\_\+zmq\+\_\+rx\+\_\+channel\+::wait\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00284\ \{}
\DoxyCodeLine{00285\ \ \ state\_fsm.\mbox{\hyperlink{classsrsran_1_1radio__zmq__rx__channel__fsm_a16780bee74fd53e2cb2ad13c13baa9de}{wait\_stop}}();}
\DoxyCodeLine{00286\ \ \ logger.debug(\textcolor{stringliteral}{"{}Stopped\ successfully."{}});}
\DoxyCodeLine{00287\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/radio/zmq/radio\+\_\+zmq\+\_\+rx\+\_\+channel.\+h\item 
lib/radio/zmq/radio\+\_\+zmq\+\_\+rx\+\_\+channel.\+cpp\end{DoxyCompactItemize}
