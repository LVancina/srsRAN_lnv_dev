\doxysection{srsran\+::fapi\+\_\+adaptor\+::phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator Class Reference}
\hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator}{}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator}\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}


PHY-\/to-\/\+FAPI uplink results events translator.  




{\ttfamily \#include $<$phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator.\+h$>$}



Inheritance diagram for srsran\+::fapi\+\_\+adaptor\+::phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d8/de2/classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::fapi\+\_\+adaptor\+::phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{da/d06/classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a4bb9fd6844dcafaad30494bc76dc6d5b}{phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator}} (\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_aa91016ebe1746bce88cadb99d6d2af30}{on\+\_\+new\+\_\+prach\+\_\+results}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__prach__results}{ul\+\_\+prach\+\_\+results}} \&result) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Notifies the results of a PRACH preamble detection. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_af0df8d542acc88f064c9b15a540bae89}{on\+\_\+new\+\_\+pusch\+\_\+results\+\_\+control}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pusch__results__control}{ul\+\_\+pusch\+\_\+results\+\_\+control}} \&result) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Notifies the results of a PUSCH control decodification. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a435c649d1524f52edb3b1d4e4ea54c7c}{on\+\_\+new\+\_\+pusch\+\_\+results\+\_\+data}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pusch__results__data}{ul\+\_\+pusch\+\_\+results\+\_\+data}} \&result) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Notifies the results of a PUSCH data decodification. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a902e7603a725f8a1775a3aac5e9e58b8}{on\+\_\+new\+\_\+pucch\+\_\+results}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pucch__results}{ul\+\_\+pucch\+\_\+results}} \&result) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Notifies the results of a PUCCH decodification. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a813e5455f444ff1b796779c31926a2ba}{set\+\_\+slot\+\_\+data\+\_\+message\+\_\+notifier}} (\mbox{\hyperlink{classsrsran_1_1fapi_1_1slot__data__message__notifier}{fapi\+::slot\+\_\+data\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fapi\+\_\+data\+\_\+slot\+\_\+notifier}})
\begin{DoxyCompactList}\small\item\em Configures the FAPI slot-\/based, data-\/specific notifier to the given one. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier}{srsran\+::upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PHY-\/to-\/\+FAPI uplink results events translator. 

This class listens to upper PHY uplink result events and translates them into FAPI indication messages that are sent through the FAPI data-\/specific message notifier. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a4bb9fd6844dcafaad30494bc76dc6d5b}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a4bb9fd6844dcafaad30494bc76dc6d5b} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!phy\_to\_fapi\_results\_event\_translator@{phy\_to\_fapi\_results\_event\_translator}}
\index{phy\_to\_fapi\_results\_event\_translator@{phy\_to\_fapi\_results\_event\_translator}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{phy\_to\_fapi\_results\_event\_translator()}{phy\_to\_fapi\_results\_event\_translator()}}
{\footnotesize\ttfamily phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00051\ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),\ data\_notifier(dummy\_data\_notifier)}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_aa91016ebe1746bce88cadb99d6d2af30}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_aa91016ebe1746bce88cadb99d6d2af30} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!on\_new\_prach\_results@{on\_new\_prach\_results}}
\index{on\_new\_prach\_results@{on\_new\_prach\_results}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{on\_new\_prach\_results()}{on\_new\_prach\_results()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::on\+\_\+new\+\_\+prach\+\_\+results (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__prach__results}{ul\+\_\+prach\+\_\+results}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies the results of a PRACH preamble detection. 



Implements \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_a6af85cf1e4481f8237093724287bb0f5}{srsran\+::upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{if}\ (result.result.preambles.empty())\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00059\ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\_point}}\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}\ =\ result.context.slot;}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Avoid\ generating\ a\ PRACH\ indication\ when\ all\ detected\ preambles\ have\ a\ negative\ TA\ value\ as\ they\ must\ be\ discarded.}}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{if}\ (std::all\_of(}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ result.result.preambles.begin(),}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ result.result.preambles.end(),}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1prach__detection__result_1_1preamble__indication}{prach\_detection\_result::preamble\_indication}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ind}})\ \{\ return\ ind.time\_advance.to\_seconds()\ <\ 0.0;\ \}))\ \{}
\DoxyCodeLine{00068\ \ \ \ \ logger.warning(}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}All\ detected\ PRACH\ preambles\ have\ a\ negative\ TA\ value\ in\ slot=\{\},\ no\ PRACH.ind\ message\ will\ be\ generated"{}},}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}});}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00072\ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1rach__indication__message}{fapi::rach\_indication\_message}}\ \ \ \ \ \ \ \ \ msg;}
\DoxyCodeLine{00075\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__message__builder}{fapi::rach\_indication\_message\_builder}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}}(msg);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}}.set\_basic\_parameters(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.sfn(),\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.slot\_index());}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ NOTE:\ Currently\ not\ managing\ handle.}}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ handle\ =\ 0U;}
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//\ NOTE:\ Currently\ not\ supporting\ PRACH\ multiplexed\ in\ frequency\ domain.}}
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fd\_ra\_index}}\ =\ 0U;}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ NOTE:\ Clamp\ values\ defined\ in\ SCF-\/222\ v4.0\ Section\ 3.4.11\ Table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_AVG\_RSSI\_VALUE}}\ =\ -\/140.F;}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_AVG\_RSSI\_VALUE}}\ =\ 30.F;}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1rach__indication__pdu__builder}{fapi::rach\_indication\_pdu\_builder}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder\_pdu}}\ =}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}}.add\_pdu(handle,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.context.start\_symbol,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.slot\_index(),}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fd\_ra\_index}},}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_ac7ddf8c7f52152c621b675bf6b84df05}{clamp}}(result.result.rssi\_dB,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_AVG\_RSSI\_VALUE}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_AVG\_RSSI\_VALUE}}),}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\});}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ preamble\ :\ result.result.preambles)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Clamp\ values\ defined\ in\ SCF-\/222\ v4.0\ Section\ 3.4.11\ Table\ RACH.indication\ message\ body.}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_PREAMBLE\_POWER\_VALUE}}\ =\ -\/140.F;}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_PREAMBLE\_POWER\_VALUE}}\ =\ 30.F;}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_PREAMBLE\_SNR\_VALUE}}\ \ \ =\ -\/64.F;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_PREAMBLE\_SNR\_VALUE}}\ \ \ =\ 63.F;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{TA\_ns}}\ =\ preamble.time\_advance.to\_seconds()\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e9}};}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ Ignore\ preambles\ with\ a\ negative\ TA\ value.}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{TA\_ns}}\ <\ 0.0)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Detected\ PRACH\ preamble\ in\ slot=\{\}\ has\ a\ negative\ TA\ value\ of\ \{\}ns,\ skipping\ it"{}},\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{TA\_ns}});}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00107\ \ \ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder\_pdu}}.add\_preamble(}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ preamble.preamble\_index,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \{\},}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{TA\_ns}},}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_ac7ddf8c7f52152c621b675bf6b84df05}{clamp}}(\mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(preamble.detection\_metric),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_PREAMBLE\_POWER\_VALUE}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_PREAMBLE\_POWER\_VALUE}}),}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_ac7ddf8c7f52152c621b675bf6b84df05}{clamp}}(\mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(preamble.detection\_metric),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MIN\_PREAMBLE\_SNR\_VALUE}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{MAX\_PREAMBLE\_SNR\_VALUE}}));}
\DoxyCodeLine{00115\ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{classsrsran_1_1expected}{error\_type<fapi::validator\_report>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}}\ =\ validate\_rach\_indication(msg);}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}})\ \{}
\DoxyCodeLine{00119\ \ \ \ \ log\_validator\_report(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}}.error(),\ logger);}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00121\ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ data\_notifier.get().on\_rach\_indication(msg);}
\DoxyCodeLine{00124\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a902e7603a725f8a1775a3aac5e9e58b8}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a902e7603a725f8a1775a3aac5e9e58b8} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!on\_new\_pucch\_results@{on\_new\_pucch\_results}}
\index{on\_new\_pucch\_results@{on\_new\_pucch\_results}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{on\_new\_pucch\_results()}{on\_new\_pucch\_results()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::on\+\_\+new\+\_\+pucch\+\_\+results (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pucch__results}{ul\+\_\+pucch\+\_\+results}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies the results of a PUCCH decodification. 



Implements \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_a0fefe51cae3fcb5a4518f134aae1f18a}{srsran\+::upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00475\ \{}
\DoxyCodeLine{00476\ \ \ \mbox{\hyperlink{structsrsran_1_1fapi_1_1uci__indication__message}{fapi::uci\_indication\_message}}\ \ \ \ \ \ \ \ \ msg;}
\DoxyCodeLine{00477\ \ \ \mbox{\hyperlink{classsrsran_1_1fapi_1_1uci__indication__message__builder}{fapi::uci\_indication\_message\_builder}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}}(msg);}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1ul__pucch__context}{ul\_pucch\_context}}\&\ context\ =\ result.context;}
\DoxyCodeLine{00480\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}}.set\_basic\_parameters(context.\mbox{\hyperlink{structsrsran_1_1ul__pucch__context_a7cb7a43e2fe45c8d843a32b5098af3a5}{slot}}.\mbox{\hyperlink{classsrsran_1_1slot__point_a19d7b2faaa1fcc74f3d01560339f7602}{sfn}}(),\ context.\mbox{\hyperlink{structsrsran_1_1ul__pucch__context_a7cb7a43e2fe45c8d843a32b5098af3a5}{slot}}.\mbox{\hyperlink{classsrsran_1_1slot__point_a1808c0aeecc25d6382e49511028c010e}{slot\_index}}());}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ \textcolor{keywordflow}{switch}\ (context.\mbox{\hyperlink{structsrsran_1_1ul__pucch__context_a7e5e3a884049b140e999c7dce82b1b9c}{format}})\ \{}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_0:}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_1:}
\DoxyCodeLine{00485\ \ \ \ \ \ \ add\_format\_0\_1\_pucch\_pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}},\ result);}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordflow}{case}\ pucch\_format::FORMAT\_2:}
\DoxyCodeLine{00488\ \ \ \ \ \ \ add\_format\_2\_pucch\_pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{builder}},\ result);}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00491\ \ \ \ \ \ \ srsran\_assert(0,\ \textcolor{stringliteral}{"{}Unexpected\ PUCCH\ format\ \{\}"{}},\ context.\mbox{\hyperlink{structsrsran_1_1ul__pucch__context_a7e5e3a884049b140e999c7dce82b1b9c}{format}});}
\DoxyCodeLine{00492\ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \ \ \mbox{\hyperlink{classsrsran_1_1expected}{error\_type<fapi::validator\_report>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}}\ =\ validate\_uci\_indication(msg);}
\DoxyCodeLine{00495\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}})\ \{}
\DoxyCodeLine{00496\ \ \ \ \ log\_validator\_report(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{validation\_result}}.error(),\ logger);}
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00498\ \ \ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ data\_notifier.get().on\_uci\_indication(msg);}
\DoxyCodeLine{00501\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_af0df8d542acc88f064c9b15a540bae89}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_af0df8d542acc88f064c9b15a540bae89} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!on\_new\_pusch\_results\_control@{on\_new\_pusch\_results\_control}}
\index{on\_new\_pusch\_results\_control@{on\_new\_pusch\_results\_control}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{on\_new\_pusch\_results\_control()}{on\_new\_pusch\_results\_control()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::on\+\_\+new\+\_\+pusch\+\_\+results\+\_\+control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pusch__results__control}{ul\+\_\+pusch\+\_\+results\+\_\+control}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies the results of a PUSCH control decodification. 



Implements \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_ac1900833501516bbabae331c1782bdd7}{srsran\+::upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00127\ \{}
\DoxyCodeLine{00128\ \ \ notify\_pusch\_uci\_indication(result);}
\DoxyCodeLine{00129\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a435c649d1524f52edb3b1d4e4ea54c7c}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a435c649d1524f52edb3b1d4e4ea54c7c} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!on\_new\_pusch\_results\_data@{on\_new\_pusch\_results\_data}}
\index{on\_new\_pusch\_results\_data@{on\_new\_pusch\_results\_data}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{on\_new\_pusch\_results\_data()}{on\_new\_pusch\_results\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::on\+\_\+new\+\_\+pusch\+\_\+results\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__pusch__results__data}{ul\+\_\+pusch\+\_\+results\+\_\+data}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies the results of a PUSCH data decodification. 



Implements \mbox{\hyperlink{classsrsran_1_1upper__phy__rx__results__notifier_a4f1fe70ba8e076a3e7946e695286647c}{srsran\+::upper\+\_\+phy\+\_\+rx\+\_\+results\+\_\+notifier}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00132\ \{}
\DoxyCodeLine{00133\ \ \ notify\_crc\_indication(result);}
\DoxyCodeLine{00134\ \ \ notify\_rx\_data\_indication(result);}
\DoxyCodeLine{00135\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a813e5455f444ff1b796779c31926a2ba}\label{classsrsran_1_1fapi__adaptor_1_1phy__to__fapi__results__event__translator_a813e5455f444ff1b796779c31926a2ba} 
\index{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}!set\_slot\_data\_message\_notifier@{set\_slot\_data\_message\_notifier}}
\index{set\_slot\_data\_message\_notifier@{set\_slot\_data\_message\_notifier}!srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator@{srsran::fapi\_adaptor::phy\_to\_fapi\_results\_event\_translator}}
\doxysubsubsection{\texorpdfstring{set\_slot\_data\_message\_notifier()}{set\_slot\_data\_message\_notifier()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::fapi\+\_\+adaptor\+::phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator\+::set\+\_\+slot\+\_\+data\+\_\+message\+\_\+notifier (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1fapi_1_1slot__data__message__notifier}{fapi\+::slot\+\_\+data\+\_\+message\+\_\+notifier}} \&}]{fapi\+\_\+data\+\_\+slot\+\_\+notifier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Configures the FAPI slot-\/based, data-\/specific notifier to the given one. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ data\_notifier\ =\ std::ref(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{fapi\_data\_slot\_notifier}});}
\DoxyCodeLine{00057\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/fapi\+\_\+adaptor/phy/phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator.\+h\item 
lib/fapi\+\_\+adaptor/phy/phy\+\_\+to\+\_\+fapi\+\_\+results\+\_\+event\+\_\+translator.\+cpp\end{DoxyCompactItemize}
