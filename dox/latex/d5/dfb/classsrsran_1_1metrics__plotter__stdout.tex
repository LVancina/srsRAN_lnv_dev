\doxysection{srsran\+::metrics\+\_\+plotter\+\_\+stdout Class Reference}
\hypertarget{classsrsran_1_1metrics__plotter__stdout}{}\label{classsrsran_1_1metrics__plotter__stdout}\index{srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}}


Class used to receive metrics reports from scheduler and pretty-\/print them to the console.  




{\ttfamily \#include $<$metrics\+\_\+plotter\+\_\+stdout.\+h$>$}



Inheritance diagram for srsran\+::metrics\+\_\+plotter\+\_\+stdout\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d7/d18/classsrsran_1_1metrics__plotter__stdout__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::metrics\+\_\+plotter\+\_\+stdout\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d5/d8c/classsrsran_1_1metrics__plotter__stdout__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1metrics__plotter__stdout_a3b68aea8687b5205b31d5f5d956cd711}{report\+\_\+metrics}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__ue__metrics}{scheduler\+\_\+ue\+\_\+metrics}} $>$ ue\+\_\+metrics) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Notifier called from the scheduler. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1metrics__plotter__stdout_a6c08dcbc7b64a7a145127bfdc60150a7}{enable\+\_\+print}} ()
\begin{DoxyCompactList}\small\item\em This can be called from another execution context to turn on the actual plotting. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1metrics__plotter__stdout_a60c81ca5d98126e9b133f123e31e308b}{toggle\+\_\+print}} ()
\begin{DoxyCompactList}\small\item\em This can be called from another execution context to turn on/off the actual plotting. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class used to receive metrics reports from scheduler and pretty-\/print them to the console. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1metrics__plotter__stdout_a6c08dcbc7b64a7a145127bfdc60150a7}\label{classsrsran_1_1metrics__plotter__stdout_a6c08dcbc7b64a7a145127bfdc60150a7} 
\index{srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}!enable\_print@{enable\_print}}
\index{enable\_print@{enable\_print}!srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}}
\doxysubsubsection{\texorpdfstring{enable\_print()}{enable\_print()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} metrics\+\_\+plotter\+\_\+stdout\+::enable\+\_\+print (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This can be called from another execution context to turn on the actual plotting. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \{}
\DoxyCodeLine{00195\ \ \ print\_metrics\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00196\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1metrics__plotter__stdout_a3b68aea8687b5205b31d5f5d956cd711}\label{classsrsran_1_1metrics__plotter__stdout_a3b68aea8687b5205b31d5f5d956cd711} 
\index{srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}!report\_metrics@{report\_metrics}}
\index{report\_metrics@{report\_metrics}!srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}}
\doxysubsubsection{\texorpdfstring{report\_metrics()}{report\_metrics()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} metrics\+\_\+plotter\+\_\+stdout\+::report\+\_\+metrics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1scheduler__ue__metrics}{scheduler\+\_\+ue\+\_\+metrics}} $>$}]{ue\+\_\+metrics }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifier called from the scheduler. 



Implements \mbox{\hyperlink{classsrsran_1_1scheduler__ue__metrics__notifier_acdc38fd3381f3f912918d7cf41737417}{srsran\+::scheduler\+\_\+ue\+\_\+metrics\+\_\+notifier}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \{}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordflow}{if}\ (!print\_metrics)\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \textcolor{keywordflow}{if}\ (ue\_metrics.\mbox{\hyperlink{classsrsran_1_1span_ad0e376d95ca916144eac76f27f0654ac}{size}}()\ >\ 10)\ \{}
\DoxyCodeLine{00131\ \ \ \ \ print\_header();}
\DoxyCodeLine{00132\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (++nof\_lines\ >\ 10\ \&\&\ !ue\_metrics.\mbox{\hyperlink{classsrsran_1_1span_a06f3393981b96d556095d9023b894a8f}{empty}}())\ \{}
\DoxyCodeLine{00133\ \ \ \ \ nof\_lines\ =\ 0;}
\DoxyCodeLine{00134\ \ \ \ \ print\_header();}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\ :\ ue\_metrics)\ \{}
\DoxyCodeLine{00138\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\{:>4\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.pci);}
\DoxyCodeLine{00139\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\{:>5x\}"{}},\ \mbox{\hyperlink{namespacesrsran_a7c1de1f75dd2aabbf557bc8713f3da98}{to\_value}}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.rnti));}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iszero}}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.cqi))\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \ \{:>3\}"{}},\ \textcolor{keywordtype}{int}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.cqi));}
\DoxyCodeLine{00142\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \ \{:>3.3\}"{}},\ \textcolor{stringliteral}{"{}n/a"{}});}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \ \{:>2\}"{}},\ \textcolor{keywordtype}{int}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ri));}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \ \ \{:>2\}"{}},\ \textcolor{keywordtype}{int}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_mcs.to\_uint()));}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_brate\_kbps\ >\ 0)\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>6.6\}"{}},\ float\_to\_eng\_string(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_brate\_kbps\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e3}},\ 1));}
\DoxyCodeLine{00151\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>6\}"{}},\ 0);}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>4\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_nof\_ok);}
\DoxyCodeLine{00155\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>4\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_nof\_nok);}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_total}}\ =\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_nof\_ok\ +\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_nof\_nok;}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_total}}\ >\ 0)\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>3\}\%"{}},\ \textcolor{keywordtype}{int}((\textcolor{keywordtype}{float})100\ *\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_nof\_nok\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_total}}));}
\DoxyCodeLine{00159\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>3\}\%"{}},\ 0);}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{\}"{}},\ scaled\_fmt\_integer(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.dl\_bs));}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ |"{}});}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::isnan(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.pusch\_snr\_db)\ \&\&\ !\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iszero}}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.pusch\_snr\_db))\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>5.1f\}"{}},\ \mbox{\hyperlink{namespacesrsran_ac7ddf8c7f52152c621b675bf6b84df05}{clamp}}(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.pusch\_snr\_db,\ -\/99.9f,\ 99.9f));}
\DoxyCodeLine{00168\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>5.5\}"{}},\ \textcolor{stringliteral}{"{}n/a"{}});}
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \ \ \{:>2\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_mcs.to\_uint());}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_brate\_kbps\ >\ 0)\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>6.6\}"{}},\ float\_to\_eng\_string(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_brate\_kbps\ *\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e3}},\ 1));}
\DoxyCodeLine{00175\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>6\}"{}},\ 0);}
\DoxyCodeLine{00177\ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>4\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_nof\_ok);}
\DoxyCodeLine{00179\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>4\}"{}},\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_nof\_nok);}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_total}}\ =\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_nof\_ok\ +\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_nof\_nok;}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_total}}\ >\ 0)\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>3\}\%"{}},\ \textcolor{keywordtype}{int}((\textcolor{keywordtype}{float})100\ *\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}.ul\_nof\_nok\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ul\_total}}));}
\DoxyCodeLine{00184\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:>3\}\%"{}},\ 0);}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{\}"{}},\ scaled\_fmt\_integer(\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.bsr));}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1metrics__plotter__stdout_a60c81ca5d98126e9b133f123e31e308b}\label{classsrsran_1_1metrics__plotter__stdout_a60c81ca5d98126e9b133f123e31e308b} 
\index{srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}!toggle\_print@{toggle\_print}}
\index{toggle\_print@{toggle\_print}!srsran::metrics\_plotter\_stdout@{srsran::metrics\_plotter\_stdout}}
\doxysubsubsection{\texorpdfstring{toggle\_print()}{toggle\_print()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} metrics\+\_\+plotter\+\_\+stdout\+::toggle\+\_\+print (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This can be called from another execution context to turn on/off the actual plotting. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00199\ \{}
\DoxyCodeLine{00200\ \ \ print\_metrics\ =\ !print\_metrics;}
\DoxyCodeLine{00201\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
apps/gnb/helpers/metrics\+\_\+plotter\+\_\+stdout.\+h\item 
apps/gnb/helpers/metrics\+\_\+plotter\+\_\+stdout.\+cpp\end{DoxyCompactItemize}
