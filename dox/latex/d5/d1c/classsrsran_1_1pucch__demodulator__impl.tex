\doxysection{srsran\+::pucch\+\_\+demodulator\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pucch__demodulator__impl}{}\label{classsrsran_1_1pucch__demodulator__impl}\index{srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}}


PUCCH demodulator implementation.  




{\ttfamily \#include $<$pucch\+\_\+demodulator\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::pucch\+\_\+demodulator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{d5/da7/classsrsran_1_1pucch__demodulator__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pucch\+\_\+demodulator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{d4/d40/classsrsran_1_1pucch__demodulator__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pucch__demodulator__impl_a5322a7aa7a596946f0bfc2f419779748}{pucch\+\_\+demodulator\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1channel__equalizer}{channel\+\_\+equalizer}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{equalizer\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1demodulation__mapper}{demodulation\+\_\+mapper}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demapper\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descrambler\+\_\+}})
\begin{DoxyCompactList}\small\item\em Constructor\+: sets up internal components and acquires their ownership. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pucch__demodulator__impl_ab445739499c5d3bf4791ea4aa5be0188}{demodulate}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&estimates, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format2__configuration}{format2\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Demodulates a PUCCH Format 2 transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pucch__demodulator__impl_aeca24596359f8d690b05f33a625087f4}{demodulate}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&estimates, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format3__configuration}{format3\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Demodulates a PUCCH Format 3 transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pucch__demodulator__impl_a1f4f95acbbeb2c9579642e8ef5d5e028}{demodulate}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&grid, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&estimates, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format4__configuration}{format4\+\_\+configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Demodulates a PUCCH Format 4 transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pucch__demodulator}{srsran\+::pucch\+\_\+demodulator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pucch\+\_\+demodulator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PUCCH demodulator implementation. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pucch__demodulator__impl_a5322a7aa7a596946f0bfc2f419779748}\label{classsrsran_1_1pucch__demodulator__impl_a5322a7aa7a596946f0bfc2f419779748} 
\index{srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}!pucch\_demodulator\_impl@{pucch\_demodulator\_impl}}
\index{pucch\_demodulator\_impl@{pucch\_demodulator\_impl}!srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}}
\doxysubsubsection{\texorpdfstring{pucch\_demodulator\_impl()}{pucch\_demodulator\_impl()}}
{\footnotesize\ttfamily srsran\+::pucch\+\_\+demodulator\+\_\+impl\+::pucch\+\_\+demodulator\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1channel__equalizer}{channel\+\_\+equalizer}} $>$}]{equalizer\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1demodulation__mapper}{demodulation\+\_\+mapper}} $>$}]{demapper\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$}]{descrambler\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor\+: sets up internal components and acquires their ownership. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00045\ \ \ \ \ equalizer(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{equalizer\_}})),\ demapper(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{demapper\_}})),\ descrambler(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descrambler\_}}))}
\DoxyCodeLine{00046\ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ srsran\_assert(equalizer,\ \textcolor{stringliteral}{"{}Invalid\ pointer\ to\ channel\_equalizer\ object."{}});}
\DoxyCodeLine{00048\ \ \ \ \ srsran\_assert(demapper,\ \textcolor{stringliteral}{"{}Invalid\ pointer\ to\ demodulation\_mapper\ object."{}});}
\DoxyCodeLine{00049\ \ \ \ \ srsran\_assert(descrambler,\ \textcolor{stringliteral}{"{}Invalid\ pointer\ to\ pseudo\_random\_generator\ object."{}});}
\DoxyCodeLine{00050\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d5/d1c/classsrsran_1_1pucch__demodulator__impl_a5322a7aa7a596946f0bfc2f419779748_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d5/d1c/classsrsran_1_1pucch__demodulator__impl_a5322a7aa7a596946f0bfc2f419779748_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pucch__demodulator__impl_ab445739499c5d3bf4791ea4aa5be0188}\label{classsrsran_1_1pucch__demodulator__impl_ab445739499c5d3bf4791ea4aa5be0188} 
\index{srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}!demodulate@{demodulate}}
\index{demodulate@{demodulate}!srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}}
\doxysubsubsection{\texorpdfstring{demodulate()}{demodulate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pucch\+\_\+demodulator\+\_\+impl\+::demodulate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{llr,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&}]{estimates,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format2__configuration}{format2\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Demodulates a PUCCH Format 2 transmission. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em llr} & Destination PUCCH soft-\/bit buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Input resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em estimates} & Channel estimates. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 2 configuration parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__demodulator_a03cf85e46aadf55ad83cd91e0d252d9c}{srsran\+::pucch\+\_\+demodulator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ Number\ of\ receive\ antenna\ ports.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_rx\_ports\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(config.rx\_ports.size());}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Number\ of\ data\ Resource\ Elements\ in\ a\ slot\ for\ a\ single\ Rx\ port.}}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_port}}\ =}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(pucch\_constants::FORMAT2\_NOF\_DATA\_SC\ *\ config.nof\_prb\ *\ config.nof\_symbols);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Assert\ that\ allocations\ are\ valid.}}
\DoxyCodeLine{00044\ \ \ srsran\_assert(config.nof\_prb\ \&\&\ config.nof\_prb\ <=\ pucch\_constants::FORMAT2\_MAX\_NPRB,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ Number\ of\ PRB\ allocated\ to\ PUCCH\ Format\ 2,\ i.e.,\ \{\}.\ Valid\ range\ is\ 1\ to\ \{\}."{}},}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config.nof\_prb,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pucch\_constants::FORMAT2\_MAX\_NPRB);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ srsran\_assert(config.nof\_symbols\ \&\&\ config.nof\_symbols\ <=\ pucch\_constants::FORMAT2\_MAX\_NSYMB,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ Number\ of\ OFDM\ symbols\ allocated\ to\ PUCCH\ Format\ 2,\ i.e.,\ \{\}.\ Valid\ range\ is\ 1\ to\ \{\}."{}},}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config.nof\_symbols,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pucch\_constants::FORMAT2\_MAX\_NSYMB);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ Resize\ data\ and\ channel\ estimation\ buffers.}}
\DoxyCodeLine{00055\ \ \ ch\_re.\mbox{\hyperlink{classsrsran_1_1static__tensor_aef91c69724fa16cb8ddefca0eb9d88d2}{resize}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_port}},\ nof\_rx\_ports\});}
\DoxyCodeLine{00056\ \ \ ch\_estimates.\mbox{\hyperlink{classsrsran_1_1static__tensor_aef91c69724fa16cb8ddefca0eb9d88d2}{resize}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_port}},\ nof\_rx\_ports,\ SINGLE\_TX\_LAYER\});}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ Resize\ equalized\ data\ and\ post\ equalization\ noise\ variance\ buffers.}}
\DoxyCodeLine{00059\ \ \ eq\_re.\mbox{\hyperlink{classsrsran_1_1static__tensor_aef91c69724fa16cb8ddefca0eb9d88d2}{resize}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_port}},\ SINGLE\_TX\_LAYER\});}
\DoxyCodeLine{00060\ \ \ eq\_noise\_vars.\mbox{\hyperlink{classsrsran_1_1static__tensor_aef91c69724fa16cb8ddefca0eb9d88d2}{resize}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re\_port}},\ SINGLE\_TX\_LAYER\});}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//\ Extract\ data\ RE\ and\ channel\ estimation\ coefficients.}}
\DoxyCodeLine{00063\ \ \ get\_data\_re\_ests(grid,\ estimates,\ config);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ Extract\ the\ Rx\ port\ noise\ variances\ from\ the\ channel\ estimation.}}
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ !=\ nof\_rx\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}})\ \{}
\DoxyCodeLine{00067\ \ \ \ \ noise\_var\_estimates[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}]\ =\ estimates.get\_noise\_variance(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}},\ 0);}
\DoxyCodeLine{00068\ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{//\ Equalize\ the\ data\ RE.}}
\DoxyCodeLine{00071\ \ \ equalizer-\/>equalize(}
\DoxyCodeLine{00072\ \ \ \ \ \ \ eq\_re,\ eq\_noise\_vars,\ ch\_re,\ ch\_estimates,\ \mbox{\hyperlink{classsrsran_1_1span}{span<float>}}(noise\_var\_estimates).first(nof\_rx\_ports),\ 1.0F);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Assert\ that\ the\ number\ of\ RE\ returned\ by\ the\ channel\ equalizer\ matches\ the\ expected\ number\ of\ LLR.}}
\DoxyCodeLine{00075\ \ \ srsran\_assert(eq\_re.\mbox{\hyperlink{classsrsran_1_1tensor_a8e4d9592972c991c7fede35886d09398}{get\_dimension\_size}}(channel\_equalizer::re\_list::dims::re)\ ==}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}.size()\ /\ \mbox{\hyperlink{namespacesrsran_af78ee928d6d8a3d8ff6bbc753f50c44e}{get\_bits\_per\_symbol}}(\mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802dfa4539d029e1781f9347b6d7d173c04a6a}{modulation\_scheme::QPSK}}),}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Number\ of\ equalized\ RE\ (i.e.\ \{\})\ does\ not\ match\ the\ expected\ LLR\ data\ length\ (i.e.\ \{\})"{}},}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eq\_re.\mbox{\hyperlink{classsrsran_1_1tensor_a8e4d9592972c991c7fede35886d09398}{get\_dimension\_size}}(channel\_equalizer::re\_list::dims::re),}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}}.size()\ /\ \mbox{\hyperlink{namespacesrsran_af78ee928d6d8a3d8ff6bbc753f50c44e}{get\_bits\_per\_symbol}}(\mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802dfa4539d029e1781f9347b6d7d173c04a6a}{modulation\_scheme::QPSK}}));}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//\ Apply\ soft\ symbol\ demodulation.\ PUCCH\ Format\ 2\ modulation\ scheme\ is\ always\ QPSK,\ as\ per\ TS38.211\ Section\ 6.3.2.5.2.}}
\DoxyCodeLine{00082\ \ \ demapper-\/>demodulate\_soft(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}},\ eq\_re.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}(\{0\}),\ eq\_noise\_vars.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}(\{0\}),\ \mbox{\hyperlink{namespacesrsran_a7d1f3285d6ba6d2621f9d919681802dfa4539d029e1781f9347b6d7d173c04a6a}{modulation\_scheme::QPSK}});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ Descramble,\ as\ per\ TS38.211\ Section\ 6.3.2.5.1.}}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordtype}{unsigned}\ c\_init\ =\ config.rnti\ *\ \mbox{\hyperlink{namespacesrsran_a643a31fe220053ca684e67ba6c6aadf2}{pow2}}(15)\ +\ config.n\_id;}
\DoxyCodeLine{00086\ \ \ descrambler-\/>init(c\_init);}
\DoxyCodeLine{00087\ \ \ descrambler-\/>apply\_xor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{llr}});}
\DoxyCodeLine{00088\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{d5/d1c/classsrsran_1_1pucch__demodulator__impl_ab445739499c5d3bf4791ea4aa5be0188_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1pucch__demodulator__impl_aeca24596359f8d690b05f33a625087f4}\label{classsrsran_1_1pucch__demodulator__impl_aeca24596359f8d690b05f33a625087f4} 
\index{srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}!demodulate@{demodulate}}
\index{demodulate@{demodulate}!srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}}
\doxysubsubsection{\texorpdfstring{demodulate()}{demodulate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pucch\+\_\+demodulator\+\_\+impl\+::demodulate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{llr,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&}]{estimates,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format3__configuration}{format3\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Demodulates a PUCCH Format 3 transmission. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em llr} & Destination PUCCH soft-\/bit buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Input resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em estimates} & Channel estimates. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 3 configuration parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__demodulator_a1270649a19ee0cb1c9effeeaab3a0648}{srsran\+::pucch\+\_\+demodulator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \{}
\DoxyCodeLine{00095\ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}PUCCH\ Format\ 3\ not\ supported."{}});}
\DoxyCodeLine{00096\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1pucch__demodulator__impl_a1f4f95acbbeb2c9579642e8ef5d5e028}\label{classsrsran_1_1pucch__demodulator__impl_a1f4f95acbbeb2c9579642e8ef5d5e028} 
\index{srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}!demodulate@{demodulate}}
\index{demodulate@{demodulate}!srsran::pucch\_demodulator\_impl@{srsran::pucch\_demodulator\_impl}}
\doxysubsubsection{\texorpdfstring{demodulate()}{demodulate()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pucch\+\_\+demodulator\+\_\+impl\+::demodulate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{llr,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1resource__grid__reader}{resource\+\_\+grid\+\_\+reader}} \&}]{grid,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1channel__estimate}{channel\+\_\+estimate}} \&}]{estimates,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pucch__demodulator_1_1format4__configuration}{format4\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Demodulates a PUCCH Format 4 transmission. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em llr} & Destination PUCCH soft-\/bit buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em grid} & Input resource grid. \\
\hline
\mbox{\texttt{ in}}  & {\em estimates} & Channel estimates. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & PUCCH Format 4 configuration parameters. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1pucch__demodulator_ae36fec84d3710797d367baddd5a61d7d}{srsran\+::pucch\+\_\+demodulator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{}
\DoxyCodeLine{00103\ \ \ srsran\_assertion\_failure(\textcolor{stringliteral}{"{}PUCCH\ Format\ 4\ not\ supported."{}});}
\DoxyCodeLine{00104\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/\mbox{\hyperlink{pucch__demodulator__impl_8h}{pucch\+\_\+demodulator\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+processors/\mbox{\hyperlink{pucch__demodulator__impl_8cpp}{pucch\+\_\+demodulator\+\_\+impl.\+cpp}}\end{DoxyCompactItemize}
