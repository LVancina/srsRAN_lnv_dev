\doxysection{srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager Class Reference}
\hypertarget{classsrsran_1_1dl__logical__channel__manager}{}\label{classsrsran_1_1dl__logical__channel__manager}\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}


Collaboration diagram for srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d1/d20/classsrsran_1_1dl__logical__channel__manager__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1dl__logical__channel__manager_1_1mac__ce__info}{mac\+\_\+ce\+\_\+info}}
\begin{DoxyCompactList}\small\item\em Holds the MAC CE information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50}{set\+\_\+status}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid, \mbox{\hyperlink{classbool}{bool}} active)
\begin{DoxyCompactList}\small\item\em Activate/\+Deactivate Bearer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abb87fcc621f70a007a577ff35adc79a2}{configure}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1logical__channel__config}{logical\+\_\+channel\+\_\+config}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\+\_\+channels\+\_\+configs}})
\begin{DoxyCompactList}\small\item\em Update the configurations of the provided lists of bearers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_ab6e0776ef07ae99265eacdc155a9d869}{is\+\_\+active}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Verifies if logical channel is activated for DL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}{has\+\_\+pending\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether the UE has pending data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_ab52cba4ecaf4ab727413e5e9710dae73}{has\+\_\+pending\+\_\+bytes}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether a logical channel has pending data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a6af84b109891d41880ef3ac622248b8f}{is\+\_\+con\+\_\+res\+\_\+id\+\_\+pending}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether a Con\+Res CE is pending for transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a49fa7f207916195863946c6f6c427d9c}{has\+\_\+pending\+\_\+ces}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether UE has pending CEs to be scheduled (Con\+Res excluded). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}{pending\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Calculates total number of DL bytes, including MAC header overhead. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a67a773368992cfa1b28b31369cc8e8c6}{pending\+\_\+ce\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether UE has pending CEs to be scheduled. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a76712a47e40b6bba7c7cea75a42fe722}{pending\+\_\+ue\+\_\+con\+\_\+res\+\_\+id\+\_\+ce\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether UE has pending UE Contention Resolution Identity CE to be scheduled. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a8f40d5bfcb7d2fda4abdc0dd781fc9bc}{pending\+\_\+bytes}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Last DL buffer status for given LCID (MAC subheader included). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a43e9d09ec37edae4c764c89a6fd5e00b}{handle\+\_\+dl\+\_\+buffer\+\_\+status\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}} lcid, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buffer\+\_\+status}})
\begin{DoxyCompactList}\small\item\em Update DL buffer status for a given LCID. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_ab68a5d9cce32e5990eede9a1841f8ff4}{handle\+\_\+mac\+\_\+ce\+\_\+indication}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__logical__channel__manager_1_1mac__ce__info}{mac\+\_\+ce\+\_\+info}} \&ce)
\begin{DoxyCompactList}\small\item\em Enqueue new MAC CE to be scheduled. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a0d24c8be664ca86ba81449b61fdce7e6}{allocate\+\_\+mac\+\_\+sdu}} (\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lch\+\_\+info}}, \mbox{\hyperlink{classunsigned}{unsigned}} rem\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em Allocates highest priority MAC SDU within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC SDU (no MAC subheader). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_aaf0416dffde155ee16c0296e1e1b39bf}{allocate\+\_\+mac\+\_\+ce}} (\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lch\+\_\+info}}, \mbox{\hyperlink{classunsigned}{unsigned}} rem\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em Allocates next MAC CE within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC CE. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a0dbdd69ab7d0497c36a40bdea7ca31c8}{allocate\+\_\+ue\+\_\+con\+\_\+res\+\_\+id\+\_\+mac\+\_\+ce}} (\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lch\+\_\+info}}, \mbox{\hyperlink{classunsigned}{unsigned}} rem\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em Allocates UE Contention Resolution Identity MAC CE within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC CE. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a8285d222875446a8edf7c683aef9486e}\label{classsrsran_1_1dl__logical__channel__manager_a8285d222875446a8edf7c683aef9486e} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!dl\_logical\_channel\_manager@{dl\_logical\_channel\_manager}}
\index{dl\_logical\_channel\_manager@{dl\_logical\_channel\_manager}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{dl\_logical\_channel\_manager()}{dl\_logical\_channel\_manager()}}
{\footnotesize\ttfamily dl\+\_\+logical\+\_\+channel\+\_\+manager\+::dl\+\_\+logical\+\_\+channel\+\_\+manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \textcolor{comment}{//\ SRB0\ is\ always\ activated.}}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50}{set\_status}}(LCID\_SRB0,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00040\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_aaf0416dffde155ee16c0296e1e1b39bf}\label{classsrsran_1_1dl__logical__channel__manager_aaf0416dffde155ee16c0296e1e1b39bf} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!allocate\_mac\_ce@{allocate\_mac\_ce}}
\index{allocate\_mac\_ce@{allocate\_mac\_ce}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{allocate\_mac\_ce()}{allocate\_mac\_ce()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} dl\+\_\+logical\+\_\+channel\+\_\+manager\+::allocate\+\_\+mac\+\_\+ce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&}]{lch\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rem\+\_\+bytes }\end{DoxyParamCaption})}



Allocates next MAC CE within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC CE. 

\begin{DoxyReturn}{Returns}
Allocated bytes for MAC CE (with subheader). 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
Excludes UE Contention Resolution Identity CE. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00108\ \{}
\DoxyCodeLine{00109\ \ \ subpdu.lcid\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t_a45cb47392a3dcde7e7fe91494706aa7ba845301e3fdc0cd9234591f2675a14bdb}{lcid\_dl\_sch\_t::MIN\_RESERVED}};}
\DoxyCodeLine{00110\ \ \ subpdu.sched\_bytes\ =\ 0;}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ Allocate\ ConRes\ CE\ ID\ if\ pending.}}
\DoxyCodeLine{00113\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ =\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a0dbdd69ab7d0497c36a40bdea7ca31c8}{allocate\_ue\_con\_res\_id\_mac\_ce}}(subpdu,\ rem\_bytes);}
\DoxyCodeLine{00114\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ >\ 0)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}};}
\DoxyCodeLine{00116\ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{if}\ (pending\_ces.empty())\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t}{lcid\_dl\_sch\_t}}\ lcid\ =\ pending\_ces.front().ce\_lcid;}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//\ Derive\ space\ needed\ for\ CE\ subheader\ +\ payload.}}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ =\ lcid.sizeof\_ce();}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}\ (lcid.is\_var\_len\_ce())\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ =\ \mbox{\hyperlink{namespacesrsran_a638bd679b667b6131f68636b3451d3c4}{get\_mac\_sdu\_required\_bytes}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}});}
\DoxyCodeLine{00127\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ +\ FIXED\_SIZED\_MAC\_CE\_SUBHEADER\_SIZE;}
\DoxyCodeLine{00129\ \ \ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \textcolor{comment}{//\ Verify\ there\ is\ space\ for\ both\ MAC\ CE\ and\ subheader.}}
\DoxyCodeLine{00132\ \ \ \textcolor{keywordflow}{if}\ (rem\_bytes\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}})\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00134\ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ subpdu.lcid\ \ \ \ \ \ \ \ =\ lcid;}
\DoxyCodeLine{00137\ \ \ subpdu.sched\_bytes\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}};}
\DoxyCodeLine{00138\ \ \ subpdu.ce\_payload\ \ =\ pending\_ces.front().ce\_payload;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ pending\_ces.pop\_front();}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}};}
\DoxyCodeLine{00143\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a0d24c8be664ca86ba81449b61fdce7e6}\label{classsrsran_1_1dl__logical__channel__manager_a0d24c8be664ca86ba81449b61fdce7e6} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!allocate\_mac\_sdu@{allocate\_mac\_sdu}}
\index{allocate\_mac\_sdu@{allocate\_mac\_sdu}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{allocate\_mac\_sdu()}{allocate\_mac\_sdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} dl\+\_\+logical\+\_\+channel\+\_\+manager\+::allocate\+\_\+mac\+\_\+sdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&}]{lch\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rem\+\_\+bytes }\end{DoxyParamCaption})}



Allocates highest priority MAC SDU within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC SDU (no MAC subheader). 

\begin{DoxyReturn}{Returns}
Allocated bytes for MAC SDU (with subheader). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ subpdu.lcid\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t_a45cb47392a3dcde7e7fe91494706aa7ba845301e3fdc0cd9234591f2675a14bdb}{lcid\_dl\_sch\_t::MIN\_RESERVED}};}
\DoxyCodeLine{00055\ \ \ subpdu.sched\_bytes\ =\ 0;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\_t}}\ lcid\ =\ get\_max\_prio\_lcid();}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{if}\ (lcid\ ==\ lcid\_t::INVALID\_LCID)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//\ Update\ Buffer\ Status\ of\ allocated\ LCID.}}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a0d24c8be664ca86ba81449b61fdce7e6}{allocate\_mac\_sdu}}(subpdu,\ lcid,\ rem\_bytes);}
\DoxyCodeLine{00064\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a0dbdd69ab7d0497c36a40bdea7ca31c8}\label{classsrsran_1_1dl__logical__channel__manager_a0dbdd69ab7d0497c36a40bdea7ca31c8} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!allocate\_ue\_con\_res\_id\_mac\_ce@{allocate\_ue\_con\_res\_id\_mac\_ce}}
\index{allocate\_ue\_con\_res\_id\_mac\_ce@{allocate\_ue\_con\_res\_id\_mac\_ce}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{allocate\_ue\_con\_res\_id\_mac\_ce()}{allocate\_ue\_con\_res\_id\_mac\_ce()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} dl\+\_\+logical\+\_\+channel\+\_\+manager\+::allocate\+\_\+ue\+\_\+con\+\_\+res\+\_\+id\+\_\+mac\+\_\+ce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1dl__msg__lc__info}{dl\+\_\+msg\+\_\+lc\+\_\+info}} \&}]{lch\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rem\+\_\+bytes }\end{DoxyParamCaption})}



Allocates UE Contention Resolution Identity MAC CE within space of {\ttfamily rem\+\_\+bytes} bytes. Updates {\ttfamily lch\+\_\+info} with allocated bytes for the MAC CE. 

\begin{DoxyReturn}{Returns}
Allocated bytes for UE Contention Resolution Identity MAC CE (with subheader). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00189\ \{}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ pending\_con\_res\_id)\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00192\ \ \ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ subpdu.lcid\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t_a45cb47392a3dcde7e7fe91494706aa7ba845301e3fdc0cd9234591f2675a14bdb}{lcid\_dl\_sch\_t::MIN\_RESERVED}};}
\DoxyCodeLine{00195\ \ \ subpdu.sched\_bytes\ =\ 0;}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t}{lcid\_dl\_sch\_t}}\{lcid\_dl\_sch\_t::UE\_CON\_RES\_ID\}.sizeof\_ce();}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ +\ FIXED\_SIZED\_MAC\_CE\_SUBHEADER\_SIZE;}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \textcolor{comment}{//\ Verify\ there\ is\ space\ for\ both\ MAC\ CE\ and\ subheader.}}
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{if}\ (rem\_bytes\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}})\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ =\ 0;}
\DoxyCodeLine{00203\ \ \ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}}\ >\ 0)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ pending\_con\_res\_id\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ subpdu.lcid\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1lcid__dl__sch__t}{lcid\_dl\_sch\_t}}\{lcid\_dl\_sch\_t::UE\_CON\_RES\_ID\};}
\DoxyCodeLine{00209\ \ \ \ \ subpdu.sched\_bytes\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}};}
\DoxyCodeLine{00210\ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{alloc\_bytes}};}
\DoxyCodeLine{00213\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_abb87fcc621f70a007a577ff35adc79a2}\label{classsrsran_1_1dl__logical__channel__manager_abb87fcc621f70a007a577ff35adc79a2} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!configure@{configure}}
\index{configure@{configure}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} dl\+\_\+logical\+\_\+channel\+\_\+manager\+::configure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1logical__channel__config}{logical\+\_\+channel\+\_\+config}} $>$}]{log\+\_\+channels\+\_\+configs }\end{DoxyParamCaption})}



Update the configurations of the provided lists of bearers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 1;\ i\ !=\ channels.size();\ ++i)\ \{}
\DoxyCodeLine{00045\ \ \ \ \ channels[i].active\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1logical__channel__config}{logical\_channel\_config}}\&\ lc\_ch\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\_channels\_configs}})\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50}{set\_status}}(lc\_ch.lcid,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00049\ \ \ \}}
\DoxyCodeLine{00050\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a43e9d09ec37edae4c764c89a6fd5e00b}\label{classsrsran_1_1dl__logical__channel__manager_a43e9d09ec37edae4c764c89a6fd5e00b} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!handle\_dl\_buffer\_status\_indication@{handle\_dl\_buffer\_status\_indication}}
\index{handle\_dl\_buffer\_status\_indication@{handle\_dl\_buffer\_status\_indication}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{handle\_dl\_buffer\_status\_indication()}{handle\_dl\_buffer\_status\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::handle\+\_\+dl\+\_\+buffer\+\_\+status\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{buffer\+\_\+status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Update DL buffer status for a given LCID. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ channels[lcid].buf\_st\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buffer\_status}};}
\DoxyCodeLine{00117\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_ab68a5d9cce32e5990eede9a1841f8ff4}\label{classsrsran_1_1dl__logical__channel__manager_ab68a5d9cce32e5990eede9a1841f8ff4} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!handle\_mac\_ce\_indication@{handle\_mac\_ce\_indication}}
\index{handle\_mac\_ce\_indication@{handle\_mac\_ce\_indication}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{handle\_mac\_ce\_indication()}{handle\_mac\_ce\_indication()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::handle\+\_\+mac\+\_\+ce\+\_\+indication (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1dl__logical__channel__manager_1_1mac__ce__info}{mac\+\_\+ce\+\_\+info}} \&}]{ce }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueue new MAC CE to be scheduled. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00121\ \ \ \{}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{if}\ (ce.ce\_lcid\ ==\ lcid\_dl\_sch\_t::UE\_CON\_RES\_ID)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ pending\_con\_res\_id\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00124\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ pending\_ces.push\_back(ce);}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}\label{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!has\_pending\_bytes@{has\_pending\_bytes}}
\index{has\_pending\_bytes@{has\_pending\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{has\_pending\_bytes()}{has\_pending\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::has\+\_\+pending\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether the UE has pending data. 

\begin{DoxyRemark}{Remarks}
Excludes data for SRB0. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a49fa7f207916195863946c6f6c427d9c}{has\_pending\_ces}}()\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ std::any\_of(channels.begin()\ +\ 1,\ channels.end(),\ [](\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{auto}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ch}})\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ch}}.active\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ch}}.buf\_st\ >\ 0;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00062\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_ab52cba4ecaf4ab727413e5e9710dae73}\label{classsrsran_1_1dl__logical__channel__manager_ab52cba4ecaf4ab727413e5e9710dae73} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!has\_pending\_bytes@{has\_pending\_bytes}}
\index{has\_pending\_bytes@{has\_pending\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{has\_pending\_bytes()}{has\_pending\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::has\+\_\+pending\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether a logical channel has pending data. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}{pending\_bytes}}(lcid)\ >\ 0;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a49fa7f207916195863946c6f6c427d9c}\label{classsrsran_1_1dl__logical__channel__manager_a49fa7f207916195863946c6f6c427d9c} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!has\_pending\_ces@{has\_pending\_ces}}
\index{has\_pending\_ces@{has\_pending\_ces}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{has\_pending\_ces()}{has\_pending\_ces()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::has\+\_\+pending\+\_\+ces (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether UE has pending CEs to be scheduled (Con\+Res excluded). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ pending\_ces.empty();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_ab6e0776ef07ae99265eacdc155a9d869}\label{classsrsran_1_1dl__logical__channel__manager_ab6e0776ef07ae99265eacdc155a9d869} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!is\_active@{is\_active}}
\index{is\_active@{is\_active}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{is\_active()}{is\_active()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::is\+\_\+active (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Verifies if logical channel is activated for DL. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{\ \textcolor{keywordflow}{return}\ channels[lcid].active;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a6af84b109891d41880ef3ac622248b8f}\label{classsrsran_1_1dl__logical__channel__manager_a6af84b109891d41880ef3ac622248b8f} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!is\_con\_res\_id\_pending@{is\_con\_res\_id\_pending}}
\index{is\_con\_res\_id\_pending@{is\_con\_res\_id\_pending}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{is\_con\_res\_id\_pending()}{is\_con\_res\_id\_pending()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::is\+\_\+con\+\_\+res\+\_\+id\+\_\+pending (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether a Con\+Res CE is pending for transmission. 

\begin{DoxyRemark}{Remarks}
Con\+Res CE is only sent when there is pending data for SRB0 or SRB1. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ (pending\_con\_res\_id\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{and}}\ (\mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}{has\_pending\_bytes}}(LCID\_SRB0)\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a4b79267f91d23649a46a085dcda679ff}{has\_pending\_bytes}}(LCID\_SRB1)));}
\DoxyCodeLine{00072\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}\label{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!pending\_bytes@{pending\_bytes}}
\index{pending\_bytes@{pending\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{pending\_bytes()}{pending\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::pending\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Calculates total number of DL bytes, including MAC header overhead. 

\begin{DoxyRemark}{Remarks}
Excludes data for SRB0 and UE Contention Resolution Identity CE. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classbytes}{bytes}}\ =\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a67a773368992cfa1b28b31369cc8e8c6}{pending\_ce\_bytes}}();}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Skip\ index\ 0\ ==>\ SRB0.}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 1;\ i\ <=\ \mbox{\hyperlink{namespacesrsran_a47229e9e32450bed465d2c604bbef8ce}{MAX\_LCID}};\ ++i)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \mbox{\hyperlink{classbytes}{bytes}}\ +=\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a16c32daf72aaaf13b289bf0115c846d5}{pending\_bytes}}((lcid\_t)i);}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classbytes}{bytes}};}
\DoxyCodeLine{00087\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a8f40d5bfcb7d2fda4abdc0dd781fc9bc}\label{classsrsran_1_1dl__logical__channel__manager_a8f40d5bfcb7d2fda4abdc0dd781fc9bc} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!pending\_bytes@{pending\_bytes}}
\index{pending\_bytes@{pending\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{pending\_bytes()}{pending\_bytes()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::pending\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Last DL buffer status for given LCID (MAC subheader included). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00109\ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_ab6e0776ef07ae99265eacdc155a9d869}{is\_active}}(lcid)\ ?\ \mbox{\hyperlink{namespacesrsran_a638bd679b667b6131f68636b3451d3c4}{get\_mac\_sdu\_required\_bytes}}(channels[lcid].buf\_st)\ :\ 0;}
\DoxyCodeLine{00111\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a67a773368992cfa1b28b31369cc8e8c6}\label{classsrsran_1_1dl__logical__channel__manager_a67a773368992cfa1b28b31369cc8e8c6} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!pending\_ce\_bytes@{pending\_ce\_bytes}}
\index{pending\_ce\_bytes@{pending\_ce\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{pending\_ce\_bytes()}{pending\_ce\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::pending\+\_\+ce\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether UE has pending CEs to be scheduled. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \ \ \{}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classbytes}{bytes}}\ =\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a76712a47e40b6bba7c7cea75a42fe722}{pending\_ue\_con\_res\_id\_ce\_bytes}}();}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ ce\ :\ pending\_ces)\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \mbox{\hyperlink{classbytes}{bytes}}\ +=\ ce.ce\_lcid.is\_var\_len\_ce()\ ?\ \mbox{\hyperlink{namespacesrsran_a638bd679b667b6131f68636b3451d3c4}{get\_mac\_sdu\_required\_bytes}}(ce.ce\_lcid.sizeof\_ce())}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ FIXED\_SIZED\_MAC\_CE\_SUBHEADER\_SIZE\ +\ ce.ce\_lcid.sizeof\_ce();}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classbytes}{bytes}};}
\DoxyCodeLine{00098\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_a76712a47e40b6bba7c7cea75a42fe722}\label{classsrsran_1_1dl__logical__channel__manager_a76712a47e40b6bba7c7cea75a42fe722} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!pending\_ue\_con\_res\_id\_ce\_bytes@{pending\_ue\_con\_res\_id\_ce\_bytes}}
\index{pending\_ue\_con\_res\_id\_ce\_bytes@{pending\_ue\_con\_res\_id\_ce\_bytes}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{pending\_ue\_con\_res\_id\_ce\_bytes()}{pending\_ue\_con\_res\_id\_ce\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::pending\+\_\+ue\+\_\+con\+\_\+res\+\_\+id\+\_\+ce\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether UE has pending UE Contention Resolution Identity CE to be scheduled. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \ \ \{}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ =\ lcid\_dl\_sch\_t\{lcid\_dl\_sch\_t::UE\_CON\_RES\_ID\}.sizeof\_ce();}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1dl__logical__channel__manager_a6af84b109891d41880ef3ac622248b8f}{is\_con\_res\_id\_pending}}()\ ?\ FIXED\_SIZED\_MAC\_CE\_SUBHEADER\_SIZE\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_size}}\ :\ 0;}
\DoxyCodeLine{00105\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50}\label{classsrsran_1_1dl__logical__channel__manager_abee831ee5a6bd2ade84a72bc09a37b50} 
\index{srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}!set\_status@{set\_status}}
\index{set\_status@{set\_status}!srsran::dl\_logical\_channel\_manager@{srsran::dl\_logical\_channel\_manager}}
\doxysubsubsection{\texorpdfstring{set\_status()}{set\_status()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::dl\+\_\+logical\+\_\+channel\+\_\+manager\+::set\+\_\+status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a9fb768b4a14baadb9295634bcaf010bc}{lcid\+\_\+t}}}]{lcid,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{active }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Activate/\+Deactivate Bearer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{\ channels[lcid].active\ =\ active;\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/dl\+\_\+logical\+\_\+channel\+\_\+manager.\+h\item 
lib/scheduler/ue\+\_\+scheduling/dl\+\_\+logical\+\_\+channel\+\_\+manager.\+cpp\end{DoxyCompactItemize}
