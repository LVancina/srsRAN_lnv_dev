\doxysection{srsran\+::ru\+\_\+ofh\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ru__ofh__impl}{}\label{classsrsran_1_1ru__ofh__impl}\index{srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}}


Open Fronthaul Radio Unit implementation.  




{\ttfamily \#include $<$ru\+\_\+ofh\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::ru\+\_\+ofh\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{db/d68/classsrsran_1_1ru__ofh__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ru\+\_\+ofh\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{d7/d7d/classsrsran_1_1ru__ofh__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ru__ofh__impl_a4fa06b4f8f33e26cc27732d246e35e90}{ru\+\_\+ofh\+\_\+impl}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ru__ofh__impl__config}{ru\+\_\+ofh\+\_\+impl\+\_\+config}} \&config, \mbox{\hyperlink{structsrsran_1_1ru__ofh__impl__dependencies}{ru\+\_\+ofh\+\_\+impl\+\_\+dependencies}} \&\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}})
\item 
\mbox{\hyperlink{classsrsran_1_1ru__controller}{ru\+\_\+controller}} \& \mbox{\hyperlink{classsrsran_1_1ru__ofh__impl_a6532b8552e1ba596ebf04ecf15e73f1c}{get\+\_\+controller}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the controller interface of this Radio Unit. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1ru__downlink__plane__handler}{ru\+\_\+downlink\+\_\+plane\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1ru__ofh__impl_a22ef7d43fe0e288d279b22fa6b8380c0}{get\+\_\+downlink\+\_\+plane\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the downlink plane handler interface of this Radio Unit. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1ru__uplink__plane__handler}{ru\+\_\+uplink\+\_\+plane\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1ru__ofh__impl_ae79a34dfdacfa231735643219eb67ec5}{get\+\_\+uplink\+\_\+plane\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the uplink plane interface handler of this Radio Unit. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1radio__unit}{srsran\+::radio\+\_\+unit}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}radio\+\_\+unit} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Open Fronthaul Radio Unit implementation. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ru__ofh__impl_a4fa06b4f8f33e26cc27732d246e35e90}\label{classsrsran_1_1ru__ofh__impl_a4fa06b4f8f33e26cc27732d246e35e90} 
\index{srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}!ru\_ofh\_impl@{ru\_ofh\_impl}}
\index{ru\_ofh\_impl@{ru\_ofh\_impl}!srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}}
\doxysubsubsection{\texorpdfstring{ru\_ofh\_impl()}{ru\_ofh\_impl()}}
{\footnotesize\ttfamily ru\+\_\+ofh\+\_\+impl\+::ru\+\_\+ofh\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ru__ofh__impl__config}{ru\+\_\+ofh\+\_\+impl\+\_\+config}} \&}]{config,  }\item[{\mbox{\hyperlink{structsrsran_1_1ru__ofh__impl__dependencies}{ru\+\_\+ofh\+\_\+impl\+\_\+dependencies}} \&\&}]{dependencies }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00031\ \ \ timing\_notifier(config.nof\_slot\_offset\_du\_ru,\ config.nof\_symbols\_per\_slot,\ *\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.timing\_notifier),}
\DoxyCodeLine{00032\ \ \ error\_handler(*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.error\_notifier),}
\DoxyCodeLine{00033\ \ \ sectors(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.sectors)),}
\DoxyCodeLine{00034\ \ \ ofh\_timing\_mngr(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.timing\_mngr)),}
\DoxyCodeLine{00035\ \ \ controller(*\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.logger,}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\mbox{\hyperlink{classsrsran_1_1ofh_1_1controller}{ofh::controller}}*\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timing\_ctrl}},\ \mbox{\hyperlink{classsrsran_1_1span}{span}}<std::unique\_ptr<ofh::sector>>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{elems}})\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<ofh::controller*>\ controllers;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Insert\ first\ the\ timing\ controller.}}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ controllers.push\_back(timing\_ctrl);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (const\ auto\&\ elem\ :\ elems)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ controllers.push\_back(\&elem.get()-\/>get\_controller());}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ controllers;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}(\&ofh\_timing\_mngr-\/>get\_controller(),\ sectors)),}
\DoxyCodeLine{00046\ \ \ downlink\_handler([](\mbox{\hyperlink{classsrsran_1_1span}{span}}<std::unique\_ptr<ofh::sector>>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sectors\_}})\ \{}
\DoxyCodeLine{00047\ \ \ \ \ std::vector<ofh::downlink\_handler*>\ out;}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ sector\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sectors\_}})\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ out.emplace\_back(\&sector.get()-\/>get\_transmitter().get\_downlink\_handler());}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00052\ \ \ \}(sectors)),}
\DoxyCodeLine{00053\ \ \ uplink\_handler([](\mbox{\hyperlink{classsrsran_1_1span}{span}}<std::unique\_ptr<ofh::sector>>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sectors\_}})\ \{}
\DoxyCodeLine{00054\ \ \ \ \ std::vector<ofh::uplink\_request\_handler*>\ out;}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ sector\ :\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sectors\_}})\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ out.emplace\_back(\&sector.get()-\/>get\_transmitter().get\_uplink\_request\_handler());}
\DoxyCodeLine{00057\ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00059\ \ \ \}(sectors))}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \ \ srsran\_assert(std::all\_of(sectors.begin(),\ sectors.end(),\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{elem}})\ \{\ return\ elem\ !=\ nullptr;\ \}),}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ sector"{}});}
\DoxyCodeLine{00063\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.timing\_notifier,\ \textcolor{stringliteral}{"{}Invalid\ timing\ notifier"{}});}
\DoxyCodeLine{00064\ \ \ srsran\_assert(ofh\_timing\_mngr,\ \textcolor{stringliteral}{"{}Invalid\ Open\ Fronthaul\ timing\ manager"{}});}
\DoxyCodeLine{00065\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.timing\_notifier,\ \textcolor{stringliteral}{"{}Invalid\ timing\ notifier"{}});}
\DoxyCodeLine{00066\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dependencies}}.error\_notifier,\ \textcolor{stringliteral}{"{}Invalid\ error\ notifier"{}});}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ Subscribe\ the\ OTA\ symbol\ boundary\ notifiers.}}
\DoxyCodeLine{00069\ \ \ std::vector<ofh::ota\_symbol\_boundary\_notifier*>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notifiers}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ Add\ first\ the\ timing\ notifier.}}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notifiers}}.push\_back(\&timing\_notifier);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Add\ the\ sectors\ notifiers.}}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ sector\ :\ sectors)\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notifiers}}.push\_back(\&sector-\/>get\_transmitter().get\_ota\_symbol\_boundary\_notifier());}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notifiers}}.push\_back(\&sector-\/>get\_receiver().get\_ota\_symbol\_boundary\_notifier());}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ Configure\ the\ error\ handler\ for\ the\ OFH\ sectors.}}
\DoxyCodeLine{00080\ \ \ \ \ sector-\/>set\_error\_notifier(error\_handler);}
\DoxyCodeLine{00081\ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ ofh\_timing\_mngr-\/>get\_ota\_symbol\_boundary\_notifier\_manager().subscribe(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{notifiers}});}
\DoxyCodeLine{00084\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ru__ofh__impl_a6532b8552e1ba596ebf04ecf15e73f1c}\label{classsrsran_1_1ru__ofh__impl_a6532b8552e1ba596ebf04ecf15e73f1c} 
\index{srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}!get\_controller@{get\_controller}}
\index{get\_controller@{get\_controller}!srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}}
\doxysubsubsection{\texorpdfstring{get\_controller()}{get\_controller()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ru__controller}{ru\+\_\+controller}} \& ru\+\_\+ofh\+\_\+impl\+::get\+\_\+controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the controller interface of this Radio Unit. 



Implements \mbox{\hyperlink{classsrsran_1_1radio__unit_af22e704bc6175adf7f23f5fc1b520603}{srsran\+::radio\+\_\+unit}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00097\ \{}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordflow}{return}\ controller;}
\DoxyCodeLine{00099\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ru__ofh__impl_a22ef7d43fe0e288d279b22fa6b8380c0}\label{classsrsran_1_1ru__ofh__impl_a22ef7d43fe0e288d279b22fa6b8380c0} 
\index{srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}!get\_downlink\_plane\_handler@{get\_downlink\_plane\_handler}}
\index{get\_downlink\_plane\_handler@{get\_downlink\_plane\_handler}!srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}}
\doxysubsubsection{\texorpdfstring{get\_downlink\_plane\_handler()}{get\_downlink\_plane\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ru__downlink__plane__handler}{ru\+\_\+downlink\+\_\+plane\+\_\+handler}} \& ru\+\_\+ofh\+\_\+impl\+::get\+\_\+downlink\+\_\+plane\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the downlink plane handler interface of this Radio Unit. 



Implements \mbox{\hyperlink{classsrsran_1_1radio__unit_a71a29d46e6e93bc24ee7cb7f4b59f906}{srsran\+::radio\+\_\+unit}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \{}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{return}\ downlink\_handler;}
\DoxyCodeLine{00089\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ru__ofh__impl_ae79a34dfdacfa231735643219eb67ec5}\label{classsrsran_1_1ru__ofh__impl_ae79a34dfdacfa231735643219eb67ec5} 
\index{srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}!get\_uplink\_plane\_handler@{get\_uplink\_plane\_handler}}
\index{get\_uplink\_plane\_handler@{get\_uplink\_plane\_handler}!srsran::ru\_ofh\_impl@{srsran::ru\_ofh\_impl}}
\doxysubsubsection{\texorpdfstring{get\_uplink\_plane\_handler()}{get\_uplink\_plane\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ru__uplink__plane__handler}{ru\+\_\+uplink\+\_\+plane\+\_\+handler}} \& ru\+\_\+ofh\+\_\+impl\+::get\+\_\+uplink\+\_\+plane\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the uplink plane interface handler of this Radio Unit. 



Implements \mbox{\hyperlink{classsrsran_1_1radio__unit_a20955106963994cb6edab7194968a1d7}{srsran\+::radio\+\_\+unit}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00092\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ uplink\_handler;}
\DoxyCodeLine{00094\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ru/ofh/ru\+\_\+ofh\+\_\+impl.\+h\item 
lib/ru/ofh/ru\+\_\+ofh\+\_\+impl.\+cpp\end{DoxyCompactItemize}
