\doxysection{srsran\+::ulsch\+\_\+demultiplex\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ulsch__demultiplex__impl}{}\label{classsrsran_1_1ulsch__demultiplex__impl}\index{srsran::ulsch\_demultiplex\_impl@{srsran::ulsch\_demultiplex\_impl}}


Inheritance diagram for srsran\+::ulsch\+\_\+demultiplex\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d45/classsrsran_1_1ulsch__demultiplex__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ulsch\+\_\+demultiplex\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de5/classsrsran_1_1ulsch__demultiplex__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ulsch__demultiplex__impl_a6099a0ce9fb47bb5f872647b4376c8ac}\label{classsrsran_1_1ulsch__demultiplex__impl_a6099a0ce9fb47bb5f872647b4376c8ac} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries re\+\_\+set\+\_\+type} = \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$MAX\+\_\+\+RB \texorpdfstring{$\ast$}{*} NRE$>$
\begin{DoxyCompactList}\small\item\em Resource element set type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ulsch__demultiplex__impl_aa4f97e6954b01d14408c7f6afe1c457e}{set\+\_\+csi\+\_\+part2}} (\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&csi\+\_\+part2, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+csi\+\_\+part2\+\_\+bits, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+csi\+\_\+part2\+\_\+enc\+\_\+bits) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Configures the CSI Part 2. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1pusch__codeword__buffer}{pusch\+\_\+codeword\+\_\+buffer}} \& \mbox{\hyperlink{classsrsran_1_1ulsch__demultiplex__impl_af400c4fd2cbb2ecf88ff76e275cb7fc0}{demultiplex}} (\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&sch\+\_\+data, \mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&harq\+\_\+ack, \mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&csi\+\_\+part1, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ulsch__demultiplex_1_1configuration}{configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Demultiplexes Uplink Shared Channel (UL-\/\+SCH). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ulsch__demultiplex}{srsran\+::ulsch\+\_\+demultiplex}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}ulsch\+\_\+demultiplex} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ulsch__demultiplex__impl_af400c4fd2cbb2ecf88ff76e275cb7fc0}\label{classsrsran_1_1ulsch__demultiplex__impl_af400c4fd2cbb2ecf88ff76e275cb7fc0} 
\index{srsran::ulsch\_demultiplex\_impl@{srsran::ulsch\_demultiplex\_impl}!demultiplex@{demultiplex}}
\index{demultiplex@{demultiplex}!srsran::ulsch\_demultiplex\_impl@{srsran::ulsch\_demultiplex\_impl}}
\doxysubsubsection{\texorpdfstring{demultiplex()}{demultiplex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1pusch__codeword__buffer}{pusch\+\_\+codeword\+\_\+buffer}} \& ulsch\+\_\+demultiplex\+\_\+impl\+::demultiplex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&}]{sch\+\_\+data,  }\item[{\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&}]{harq\+\_\+ack,  }\item[{\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&}]{csi\+\_\+part1,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ulsch__demultiplex_1_1configuration}{configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Demultiplexes Uplink Shared Channel (UL-\/\+SCH). 

Demultiplexes the different information fields from the UL-\/\+SCH transmission.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em sch\+\_\+data} & Shared channel data soft bits. \\
\hline
\mbox{\texttt{ out}}  & {\em harq\+\_\+ack} & HARQ-\/\+ACK information soft bits. \\
\hline
\mbox{\texttt{ out}}  & {\em csi\+\_\+part1} & CSI Part 1 report soft bits. \\
\hline
\mbox{\texttt{ in}}  & {\em config} & UL-\/\+SCH demultiplexing parameters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A PUSCH codeword buffer, used to feed the PUSCH payload to the demultiplexer. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1ulsch__demultiplex_a4f27384b287c26d50aefdda91c897726}{srsran\+::ulsch\+\_\+demultiplex}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00200\ \{}
\DoxyCodeLine{00201\ \ \ \textcolor{comment}{//\ Copy\ configuration.}}
\DoxyCodeLine{00202\ \ \ config\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{config\_}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \textcolor{comment}{//\ Prepare\ the\ decoder\ buffers.}}
\DoxyCodeLine{00205\ \ \ sch\_data\ =\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sch\_data\_}};}
\DoxyCodeLine{00206\ \ \ \textcolor{keywordflow}{if}\ (config.nof\_harq\_ack\_bits\ !=\ 0)\ \{}
\DoxyCodeLine{00207\ \ \ \ \ harq\_ack\ =\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{harq\_ack\_}};}
\DoxyCodeLine{00208\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00209\ \ \ \ \ harq\_ack\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00210\ \ \ \}}
\DoxyCodeLine{00211\ \ \ \textcolor{keywordflow}{if}\ (config.nof\_csi\_part1\_bits\ !=\ 0)\ \{}
\DoxyCodeLine{00212\ \ \ \ \ csi\_part1\ =\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_part1\_}};}
\DoxyCodeLine{00213\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00214\ \ \ \ \ csi\_part1\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00215\ \ \ \}}
\DoxyCodeLine{00216\ \ \ csi\_part2\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \textcolor{comment}{//\ Calculate\ derivative\ parameters.}}
\DoxyCodeLine{00219\ \ \ nof\_bits\_per\_re\ =\ \mbox{\hyperlink{namespacesrsran_af78ee928d6d8a3d8ff6bbc753f50c44e}{get\_bits\_per\_symbol}}(config.modulation)\ *\ config.nof\_layers;}
\DoxyCodeLine{00220\ \ \ l1\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ get\_ulsch\_demultiplex\_l1(config.dmrs\_symbol\_mask);}
\DoxyCodeLine{00221\ \ \ l1\_csi\ \ \ \ \ \ \ \ \ \ =\ get\_ulsch\_demultiplex\_l1\_csi(config.dmrs\_symbol\_mask);}
\DoxyCodeLine{00222\ \ \ nof\_re\_dmrs\ =\ get\_ulsch\_demultiplex\_nof\_re\_prb\_dmrs(config.dmrs,\ config.nof\_cdm\_groups\_without\_data,\ config.nof\_prb);}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \textcolor{comment}{//\ CSI\ Part\ 2\ is\ not\ configured\ initially.}}
\DoxyCodeLine{00225\ \ \ nof\_csi\_part2\_bits\ \ \ \ \ =\ 0;}
\DoxyCodeLine{00226\ \ \ nof\_csi\_part2\_enc\_bits\ =\ 0;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \textcolor{comment}{//\ Initialise\ counters.}}
\DoxyCodeLine{00229\ \ \ ofdm\_symbol\_index\ =\ config.start\_symbol\_index;}
\DoxyCodeLine{00230\ \ \ m\_rvd\_count\ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00231\ \ \ m\_harq\_ack\_count\ \ =\ 0;}
\DoxyCodeLine{00232\ \ \ m\_csi\_part1\_count\ =\ 0;}
\DoxyCodeLine{00233\ \ \ m\_csi\_part2\_count\ =\ 0;}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \textcolor{comment}{//\ Configure\ the\ first\ OFDM\ symbol.}}
\DoxyCodeLine{00236\ \ \ configure\_current\_ofdm\_symbol();}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00239\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ulsch__demultiplex__impl_aa4f97e6954b01d14408c7f6afe1c457e}\label{classsrsran_1_1ulsch__demultiplex__impl_aa4f97e6954b01d14408c7f6afe1c457e} 
\index{srsran::ulsch\_demultiplex\_impl@{srsran::ulsch\_demultiplex\_impl}!set\_csi\_part2@{set\_csi\_part2}}
\index{set\_csi\_part2@{set\_csi\_part2}!srsran::ulsch\_demultiplex\_impl@{srsran::ulsch\_demultiplex\_impl}}
\doxysubsubsection{\texorpdfstring{set\_csi\_part2()}{set\_csi\_part2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ulsch\+\_\+demultiplex\+\_\+impl\+::set\+\_\+csi\+\_\+part2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1pusch__decoder__buffer}{pusch\+\_\+decoder\+\_\+buffer}} \&}]{csi\+\_\+part2,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+csi\+\_\+part2\+\_\+bits,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+csi\+\_\+part2\+\_\+enc\+\_\+bits }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Configures the CSI Part 2. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em csi\+\_\+part2} & CSI Part 2 decoder buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+csi\+\_\+part2\+\_\+bits} & Number of CSI Part 2 information bits. Parameter $O_\textup{CSI-2}$. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+csi\+\_\+part2\+\_\+enc\+\_\+bits} & Number of encoded and rate-\/matched CSI Part 2 data bits. Parameter $G^\textup{CSI-2}$. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1ulsch__demultiplex_af937e011d9c1196511706e6c5aef7544}{srsran\+::ulsch\+\_\+demultiplex}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00244\ \{}
\DoxyCodeLine{00245\ \ \ csi\_part2\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{csi\_part2\_}};}
\DoxyCodeLine{00246\ \ \ nof\_csi\_part2\_bits\ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_csi\_part2\_bits\_}};}
\DoxyCodeLine{00247\ \ \ nof\_csi\_part2\_enc\_bits\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_csi\_part2\_enc\_bits\_}};}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \textcolor{comment}{//\ Re-\/configure\ current\ OFDM\ symbol.}}
\DoxyCodeLine{00250\ \ \ configure\_csi\_part2\_current\_ofdm\_symbol();}
\DoxyCodeLine{00251\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pusch/ulsch\+\_\+demultiplex\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pusch/ulsch\+\_\+demultiplex\+\_\+impl.\+cpp\end{DoxyCompactItemize}
