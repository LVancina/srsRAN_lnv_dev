\doxysection{srsran\+::channel\+\_\+estimate Class Reference}
\hypertarget{classsrsran_1_1channel__estimate}{}\label{classsrsran_1_1channel__estimate}\index{srsran::channel\_estimate@{srsran::channel\_estimate}}


Describes channel estimation results.  




{\ttfamily \#include $<$channel\+\_\+estimation.\+h$>$}



Collaboration diagram for srsran\+::channel\+\_\+estimate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{dc/dd5/classsrsran_1_1channel__estimate__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}}
\begin{DoxyCompactList}\small\item\em Describes the data structure containing the channel estimate. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1channel__estimate_a987af8585951357deb842ea4dc4aeef5}{channel\+\_\+estimate}} ()
\begin{DoxyCompactList}\small\item\em Default constructor\+: reserves internal memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1channel__estimate_aac323778ffe13af85d3a18a6ab8db0af}{channel\+\_\+estimate}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \&dims)
\begin{DoxyCompactList}\small\item\em Constructor\+: sets the size of the internal buffers. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1channel__estimate_a5dd672958e59050004cb5370e21c096d}\label{classsrsran_1_1channel__estimate_a5dd672958e59050004cb5370e21c096d} 
{\bfseries \texorpdfstring{$\sim$}{\string~}channel\+\_\+estimate} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a866476ab3a67570fa83ee5ab42a892d6}{resize}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \&dims)
\begin{DoxyCompactList}\small\item\em Resizes internal buffers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a0370b4ff4d9e9692f0e1d05c415721b6}{size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns channel estimate dimensions. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \& \mbox{\hyperlink{classsrsran_1_1channel__estimate_ace94b383d49f212dc263724746f55e0a}{capacity}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns channel estimate maximum dimensions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Getters.}\par
{\em Returns the estimated noise variance for the path between the given Rx port and Tx layer (linear scale). }\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a65201331054c13a32fac87f67bf48324}{get\+\_\+noise\+\_\+variance}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a4df8212cd8e8e48539034bddff87ddfe}{get\+\_\+noise\+\_\+variance\+\_\+dB}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated noise variance for the path between the given Rx port and Tx layer (dB scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36}{get\+\_\+rsrp}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated RSRP for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_ab3eb21230f548ef0d8d1e54ed503a0c2}{get\+\_\+rsrp\+\_\+dB}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated RSRP for the path between the given Rx port and Tx layer (dB scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2}{get\+\_\+epre}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the average EPRE for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a3b39fe5830a307ab802fe2d74a8b250c}{get\+\_\+epre\+\_\+dB}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the average EPRE for the path between the given Rx port and Tx layer (dB scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5}{get\+\_\+snr}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated SNR for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a1cf2e6277ec4f9f8c898f13b7bff0205}{get\+\_\+layer\+\_\+average\+\_\+snr}} (\mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated average SNR for a given layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_ad5c9c4968dd562340b822c2bd1303749}{get\+\_\+snr\+\_\+dB}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated SNR for the path between the given Rx port and Tx layer (dB scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a7eb9897e2d7c4ffc57d3704d23d032e2}{get\+\_\+time\+\_\+alignment}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the estimated time alignment in PHY time units between the given Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1channel__estimate_a49d2f719fa739df2e255de85087274dd}{get\+\_\+path\+\_\+ch\+\_\+estimate}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Returns a read-\/write view to the RE channel estimates of the path between the given Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1channel__estimate_aa6d2e35fa44de014b2851eb9163ec849}{get\+\_\+path\+\_\+ch\+\_\+estimate}} (\mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns a read-\/only view to the RE channel estimates of the path between the given Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1channel__estimate_a3e3110c08719e66b65cd7c6bc81cb01d}{get\+\_\+symbol\+\_\+ch\+\_\+estimate}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+symbol}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port=0, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Returns a read-\/write view to the RE channel estimates for a given OFDM symbol, Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1channel__estimate_ab5160d76828b10078c49590d1b5b5d9e}{get\+\_\+symbol\+\_\+ch\+\_\+estimate}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\+\_\+symbol}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port=0, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns a read-\/only view to the RE channel estimates for a given OFDM symbol, Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc}{get\+\_\+channel\+\_\+state\+\_\+information}} (\mbox{\hyperlink{classsrsran_1_1channel__state__information}{channel\+\_\+state\+\_\+information}} \&csi) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the general Channel State Information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Setters.}\par
{\em Sets the estimated noise variance for the path between the given Rx port and Tx layer (linear scale). }\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a899edbcc0cb564625033997007082b23}{set\+\_\+noise\+\_\+variance}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{var\+\_\+val}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a55e6505cc49f3e689487f38a8c5e920f}{set\+\_\+rsrp}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\+\_\+val}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Sets the estimated RSRP for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a7123bed76e9d5dd8b4fb3e94419cc29e}{set\+\_\+epre}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\+\_\+val}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Sets the average EPRE for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_af996cdabe49e1189a339ed552ceb239f}{set\+\_\+snr}} (\mbox{\hyperlink{classfloat}{float}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\+\_\+val}}, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Sets the estimated SNR for the path between the given Rx port and Tx layer (linear scale). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a40afb0a66b8057048879c250294ba0e9}{set\+\_\+time\+\_\+alignment}} (\mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}} ta, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Sets the estimated time alignment in PHY units of time for the path between the given Rx port and Tx layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__estimate_a128e90778ec194e5d88d31e952752f78}{set\+\_\+ch\+\_\+estimate}} (\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\+\_\+val}}, \mbox{\hyperlink{classunsigned}{unsigned}} subcarrier, \mbox{\hyperlink{classunsigned}{unsigned}} symbol, \mbox{\hyperlink{classunsigned}{unsigned}} rx\+\_\+port=0, \mbox{\hyperlink{classunsigned}{unsigned}} tx\+\_\+layer=0)
\begin{DoxyCompactList}\small\item\em Sets the channel estimate for the resource element at the given coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\doxysubsection{Detailed Description}
Describes channel estimation results. 

\begin{DoxyWarning}{Warning}
Instantiating an object of this class entails a heap memory allocation. 
\end{DoxyWarning}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1channel__estimate_a987af8585951357deb842ea4dc4aeef5}\label{classsrsran_1_1channel__estimate_a987af8585951357deb842ea4dc4aeef5} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!channel\_estimate@{channel\_estimate}}
\index{channel\_estimate@{channel\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{channel\_estimate()}{channel\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily srsran\+::channel\+\_\+estimate\+::channel\+\_\+estimate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default constructor\+: reserves internal memory. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ max\_dims(),\ nof\_subcarriers(0),\ nof\_symbols(0),\ nof\_rx\_ports(0),\ nof\_tx\_layers(0)}
\DoxyCodeLine{00072\ \ \ \{}
\DoxyCodeLine{00073\ \ \ \ \ ce.\mbox{\hyperlink{classsrsran_1_1dynamic__tensor_a05e261813b67240280a1d27961730352}{reserve}}(\{MAX\_RB\ *\ NRE,\ MAX\_NSYMB\_PER\_SLOT,\ MAX\_RX\_PORTS,\ MAX\_TX\_LAYERS\});}
\DoxyCodeLine{00074\ \ \ \ \ noise\_variance.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00075\ \ \ \ \ epre.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00076\ \ \ \ \ rsrp.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00077\ \ \ \ \ snr.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00078\ \ \ \ \ time\_alignment.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00079\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_aac323778ffe13af85d3a18a6ab8db0af}\label{classsrsran_1_1channel__estimate_aac323778ffe13af85d3a18a6ab8db0af} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!channel\_estimate@{channel\_estimate}}
\index{channel\_estimate@{channel\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{channel\_estimate()}{channel\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily srsran\+::channel\+\_\+estimate\+::channel\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \&}]{dims }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Constructor\+: sets the size of the internal buffers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00083\ \ \ \ \ max\_dims(dims),}
\DoxyCodeLine{00084\ \ \ \ \ nof\_subcarriers(dims.nof\_prb\ *\ NRE),}
\DoxyCodeLine{00085\ \ \ \ \ nof\_symbols(dims.nof\_symbols),}
\DoxyCodeLine{00086\ \ \ \ \ nof\_rx\_ports(dims.nof\_rx\_ports),}
\DoxyCodeLine{00087\ \ \ \ \ nof\_tx\_layers(dims.nof\_tx\_layers),}
\DoxyCodeLine{00088\ \ \ \ \ ce(\{nof\_subcarriers,\ nof\_symbols,\ nof\_rx\_ports,\ nof\_tx\_layers\})}
\DoxyCodeLine{00089\ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ srsran\_assert(dims.nof\_prb\ <=\ MAX\_RB,\ \textcolor{stringliteral}{"{}Requested\ \{\}\ RBs,\ but\ at\ most\ \{\}\ are\ allowed."{}},\ dims.nof\_prb,\ MAX\_RB);}
\DoxyCodeLine{00091\ \ \ \ \ srsran\_assert(dims.nof\_symbols\ <=\ MAX\_NSYMB\_PER\_SLOT,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Requested\ \{\}\ OFDM\ symbols,\ but\ at\ most\ \{\}\ are\ allowed."{}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dims.nof\_symbols,}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MAX\_NSYMB\_PER\_SLOT);}
\DoxyCodeLine{00095\ \ \ \ \ srsran\_assert(dims.nof\_rx\_ports\ <=\ MAX\_RX\_PORTS,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Requested\ \{\}\ receive\ ports,\ but\ at\ most\ \{\}\ are\ supported."{}},}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dims.nof\_rx\_ports,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(MAX\_RX\_PORTS));}
\DoxyCodeLine{00099\ \ \ \ \ srsran\_assert(dims.nof\_tx\_layers\ <=\ MAX\_TX\_LAYERS,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Requested\ \{\}\ transmission\ layers,\ but\ at\ most\ \{\}\ are\ supported."{}},}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dims.nof\_tx\_layers,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(MAX\_TX\_LAYERS));}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}}\ =\ dims.nof\_tx\_layers\ *\ dims.nof\_rx\_ports;}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Reserve\ memory\ for\ channel\ estimates\ and\ initialize\ with\ 1.0.}}
\DoxyCodeLine{00107\ \ \ \ \ ce.\mbox{\hyperlink{classsrsran_1_1dynamic__tensor_ae3e54a1f77b2ec66b9bd75ca28ad87df}{resize}}(\{dims.nof\_prb\ *\ NRE,\ dims.nof\_symbols,\ dims.nof\_rx\_ports,\ dims.nof\_tx\_layers\});}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{comment}{//\ Set\ all\ reserved\ data\ to\ one.}}
\DoxyCodeLine{00110\ \ \ \ \ span<cf\_t>\ data\ =\ ce.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<4>(\{\});}
\DoxyCodeLine{00111\ \ \ \ \ std::fill(data.begin(),\ data.end(),\ 1.0F);}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ Reserve\ memory\ for\ the\ rest\ of\ channel\ statistics.}}
\DoxyCodeLine{00114\ \ \ \ \ noise\_variance.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00115\ \ \ \ \ noise\_variance.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00116\ \ \ \ \ epre.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00117\ \ \ \ \ epre.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00118\ \ \ \ \ rsrp.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00119\ \ \ \ \ rsrp.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00120\ \ \ \ \ snr.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00121\ \ \ \ \ snr.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00122\ \ \ \ \ time\_alignment.reserve(MAX\_TX\_RX\_PATHS);}
\DoxyCodeLine{00123\ \ \ \ \ time\_alignment.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00124\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d9/d7c/classsrsran_1_1channel__estimate_aac323778ffe13af85d3a18a6ab8db0af_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d9/d7c/classsrsran_1_1channel__estimate_aac323778ffe13af85d3a18a6ab8db0af_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1channel__estimate_ace94b383d49f212dc263724746f55e0a}\label{classsrsran_1_1channel__estimate_ace94b383d49f212dc263724746f55e0a} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!capacity@{capacity}}
\index{capacity@{capacity}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \& srsran\+::channel\+\_\+estimate\+::capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns channel estimate maximum dimensions. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00348\ \{\ \textcolor{keywordflow}{return}\ max\_dims;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc}\label{classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_channel\_state\_information@{get\_channel\_state\_information}}
\index{get\_channel\_state\_information@{get\_channel\_state\_information}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_channel\_state\_information()}{get\_channel\_state\_information()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::get\+\_\+channel\+\_\+state\+\_\+information (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1channel__state__information}{channel\+\_\+state\+\_\+information}} \&}]{csi }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the general Channel State Information. 

param\mbox{[}in\mbox{]} csi Channel State Information object where the CSI parameters are stored. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00236\ \ \ \{}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{comment}{//\ EPRE,\ RSRP\ and\ time\ alignment\ are\ reported\ as\ a\ linear\ average\ of\ the\ results\ for\ all\ Rx\ ports.}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{keywordtype}{float}\ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\_lin}}\ \ \ \ \ \ =\ 0.0F;}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordtype}{float}\ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_lin}}\ \ \ \ \ \ =\ 0.0F;}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_rx\_port}}\ \ =\ 0;}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordtype}{float}\ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_path\_snr}}\ =\ 0.0F;}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}}\ !=\ nof\_rx\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}})\ \{}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \textcolor{comment}{//\ Accumulate\ EPRE\ and\ RSRP\ values.}}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\_lin}}\ +=\ \mbox{\hyperlink{classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2}{get\_epre}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}},\ 0);}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_lin}}\ +=\ \mbox{\hyperlink{classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36}{get\_rsrp}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}},\ 0);}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \ \ \textcolor{comment}{//\ Determine\ the\ Rx\ port\ with\ better\ SNR.}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_snr}}\ =\ \mbox{\hyperlink{classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5}{get\_snr}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}},\ 0);}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_snr}}\ >\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_path\_snr}})\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_path\_snr}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_snr}};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_rx\_port}}\ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \ \ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\_lin}}\ /=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(nof\_rx\_ports);}
\DoxyCodeLine{00256\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_lin}}\ /=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(nof\_rx\_ports);}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ csi.set\_epre(\mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\_lin}}));}
\DoxyCodeLine{00259\ \ \ \ \ csi.set\_rsrp(\mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_lin}}));}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{comment}{//\ Use\ the\ time\ alignment\ of\ the\ channel\ path\ with\ better\ SNR.}}
\DoxyCodeLine{00262\ \ \ \ \ csi.set\_time\_alignment(\mbox{\hyperlink{classsrsran_1_1channel__estimate_a7eb9897e2d7c4ffc57d3704d23d032e2}{get\_time\_alignment}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{best\_rx\_port}},\ 0));}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{comment}{//\ SINR\ is\ reported\ by\ averaging\ the\ signal\ and\ noise\ power\ contributions\ of\ all\ Rx\ ports.}}
\DoxyCodeLine{00265\ \ \ \ \ csi.set\_sinr\_dB(\mbox{\hyperlink{classsrsran_1_1channel__state__information_ae4af4a403b69bef37ac9173fa7428286aa677b907ee90f2fda4e01b241f1859bc}{channel\_state\_information::sinr\_type::channel\_estimator}},}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{classsrsran_1_1channel__estimate_a1cf2e6277ec4f9f8c898f13b7bff0205}{get\_layer\_average\_snr}}(0)));}
\DoxyCodeLine{00267\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_aebf521cf0e150b8ff4d67e528aba82bc_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2}\label{classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_epre@{get\_epre}}
\index{get\_epre@{get\_epre}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_epre()}{get\_epre()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+epre (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the average EPRE for the path between the given Rx port and Tx layer (linear scale). 

\begin{DoxyRemark}{Remarks}
The EPRE is defined as the average received power (including noise) across all REs carrying DM-\/\+RS. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00155\ \{\ \textcolor{keywordflow}{return}\ epre[path\_to\_index(rx\_port,\ tx\_layer)];\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a3b39fe5830a307ab802fe2d74a8b250c}\label{classsrsran_1_1channel__estimate_a3b39fe5830a307ab802fe2d74a8b250c} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_epre\_dB@{get\_epre\_dB}}
\index{get\_epre\_dB@{get\_epre\_dB}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_epre\_dB()}{get\_epre\_dB()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+epre\+\_\+dB (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the average EPRE for the path between the given Rx port and Tx layer (dB scale). 

\begin{DoxyRemark}{Remarks}
The EPRE is defined as the average received power (including noise) across all REs carrying DM-\/\+RS. 
\end{DoxyRemark}

\begin{DoxyCode}{0}
\DoxyCodeLine{00161\ \ \ \{}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{classsrsran_1_1channel__estimate_a0d76e156fb2b403eaa36b155a634d0a2}{get\_epre}}(rx\_port,\ tx\_layer));}
\DoxyCodeLine{00163\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a3b39fe5830a307ab802fe2d74a8b250c_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a1cf2e6277ec4f9f8c898f13b7bff0205}\label{classsrsran_1_1channel__estimate_a1cf2e6277ec4f9f8c898f13b7bff0205} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_layer\_average\_snr@{get\_layer\_average\_snr}}
\index{get\_layer\_average\_snr@{get\_layer\_average\_snr}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_layer\_average\_snr()}{get\_layer\_average\_snr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+layer\+\_\+average\+\_\+snr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated average SNR for a given layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00170\ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noise\_var\_all\_ports}}\ =\ 0.0F;}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_all\_ports}}\ \ \ \ \ \ =\ 0.0F;}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Add\ the\ noise\ and\ signal\ power\ contributions\ of\ all\ Rx\ ports.}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}}\ !=\ nof\_rx\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}})\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noise\_var\_all\_ports}}\ +=\ noise\_variance[path\_to\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}},\ tx\_layer)];}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_all\_ports}}\ +=\ rsrp[path\_to\_index(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_rx\_port}},\ tx\_layer)];}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::isnormal(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noise\_var\_all\_ports}}))\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_all\_ports}}\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noise\_var\_all\_ports}};}
\DoxyCodeLine{00182\ \ \ \ \ \}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{comment}{//\ If\ noise\ variance\ is\ 0,\ report\ and\ SNR\ of\ 60\ dB.}}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordflow}{return}\ 1\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e6}};}
\DoxyCodeLine{00186\ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a1cf2e6277ec4f9f8c898f13b7bff0205_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a65201331054c13a32fac87f67bf48324}\label{classsrsran_1_1channel__estimate_a65201331054c13a32fac87f67bf48324} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_noise\_variance@{get\_noise\_variance}}
\index{get\_noise\_variance@{get\_noise\_variance}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_noise\_variance()}{get\_noise\_variance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+noise\+\_\+variance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00133\ \ \ \{}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{return}\ noise\_variance[path\_to\_index(rx\_port,\ tx\_layer)];}
\DoxyCodeLine{00135\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a4df8212cd8e8e48539034bddff87ddfe}\label{classsrsran_1_1channel__estimate_a4df8212cd8e8e48539034bddff87ddfe} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_noise\_variance\_dB@{get\_noise\_variance\_dB}}
\index{get\_noise\_variance\_dB@{get\_noise\_variance\_dB}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_noise\_variance\_dB()}{get\_noise\_variance\_dB()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+noise\+\_\+variance\+\_\+dB (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated noise variance for the path between the given Rx port and Tx layer (dB scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(get\_noise\_variance(rx\_port,\ tx\_layer));}
\DoxyCodeLine{00141\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a4df8212cd8e8e48539034bddff87ddfe_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a49d2f719fa739df2e255de85087274dd}\label{classsrsran_1_1channel__estimate_a49d2f719fa739df2e255de85087274dd} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_path\_ch\_estimate@{get\_path\_ch\_estimate}}
\index{get\_path\_ch\_estimate@{get\_path\_ch\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_path\_ch\_estimate()}{get\_path\_ch\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::channel\+\_\+estimate\+::get\+\_\+path\+\_\+ch\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns a read-\/write view to the RE channel estimates of the path between the given Rx port and Tx layer. 

The view is represented as a vector indexed by i) subcarriers and ii) OFDM symbols. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00204\ \ \ \{}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{return}\ ce.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<2>(\{rx\_port,\ tx\_layer\});}
\DoxyCodeLine{00206\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_aa6d2e35fa44de014b2851eb9163ec849}\label{classsrsran_1_1channel__estimate_aa6d2e35fa44de014b2851eb9163ec849} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_path\_ch\_estimate@{get\_path\_ch\_estimate}}
\index{get\_path\_ch\_estimate@{get\_path\_ch\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_path\_ch\_estimate()}{get\_path\_ch\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::channel\+\_\+estimate\+::get\+\_\+path\+\_\+ch\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns a read-\/only view to the RE channel estimates of the path between the given Rx port and Tx layer. 

The view is represented as a vector indexed by i) subcarriers and ii) OFDM symbols. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00212\ \ \ \{}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{return}\ ce.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<2>(\{rx\_port,\ tx\_layer\});}
\DoxyCodeLine{00214\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36}\label{classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_rsrp@{get\_rsrp}}
\index{get\_rsrp@{get\_rsrp}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_rsrp()}{get\_rsrp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+rsrp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated RSRP for the path between the given Rx port and Tx layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \{\ \textcolor{keywordflow}{return}\ rsrp[path\_to\_index(rx\_port,\ tx\_layer)];\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_ab3eb21230f548ef0d8d1e54ed503a0c2}\label{classsrsran_1_1channel__estimate_ab3eb21230f548ef0d8d1e54ed503a0c2} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_rsrp\_dB@{get\_rsrp\_dB}}
\index{get\_rsrp\_dB@{get\_rsrp\_dB}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_rsrp\_dB()}{get\_rsrp\_dB()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+rsrp\+\_\+dB (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated RSRP for the path between the given Rx port and Tx layer (dB scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00148\ \ \ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{classsrsran_1_1channel__estimate_af2d50dc846b4644fee4261cee2933b36}{get\_rsrp}}(rx\_port,\ tx\_layer));}
\DoxyCodeLine{00150\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_ab3eb21230f548ef0d8d1e54ed503a0c2_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5}\label{classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_snr@{get\_snr}}
\index{get\_snr@{get\_snr}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_snr()}{get\_snr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+snr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated SNR for the path between the given Rx port and Tx layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00166\ \{\ \textcolor{keywordflow}{return}\ snr[path\_to\_index(rx\_port,\ tx\_layer)];\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_ad5c9c4968dd562340b822c2bd1303749}\label{classsrsran_1_1channel__estimate_ad5c9c4968dd562340b822c2bd1303749} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_snr\_dB@{get\_snr\_dB}}
\index{get\_snr\_dB@{get\_snr\_dB}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_snr\_dB()}{get\_snr\_dB()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfloat}{float}} srsran\+::channel\+\_\+estimate\+::get\+\_\+snr\+\_\+dB (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated SNR for the path between the given Rx port and Tx layer (dB scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00190\ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a5756a255042b67673f46c371665d04ec}{convert\_power\_to\_dB}}(\mbox{\hyperlink{classsrsran_1_1channel__estimate_a0a05225c30d3662ee04424e8c94f5cd5}{get\_snr}}(rx\_port,\ tx\_layer));}
\DoxyCodeLine{00192\ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_ad5c9c4968dd562340b822c2bd1303749_cgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a3e3110c08719e66b65cd7c6bc81cb01d}\label{classsrsran_1_1channel__estimate_a3e3110c08719e66b65cd7c6bc81cb01d} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_symbol\_ch\_estimate@{get\_symbol\_ch\_estimate}}
\index{get\_symbol\_ch\_estimate@{get\_symbol\_ch\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_symbol\_ch\_estimate()}{get\_symbol\_ch\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::channel\+\_\+estimate\+::get\+\_\+symbol\+\_\+ch\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port = {\ttfamily 0},  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns a read-\/write view to the RE channel estimates for a given OFDM symbol, Rx port and Tx layer. 

The view is represented as a vector indexed by subcarrier. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00220\ \ \ \{}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordflow}{return}\ ce.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<1>(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_symbol}},\ rx\_port,\ tx\_layer\});}
\DoxyCodeLine{00222\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_ab5160d76828b10078c49590d1b5b5d9e}\label{classsrsran_1_1channel__estimate_ab5160d76828b10078c49590d1b5b5d9e} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_symbol\_ch\_estimate@{get\_symbol\_ch\_estimate}}
\index{get\_symbol\_ch\_estimate@{get\_symbol\_ch\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_symbol\_ch\_estimate()}{get\_symbol\_ch\_estimate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ srsran\+::channel\+\_\+estimate\+::get\+\_\+symbol\+\_\+ch\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{i\+\_\+symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port = {\ttfamily 0},  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns a read-\/only view to the RE channel estimates for a given OFDM symbol, Rx port and Tx layer. 

The view is represented as a vector indexed by subcarrier. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00228\ \ \ \{}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordflow}{return}\ ce.\mbox{\hyperlink{classsrsran_1_1tensor_aa4379387498edc2307a09f6a60b85c8a}{get\_view}}<1>(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_symbol}},\ rx\_port,\ tx\_layer\});}
\DoxyCodeLine{00230\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a7eb9897e2d7c4ffc57d3704d23d032e2}\label{classsrsran_1_1channel__estimate_a7eb9897e2d7c4ffc57d3704d23d032e2} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!get\_time\_alignment@{get\_time\_alignment}}
\index{get\_time\_alignment@{get\_time\_alignment}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{get\_time\_alignment()}{get\_time\_alignment()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}} srsran\+::channel\+\_\+estimate\+::get\+\_\+time\+\_\+alignment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the estimated time alignment in PHY time units between the given Rx port and Tx layer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00196\ \ \ \{}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{return}\ time\_alignment[path\_to\_index(rx\_port,\ tx\_layer)];}
\DoxyCodeLine{00198\ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d7c/classsrsran_1_1channel__estimate_a7eb9897e2d7c4ffc57d3704d23d032e2_icgraph}
\end{center}
\end{figure}
\Hypertarget{classsrsran_1_1channel__estimate_a866476ab3a67570fa83ee5ab42a892d6}\label{classsrsran_1_1channel__estimate_a866476ab3a67570fa83ee5ab42a892d6} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!resize@{resize}}
\index{resize@{resize}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{resize()}{resize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::resize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} \&}]{dims }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Resizes internal buffers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00312\ \ \ \{}
\DoxyCodeLine{00313\ \ \ \ \ nof\_subcarriers\ =\ dims.nof\_prb\ *\ NRE;}
\DoxyCodeLine{00314\ \ \ \ \ nof\_symbols\ \ \ \ \ =\ dims.nof\_symbols;}
\DoxyCodeLine{00315\ \ \ \ \ nof\_rx\_ports\ \ \ \ =\ dims.nof\_rx\_ports;}
\DoxyCodeLine{00316\ \ \ \ \ nof\_tx\_layers\ \ \ =\ dims.nof\_tx\_layers;}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}}\ =\ nof\_rx\_ports\ *\ nof\_tx\_layers;}
\DoxyCodeLine{00319\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}}\ <=\ MAX\_TX\_RX\_PATHS,}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Total\ requested\ paths\ (\{\})\ exceed\ maximum\ available\ (\{\})."{}},}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}},}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(MAX\_TX\_RX\_PATHS));}
\DoxyCodeLine{00323\ \ \ \ \ noise\_variance.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00324\ \ \ \ \ epre.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00325\ \ \ \ \ rsrp.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00326\ \ \ \ \ snr.resize(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}});}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_res}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_paths}}\ *\ nof\_subcarriers\ *\ nof\_symbols;}
\DoxyCodeLine{00329\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_res}}\ <=\ MAX\_BUFFER\_SIZE,}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Total\ requested\ REs\ (\{\})\ exceed\ maximum\ available\ (\{\})."{}},}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_res}},}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(MAX\_BUFFER\_SIZE));}
\DoxyCodeLine{00333\ \ \ \ \ ce.\mbox{\hyperlink{classsrsran_1_1dynamic__tensor_ae3e54a1f77b2ec66b9bd75ca28ad87df}{resize}}(\{NRE\ *\ dims.nof\_prb,\ dims.nof\_symbols,\ dims.nof\_rx\_ports,\ dims.nof\_tx\_layers\});}
\DoxyCodeLine{00334\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a128e90778ec194e5d88d31e952752f78}\label{classsrsran_1_1channel__estimate_a128e90778ec194e5d88d31e952752f78} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_ch\_estimate@{set\_ch\_estimate}}
\index{set\_ch\_estimate@{set\_ch\_estimate}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_ch\_estimate()}{set\_ch\_estimate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+ch\+\_\+estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}}}]{ce\+\_\+val,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{subcarrier,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port = {\ttfamily 0},  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the channel estimate for the resource element at the given coordinates. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00305\ \ \ \{}
\DoxyCodeLine{00306\ \ \ \ \ ce[\{subcarrier,\ symbol,\ rx\_port,\ tx\_layer\}]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ce\_val}};}
\DoxyCodeLine{00307\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a7123bed76e9d5dd8b4fb3e94419cc29e}\label{classsrsran_1_1channel__estimate_a7123bed76e9d5dd8b4fb3e94419cc29e} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_epre@{set\_epre}}
\index{set\_epre@{set\_epre}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_epre()}{set\_epre()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+epre (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{epre\+\_\+val,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the average EPRE for the path between the given Rx port and Tx layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00287\ \ \ \{}
\DoxyCodeLine{00288\ \ \ \ \ epre[path\_to\_index(rx\_port,\ tx\_layer)]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{epre\_val}};}
\DoxyCodeLine{00289\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a899edbcc0cb564625033997007082b23}\label{classsrsran_1_1channel__estimate_a899edbcc0cb564625033997007082b23} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_noise\_variance@{set\_noise\_variance}}
\index{set\_noise\_variance@{set\_noise\_variance}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_noise\_variance()}{set\_noise\_variance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+noise\+\_\+variance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{var\+\_\+val,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00275\ \ \ \{}
\DoxyCodeLine{00276\ \ \ \ \ noise\_variance[path\_to\_index(rx\_port,\ tx\_layer)]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{var\_val}};}
\DoxyCodeLine{00277\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a55e6505cc49f3e689487f38a8c5e920f}\label{classsrsran_1_1channel__estimate_a55e6505cc49f3e689487f38a8c5e920f} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_rsrp@{set\_rsrp}}
\index{set\_rsrp@{set\_rsrp}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_rsrp()}{set\_rsrp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+rsrp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{rsrp\+\_\+val,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the estimated RSRP for the path between the given Rx port and Tx layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00281\ \ \ \{}
\DoxyCodeLine{00282\ \ \ \ \ rsrp[path\_to\_index(rx\_port,\ tx\_layer)]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rsrp\_val}};}
\DoxyCodeLine{00283\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_af996cdabe49e1189a339ed552ceb239f}\label{classsrsran_1_1channel__estimate_af996cdabe49e1189a339ed552ceb239f} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_snr@{set\_snr}}
\index{set\_snr@{set\_snr}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_snr()}{set\_snr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+snr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classfloat}{float}}}]{snr\+\_\+val,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the estimated SNR for the path between the given Rx port and Tx layer (linear scale). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00293\ \ \ \{}
\DoxyCodeLine{00294\ \ \ \ \ snr[path\_to\_index(rx\_port,\ tx\_layer)]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snr\_val}};}
\DoxyCodeLine{00295\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a40afb0a66b8057048879c250294ba0e9}\label{classsrsran_1_1channel__estimate_a40afb0a66b8057048879c250294ba0e9} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!set\_time\_alignment@{set\_time\_alignment}}
\index{set\_time\_alignment@{set\_time\_alignment}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{set\_time\_alignment()}{set\_time\_alignment()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::channel\+\_\+estimate\+::set\+\_\+time\+\_\+alignment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1phy__time__unit}{phy\+\_\+time\+\_\+unit}}}]{ta,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{rx\+\_\+port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{tx\+\_\+layer = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the estimated time alignment in PHY units of time for the path between the given Rx port and Tx layer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00299\ \ \ \{}
\DoxyCodeLine{00300\ \ \ \ \ time\_alignment[path\_to\_index(rx\_port,\ tx\_layer)]\ =\ ta;}
\DoxyCodeLine{00301\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1channel__estimate_a0370b4ff4d9e9692f0e1d05c415721b6}\label{classsrsran_1_1channel__estimate_a0370b4ff4d9e9692f0e1d05c415721b6} 
\index{srsran::channel\_estimate@{srsran::channel\_estimate}!size@{size}}
\index{size@{size}!srsran::channel\_estimate@{srsran::channel\_estimate}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1channel__estimate_1_1channel__estimate__dimensions}{channel\+\_\+estimate\+\_\+dimensions}} srsran\+::channel\+\_\+estimate\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns channel estimate dimensions. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00338\ \ \ \{}
\DoxyCodeLine{00339\ \ \ \ \ channel\_estimate\_dimensions\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}};}
\DoxyCodeLine{00340\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}.nof\_prb\ \ \ \ \ \ \ =\ nof\_subcarriers\ /\ NRE;}
\DoxyCodeLine{00341\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}.nof\_symbols\ \ \ =\ nof\_symbols;}
\DoxyCodeLine{00342\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}.nof\_rx\_ports\ \ =\ nof\_rx\_ports;}
\DoxyCodeLine{00343\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}}.nof\_tx\_layers\ =\ nof\_tx\_layers;}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp}};}
\DoxyCodeLine{00345\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/phy/upper/\mbox{\hyperlink{channel__estimation_8h}{channel\+\_\+estimation.\+h}}\end{DoxyCompactItemize}
