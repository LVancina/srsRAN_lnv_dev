\doxysection{srsran\+::channel\+\_\+precoder\+\_\+generic Class Reference}
\hypertarget{classsrsran_1_1channel__precoder__generic}{}\label{classsrsran_1_1channel__precoder__generic}\index{srsran::channel\_precoder\_generic@{srsran::channel\_precoder\_generic}}


Channel precoder implementation.  




{\ttfamily \#include $<$channel\+\_\+precoder\+\_\+generic.\+h$>$}



Inheritance diagram for srsran\+::channel\+\_\+precoder\+\_\+generic\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{d5/d15/classsrsran_1_1channel__precoder__generic__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::channel\+\_\+precoder\+\_\+generic\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{da/d05/classsrsran_1_1channel__precoder__generic__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__precoder__generic_aa5862ec6ad217d7036d93cf57860c48b}{apply\+\_\+layer\+\_\+map\+\_\+and\+\_\+precoding}} (\mbox{\hyperlink{classsrsran_1_1re__buffer__writer}{re\+\_\+buffer\+\_\+writer}} \&output, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ci8\+\_\+t $>$ input, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&precoding) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Maps the input symbols into layers and applies a set of precoding weights. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1channel__precoder__impl}{srsran\+::channel\+\_\+precoder\+\_\+impl}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries channel\+\_\+precoder\+\_\+impl} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1channel__precoder__impl_a604906b51c656be03e4d1ef028c1e933}{apply\+\_\+precoding}} (\mbox{\hyperlink{classsrsran_1_1re__buffer__writer}{re\+\_\+buffer\+\_\+writer}} \&output, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1re__buffer__reader}{re\+\_\+buffer\+\_\+reader}} \&input, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&precoding) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Applies a set of precoding weights to the input resource elements. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1channel__precoder}{srsran\+::channel\+\_\+precoder}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}channel\+\_\+precoder} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Channel precoder implementation. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1channel__precoder__generic_aa5862ec6ad217d7036d93cf57860c48b}\label{classsrsran_1_1channel__precoder__generic_aa5862ec6ad217d7036d93cf57860c48b} 
\index{srsran::channel\_precoder\_generic@{srsran::channel\_precoder\_generic}!apply\_layer\_map\_and\_precoding@{apply\_layer\_map\_and\_precoding}}
\index{apply\_layer\_map\_and\_precoding@{apply\_layer\_map\_and\_precoding}!srsran::channel\_precoder\_generic@{srsran::channel\_precoder\_generic}}
\doxysubsubsection{\texorpdfstring{apply\_layer\_map\_and\_precoding()}{apply\_layer\_map\_and\_precoding()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} channel\+\_\+precoder\+\_\+generic\+::apply\+\_\+layer\+\_\+map\+\_\+and\+\_\+precoding (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1re__buffer__writer}{re\+\_\+buffer\+\_\+writer}} \&}]{output,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ci8\+\_\+t $>$}]{input,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix}{precoding\+\_\+weight\+\_\+matrix}} \&}]{precoding }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Maps the input symbols into layers and applies a set of precoding weights. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em output} & Output symbols, indexed by RE and antenna port. \\
\hline
\mbox{\texttt{ in}}  & {\em input} & Input symbols. \\
\hline
\mbox{\texttt{ in}}  & {\em precoding} & Precoding coefficients arranged in matrix form, indexed by transmit layer and antenna port. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
An assertion is triggered if the output buffer does not have the same number of RE per port as the number of RE per layer of the input buffer. 

An assertion is triggered if the precoding matrix dimensions are not consistent with input buffer size and the number of antenna ports of the output buffer. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1channel__precoder_a21217fb3b84ab87c2a04682eb04efeea}{srsran\+::channel\+\_\+precoder}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re}}\ \ \ \ \ =\ output.\mbox{\hyperlink{classsrsran_1_1detail_1_1re__buffer__dimensions_a07437ee656d4110db488f06f63ff51dd}{get\_nof\_re}}();}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_layers\ =\ precoding.\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a4c6369e404aff43389c5b1259ebeefcc}{get\_nof\_layers}}();}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordtype}{unsigned}\ nof\_ports\ \ =\ precoding.\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_a15f30d12e89c37da9f37c378f8cd6153}{get\_nof\_ports}}();}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_re}};\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}})\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}}\ !=\ nof\_ports;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}})\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ cf\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_weights}}\ =\ precoding.\mbox{\hyperlink{classsrsran_1_1precoding__weight__matrix_ab78059d72753bb01706ee54c5472166d}{get\_port\_coefficients}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}});}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<cf\_t>}}\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_re}}\ \ \ \ \ \ =\ output.\mbox{\hyperlink{classsrsran_1_1re__buffer__writer_a31ee460e6839ee56d9b988248dcce655}{get\_slice}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_port}});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\_t}}\ sum\ =\ to\_cf(input[nof\_layers\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}}])\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_weights}}[0];}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ =\ 1;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}\ !=\ nof\_layers;\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}})\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ sum\ +=\ to\_cf(input[nof\_layers\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}}\ +\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}])\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_weights}}[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_layer}}];}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{port\_re}}[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_re}}]\ =\ sum;}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ \ \ \}}
\DoxyCodeLine{00070\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/generic\+\_\+functions/precoding/\mbox{\hyperlink{channel__precoder__generic_8h}{channel\+\_\+precoder\+\_\+generic.\+h}}\item 
lib/phy/generic\+\_\+functions/precoding/channel\+\_\+precoder\+\_\+generic.\+cpp\end{DoxyCompactItemize}
