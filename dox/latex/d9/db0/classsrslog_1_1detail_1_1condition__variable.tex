\doxysection{srslog\+::detail\+::condition\+\_\+variable Class Reference}
\hypertarget{classsrslog_1_1detail_1_1condition__variable}{}\label{classsrslog_1_1detail_1_1condition__variable}\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}


Abstraction of a pthread condition variable.  




{\ttfamily \#include $<$thread\+\_\+utils.\+h$>$}



Collaboration diagram for srslog\+::detail\+::condition\+\_\+variable\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{de/d41/classsrslog_1_1detail_1_1condition__variable__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a75b267483b3a20a7472c4f622ecd26b7}\label{classsrslog_1_1detail_1_1condition__variable_a75b267483b3a20a7472c4f622ecd26b7} 
{\bfseries condition\+\_\+variable} (const \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable}{condition\+\_\+variable}} \&)=delete
\item 
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a7380cec24ad03a876740837ff422cfa2}\label{classsrslog_1_1detail_1_1condition__variable_a7380cec24ad03a876740837ff422cfa2} 
\mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable}{condition\+\_\+variable}} \& {\bfseries operator=} (const \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable}{condition\+\_\+variable}} \&)=delete
\item 
void \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_aa2c6ed7d46d683765fa84a6fcf2b7d7d}{lock}} ()
\begin{DoxyCompactList}\small\item\em Internal mutex control. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_a1569fcfcdf8dd6b8b2230a27149cb664}{unlock}} ()
\item 
void \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_ad898c70ef0b8c5cb3e4d5d6c8ca4c72d}{wait}} ()
\begin{DoxyCompactList}\small\item\em Blocks the calling thread on this condition variable. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_aafc0797d034e0740a7842d1382b13bf7}{signal}} ()
\item 
void \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_a9abe0125c1338abb77e12fa188ae3270}{broadcast}} ()
\begin{DoxyCompactList}\small\item\em Unblocks all waiting threads being blocked on this condition variable. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_aec0e4873f4a290e301dfce536813fe3b}{wait}} (timespec ts)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static timespec \mbox{\hyperlink{classsrslog_1_1detail_1_1condition__variable_a83ce283061f3dce3f6e017405dcc90db}{build\+\_\+timeout}} (\mbox{\hyperlink{classunsigned}{unsigned}} timeout\+\_\+ms)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Abstraction of a pthread condition variable. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a39d3916d52a26ba7afcdcee1e06c9261}\label{classsrslog_1_1detail_1_1condition__variable_a39d3916d52a26ba7afcdcee1e06c9261} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!condition\_variable@{condition\_variable}}
\index{condition\_variable@{condition\_variable}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{condition\_variable()}{condition\_variable()}}
{\footnotesize\ttfamily srslog\+::detail\+::condition\+\_\+variable\+::condition\+\_\+variable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00114\ \{\ ::pthread\_cond\_init(\&cond\_var,\ \textcolor{keyword}{nullptr});\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a8063b4a26f37ac5af3c99c75af07c7db}\label{classsrslog_1_1detail_1_1condition__variable_a8063b4a26f37ac5af3c99c75af07c7db} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!````~condition\_variable@{\texorpdfstring{$\sim$}{\string~}condition\_variable}}
\index{````~condition\_variable@{\texorpdfstring{$\sim$}{\string~}condition\_variable}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}condition\_variable()}{\string~condition\_variable()}}
{\footnotesize\ttfamily srslog\+::detail\+::condition\+\_\+variable\+::\texorpdfstring{$\sim$}{\string~}condition\+\_\+variable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \{\ ::pthread\_cond\_destroy(\&cond\_var);\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a9abe0125c1338abb77e12fa188ae3270}\label{classsrslog_1_1detail_1_1condition__variable_a9abe0125c1338abb77e12fa188ae3270} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!broadcast@{broadcast}}
\index{broadcast@{broadcast}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{broadcast()}{broadcast()}}
{\footnotesize\ttfamily void srslog\+::detail\+::condition\+\_\+variable\+::broadcast (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Unblocks all waiting threads being blocked on this condition variable. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00133\ \{\ ::pthread\_cond\_broadcast(\&cond\_var);\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a83ce283061f3dce3f6e017405dcc90db}\label{classsrslog_1_1detail_1_1condition__variable_a83ce283061f3dce3f6e017405dcc90db} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!build\_timeout@{build\_timeout}}
\index{build\_timeout@{build\_timeout}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{build\_timeout()}{build\_timeout()}}
{\footnotesize\ttfamily static timespec srslog\+::detail\+::condition\+\_\+variable\+::build\+\_\+timeout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{timeout\+\_\+ms }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Builds an absolute time timespec structure adding the specified time out in ms. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00142\ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ timespec\ ts;}
\DoxyCodeLine{00144\ \ \ \ \ clock\_gettime(CLOCK\_REALTIME,\ \&ts);}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ ts.tv\_sec\ +=\ timeout\_ms\ /\ 1000;}
\DoxyCodeLine{00147\ \ \ \ \ ts.tv\_nsec\ +=\ (timeout\_ms\ \%\ 1000)\ *\ 1000000;}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{if}\ (ts.tv\_nsec\ >=\ 1000000000)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ ++ts.tv\_sec;}
\DoxyCodeLine{00150\ \ \ \ \ \ \ ts.tv\_nsec\ -\/=\ 1000000000;}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{return}\ ts;}
\DoxyCodeLine{00154\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_aa2c6ed7d46d683765fa84a6fcf2b7d7d}\label{classsrslog_1_1detail_1_1condition__variable_aa2c6ed7d46d683765fa84a6fcf2b7d7d} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!lock@{lock}}
\index{lock@{lock}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily void srslog\+::detail\+::condition\+\_\+variable\+::lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Internal mutex control. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \{\ m.\mbox{\hyperlink{classsrslog_1_1detail_1_1mutex_ae8ca386e979788f522a6bffe9df7faa5}{lock}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_aafc0797d034e0740a7842d1382b13bf7}\label{classsrslog_1_1detail_1_1condition__variable_aafc0797d034e0740a7842d1382b13bf7} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!signal@{signal}}
\index{signal@{signal}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{signal()}{signal()}}
{\footnotesize\ttfamily void srslog\+::detail\+::condition\+\_\+variable\+::signal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Unblocks at least one waiting thread that is blocked on this condition variable. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00130\ \{\ ::pthread\_cond\_signal(\&cond\_var);\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_a1569fcfcdf8dd6b8b2230a27149cb664}\label{classsrslog_1_1detail_1_1condition__variable_a1569fcfcdf8dd6b8b2230a27149cb664} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!unlock@{unlock}}
\index{unlock@{unlock}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily void srslog\+::detail\+::condition\+\_\+variable\+::unlock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00123\ \{\ m.\mbox{\hyperlink{classsrslog_1_1detail_1_1mutex_a89acdcd67bf39f2de2876a48e4b32f94}{unlock}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_ad898c70ef0b8c5cb3e4d5d6c8ca4c72d}\label{classsrslog_1_1detail_1_1condition__variable_ad898c70ef0b8c5cb3e4d5d6c8ca4c72d} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!wait@{wait}}
\index{wait@{wait}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void srslog\+::detail\+::condition\+\_\+variable\+::wait (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Blocks the calling thread on this condition variable. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00126\ \{\ ::pthread\_cond\_wait(\&cond\_var,\ m.\mbox{\hyperlink{classsrslog_1_1detail_1_1mutex_a62b7a4460a406dfcd1d7271d7248a9df}{raw}}());\ \}}

\end{DoxyCode}
\Hypertarget{classsrslog_1_1detail_1_1condition__variable_aec0e4873f4a290e301dfce536813fe3b}\label{classsrslog_1_1detail_1_1condition__variable_aec0e4873f4a290e301dfce536813fe3b} 
\index{srslog::detail::condition\_variable@{srslog::detail::condition\_variable}!wait@{wait}}
\index{wait@{wait}!srslog::detail::condition\_variable@{srslog::detail::condition\_variable}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srslog\+::detail\+::condition\+\_\+variable\+::wait (\begin{DoxyParamCaption}\item[{timespec}]{ts }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Blocks the calling thread on this condition variable up to the specified timeout. Returns true on timeout expiration, otherwise false. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00137\ \{\ \textcolor{keywordflow}{return}\ (::pthread\_cond\_timedwait(\&cond\_var,\ m.\mbox{\hyperlink{classsrslog_1_1detail_1_1mutex_a62b7a4460a406dfcd1d7271d7248a9df}{raw}}(),\ \&ts)\ ==\ ETIMEDOUT);\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/srslog/detail/support/thread\+\_\+utils.\+h\end{DoxyCompactItemize}
