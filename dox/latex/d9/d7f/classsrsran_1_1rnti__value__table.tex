\doxysection{srsran\+::rnti\+\_\+value\+\_\+table\texorpdfstring{$<$}{<} T, Sentinel\+Value \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1rnti__value__table}{}\label{classsrsran_1_1rnti__value__table}\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}


Table used by MAC to convert from RNTI to a value in a thread-\/safe manner.  




{\ttfamily \#include $<$rnti\+\_\+value\+\_\+table.\+h$>$}



Inheritance diagram for srsran\+::rnti\+\_\+value\+\_\+table\texorpdfstring{$<$}{<} T, Sentinel\+Value \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=222pt]{dd/dfb/classsrsran_1_1rnti__value__table__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::rnti\+\_\+value\+\_\+table\texorpdfstring{$<$}{<} T, Sentinel\+Value \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=222pt]{d2/de8/classsrsran_1_1rnti__value__table__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1rnti__value__table_a8b45968e78c161a29f04d30a635036ed}\label{classsrsran_1_1rnti__value__table_a8b45968e78c161a29f04d30a635036ed} 
{\bfseries rnti\+\_\+value\+\_\+table} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1rnti__value__table_a70ea9560f44bc371615bc31dcbfd3d37}\label{classsrsran_1_1rnti__value__table_a70ea9560f44bc371615bc31dcbfd3d37} 
{\bfseries rnti\+\_\+value\+\_\+table} (\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1rnti__value__table_a585b78262d83eba399ec6db053a7e207}\label{classsrsran_1_1rnti__value__table_a585b78262d83eba399ec6db053a7e207} 
\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\Hypertarget{classsrsran_1_1rnti__value__table_a6e788da01a590db1e7a961c8769aa1a9}\label{classsrsran_1_1rnti__value__table_a6e788da01a590db1e7a961c8769aa1a9} 
\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \& {\bfseries operator=} (\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{rnti\+\_\+value\+\_\+table}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table_a1a9852ca9f0c725a1ef01026a818f042}{add\+\_\+ue}} (\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti, T value)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table_afc7e106698cd814ff781737b3741e666}{rem\+\_\+ue}} (\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti)
\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1rnti__value__table_ab2a527711436812dc5b96e6f4d174140}{nof\+\_\+ues}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Get an estimate of the current number of UEs present in the table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table_a577070532601d9b2c354589c72ac18ca}{has\+\_\+rnti}} (\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether passed RNTI is registered as a UE. \end{DoxyCompactList}\item 
T \mbox{\hyperlink{classsrsran_1_1rnti__value__table_a4da7f69f70785015cdccb540db891cf7}{operator\mbox{[}$\,$\mbox{]}}} (\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} crnti) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T, T Sentinel\+Value$>$\newline
class srsran\+::rnti\+\_\+value\+\_\+table$<$ T, Sentinel\+Value $>$}
Table used by MAC to convert from RNTI to a value in a thread-\/safe manner. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1rnti__value__table_a2f427ceb68840b90dcae59dc9a28fd8e}\label{classsrsran_1_1rnti__value__table_a2f427ceb68840b90dcae59dc9a28fd8e} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!rnti\_value\_table@{rnti\_value\_table}}
\index{rnti\_value\_table@{rnti\_value\_table}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{rnti\_value\_table()}{rnti\_value\_table()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
\mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\+::rnti\+\_\+value\+\_\+table (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ rnti\_to\_ue\_index\_map(std::make\_unique<array\_type>())}
\DoxyCodeLine{00039\ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ idx\ =\ 0;\ idx\ <\ rnti\_to\_ue\_index\_map-\/>size();\ ++idx)\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ (*rnti\_to\_ue\_index\_map)[idx].store(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}},\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1rnti__value__table_a1a9852ca9f0c725a1ef01026a818f042}\label{classsrsran_1_1rnti__value__table_a1a9852ca9f0c725a1ef01026a818f042} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!add\_ue@{add\_ue}}
\index{add\_ue@{add\_ue}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{add\_ue()}{add\_ue()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\+::add\+\_\+ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti,  }\item[{T}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_aadaefcf2f8fe28cebbc11452212b58b2}{is\_crnti}}(crnti),\ \textcolor{stringliteral}{"{}Invalid\ c-\/rnti=\{\}"{}},\ crnti);}
\DoxyCodeLine{00052\ \ \ \ \ srsran\_assert(value\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}},\ \textcolor{stringliteral}{"{}Invalid\ rnti\_value\_table\ value=\{\}"{}},\ value);}
\DoxyCodeLine{00053\ \ \ \ \ std::atomic<T>\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}\ \ \ \ \ \ =\ get(crnti);}
\DoxyCodeLine{00054\ \ \ \ \ T\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prev\_ue\_idx}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}.exchange(value,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prev\_ue\_idx}}\ ==\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}})\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ nof\_ues\_.fetch\_add(1,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00058\ \ \ \ \ \}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00060\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rnti__value__table_a577070532601d9b2c354589c72ac18ca}\label{classsrsran_1_1rnti__value__table_a577070532601d9b2c354589c72ac18ca} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!has\_rnti@{has\_rnti}}
\index{has\_rnti@{has\_rnti}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{has\_rnti()}{has\_rnti()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\+::has\+\_\+rnti (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether passed RNTI is registered as a UE. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00077\ \{\ \textcolor{keywordflow}{return}\ this-\/>operator[](crnti)\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rnti__value__table_ab2a527711436812dc5b96e6f4d174140}\label{classsrsran_1_1rnti__value__table_ab2a527711436812dc5b96e6f4d174140} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!nof\_ues@{nof\_ues}}
\index{nof\_ues@{nof\_ues}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{nof\_ues()}{nof\_ues()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\+::nof\+\_\+ues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get an estimate of the current number of UEs present in the table. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{\ \textcolor{keywordflow}{return}\ nof\_ues\_.load(std::memory\_order\_relaxed);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rnti__value__table_a4da7f69f70785015cdccb540db891cf7}\label{classsrsran_1_1rnti__value__table_a4da7f69f70785015cdccb540db891cf7} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!operator\mbox{[}\mbox{]}@{operator[]}}
\index{operator\mbox{[}\mbox{]}@{operator[]}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{operator[]()}{operator[]()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
T \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\+::operator}}\mbox{[}$\,$\mbox{]} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ srsran\_sanity\_check(\mbox{\hyperlink{namespacesrsran_aadaefcf2f8fe28cebbc11452212b58b2}{is\_crnti}}(crnti),\ \textcolor{stringliteral}{"{}Invalid\ c-\/rnti=\{\}"{}},\ crnti);}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{const}\ std::atomic<T>\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}\ =\ get(crnti);}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{00084\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rnti__value__table_afc7e106698cd814ff781737b3741e666}\label{classsrsran_1_1rnti__value__table_afc7e106698cd814ff781737b3741e666} 
\index{srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}!rem\_ue@{rem\_ue}}
\index{rem\_ue@{rem\_ue}!srsran::rnti\_value\_table$<$ T, SentinelValue $>$@{srsran::rnti\_value\_table$<$ T, SentinelValue $>$}}
\doxysubsubsection{\texorpdfstring{rem\_ue()}{rem\_ue()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , T Sentinel\+Value$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rnti__value__table}{srsran\+::rnti\+\_\+value\+\_\+table}}$<$ T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Sentinel\+Value}} $>$\+::rem\+\_\+ue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{crnti }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_aadaefcf2f8fe28cebbc11452212b58b2}{is\_crnti}}(crnti),\ \textcolor{stringliteral}{"{}Invalid\ c-\/rnti=\{\}"{}},\ crnti);}
\DoxyCodeLine{00065\ \ \ \ \ std::atomic<T>\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}\ \ \ \ \ \ =\ get(crnti);}
\DoxyCodeLine{00066\ \ \ \ \ T\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prev\_ue\_idx}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_pos}}.exchange(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}},\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{prev\_ue\_idx}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{SentinelValue}})\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ nof\_ues\_.fetch\_sub(1,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ srsran\_assert(nof\_ues\_.load(std::memory\_order\_relaxed)\ <=\ RNTI\_RANGE,\ \textcolor{stringliteral}{"{}Invalid\ rnti\_table\ state"{}});}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/du\+\_\+high/rnti\+\_\+value\+\_\+table.\+h\end{DoxyCompactItemize}
