\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::ue\+\_\+context\+\_\+release\+\_\+routine Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine}{}\label{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine}\index{srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}}


Handles the setup of PDU session resources from the RRC viewpoint. TODO Add seqdiag.  




{\ttfamily \#include $<$ue\+\_\+context\+\_\+release\+\_\+routine.\+h$>$}



Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::ue\+\_\+context\+\_\+release\+\_\+routine\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{da/d74/classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_a0e4e79b27e149fe19c91e74a2a79e1b1}{ue\+\_\+context\+\_\+release\+\_\+routine}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__command}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+command}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{command\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier}{du\+\_\+processor\+\_\+e1ap\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\+\_\+ctrl\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier}{du\+\_\+processor\+\_\+f1ap\+\_\+ue\+\_\+context\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\+\_\+ue\+\_\+ctxt\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier}{du\+\_\+processor\+\_\+cu\+\_\+cp\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__ue__manager}{du\+\_\+processor\+\_\+ue\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+manager\+\_\+}}, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_abd86d9074d23f98ec4ac71d18deddd51}{operator()}} (\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__complete}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+complete}} $>$ $>$ \&ctx)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_af36e9573c4067f7932729d919c391b32}{name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the setup of PDU session resources from the RRC viewpoint. TODO Add seqdiag. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_a0e4e79b27e149fe19c91e74a2a79e1b1}\label{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_a0e4e79b27e149fe19c91e74a2a79e1b1} 
\index{srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}!ue\_context\_release\_routine@{ue\_context\_release\_routine}}
\index{ue\_context\_release\_routine@{ue\_context\_release\_routine}!srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}}
\doxysubsubsection{\texorpdfstring{ue\_context\_release\_routine()}{ue\_context\_release\_routine()}}
{\footnotesize\ttfamily ue\+\_\+context\+\_\+release\+\_\+routine\+::ue\+\_\+context\+\_\+release\+\_\+routine (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__command}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+command}} \&}]{command\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier}{du\+\_\+processor\+\_\+e1ap\+\_\+control\+\_\+notifier}} \&}]{e1ap\+\_\+ctrl\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier}{du\+\_\+processor\+\_\+f1ap\+\_\+ue\+\_\+context\+\_\+notifier}} \&}]{f1ap\+\_\+ue\+\_\+ctxt\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier}{du\+\_\+processor\+\_\+cu\+\_\+cp\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__ue__manager}{du\+\_\+processor\+\_\+ue\+\_\+manager}} \&}]{ue\+\_\+manager\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00037\ \ \ command(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{command\_}}),}
\DoxyCodeLine{00038\ \ \ e1ap\_ctrl\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_ctrl\_notif\_}}),}
\DoxyCodeLine{00039\ \ \ f1ap\_ue\_ctxt\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\_ue\_ctxt\_notif\_}}),}
\DoxyCodeLine{00040\ \ \ cu\_cp\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_notifier\_}}),}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_manager\_}}),}
\DoxyCodeLine{00042\ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}})}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ srsran\_assert(!command.cause.valueless\_by\_exception(),\ \textcolor{stringliteral}{"{}Release\ command\ needs\ to\ be\ set."{}});}
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_af36e9573c4067f7932729d919c391b32}\label{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_af36e9573c4067f7932729d919c391b32} 
\index{srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}!name@{name}}
\index{name@{name}!srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} srsran\+::srs\+\_\+cu\+\_\+cp\+::ue\+\_\+context\+\_\+release\+\_\+routine\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UE\ Context\ Release\ Routine"{}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_abd86d9074d23f98ec4ac71d18deddd51}\label{classsrsran_1_1srs__cu__cp_1_1ue__context__release__routine_abd86d9074d23f98ec4ac71d18deddd51} 
\index{srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}!operator()@{operator()}}
\index{operator()@{operator()}!srsran::srs\_cu\_cp::ue\_context\_release\_routine@{srsran::srs\_cu\_cp::ue\_context\_release\_routine}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ue\+\_\+context\+\_\+release\+\_\+routine\+::operator() (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1cu__cp__ue__context__release__complete}{cu\+\_\+cp\+\_\+ue\+\_\+context\+\_\+release\+\_\+complete}} $>$ $>$ \&}]{ctx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \{}
\DoxyCodeLine{00049\ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ logger.debug(\textcolor{stringliteral}{"{}ue=\{\}:\ \(\backslash\)"{}\{\}\(\backslash\)"{}\ initialized."{}},\ command.ue\_index,\ name());}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ Prepare\ context\ release\ complete}}
\DoxyCodeLine{00054\ \ \ \{}
\DoxyCodeLine{00055\ \ \ \ \ release\_complete.ue\_index\ =\ command.ue\_index;}
\DoxyCodeLine{00056\ \ \ \ \ release\_complete.pdu\_session\_res\_list\_cxt\_rel\_cpl\ =}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ae2398ec164174300ad8d7723ce13793c}{find\_du\_ue}}(command.ue\_index)-\/>\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__base_a5cc5075e5ceee16461766656640d9dfa}{get\_up\_resource\_manager}}().\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager_a100aadd790cdb47efdb7b9791185feaa}{get\_pdu\_sessions}}();}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Call\ RRC\ UE\ notifier\ to\ get\ the\ release\ context\ of\ the\ UE\ and\ add\ the\ location\ info\ to\ the\ UE\ context\ release}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ complete\ message}}
\DoxyCodeLine{00061\ \ \ \ \ release\_context\ =\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ae2398ec164174300ad8d7723ce13793c}{find\_du\_ue}}(command.ue\_index)-\/>\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__ue_ae814179eaf73a5adfc96cd423d946539}{get\_rrc\_ue\_notifier}}().\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__control__message__notifier_a419cc1c578d5f9e7b304c11729fa5416}{get\_rrc\_ue\_release\_context}}();}
\DoxyCodeLine{00062\ \ \ \ \ release\_complete.user\_location\_info\ =\ release\_context.user\_location\_info;}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ae2398ec164174300ad8d7723ce13793c}{find\_du\_ue}}(command.ue\_index)-\/>\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__base_a5cc5075e5ceee16461766656640d9dfa}{get\_up\_resource\_manager}}().\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager_a100aadd790cdb47efdb7b9791185feaa}{get\_pdu\_sessions}}().empty())\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ an\ active\ E1AP\ context,}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ prepare\ Bearer\ Context\ Release\ Command\ and\ call\ E1AP\ notifier}}
\DoxyCodeLine{00068\ \ \ \ \ bearer\_context\_release\_command.ue\_index\ =\ command.ue\_index;}
\DoxyCodeLine{00069\ \ \ \ \ bearer\_context\_release\_command.cause\ \ \ \ =\ cause\_radio\_network\_t::unspecified;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ CORO\_AWAIT(e1ap\_ctrl\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__e1ap__control__notifier_af53638babcae544d4642a2caf3fb41ac}{on\_bearer\_context\_release\_command}}(bearer\_context\_release\_command));}
\DoxyCodeLine{00072\ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{//\ prepare\ F1AP\ UE\ Context\ Release\ Command\ and\ call\ F1AP\ notifier}}
\DoxyCodeLine{00076\ \ \ \ \ f1ap\_ue\_context\_release\_cmd.ue\_index\ \ \ \ \ \ \ \ =\ command.ue\_index;}
\DoxyCodeLine{00077\ \ \ \ \ f1ap\_ue\_context\_release\_cmd.cause\ \ \ \ \ \ \ \ \ \ \ =\ cause\_radio\_network\_t::unspecified;}
\DoxyCodeLine{00078\ \ \ \ \ f1ap\_ue\_context\_release\_cmd.rrc\_release\_pdu\ =\ release\_context.rrc\_release\_pdu.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}();}
\DoxyCodeLine{00079\ \ \ \ \ f1ap\_ue\_context\_release\_cmd.srb\_id\ \ \ \ \ \ \ \ \ \ =\ release\_context.srb\_id;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ CORO\_AWAIT\_VALUE(f1ap\_ue\_context\_release\_result,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f1ap\_ue\_ctxt\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__f1ap__ue__context__notifier_a8da3740b4c5a5d1208b6cdf09dff2763}{on\_ue\_context\_release\_command}}(f1ap\_ue\_context\_release\_cmd));}
\DoxyCodeLine{00083\ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ Remove\ UE}}
\DoxyCodeLine{00087\ \ \ \ \ cu\_cp\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__cu__cp__notifier_a2c3db8f6fdcab44a5a9e21980d91e623}{on\_ue\_removal\_required}}(command.ue\_index);}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ CORO\_RETURN(release\_complete);}
\DoxyCodeLine{00091\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/cu\+\_\+cp/routines/ue\+\_\+context\+\_\+release\+\_\+routine.\+h\item 
lib/cu\+\_\+cp/routines/ue\+\_\+context\+\_\+release\+\_\+routine.\+cpp\end{DoxyCompactItemize}
