\doxysection{gnb\+\_\+os\+\_\+sched\+\_\+affinity\+\_\+manager.\+h}
\hypertarget{gnb__os__sched__affinity__manager_8h_source}{}\label{gnb__os__sched__affinity__manager_8h_source}\index{apps/gnb/gnb\_os\_sched\_affinity\_manager.h@{apps/gnb/gnb\_os\_sched\_affinity\_manager.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/support/unique\_thread.h"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{comment}{///\ Types\ of\ CPU\ affinity\ masks\ in\ the\ gNB.}}
\DoxyCodeLine{00030\ \textcolor{keyword}{enum}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}\ \{\ l1\_dl,\ l1\_ul,\ l2\_cell,\ ru,\ low\_priority,\ last\ \};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{///\ Thread\ pinning\ policy\ to\ a\ CPU\ affinity\ mask\ in\ the\ gNB.}}
\DoxyCodeLine{00033\ \textcolor{keyword}{enum}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}\ \{}
\DoxyCodeLine{00034\ \ \ \textcolor{comment}{///\ Each\ thread\ is\ pinned\ to\ a\ single\ CPU\ in\ a\ mask\ in\ RR\ fashion.}}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fba4412c3395f407a75c2adce7824ebf428}{round\_robin}}\ =\ 0,}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{///\ All\ threads\ are\ sharing\ the\ same\ affinity\ mask.}}
\DoxyCodeLine{00037\ \ \ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}}\ =\ 1,}
\DoxyCodeLine{00038\ \ \ last}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{///\ Converts\ the\ given\ sting\ into\ an\ affinity\ mask\ policy\ or\ returns\ last\ if\ it\ could\ not\ convert\ it.}}
\DoxyCodeLine{00042\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}\ \mbox{\hyperlink{namespacesrsran_aebad334e58aac53b51864efbc43ad065}{to\_affinity\_mask\_policy}}(\textcolor{keyword}{const}\ std::string\&\ value)}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}round-\/robin"{}})\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fba4412c3395f407a75c2adce7824ebf428}{::}}\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fba4412c3395f407a75c2adce7824ebf428}{round\_robin}};}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}mask"{}})\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{::}}\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}};}
\DoxyCodeLine{00049\ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}::last;}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{comment}{///\ Converts\ and\ returns\ the\ given\ affinity\ mask\ type\ to\ an\ integer.}}
\DoxyCodeLine{00055\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a1ccaefcc6a0383418d549196f3d06739}{to\_unsigned}}(\mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}\ value)}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{unsigned}>(value);}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{comment}{///\ Converts\ and\ returns\ the\ given\ value\ to\ an\ affinity\ mask\ type.}}
\DoxyCodeLine{00061\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}\ \mbox{\hyperlink{namespacesrsran_a92c8b211d3e083e1819ca58088d7dc88}{to\_affinity\_mask\_type}}(\textcolor{keywordtype}{unsigned}\ value)}
\DoxyCodeLine{00062\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<\mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}>(value);}
\DoxyCodeLine{00064\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{comment}{///\ CPU\ affinity\ configuration\ in\ the\ gNB\ app.}}
\DoxyCodeLine{00067\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structsrsran_1_1gnb__os__sched__affinity__config}{gnb\_os\_sched\_affinity\_config}}\ \{}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{///\ Affinity\ type.}}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}\ \mbox{\hyperlink{structsrsran_1_1gnb__os__sched__affinity__config_a90e29e3a9b1b85cb57347bd6c353e5b7}{type}}\ =\ \mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}::last;}
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{///\ Affinity\ mask.}}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ \mbox{\hyperlink{structsrsran_1_1gnb__os__sched__affinity__config_a6e3bbd8b9f86616a1209bbca2bfa4c18}{mask}};}
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{///\ Thread\ pinning\ policy.}}
\DoxyCodeLine{00073\ \ \ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}\ \mbox{\hyperlink{structsrsran_1_1gnb__os__sched__affinity__config_a399a522df98ab32ba007cb7b4568a3dd}{pinning\_policy}}\ =\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fb}{gnb\_sched\_affinity\_mask\_policy}}::last;}
\DoxyCodeLine{00074\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{comment}{///\ \(\backslash\)brief\ Scheduler\ affinity\ mask\ manager.}}
\DoxyCodeLine{00077\ \textcolor{comment}{///}}
\DoxyCodeLine{00078\ \textcolor{comment}{///\ Manages\ the\ CPU\ affinity\ mask\ for\ the\ gNB\ application.\ It\ calculates\ and\ returns\ a\ mask\ using\ on\ a\ round-\/robin}}
\DoxyCodeLine{00079\ \textcolor{comment}{///\ algorithm\ on\ a\ configured\ mask.}}
\DoxyCodeLine{00080\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classsrsran_1_1gnb__os__sched__affinity__manager}{gnb\_os\_sched\_affinity\_manager}}}
\DoxyCodeLine{00081\ \{}
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{///\ Interface\ of\ the\ class\ managing\ affinity\ mask\ assignments\ depending\ on\ the\ policy.}}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{class}\ affinity\_entry}
\DoxyCodeLine{00084\ \ \ \{}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{explicit}\ affinity\_entry(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\&\ mask\_)\ :\ mask(mask\_)\ \{\}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~affinity\_entry()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ calculate\_mask()\ =\ 0;}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ mask;}
\DoxyCodeLine{00093\ \ \ \};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{///\ Helper\ class\ that\ manages\ the\ mask\ and\ implements\ the\ round-\/robin\ algorithm.}}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{class}\ affinity\_entry\_rr\ :\ \textcolor{keyword}{public}\ affinity\_entry}
\DoxyCodeLine{00097\ \ \ \{}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{explicit}\ affinity\_entry\_rr(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\&\ mask\_)\ :\ affinity\_entry(mask\_)\ \{\}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{///\ Calculates\ and\ returns\ a\ bitmask\ using\ a\ round-\/robin\ algorithm\ over\ the\ configured\ mask.\ If\ no\ CPU\ is\ enabled\ in}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{///\ the\ configured\ mask,\ it\ returns\ the\ default\ mask.}}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ calculate\_mask()\ \textcolor{keyword}{override}}
\DoxyCodeLine{00104\ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{comment}{//\ No\ CPU\ is\ selected.}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mask.none())\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ pos\ =\ -\/1;}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pos\ <\ 0)\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ pos\ =\ mask.find\_lowest(last\_pos\_used,\ mask.size());}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ last\_pos\_used\ =\ (pos\ <\ 0)\ ?\ 0\ :\ pos\ +\ 1;}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os\_sched\_affinity\_bitmask(mask.size(),\ pos);}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ last\_pos\_used\ =\ 0;}
\DoxyCodeLine{00123\ \ \ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{///\ Helper\ class\ that\ manages\ the\ mask\ and\ return\ user-\/defined\ mask.}}
\DoxyCodeLine{00126\ \ \ \textcolor{keyword}{class}\ affinity\_entry\_mask\ :\ \textcolor{keyword}{public}\ affinity\_entry}
\DoxyCodeLine{00127\ \ \ \{}
\DoxyCodeLine{00128\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keyword}{explicit}\ affinity\_entry\_mask(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\&\ mask\_)\ :\ affinity\_entry(mask\_)\ \{\}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ calculate\_mask()\ \textcolor{keyword}{override}\ \{\ \textcolor{keywordflow}{return}\ mask;\ \}}
\DoxyCodeLine{00132\ \ \ \};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ \ \ gnb\_os\_sched\_affinity\_manager(\textcolor{keyword}{const}\ std::vector<gnb\_os\_sched\_affinity\_config>\&\ entries)\ :}
\DoxyCodeLine{00136\ \ \ \ \ cpu\_masks(to\_unsigned(gnb\_sched\_affinity\_mask\_types::last))}
\DoxyCodeLine{00137\ \ \ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ entry\ :\ entries)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(entry.type\ !=\ gnb\_sched\_affinity\_mask\_types::last,\ \textcolor{stringliteral}{"{}Invalid\ type\ '\{\}'"{}},\ to\_unsigned(entry.type));}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (entry.pinning\_policy)\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ gnb\_sched\_affinity\_mask\_policy::round\_robin:}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ cpu\_masks[to\_unsigned(entry.type)]\ =\ std::make\_unique<affinity\_entry\_rr>(entry.mask);}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ gnb\_sched\_affinity\_mask\_policy::mask:}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ cpu\_masks[to\_unsigned(entry.type)]\ =\ std::make\_unique<affinity\_entry\_mask>(entry.mask);}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ cpu\_masks[to\_unsigned(entry.type)]\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{///\ Calculate\ and\ returns\ the\ affinity\ mask\ for\ the\ given\ type.}}
\DoxyCodeLine{00154\ \ \ \mbox{\hyperlink{structsrsran_1_1os__sched__affinity__bitmask}{os\_sched\_affinity\_bitmask}}\ \mbox{\hyperlink{classsrsran_1_1gnb__os__sched__affinity__manager_aa3c74d1b4b113ac05d13129392a5de8a}{calcute\_affinity\_mask}}(\mbox{\hyperlink{namespacesrsran_ae5f7346a9680f812f197c6066a399743}{gnb\_sched\_affinity\_mask\_types}}\ type)}
\DoxyCodeLine{00155\ \ \ \{}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(type\ !=\ gnb\_sched\_affinity\_mask\_types::last,\ \textcolor{stringliteral}{"{}Invalid\ type\ '\{\}'"{}},\ to\_unsigned(type));}
\DoxyCodeLine{00157\ \ \ \ \ \mbox{\hyperlink{srsran__assert_8h_ab080308588b563333b9da75e3746eed6}{srsran\_assert}}(cpu\_masks[to\_unsigned(type)],\ \textcolor{stringliteral}{"{}Invalid\ manager\ for\ type\ '\{\}'"{}},\ to\_unsigned(type));}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{return}\ cpu\_masks[to\_unsigned(type)]-\/>calculate\_mask();}
\DoxyCodeLine{00160\ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00163\ \ \ std::vector<std::unique\_ptr<affinity\_entry>>\ cpu\_masks;}
\DoxyCodeLine{00164\ \};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
