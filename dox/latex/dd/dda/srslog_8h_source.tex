\doxysection{srslog.\+h}
\hypertarget{srslog_8h_source}{}\label{srslog_8h_source}\index{include/srsran/srslog/srslog.h@{include/srsran/srslog/srslog.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/srslog/detail/support/any.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/srslog/logger.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}srsran/srslog/shared\_types.h"{}}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace}\ srslog\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{///}}
\DoxyCodeLine{00032\ \textcolor{comment}{///\ NOTE:\ All\ functions\ are\ thread\ safe\ unless\ otherwise\ specified.}}
\DoxyCodeLine{00033\ \textcolor{comment}{///}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{///}}
\DoxyCodeLine{00036\ \textcolor{comment}{///\ Log\ channel\ management\ functions.}}
\DoxyCodeLine{00037\ \textcolor{comment}{///}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{comment}{///\ Finds\ a\ log\ channel\ with\ the\ specified\ id\ string\ in\ the\ repository.\ On}}
\DoxyCodeLine{00040\ \textcolor{comment}{///\ success\ returns\ a\ pointer\ to\ the\ requested\ log\ channel,\ otherwise\ nullptr.}}
\DoxyCodeLine{00041\ \mbox{\hyperlink{classsrslog_1_1log__channel}{log\_channel}}*\ find\_log\_channel(\textcolor{keyword}{const}\ std::string\&\ id);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ log\_channel\ with\ the\ specified\ id\ that\ writes\ to}}
\DoxyCodeLine{00044\ \textcolor{comment}{///\ the\ default\ sink\ using\ the\ default\ log\ channel\ configuration.}}
\DoxyCodeLine{00045\ \textcolor{comment}{///\ NOTE:\ Any\ '\#'\ characters\ in\ the\ id\ will\ get\ removed.}}
\DoxyCodeLine{00046\ \mbox{\hyperlink{classsrslog_1_1log__channel}{log\_channel}}\&\ fetch\_log\_channel(\textcolor{keyword}{const}\ std::string\&\ id);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ log\_channel\ with\ the\ specified\ id\ that\ writes\ to}}
\DoxyCodeLine{00049\ \textcolor{comment}{///\ the\ specified\ sink.}}
\DoxyCodeLine{00050\ \textcolor{comment}{///\ NOTE:\ Any\ '\#'\ characters\ in\ the\ id\ will\ get\ removed.}}
\DoxyCodeLine{00051\ \mbox{\hyperlink{classsrslog_1_1log__channel}{log\_channel}}\&\ fetch\_log\_channel(\textcolor{keyword}{const}\ std::string\&\ id,\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ s,\ \mbox{\hyperlink{structsrslog_1_1log__channel__config}{log\_channel\_config}}\ config);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{comment}{///\ Creates\ a\ new\ log\ channel\ instance\ with\ the\ specified\ id\ string\ and\ sink,}}
\DoxyCodeLine{00054\ \textcolor{comment}{///\ then\ registers\ it\ in\ the\ log\ channel\ repository\ so\ that\ it\ can\ be\ later}}
\DoxyCodeLine{00055\ \textcolor{comment}{///\ retrieved\ in\ other\ parts\ of\ the\ application.\ Returns\ a\ pointer\ to\ the}}
\DoxyCodeLine{00056\ \textcolor{comment}{///\ newly\ created\ channel,\ otherwise\ when\ a\ channel\ is\ already\ registered\ with}}
\DoxyCodeLine{00057\ \textcolor{comment}{///\ the\ same\ id\ it\ returns\ nullptr.}}
\DoxyCodeLine{00058\ \textcolor{comment}{///\ NOTE:\ The\ input\ id\ string\ should\ not\ contain\ any\ '\#'\ characters\ otherwise}}
\DoxyCodeLine{00059\ \textcolor{comment}{///\ nullptr\ is\ returned.}}
\DoxyCodeLine{00060\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ fetch\_log\_channel\ instead.}}
\DoxyCodeLine{00061\ \mbox{\hyperlink{classsrslog_1_1log__channel}{log\_channel}}*\ create\_log\_channel(\textcolor{keyword}{const}\ std::string\&\ id,\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ s);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{comment}{///}}
\DoxyCodeLine{00064\ \textcolor{comment}{///\ Logger\ management\ functions.}}
\DoxyCodeLine{00065\ \textcolor{comment}{///}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}\ \{}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{comment}{///\ Internal\ helper\ functions.}}
\DoxyCodeLine{00070\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}*\ \mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{fetch\_logger}}(\textcolor{keyword}{const}\ std::string\&\ id,\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}\&\&\ logger);}
\DoxyCodeLine{00071\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}*\ \mbox{\hyperlink{namespacesrslog_1_1detail_aeec69f2c96c9de1d95b7b7e372c2f887}{find\_logger}}(\textcolor{keyword}{const}\ std::string\&\ id);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \}\ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{comment}{///\ Finds\ a\ logger\ with\ the\ specified\ id\ string\ and\ type\ in\ the\ repository.\ On}}
\DoxyCodeLine{00076\ \textcolor{comment}{///\ success\ returns\ a\ pointer\ to\ the\ requested\ logger,\ otherwise\ nullptr.}}
\DoxyCodeLine{00077\ \textcolor{comment}{///\ NOTE:\ T\ should\ be\ a\ type\ that\ is\ a\ logger.}}
\DoxyCodeLine{00078\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00079\ \textcolor{keyword}{inline}\ T*\ find\_logger(\textcolor{keyword}{const}\ std::string\&\ id)}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{structsrslog_1_1detail_1_1is__logger}{is\_logger}}<T>::value,\ \textcolor{stringliteral}{"{}T\ should\ be\ a\ logger\ type"{}});}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}*\ p\ =\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}\mbox{\hyperlink{namespacesrslog_1_1detail_aeec69f2c96c9de1d95b7b7e372c2f887}{::}}\mbox{\hyperlink{namespacesrslog_1_1detail_aeec69f2c96c9de1d95b7b7e372c2f887}{find\_logger}}\mbox{\hyperlink{namespacesrslog_1_1detail_aeec69f2c96c9de1d95b7b7e372c2f887}{(}}id\mbox{\hyperlink{namespacesrslog_1_1detail_aeec69f2c96c9de1d95b7b7e372c2f887}{)}};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::any\_cast<T>(p);}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ basic\ logger\ (see\ basic\_logger\ type)\ with\ the}}
\DoxyCodeLine{00088\ \textcolor{comment}{///\ specified\ id\ string.\ All\ logger\ channels\ will\ write\ into\ the\ default\ sink.}}
\DoxyCodeLine{00089\ \textcolor{comment}{///\ The\ context\ value\ of\ the\ logger\ can\ be\ printed\ on\ each\ log\ entry\ by\ setting}}
\DoxyCodeLine{00090\ \textcolor{comment}{///\ to\ true\ the\ should\_print\_context\ argument.}}
\DoxyCodeLine{00091\ basic\_logger\&\ fetch\_basic\_logger(\textcolor{keyword}{const}\ std::string\&\ id,\ \textcolor{keywordtype}{bool}\ should\_print\_context\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ basic\ logger\ (see\ basic\_logger\ type)\ with\ the}}
\DoxyCodeLine{00094\ \textcolor{comment}{///\ specified\ id\ string.\ All\ logger\ channels\ will\ write\ into\ the\ specified\ sink.}}
\DoxyCodeLine{00095\ \textcolor{comment}{///\ The\ context\ value\ of\ the\ logger\ can\ be\ printed\ on\ each\ log\ entry\ by\ setting}}
\DoxyCodeLine{00096\ \textcolor{comment}{///\ to\ true\ the\ should\_print\_context\ argument.}}
\DoxyCodeLine{00097\ basic\_logger\&\ fetch\_basic\_logger(\textcolor{keyword}{const}\ std::string\&\ id,\ sink\&\ s,\ \textcolor{keywordtype}{bool}\ should\_print\_context\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{comment}{///\ Returns\ a\ logger\ instance\ with\ the\ specified\ id\ string,\ type\ and\ channel}}
\DoxyCodeLine{00100\ \textcolor{comment}{///\ references.}}
\DoxyCodeLine{00101\ \textcolor{comment}{///\ NOTE:\ T\ should\ be\ a\ type\ that\ is\ a\ logger.}}
\DoxyCodeLine{00102\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00103\ \textcolor{keyword}{inline}\ T\&\ fetch\_logger(\textcolor{keyword}{const}\ std::string\&\ id,\ Args\&\&...\ args)}
\DoxyCodeLine{00104\ \{}
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{structsrslog_1_1detail_1_1is__logger}{is\_logger}}<T>::value,\ \textcolor{stringliteral}{"{}T\ should\ be\ a\ logger\ type"{}});}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}*\ logger\ =\ find\_logger<T>(id))\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return}\ *logger;}
\DoxyCodeLine{00108\ \ \ \}}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ logger\ =\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::make\_any<T>(id,\ std::forward<Args>(args)...);}
\DoxyCodeLine{00110\ \ \ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}*\ p\ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{::}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{fetch\_logger}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{(}}id\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{,}}\ std::move(logger)\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{)}};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::any\_cast<T>(p);}
\DoxyCodeLine{00113\ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{comment}{///\ Creates\ a\ new\ basic\ logger\ instance\ (see\ basic\_logger\ type)\ with\ the}}
\DoxyCodeLine{00116\ \textcolor{comment}{///\ specified\ id\ string\ and\ sink,\ registering\ it\ into\ the\ logger\ repository\ so}}
\DoxyCodeLine{00117\ \textcolor{comment}{///\ that\ it\ can\ be\ later\ retrieved\ in\ other\ parts\ of\ the\ application.\ The}}
\DoxyCodeLine{00118\ \textcolor{comment}{///\ context\ value\ of\ the\ logger\ can\ be\ printed\ on\ each\ log\ entry\ by\ setting\ to}}
\DoxyCodeLine{00119\ \textcolor{comment}{///\ true\ the\ should\_print\_context\ argument.\ All\ logger\ channels\ will\ write\ into}}
\DoxyCodeLine{00120\ \textcolor{comment}{///\ the\ specified\ sink.\ Returns\ a\ pointer\ to\ the\ newly\ created\ logger,\ otherwise}}
\DoxyCodeLine{00121\ \textcolor{comment}{///\ when\ a\ logger\ is\ already\ registered\ with\ the\ same\ id\ it\ returns\ nullptr.}}
\DoxyCodeLine{00122\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ fetch\_basic\_logger\ instead.}}
\DoxyCodeLine{00123\ basic\_logger*\ create\_basic\_logger(\textcolor{keyword}{const}\ std::string\&\ id,\ sink\&\ s,\ \textcolor{keywordtype}{bool}\ should\_print\_context\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{comment}{///\ Creates\ a\ new\ logger\ instance\ with\ the\ specified\ id\ string,\ type\ and\ channel}}
\DoxyCodeLine{00126\ \textcolor{comment}{///\ references,\ registering\ it\ into\ the\ logger\ repository\ so\ that\ it\ can\ be}}
\DoxyCodeLine{00127\ \textcolor{comment}{///\ later\ retrieved\ in\ other\ parts\ of\ the\ application.\ Returns\ a\ pointer\ to\ the}}
\DoxyCodeLine{00128\ \textcolor{comment}{///\ newly\ created\ logger,\ otherwise\ when\ a\ logger\ is\ already\ registered\ with\ the}}
\DoxyCodeLine{00129\ \textcolor{comment}{///\ same\ id\ it\ returns\ nullptr.}}
\DoxyCodeLine{00130\ \textcolor{comment}{///\ NOTE:\ T\ should\ be\ a\ type\ that\ is\ a\ logger.}}
\DoxyCodeLine{00131\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ fetch\_logger\ instead.}}
\DoxyCodeLine{00132\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00133\ \textcolor{keyword}{inline}\ T*\ create\_logger(\textcolor{keyword}{const}\ std::string\&\ id,\ Args\&\&...\ args)}
\DoxyCodeLine{00134\ \{}
\DoxyCodeLine{00135\ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{structsrslog_1_1detail_1_1is__logger}{is\_logger}}<T>::value,\ \textcolor{stringliteral}{"{}T\ should\ be\ a\ logger\ type"{}});}
\DoxyCodeLine{00136\ \ \ \textcolor{keyword}{auto}\ \ \ \ \ \ \ \ \ logger\ =\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::make\_any<T>(id,\ std::forward<Args>(args)...);}
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::\mbox{\hyperlink{classsrslog_1_1detail_1_1any}{any}}*\ p\ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{::}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{fetch\_logger}}\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{(}}id\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{,}}\ std::move(logger)\mbox{\hyperlink{namespacesrslog_1_1detail_a43a9fb2fb67b1769690f11c4f82c7b4e}{)}};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrslog_1_1detail}{detail}}::any\_cast<T>(p);}
\DoxyCodeLine{00140\ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{comment}{///}}
\DoxyCodeLine{00143\ \textcolor{comment}{///\ Formatter\ management\ functions.}}
\DoxyCodeLine{00144\ \textcolor{comment}{///}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{comment}{///\ Installs\ the\ specified\ formatter\ to\ be\ used\ as\ the\ default\ one\ by\ new\ sinks.}}
\DoxyCodeLine{00147\ \textcolor{comment}{///\ The\ initial\ default\ formatter\ formats\ plain\ text.}}
\DoxyCodeLine{00148\ \textcolor{keywordtype}{void}\ set\_default\_log\_formatter(std::unique\_ptr<log\_formatter>\ f);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{comment}{///\ Returns\ the\ instance\ of\ the\ default\ formatter\ being\ used.}}
\DoxyCodeLine{00151\ std::unique\_ptr<log\_formatter>\ get\_default\_log\_formatter();}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \textcolor{comment}{///\ Creates\ a\ new\ instance\ of\ a\ plain\ text\ formatter.}}
\DoxyCodeLine{00154\ std::unique\_ptr<log\_formatter>\ create\_text\_formatter();}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{comment}{///\ Creates\ a\ new\ instance\ of\ a\ JSON\ formatter.}}
\DoxyCodeLine{00157\ std::unique\_ptr<log\_formatter>\ create\_json\_formatter();}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{comment}{///}}
\DoxyCodeLine{00160\ \textcolor{comment}{///\ Sink\ management\ functions.}}
\DoxyCodeLine{00161\ \textcolor{comment}{///}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \textcolor{comment}{///\ Installs\ the\ specified\ sink\ to\ be\ used\ as\ the\ default\ one\ by\ new\ log}}
\DoxyCodeLine{00164\ \textcolor{comment}{///\ channels\ and\ loggers.}}
\DoxyCodeLine{00165\ \textcolor{comment}{///\ The\ initial\ default\ sink\ writes\ to\ stdout\ with\ a\ text\ formatter.}}
\DoxyCodeLine{00166\ \textcolor{keywordtype}{void}\ set\_default\_sink(\mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ s);}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \textcolor{comment}{///\ Returns\ the\ instance\ of\ the\ default\ sink\ being\ used.}}
\DoxyCodeLine{00169\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ get\_default\_sink();}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \textcolor{comment}{///\ Finds\ a\ sink\ with\ the\ specified\ id\ string\ in\ the\ repository.\ On}}
\DoxyCodeLine{00172\ \textcolor{comment}{///\ success\ returns\ a\ pointer\ to\ the\ requested\ sink,\ otherwise\ nullptr.}}
\DoxyCodeLine{00173\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}*\ find\_sink(\textcolor{keyword}{const}\ std::string\&\ id);}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ to\ the\ stdout\ stream.\ You\ may\ use}}
\DoxyCodeLine{00176\ \textcolor{comment}{///\ different\ ids\ if\ you\ need\ to\ create\ multiple\ stdout\ sinks\ with\ different}}
\DoxyCodeLine{00177\ \textcolor{comment}{///\ formatters.}}
\DoxyCodeLine{00178\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ fetch\_stdout\_sink(\textcolor{keyword}{const}\ std::string\&\ \ \ \ \ \ \ \ \ \ \ \ \ id\ =\ \textcolor{stringliteral}{"{}stdout"{}},}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<log\_formatter>\ f\ \ =\ get\_default\_log\_formatter());}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ to\ the\ stderr\ stream.\ You\ may\ use}}
\DoxyCodeLine{00182\ \textcolor{comment}{///\ different\ ids\ if\ you\ need\ to\ create\ multiple\ stderr\ sinks\ with\ different}}
\DoxyCodeLine{00183\ \textcolor{comment}{///\ formatters.}}
\DoxyCodeLine{00184\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ fetch\_stderr\_sink(\textcolor{keyword}{const}\ std::string\&\ \ \ \ \ \ \ \ \ \ \ \ \ id\ =\ \textcolor{stringliteral}{"{}stderr"{}},}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<log\_formatter>\ f\ \ =\ get\_default\_log\_formatter());}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ into\ a\ file\ in\ the\ specified\ path.}}
\DoxyCodeLine{00188\ \textcolor{comment}{///\ Specifying\ a\ max\_size\ value\ different\ to\ zero\ will\ make\ the\ sink\ create\ a}}
\DoxyCodeLine{00189\ \textcolor{comment}{///\ new\ file\ each\ time\ the\ current\ file\ exceeds\ this\ value.\ The\ units\ of}}
\DoxyCodeLine{00190\ \textcolor{comment}{///\ max\_size\ are\ bytes.}}
\DoxyCodeLine{00191\ \textcolor{comment}{///\ Setting\ force\_flush\ to\ true\ will\ flush\ the\ sink\ after\ every\ write.}}
\DoxyCodeLine{00192\ \textcolor{comment}{///\ NOTE:\ Any\ '\#'\ characters\ in\ the\ path\ will\ get\ removed.}}
\DoxyCodeLine{00193\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ fetch\_file\_sink(\textcolor{keyword}{const}\ std::string\&\ \ \ \ \ \ \ \ \ \ \ \ \ path,}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_size\ \ \ \ =\ 0,}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ force\_flush\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<log\_formatter>\ f\ \ \ \ \ \ \ \ \ \ \ =\ get\_default\_log\_formatter());}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ into\ syslog}}
\DoxyCodeLine{00199\ \textcolor{comment}{///\ preamble:\ The\ string\ \ prepended\ to\ every\ message,\ If\ ident\ is\ "{}"{},\ the\ program\ name\ is\ used.}}
\DoxyCodeLine{00200\ \textcolor{comment}{///\ log\_local:\ custom\ unused\ facilities\ that\ syslog\ provides\ which\ can\ be\ used\ by\ the\ user}}
\DoxyCodeLine{00201\ \textcolor{comment}{///\ NOTE:\ Any\ '\#'\ characters\ in\ the\ path\ will\ get\ removed.}}
\DoxyCodeLine{00202\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ fetch\_syslog\_sink(\textcolor{keyword}{const}\ std::string\&\ \ \ \ \ \ \ \ \ \ \ \ \ preamble\_\ \ =\ \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ syslog\_local\_type\ \ \ \ \ \ \ \ \ \ \ \ \ \ log\_local\_\ =\ syslog\_local\_type::local0,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<log\_formatter>\ f\ \ \ \ \ \ \ \ \ \ =\ get\_default\_log\_formatter());}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \textcolor{comment}{///\ Returns\ an\ instance\ of\ a\ sink\ that\ writes\ to\ a\ UDP\ socket\ using\ the\ given\ remote\ IP\ address\ and\ port.}}
\DoxyCodeLine{00207\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}\&\ fetch\_udp\_sink(\textcolor{keyword}{const}\ std::string\&\ \ \ \ \ \ \ \ \ \ \ \ \ remote\_ip,}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ port,}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<log\_formatter>\ f\ =\ get\_default\_log\_formatter());}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{comment}{///\ Installs\ a\ custom\ user\ defined\ sink\ in\ the\ framework\ getting\ associated\ to}}
\DoxyCodeLine{00212\ \textcolor{comment}{///\ the\ specified\ id.\ Returns\ true\ on\ success,\ otherwise\ false.}}
\DoxyCodeLine{00213\ \textcolor{comment}{///\ WARNING:\ This\ function\ is\ an\ advanced\ feature\ and\ users\ should\ really\ know}}
\DoxyCodeLine{00214\ \textcolor{comment}{///\ what\ they\ are\ doing\ when\ using\ it.}}
\DoxyCodeLine{00215\ \textcolor{keywordtype}{bool}\ install\_custom\_sink(\textcolor{keyword}{const}\ std::string\&\ id,\ std::unique\_ptr<sink>\ s);}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{comment}{///\ Creates\ a\ new\ sink\ that\ writes\ into\ the\ a\ file\ in\ the\ specified\ path\ and}}
\DoxyCodeLine{00218\ \textcolor{comment}{///\ registers\ it\ into\ a\ sink\ repository\ so\ that\ it\ can\ be\ later\ retrieved\ in}}
\DoxyCodeLine{00219\ \textcolor{comment}{///\ other\ parts\ of\ the\ application.\ Returns\ a\ pointer\ to\ the\ newly\ created\ sink}}
\DoxyCodeLine{00220\ \textcolor{comment}{///\ or\ nullptr\ if\ a\ sink\ with\ the\ same\ path\ was\ already\ registered.}}
\DoxyCodeLine{00221\ \textcolor{comment}{///\ Specifying\ a\ max\_size\ value\ different\ to\ zero\ will\ make\ the\ sink\ create\ a}}
\DoxyCodeLine{00222\ \textcolor{comment}{///\ new\ file\ each\ time\ the\ current\ file\ exceeds\ this\ value.\ The\ units\ of}}
\DoxyCodeLine{00223\ \textcolor{comment}{///\ max\_size\ are\ bytes.}}
\DoxyCodeLine{00224\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ fetch\_file\_sink\ instead.}}
\DoxyCodeLine{00225\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}*\ create\_file\_sink(\textcolor{keyword}{const}\ std::string\&\ path,\ size\_t\ max\_size\ =\ 0);}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{comment}{///\ Creates\ a\ new\ sink\ that\ writes\ into\ the\ stdout\ stream\ and\ registers\ it\ into}}
\DoxyCodeLine{00228\ \textcolor{comment}{///\ a\ sink\ repository\ so\ that\ it\ can\ be\ later\ retrieved\ in\ other\ parts\ of\ the}}
\DoxyCodeLine{00229\ \textcolor{comment}{///\ application.\ Different\ stdout\ sinks\ can\ be\ created\ by\ providing\ different}}
\DoxyCodeLine{00230\ \textcolor{comment}{///\ names.\ Returns\ a\ pointer\ to\ the\ newly\ created\ sink\ or\ nullptr\ if\ a\ sink\ with}}
\DoxyCodeLine{00231\ \textcolor{comment}{///\ the\ same\ name\ was\ already\ registered.}}
\DoxyCodeLine{00232\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ get\_stdout\_sink\ instead.}}
\DoxyCodeLine{00233\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}*\ create\_stdout\_sink(\textcolor{keyword}{const}\ std::string\&\ name\ =\ \textcolor{stringliteral}{"{}stdout"{}});}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \textcolor{comment}{///\ Creates\ a\ new\ sink\ that\ writes\ into\ the\ stderr\ stream\ and\ registers\ it\ into}}
\DoxyCodeLine{00236\ \textcolor{comment}{///\ a\ sink\ repository\ so\ that\ it\ can\ be\ later\ retrieved\ in\ other\ parts\ of\ the}}
\DoxyCodeLine{00237\ \textcolor{comment}{///\ application.\ Different\ stderr\ sinks\ can\ be\ created\ by\ providing\ different}}
\DoxyCodeLine{00238\ \textcolor{comment}{///\ names.\ Returns\ a\ pointer\ to\ the\ newly\ created\ sink\ or\ nullptr\ if\ a\ sink\ with}}
\DoxyCodeLine{00239\ \textcolor{comment}{///\ the\ same\ name\ was\ already\ registered.}}
\DoxyCodeLine{00240\ \textcolor{comment}{///\ NOTE:\ Deprecated,\ use\ get\_stderr\_sink\ instead.}}
\DoxyCodeLine{00241\ \mbox{\hyperlink{classsrslog_1_1sink}{sink}}*\ create\_stderr\_sink(\textcolor{keyword}{const}\ std::string\&\ name\ =\ \textcolor{stringliteral}{"{}stderr"{}});}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{comment}{///}}
\DoxyCodeLine{00244\ \textcolor{comment}{///\ Framework\ configuration\ and\ control\ functions.}}
\DoxyCodeLine{00245\ \textcolor{comment}{///}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \textcolor{comment}{///\ This\ function\ initializes\ the\ logging\ framework.\ It\ must\ be\ called\ before}}
\DoxyCodeLine{00248\ \textcolor{comment}{///\ any\ log\ entry\ is\ generated.}}
\DoxyCodeLine{00249\ \textcolor{comment}{///\ NOTE:\ Calling\ this\ function\ more\ than\ once\ has\ no\ side\ effects.}}
\DoxyCodeLine{00250\ \textcolor{keywordtype}{void}\ init(backend\_priority\ priority\ =\ backend\_priority::normal);}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{comment}{///\ Flushes\ the\ contents\ of\ all\ the\ registered\ sinks.\ The\ caller\ thread\ will}}
\DoxyCodeLine{00253\ \textcolor{comment}{///\ block\ until\ the\ operation\ is\ completed.}}
\DoxyCodeLine{00254\ \textcolor{comment}{///\ NOTE:\ This\ function\ does\ nothing\ if\ init()\ has\ not\ been\ called.}}
\DoxyCodeLine{00255\ \textcolor{keywordtype}{void}\ flush();}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \textcolor{comment}{///\ Installs\ the\ specified\ error\ handler\ to\ receive\ any\ error\ messages\ generated}}
\DoxyCodeLine{00258\ \textcolor{comment}{///\ by\ the\ framework.}}
\DoxyCodeLine{00259\ \textcolor{comment}{///\ NOTE:\ This\ function\ should\ be\ called\ before\ init()\ and\ is\ NOT\ thread\ safe.}}
\DoxyCodeLine{00260\ \textcolor{keywordtype}{void}\ set\_error\_handler(error\_handler\ handler);}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \}\ \textcolor{comment}{//\ namespace\ srslog}}

\end{DoxyCode}
