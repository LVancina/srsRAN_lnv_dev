\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl}{}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl}\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}


Main UE representation in RRC.  




{\ttfamily \#include $<$rrc\+\_\+ue\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d3c/classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d1f/classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abc9e4ef7663831bbb22ed5657fc61188}{rrc\+\_\+ue\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager}{up\+\_\+resource\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{up\+\_\+resource\+\_\+mng\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__du__processor__notifier}{rrc\+\_\+ue\+\_\+du\+\_\+processor\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\+\_\+proc\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__pdu__f1ap__notifier}{rrc\+\_\+pdu\+\_\+f1ap\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\+\_\+pdu\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__nas__notifier}{rrc\+\_\+ue\+\_\+nas\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nas\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__notifier}{rrc\+\_\+ue\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\+\_\+ctrl\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__update__notifier}{rrc\+\_\+ue\+\_\+context\+\_\+update\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__measurement__notifier}{rrc\+\_\+ue\+\_\+measurement\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{measurement\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ue\+\_\+index\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+index\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{c\+\_\+rnti\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__cell__context}{rrc\+\_\+cell\+\_\+context}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__cfg__t}{rrc\+\_\+ue\+\_\+cfg\+\_\+t}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} du\+\_\+to\+\_\+cu\+\_\+container, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__task__scheduler}{rrc\+\_\+ue\+\_\+task\+\_\+scheduler}} \&task\+\_\+sched, \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__transfer__context}{rrc\+\_\+ue\+\_\+transfer\+\_\+context}} $>$ rrc\+\_\+context)
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a77ef33051ded434d66d6dc119018a1e6}{handle\+\_\+ul\+\_\+ccch\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming PDU on the UL-\/\+CCCH logical channel. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ad3fd3f8666b1cef63ab858d278888402}{handle\+\_\+ul\+\_\+dcch\+\_\+pdu}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} srb\+\_\+id\+\_\+t srb\+\_\+id, \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} pdcp\+\_\+pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming SRB PDCP PDU on the UL-\/\+DCCH logical channel. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__ccch__pdu__handler}{rrc\+\_\+ul\+\_\+ccch\+\_\+pdu\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a90ea9a456c4b3e78329908426830f809}{get\+\_\+ul\+\_\+ccch\+\_\+pdu\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__dcch__pdu__handler}{rrc\+\_\+ul\+\_\+dcch\+\_\+pdu\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a18206ef705d3a05d33963149333d97d3}{get\+\_\+ul\+\_\+dcch\+\_\+pdu\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__dl__nas__message__handler}{rrc\+\_\+dl\+\_\+nas\+\_\+message\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a0e8a4841701a22ed3fc339aaf80760f1}{get\+\_\+rrc\+\_\+dl\+\_\+nas\+\_\+message\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__srb__handler}{rrc\+\_\+ue\+\_\+srb\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a779e97e980880f5589aafc98e5cdd33e}{get\+\_\+rrc\+\_\+ue\+\_\+srb\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler}{rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcacacac28784ca254941a50cf511dee}{get\+\_\+rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__init__security__context__handler}{rrc\+\_\+ue\+\_\+init\+\_\+security\+\_\+context\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7d77ad184fabf63a01ba4fe9297a8c89}{get\+\_\+rrc\+\_\+ue\+\_\+init\+\_\+security\+\_\+context\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{structsrsran_1_1security_1_1security__context}{security\+::security\+\_\+context}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a717e1516961cd32f4ddaed67fdf74682}{get\+\_\+rrc\+\_\+ue\+\_\+security\+\_\+context}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__handler}{rrc\+\_\+ue\+\_\+context\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a05dc49f3cd6e8ff124bbb955dba10827}{get\+\_\+rrc\+\_\+ue\+\_\+context\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__handover__preparation__handler}{rrc\+\_\+ue\+\_\+handover\+\_\+preparation\+\_\+handler}} \& \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a665129092d796236924a4f261e8055b4}{get\+\_\+rrc\+\_\+ue\+\_\+handover\+\_\+preparation\+\_\+handler}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac6117b8c6cb2438b3e19fcbb8b410d1f}{create\+\_\+srb}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1srb__creation__message}{srb\+\_\+creation\+\_\+message}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Instruct the RRC UE to create a new SRB. It creates all required intermediate objects (e.\+g. PDCP) and connects them with one another. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ srb\+\_\+id\+\_\+t, MAX\+\_\+\+NOF\+\_\+\+SRBS $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a9e0ba14faac2f4c13d3a686230088dd8}{get\+\_\+srbs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get all SRBs of the UE. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_af86e8f21a5915f1a908e57d740d4d616}{handle\+\_\+dl\+\_\+nas\+\_\+transport\+\_\+message}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} nas\+\_\+pdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the received Downlink NAS Transport message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac1737450987adaa27d36cf16b9f7f3a1}{handle\+\_\+rrc\+\_\+reconfiguration\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle an RRC Reconfiguration Request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7aa6575f641a6ba7e3367761f8af2b20}{handle\+\_\+handover\+\_\+reconfiguration\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle an RRC Reconfiguration Request for a handover. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a08dace7b0b95f1cb804dceab5a44bdbb}{handle\+\_\+handover\+\_\+reconfiguration\+\_\+complete\+\_\+expected}} (\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} transaction\+\_\+id) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Await a RRC Reconfiguration Complete for a handover. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_afcb830c9feefc49af16f6131fa9d1022}{handle\+\_\+rrc\+\_\+ue\+\_\+capability\+\_\+transfer\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__capability__transfer__request}{rrc\+\_\+ue\+\_\+capability\+\_\+transfer\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiate the UE capability transfer procedure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__release__context}{rrc\+\_\+ue\+\_\+release\+\_\+context}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adf2e38debd37ea09e3c3418a4094e6a8}{get\+\_\+rrc\+\_\+ue\+\_\+release\+\_\+context}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the RRC UE release context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__transfer__context}{rrc\+\_\+ue\+\_\+transfer\+\_\+context}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ae84053aa2d0f79394dc736029531ba53}{get\+\_\+transfer\+\_\+context}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Retrieve RRC context of a UE to perform mobility (handover, reestablishment). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__meas__cfg}{rrc\+\_\+meas\+\_\+cfg}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abafe3e193be998c12585a87313058ef4}{generate\+\_\+meas\+\_\+config}} (\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__meas__cfg}{rrc\+\_\+meas\+\_\+cfg}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{current\+\_\+meas\+\_\+config}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the RRC measurement config for the current serving cell of the UE. \textbackslash{}params\mbox{[}in\mbox{]} current\+\_\+meas\+\_\+config The current meas config of the UE (if applicable). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ab67e5ca3ef21af48d3645e7824c18858}{handle\+\_\+new\+\_\+security\+\_\+context}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1security_1_1security__context}{security\+::security\+\_\+context}} \&sec\+\_\+context) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the reception of a new security context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a5167a2e837639a95f890a432bc89d86c}{get\+\_\+rrc\+\_\+handover\+\_\+command}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&request, \mbox{\hyperlink{classunsigned}{unsigned}} transaction\+\_\+id) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the packed RRC Handover Command. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a1b031794d58a18b1bdce2e4c1f53c8b9}{get\+\_\+packed\+\_\+handover\+\_\+preparation\+\_\+message}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a6de89356d5e25793d48f6000d1645bab}{handle\+\_\+rrc\+\_\+handover\+\_\+command}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the handover command RRC PDU. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reestablishment__ue__context__t}{rrc\+\_\+reestablishment\+\_\+ue\+\_\+context\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcd98ecfa1a07c8338292a03fa2dacd2}{get\+\_\+context}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the RRC Reestablishment UE context to transfer it to new UE. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main UE representation in RRC. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abc9e4ef7663831bbb22ed5657fc61188}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abc9e4ef7663831bbb22ed5657fc61188} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!rrc\_ue\_impl@{rrc\_ue\_impl}}
\index{rrc\_ue\_impl@{rrc\_ue\_impl}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{rrc\_ue\_impl()}{rrc\_ue\_impl()}}
{\footnotesize\ttfamily rrc\+\_\+ue\+\_\+impl\+::rrc\+\_\+ue\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager}{up\+\_\+resource\+\_\+manager}} \&}]{up\+\_\+resource\+\_\+mng\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__du__processor__notifier}{rrc\+\_\+ue\+\_\+du\+\_\+processor\+\_\+notifier}} \&}]{du\+\_\+proc\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__pdu__f1ap__notifier}{rrc\+\_\+pdu\+\_\+f1ap\+\_\+notifier}} \&}]{f1ap\+\_\+pdu\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__nas__notifier}{rrc\+\_\+ue\+\_\+nas\+\_\+notifier}} \&}]{nas\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__notifier}{rrc\+\_\+ue\+\_\+control\+\_\+notifier}} \&}]{ngap\+\_\+ctrl\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__update__notifier}{rrc\+\_\+ue\+\_\+context\+\_\+update\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__measurement__notifier}{rrc\+\_\+ue\+\_\+measurement\+\_\+notifier}} \&}]{measurement\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} ue\+\_\+index\+\_\+t}]{ue\+\_\+index\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\+\_\+t}}}]{c\+\_\+rnti\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__cell__context}{rrc\+\_\+cell\+\_\+context}}}]{cell\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__cfg__t}{rrc\+\_\+ue\+\_\+cfg\+\_\+t}} \&}]{cfg\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{du\+\_\+to\+\_\+cu\+\_\+container,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__task__scheduler}{rrc\+\_\+ue\+\_\+task\+\_\+scheduler}} \&}]{task\+\_\+sched,  }\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__transfer__context}{rrc\+\_\+ue\+\_\+transfer\+\_\+context}} $>$}]{rrc\+\_\+context }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00047\ \ \ context(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_index\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{c\_rnti\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cell\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cfg\_}},\ rrc\_context),}
\DoxyCodeLine{00048\ \ \ up\_resource\_mng(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{up\_resource\_mng\_}}),}
\DoxyCodeLine{00049\ \ \ du\_processor\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\_proc\_notif\_}}),}
\DoxyCodeLine{00050\ \ \ f1ap\_pdu\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{f1ap\_pdu\_notifier\_}}),}
\DoxyCodeLine{00051\ \ \ nas\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nas\_notif\_}}),}
\DoxyCodeLine{00052\ \ \ ngap\_ctrl\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ngap\_ctrl\_notif\_}}),}
\DoxyCodeLine{00053\ \ \ cu\_cp\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_notif\_}}),}
\DoxyCodeLine{00054\ \ \ measurement\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{measurement\_notifier\_}}),}
\DoxyCodeLine{00055\ \ \ du\_to\_cu\_container(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\_to\_cu\_container\_}}),}
\DoxyCodeLine{00056\ \ \ task\_sched(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{task\_sched\_}}),}
\DoxyCodeLine{00057\ \ \ logger(\textcolor{stringliteral}{"{}RRC"{}},\ \{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_index\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{c\_rnti\_}}\}),}
\DoxyCodeLine{00058\ \ \ event\_mng(std::make\_unique<rrc\_ue\_event\_manager>(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{task\_sched\_}}.get\_timer\_factory()))}
\DoxyCodeLine{00059\ \{}
\DoxyCodeLine{00060\ \ \ srsran\_assert(context.cell.\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__cell__context_a4a4b2fc24127ad71650f29fdde6b3600}{bands}}.empty()\ ==\ \textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Band\ must\ be\ present\ in\ RRC\ cell\ configuration."{}});}
\DoxyCodeLine{00061\ \ \ srsran\_assert(context.cfg.\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__cfg__t_a81e63bb0d2c6ad6574ec48c42470174d}{rrc\_procedure\_timeout\_ms}}\ >\ 0,\ \textcolor{stringliteral}{"{}RRC\ procedure\ timeout\ cannot\ be\ zero."{}});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{if}\ (rrc\_context.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Create\ SRBs.}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ srb\ :\ rrc\_context.value().srbs)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1srb__creation__message}{srb\_creation\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}}\{\};}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}}.ue\_index\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_index\_}};}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}}.srb\_id\ \ \ \ \ \ \ \ \ \ =\ srb;}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}}.enable\_security\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}}.pdcp\_cfg\ \ \ \ \ \ \ \ =\ \{\};\ \textcolor{comment}{//\ TODO:\ add\ support\ for\ non-\/default\ config.}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac6117b8c6cb2438b3e19fcbb8b410d1f}{create\_srb}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_msg}});}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac6117b8c6cb2438b3e19fcbb8b410d1f}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac6117b8c6cb2438b3e19fcbb8b410d1f} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!create\_srb@{create\_srb}}
\index{create\_srb@{create\_srb}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{create\_srb()}{create\_srb()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rrc\+\_\+ue\+\_\+impl\+::create\+\_\+srb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1srb__creation__message}{srb\+\_\+creation\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Instruct the RRC UE to create a new SRB. It creates all required intermediate objects (e.\+g. PDCP) and connects them with one another. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The UE index, SRB ID and config. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__srb__handler_aafb8dfbb9f9881aad8a5dbd8a4dc44cc}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+srb\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00077\ \{}
\DoxyCodeLine{00078\ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Creating\ \{\}"{}},\ msg.srb\_id);}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ create\ adapter\ objects\ and\ PDCP\ bearer\ as\ needed}}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (msg.srb\_id\ ==\ srb\_id\_t::srb0)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ SRB0\ is\ already\ set\ up}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00084\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (msg.srb\_id\ <=\ srb\_id\_t::srb2)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ create\ PDCP\ entity\ for\ this\ SRB}}
\DoxyCodeLine{00086\ \ \ \ \ context.srbs.emplace(std::piecewise\_construct,}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::forward\_as\_tuple(msg.srb\_id),}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::forward\_as\_tuple(msg.ue\_index,\ msg.srb\_id,\ task\_sched.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__task__scheduler_a2a96607a6d7a9c038af606d3d2457090}{get\_timer\_factory}}()));}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_context}}\ =\ context.srbs.at(msg.srb\_id);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{if}\ (msg.srb\_id\ ==\ srb\_id\_t::srb2\ ||\ msg.enable\_security)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1security_1_1sec__as__config}{security::sec\_as\_config}}\ sec\_cfg\ =\ context.sec\_context.get\_as\_config(security::sec\_domain::rrc);}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_context}}.enable\_full\_security(security::truncate\_config(sec\_cfg));}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00097\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Couldn't\ create\ \{\}"{}},\ msg.srb\_id);}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abafe3e193be998c12585a87313058ef4}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_abafe3e193be998c12585a87313058ef4} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!generate\_meas\_config@{generate\_meas\_config}}
\index{generate\_meas\_config@{generate\_meas\_config}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{generate\_meas\_config()}{generate\_meas\_config()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__meas__cfg}{rrc\+\_\+meas\+\_\+cfg}} $>$ rrc\+\_\+ue\+\_\+impl\+::generate\+\_\+meas\+\_\+config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1optional}{optional}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__meas__cfg}{rrc\+\_\+meas\+\_\+cfg}} $>$}]{current\+\_\+meas\+\_\+config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the RRC measurement config for the current serving cell of the UE. \textbackslash{}params\mbox{[}in\mbox{]} current\+\_\+meas\+\_\+config The current meas config of the UE (if applicable). 

\begin{DoxyReturn}{Returns}
The measurement config, if present. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_a8da9d351d0eb704576cb44182ebba3e3}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00367\ \{}
\DoxyCodeLine{00368\ \ \ \textcolor{comment}{//\ (Re-\/)generate\ measurement\ config\ and\ return\ result.}}
\DoxyCodeLine{00369\ \ \ context.meas\_cfg\ =\ measurement\_notifier.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__measurement__notifier_a42de8df93901f6c86727c744915c3fc4}{on\_measurement\_config\_request}}(context.cell.cgi.\mbox{\hyperlink{structsrsran_1_1nr__cell__global__id__t_a9bc83a983c3060bc5cebb4d8d616a6f4}{nci}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{current\_meas\_config}});}
\DoxyCodeLine{00370\ \ \ \textcolor{keywordflow}{return}\ context.meas\_cfg;}
\DoxyCodeLine{00371\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcd98ecfa1a07c8338292a03fa2dacd2}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcd98ecfa1a07c8338292a03fa2dacd2} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_context@{get\_context}}
\index{get\_context@{get\_context}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_context()}{get\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reestablishment__ue__context__t}{rrc\+\_\+reestablishment\+\_\+ue\+\_\+context\+\_\+t}} rrc\+\_\+ue\+\_\+impl\+::get\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the RRC Reestablishment UE context to transfer it to new UE. 

\begin{DoxyReturn}{Returns}
The RRC Reestablishment UE Context. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__handler_a80c0ec23ecd501159f285f1671b16370}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+context\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00385\ \{}
\DoxyCodeLine{00386\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reestablishment__ue__context__t}{rrc\_reestablishment\_ue\_context\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reest\_context}};}
\DoxyCodeLine{00387\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reest\_context}}.sec\_context\ =\ context.sec\_context;}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \textcolor{keywordflow}{if}\ (context.capabilities.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reest\_context}}.capabilities\ =\ context.capabilities.value();}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reest\_context}}.up\_ctx\ =\ up\_resource\_mng.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager_afb439e2a525bff10bc6f781ea1088764}{get\_up\_context}}();}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reest\_context}};}
\DoxyCodeLine{00395\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a1b031794d58a18b1bdce2e4c1f53c8b9}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a1b031794d58a18b1bdce2e4c1f53c8b9} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_packed\_handover\_preparation\_message@{get\_packed\_handover\_preparation\_message}}
\index{get\_packed\_handover\_preparation\_message@{get\_packed\_handover\_preparation\_message}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_packed\_handover\_preparation\_message()}{get\_packed\_handover\_preparation\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} rrc\+\_\+ue\+\_\+impl\+::get\+\_\+packed\+\_\+handover\+\_\+preparation\+\_\+message (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \{}
\DoxyCodeLine{00161\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structasn1_1_1rrc__nr_1_1ho__prep__info__s}{ho\_prep\_info\_s}}\ ho\_prep;}
\DoxyCodeLine{00162\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1ho__prep__info__ies__s}{ho\_prep\_info\_ies\_s}}\&\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ies}}\ =\ ho\_prep.crit\_exts.set\_c1().set\_ho\_prep\_info();}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ context.capabilities\_list.has\_value())\ \{}
\DoxyCodeLine{00165\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}No\ UE\ capabilities\ stored.\ Handover\ preparation\ message\ can't\ be\ generated."{}});}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};\ \textcolor{comment}{//\ no\ capabilities\ present,\ return\ empty\ buffer.}}
\DoxyCodeLine{00167\ \ \ \}}
\DoxyCodeLine{00168\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ies}}.ue\_cap\_rat\_list\ =\ *context.capabilities\_list;}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \textcolor{comment}{//\ TODO\ fill\ source\ and\ as\ configs.}}
\DoxyCodeLine{00171\ \ \ \textcolor{keywordflow}{return}\ pack\_into\_pdu(ho\_prep,\ \textcolor{stringliteral}{"{}handover\ preparation\ info"{}});}
\DoxyCodeLine{00172\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a0e8a4841701a22ed3fc339aaf80760f1}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a0e8a4841701a22ed3fc339aaf80760f1} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_dl\_nas\_message\_handler@{get\_rrc\_dl\_nas\_message\_handler}}
\index{get\_rrc\_dl\_nas\_message\_handler@{get\_rrc\_dl\_nas\_message\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_dl\_nas\_message\_handler()}{get\_rrc\_dl\_nas\_message\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__dl__nas__message__handler}{rrc\+\_\+dl\+\_\+nas\+\_\+message\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+dl\+\_\+nas\+\_\+message\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00062\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a5167a2e837639a95f890a432bc89d86c}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a5167a2e837639a95f890a432bc89d86c} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_handover\_command@{get\_rrc\_handover\_command}}
\index{get\_rrc\_handover\_command@{get\_rrc\_handover\_command}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_handover\_command()}{get\_rrc\_handover\_command()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+handover\+\_\+command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&}]{request,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{transaction\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the packed RRC Handover Command. 

\begin{DoxyReturn}{Returns}
The RRC Handover Command. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_aa04459a5ed15a619353855b1a9328109}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00424\ \{}
\DoxyCodeLine{00425\ \ \ \textcolor{comment}{//\ pack\ RRC\ Reconfig}}
\DoxyCodeLine{00426\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1rrc__recfg__s}{rrc\_recfg\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reconfig}};}
\DoxyCodeLine{00427\ \ \ fill\_asn1\_rrc\_reconfiguration\_msg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reconfig}},\ transaction\_id,\ request);}
\DoxyCodeLine{00428\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{reconfig\_pdu}}\ =\ pack\_into\_pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reconfig}},\ \textcolor{stringliteral}{"{}RRCReconfiguration"{}});}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1ho__cmd__s}{ho\_cmd\_s}}\ ho\_cmd;}
\DoxyCodeLine{00431\ \ \ ho\_cmd.crit\_exts.set\_c1().set\_ho\_cmd().ho\_cmd\_msg\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{reconfig\_pdu}}.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}();}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \textcolor{comment}{//\ pack\ Handover\ Command}}
\DoxyCodeLine{00434\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ho\_cmd\_pdu}}\ =\ pack\_into\_pdu(ho\_cmd,\ \textcolor{stringliteral}{"{}HandoverCommand"{}});}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \ \ \textcolor{comment}{//\ Log\ message}}
\DoxyCodeLine{00437\ \ \ logger.log\_debug(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ho\_cmd\_pdu}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ho\_cmd\_pdu}}.end(),\ \textcolor{stringliteral}{"{}RRCHandoverCommand\ (\{\}\ B)"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ho\_cmd\_pdu}}.length());}
\DoxyCodeLine{00438\ \ \ \textcolor{keywordflow}{if}\ (logger.get\_basic\_logger().debug.enabled())\ \{}
\DoxyCodeLine{00439\ \ \ \ \ \mbox{\hyperlink{classasn1_1_1json__writer}{asn1::json\_writer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}};}
\DoxyCodeLine{00440\ \ \ \ \ ho\_cmd.to\_json(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}});}
\DoxyCodeLine{00441\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Containerized\ RrcHandoverCommand:\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}}.to\_string());}
\DoxyCodeLine{00442\ \ \ \}}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ho\_cmd\_pdu}};}
\DoxyCodeLine{00445\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a05dc49f3cd6e8ff124bbb955dba10827}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a05dc49f3cd6e8ff124bbb955dba10827} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_context\_handler@{get\_rrc\_ue\_context\_handler}}
\index{get\_rrc\_ue\_context\_handler@{get\_rrc\_ue\_context\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_context\_handler()}{get\_rrc\_ue\_context\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__handler}{rrc\+\_\+ue\+\_\+context\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+context\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcacacac28784ca254941a50cf511dee}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adcacacac28784ca254941a50cf511dee} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_control\_message\_handler@{get\_rrc\_ue\_control\_message\_handler}}
\index{get\_rrc\_ue\_control\_message\_handler@{get\_rrc\_ue\_control\_message\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_control\_message\_handler()}{get\_rrc\_ue\_control\_message\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler}{rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a665129092d796236924a4f261e8055b4}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a665129092d796236924a4f261e8055b4} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_handover\_preparation\_handler@{get\_rrc\_ue\_handover\_preparation\_handler}}
\index{get\_rrc\_ue\_handover\_preparation\_handler@{get\_rrc\_ue\_handover\_preparation\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_handover\_preparation\_handler()}{get\_rrc\_ue\_handover\_preparation\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__handover__preparation__handler}{rrc\+\_\+ue\+\_\+handover\+\_\+preparation\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+handover\+\_\+preparation\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7d77ad184fabf63a01ba4fe9297a8c89}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7d77ad184fabf63a01ba4fe9297a8c89} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_init\_security\_context\_handler@{get\_rrc\_ue\_init\_security\_context\_handler}}
\index{get\_rrc\_ue\_init\_security\_context\_handler@{get\_rrc\_ue\_init\_security\_context\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_init\_security\_context\_handler()}{get\_rrc\_ue\_init\_security\_context\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__init__security__context__handler}{rrc\+\_\+ue\+\_\+init\+\_\+security\+\_\+context\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+init\+\_\+security\+\_\+context\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adf2e38debd37ea09e3c3418a4094e6a8}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_adf2e38debd37ea09e3c3418a4094e6a8} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_release\_context@{get\_rrc\_ue\_release\_context}}
\index{get\_rrc\_ue\_release\_context@{get\_rrc\_ue\_release\_context}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_release\_context()}{get\_rrc\_ue\_release\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__release__context}{rrc\+\_\+ue\+\_\+release\+\_\+context}} rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+release\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the RRC UE release context. 

\begin{DoxyReturn}{Returns}
The release context of the UE. If SRB1 is not created yet, a Rrc\+Reject message is contained in the release context, see section 5.\+3.\+15 in TS 38.\+331. Otherwise, a Rrc\+Release message is contained in the release context. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_aa7003ac9217e31d33fec6436e8604aa2}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00314\ \{}
\DoxyCodeLine{00315\ \ \ \textcolor{comment}{//\ prepare\ location\ info\ to\ return}}
\DoxyCodeLine{00316\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__release__context}{rrc\_ue\_release\_context}}\ release\_context;}
\DoxyCodeLine{00317\ \ \ release\_context.user\_location\_info.nr\_cgi\ \ \ \ \ \ =\ context.cell.cgi;}
\DoxyCodeLine{00318\ \ \ release\_context.user\_location\_info.tai.plmn\_id\ =\ context.cell.cgi.\mbox{\hyperlink{structsrsran_1_1nr__cell__global__id__t_afdcb9e32fead24d0f6d0098314d2493b}{plmn\_hex}};}
\DoxyCodeLine{00319\ \ \ release\_context.user\_location\_info.tai.tac\ \ \ \ \ =\ context.cell.tac;}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \textcolor{keywordflow}{if}\ (context.srbs.empty())\ \{}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{//\ SRB1\ was\ not\ created,\ so\ we\ need\ to\ reject\ the\ UE}}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{comment}{//\ Create\ and\ RrcReject\ container,\ see\ section\ 5.3.15\ in\ TS\ 38.331}}
\DoxyCodeLine{00324\ \ \ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__ccch__msg__s}{dl\_ccch\_msg\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_ccch\_msg}};}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ SRB1\ was\ not\ created,\ so\ we\ create\ a\ RRC\ Container\ with\ RrcReject}}
\DoxyCodeLine{00326\ \ \ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1rrc__reject__ies__s}{rrc\_reject\_ies\_s}}\&\ reject\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_ccch\_msg}}.msg.set\_c1().set\_rrc\_reject().crit\_exts.set\_rrc\_reject();}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{//\ See\ TS\ 38.331,\ RejectWaitTime}}
\DoxyCodeLine{00329\ \ \ \ \ reject.wait\_time\_present\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00330\ \ \ \ \ reject.wait\_time\ \ \ \ \ \ \ \ \ =\ rrc\_reject\_max\_wait\_time\_s;}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{comment}{//\ pack\ DL\ CCCH\ msg}}
\DoxyCodeLine{00333\ \ \ \ \ release\_context.rrc\_release\_pdu\ =\ pack\_into\_pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_ccch\_msg}},\ \textcolor{stringliteral}{"{}RRCReject"{}});}
\DoxyCodeLine{00334\ \ \ \ \ release\_context.srb\_id\ \ \ \ \ \ \ \ \ \ =\ srb\_id\_t::srb0;}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{comment}{//\ Log\ Tx\ message}}
\DoxyCodeLine{00337\ \ \ \ \ log\_rrc\_message(logger,\ Tx,\ release\_context.rrc\_release\_pdu,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_ccch\_msg}},\ \textcolor{stringliteral}{"{}CCCH\ DL"{}});}
\DoxyCodeLine{00338\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{comment}{//\ prepare\ SRB1\ RRC\ Release\ PDU\ to\ return}}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordflow}{if}\ (context.srbs.find(srb\_id\_t::srb1)\ ==\ context.srbs.end())\ \{}
\DoxyCodeLine{00341\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Can't\ create\ RrcRelease\ PDU.\ RX\ \{\}\ is\ not\ set\ up"{}},\ srb\_id\_t::srb1);}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ release\_context;}
\DoxyCodeLine{00343\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__dcch__msg__s}{dl\_dcch\_msg\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}};}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}}.msg.set\_c1().set\_rrc\_release().crit\_exts.set\_rrc\_release();}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \ \ \textcolor{comment}{//\ pack\ DL\ CCCH\ msg}}
\DoxyCodeLine{00348\ \ \ \ \ \ \ release\_context.rrc\_release\_pdu\ =}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ context.srbs.at(srb\_id\_t::srb1).pack\_rrc\_pdu(pack\_into\_pdu(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}},\ \textcolor{stringliteral}{"{}RRCRelease"{}}));}
\DoxyCodeLine{00350\ \ \ \ \ \ \ release\_context.srb\_id\ =\ srb\_id\_t::srb1;}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \ \ \ \ \ \ \textcolor{comment}{//\ Log\ Tx\ message}}
\DoxyCodeLine{00353\ \ \ \ \ \ \ log\_rrc\_message(logger,\ Tx,\ release\_context.rrc\_release\_pdu,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}},\ \textcolor{stringliteral}{"{}DCCH\ DL"{}});}
\DoxyCodeLine{00354\ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \}}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \textcolor{comment}{//\ Log\ Tx\ message}}
\DoxyCodeLine{00358\ \ \ logger.log\_debug(release\_context.rrc\_release\_pdu.begin(),}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ release\_context.rrc\_release\_pdu.end(),}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}TX\ \{\}\ PDU"{}},}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ release\_context.srb\_id);}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \textcolor{keywordflow}{return}\ release\_context;}
\DoxyCodeLine{00364\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a717e1516961cd32f4ddaed67fdf74682}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a717e1516961cd32f4ddaed67fdf74682} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_security\_context@{get\_rrc\_ue\_security\_context}}
\index{get\_rrc\_ue\_security\_context@{get\_rrc\_ue\_security\_context}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_security\_context()}{get\_rrc\_ue\_security\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1security_1_1security__context}{security\+::security\+\_\+context}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+security\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{\ \textcolor{keywordflow}{return}\ context.sec\_context;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a779e97e980880f5589aafc98e5cdd33e}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a779e97e980880f5589aafc98e5cdd33e} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_rrc\_ue\_srb\_handler@{get\_rrc\_ue\_srb\_handler}}
\index{get\_rrc\_ue\_srb\_handler@{get\_rrc\_ue\_srb\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_rrc\_ue\_srb\_handler()}{get\_rrc\_ue\_srb\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__srb__handler}{rrc\+\_\+ue\+\_\+srb\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+rrc\+\_\+ue\+\_\+srb\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a9e0ba14faac2f4c13d3a686230088dd8}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a9e0ba14faac2f4c13d3a686230088dd8} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_srbs@{get\_srbs}}
\index{get\_srbs@{get\_srbs}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_srbs()}{get\_srbs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ srb\+\_\+id\+\_\+t, MAX\+\_\+\+NOF\+\_\+\+SRBS $>$ rrc\+\_\+ue\+\_\+impl\+::get\+\_\+srbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get all SRBs of the UE. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__srb__handler_a54b35ef72fa5ea812dcdad7099bcbc77}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+srb\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{}
\DoxyCodeLine{00103\ \ \ \mbox{\hyperlink{classsrsran_1_1static__vector}{static\_vector<srb\_id\_t,\ MAX\_NOF\_SRBS>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_ids}};}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_ctxt}}\ :\ context.srbs)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_ids}}.push\_back(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_ctxt}}.first);}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{srb\_ids}};}
\DoxyCodeLine{00109\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ae84053aa2d0f79394dc736029531ba53}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ae84053aa2d0f79394dc736029531ba53} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_transfer\_context@{get\_transfer\_context}}
\index{get\_transfer\_context@{get\_transfer\_context}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_transfer\_context()}{get\_transfer\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__transfer__context}{rrc\+\_\+ue\+\_\+transfer\+\_\+context}} rrc\+\_\+ue\+\_\+impl\+::get\+\_\+transfer\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve RRC context of a UE to perform mobility (handover, reestablishment). 

\begin{DoxyReturn}{Returns}
Transfer context including UP context, security, SRBs, HO preparation, etc. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_a53509e369f37ff5704b70465a0fca93d}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00374\ \{}
\DoxyCodeLine{00375\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__transfer__context}{rrc\_ue\_transfer\_context}}\ transfer\_context;}
\DoxyCodeLine{00376\ \ \ transfer\_context.sec\_context\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ context.sec\_context;}
\DoxyCodeLine{00377\ \ \ transfer\_context.meas\_cfg\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ context.meas\_cfg;}
\DoxyCodeLine{00378\ \ \ transfer\_context.srbs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a9e0ba14faac2f4c13d3a686230088dd8}{get\_srbs}}();}
\DoxyCodeLine{00379\ \ \ transfer\_context.up\_ctx\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ up\_resource\_mng.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager_afb439e2a525bff10bc6f781ea1088764}{get\_up\_context}}();}
\DoxyCodeLine{00380\ \ \ transfer\_context.handover\_preparation\_info\ =\ get\_packed\_handover\_preparation\_message();}
\DoxyCodeLine{00381\ \ \ \textcolor{keywordflow}{return}\ transfer\_context;}
\DoxyCodeLine{00382\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a90ea9a456c4b3e78329908426830f809}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a90ea9a456c4b3e78329908426830f809} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_ul\_ccch\_pdu\_handler@{get\_ul\_ccch\_pdu\_handler}}
\index{get\_ul\_ccch\_pdu\_handler@{get\_ul\_ccch\_pdu\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ul\_ccch\_pdu\_handler()}{get\_ul\_ccch\_pdu\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__ccch__pdu__handler}{rrc\+\_\+ul\+\_\+ccch\+\_\+pdu\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+ul\+\_\+ccch\+\_\+pdu\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a18206ef705d3a05d33963149333d97d3}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a18206ef705d3a05d33963149333d97d3} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!get\_ul\_dcch\_pdu\_handler@{get\_ul\_dcch\_pdu\_handler}}
\index{get\_ul\_dcch\_pdu\_handler@{get\_ul\_dcch\_pdu\_handler}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ul\_dcch\_pdu\_handler()}{get\_ul\_dcch\_pdu\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__dcch__pdu__handler}{rrc\+\_\+ul\+\_\+dcch\+\_\+pdu\+\_\+handler}} \& srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+impl\+::get\+\_\+ul\+\_\+dcch\+\_\+pdu\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__interface}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00061\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_af86e8f21a5915f1a908e57d740d4d616}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_af86e8f21a5915f1a908e57d740d4d616} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_dl\_nas\_transport\_message@{handle\_dl\_nas\_transport\_message}}
\index{handle\_dl\_nas\_transport\_message@{handle\_dl\_nas\_transport\_message}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_dl\_nas\_transport\_message()}{handle\_dl\_nas\_transport\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+dl\+\_\+nas\+\_\+transport\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{nas\+\_\+pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the received Downlink NAS Transport message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nas\+\_\+pdu} & The received NAS PDU. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__dl__nas__message__handler_aa62b4665544bf620078aa7eec83d3aed}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+dl\+\_\+nas\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \{}
\DoxyCodeLine{00235\ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Received\ DlNasTransportMessage\ (\{\}\ B)"{}},\ nas\_pdu.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}());}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__dcch__msg__s}{dl\_dcch\_msg\_s}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}};}
\DoxyCodeLine{00238\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__info__transfer__ies__s}{dl\_info\_transfer\_ies\_s}}\&\ dl\_info\_transfer\ =}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}}.msg.set\_c1().set\_dl\_info\_transfer().crit\_exts.set\_dl\_info\_transfer();}
\DoxyCodeLine{00240\ \ \ dl\_info\_transfer.ded\_nas\_msg\ =\ nas\_pdu.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a1f08be439b9c2c174b4b2827c18feda6}{copy}}();}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \textcolor{keywordflow}{if}\ (context.srbs.find(srb\_id\_t::srb2)\ !=\ context.srbs.end())\ \{}
\DoxyCodeLine{00243\ \ \ \ \ send\_dl\_dcch(srb\_id\_t::srb2,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}});}
\DoxyCodeLine{00244\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00245\ \ \ \ \ send\_dl\_dcch(srb\_id\_t::srb1,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}});}
\DoxyCodeLine{00246\ \ \ \}}
\DoxyCodeLine{00247\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a08dace7b0b95f1cb804dceab5a44bdbb}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a08dace7b0b95f1cb804dceab5a44bdbb} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_handover\_reconfiguration\_complete\_expected@{handle\_handover\_reconfiguration\_complete\_expected}}
\index{handle\_handover\_reconfiguration\_complete\_expected@{handle\_handover\_reconfiguration\_complete\_expected}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_handover\_reconfiguration\_complete\_expected()}{handle\_handover\_reconfiguration\_complete\_expected()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+handover\+\_\+reconfiguration\+\_\+complete\+\_\+expected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{transaction\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Await a RRC Reconfiguration Complete for a handover. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em transaction\+\_\+id} & The transaction ID of the RRC Reconfiguration Complete. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the RRC Reconfiguration Complete was received, false otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_a8692fa6174cba7a830096e8b8d096973}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00281\ \{}
\DoxyCodeLine{00282\ \ \ \textcolor{comment}{//\ arbitrary\ timeout\ for\ RRC\ Reconfig\ procedure,\ UE\ will\ be\ removed\ if\ timer\ fires}}
\DoxyCodeLine{00283\ \ \ \textcolor{keyword}{const}\ std::chrono::milliseconds\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\_ms}}\{1000\};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}(}
\DoxyCodeLine{00286\ \ \ \ \ \ \ [\textcolor{keyword}{this},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\_ms}},\ transaction\_id,\ transaction\ =\ \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{rrc\_transaction}}\{\}](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context<async\_task<bool>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Awaiting\ RRC\ Reconfiguration\ Complete"{}});}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ create\ new\ transaction\ for\ RRC\ Reconfiguration\ procedure}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ transaction\ =\ event\_mng-\/>transactions.create\_transaction(transaction\_id,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timeout\_ms}});}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ CORO\_AWAIT(transaction);}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ procedure\_result\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (transaction.has\_response())\ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Received\ RRC\ Reconfiguration\ Complete\ after\ HO"{}});}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ procedure\_result\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Did\ not\ receive\ RRC\ Reconfiguration\ Complete\ after\ HO\ (timeout)"{}});}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ CORO\_RETURN(procedure\_result);}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \});}
\DoxyCodeLine{00305\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7aa6575f641a6ba7e3367761f8af2b20}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a7aa6575f641a6ba7e3367761f8af2b20} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_handover\_reconfiguration\_request@{handle\_handover\_reconfiguration\_request}}
\index{handle\_handover\_reconfiguration\_request@{handle\_handover\_reconfiguration\_request}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_handover\_reconfiguration\_request()}{handle\_handover\_reconfiguration\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+handover\+\_\+reconfiguration\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle an RRC Reconfiguration Request for a handover. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The new RRC Reconfiguration Request. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The transaction ID of the RRC Reconfiguration request. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_ad1723660a64d51cb6325dca3e0f29e34}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00266\ \{}
\DoxyCodeLine{00267\ \ \ \textcolor{comment}{//\ Create\ transaction\ to\ get\ transaction\ ID}}
\DoxyCodeLine{00268\ \ \ \mbox{\hyperlink{classsrsran_1_1protocol__transaction}{rrc\_transaction}}\ transaction\ \ \ \ =\ event\_mng-\/>transactions.create\_transaction();}
\DoxyCodeLine{00269\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ transaction\_id\ =\ transaction.\mbox{\hyperlink{classsrsran_1_1protocol__transaction_af5099f9e6f799419b17964c51da85ffb}{id}}();}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__dcch__msg__s}{dl\_dcch\_msg\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}};}
\DoxyCodeLine{00272\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}}.msg.set\_c1().set\_rrc\_recfg();}
\DoxyCodeLine{00273\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1rrc__recfg__s}{rrc\_recfg\_s}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reconfig}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}}.msg.c1().rrc\_recfg();}
\DoxyCodeLine{00274\ \ \ fill\_asn1\_rrc\_reconfiguration\_msg(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_reconfig}},\ transaction\_id,\ msg);}
\DoxyCodeLine{00275\ \ \ on\_new\_dl\_dcch(srb\_id\_t::srb1,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}});}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \ \ \textcolor{keywordflow}{return}\ transaction\_id;}
\DoxyCodeLine{00278\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ab67e5ca3ef21af48d3645e7824c18858}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ab67e5ca3ef21af48d3645e7824c18858} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_new\_security\_context@{handle\_new\_security\_context}}
\index{handle\_new\_security\_context@{handle\_new\_security\_context}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_new\_security\_context()}{handle\_new\_security\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+new\+\_\+security\+\_\+context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1security_1_1security__context}{security\+::security\+\_\+context}} \&}]{sec\+\_\+context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the reception of a new security context. 

\begin{DoxyReturn}{Returns}
True if the security context was applied successfully, false otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_ae7938f88f5982cb8f8262b001c17ef3a}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00398\ \{}
\DoxyCodeLine{00399\ \ \ \textcolor{comment}{//\ Copy\ security\ context\ to\ RRC\ UE\ context}}
\DoxyCodeLine{00400\ \ \ context.sec\_context\ =\ sec\_context;}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \textcolor{comment}{//\ Select\ preferred\ integrity\ algorithm.}}
\DoxyCodeLine{00403\ \ \ security::preferred\_integrity\_algorithms\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inc\_algo\_pref\_list}}\ \ =\ context.cfg.\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__cfg__t_a34083671101b133565a274531f6963f7}{int\_algo\_pref\_list}};}
\DoxyCodeLine{00404\ \ \ security::preferred\_ciphering\_algorithms\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ciph\_algo\_pref\_list}}\ =\ context.cfg.\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__cfg__t_af57225fa513a47efb8cb547376634690}{enc\_algo\_pref\_list}};}
\DoxyCodeLine{00405\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ context.sec\_context.select\_algorithms(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inc\_algo\_pref\_list}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ciph\_algo\_pref\_list}}))\ \{}
\DoxyCodeLine{00406\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Could\ not\ select\ security\ algorithm"{}});}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00408\ \ \ \}}
\DoxyCodeLine{00409\ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Selected\ security\ algorithms\ NIA=NIA\{\}\ NEA=NEA\{\}"{}},}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.sec\_context.sel\_algos.integ\_algo,}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.sec\_context.sel\_algos.cipher\_algo);}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \textcolor{comment}{//\ Generate\ K\_rrc\_enc\ and\ K\_rrc\_int}}
\DoxyCodeLine{00414\ \ \ context.sec\_context.generate\_as\_keys();}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \ \ \textcolor{comment}{//\ activate\ SRB1\ PDCP\ security}}
\DoxyCodeLine{00417\ \ \ on\_new\_as\_security\_context();}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00420\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a6de89356d5e25793d48f6000d1645bab}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a6de89356d5e25793d48f6000d1645bab} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_rrc\_handover\_command@{handle\_rrc\_handover\_command}}
\index{handle\_rrc\_handover\_command@{handle\_rrc\_handover\_command}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_rrc\_handover\_command()}{handle\_rrc\_handover\_command()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+rrc\+\_\+handover\+\_\+command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{cmd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the handover command RRC PDU. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cmd} & The handover command RRC PDU. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the rrc reconfig was successfully forwarded to the DU, false otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__handover__preparation__handler_a033af4dbb052553923da28dae6164666}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+handover\+\_\+preparation\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00448\ \{}
\DoxyCodeLine{00449\ \ \ \textcolor{comment}{//\ Unpack\ HGandover\ Command}}
\DoxyCodeLine{00450\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1ho__cmd__s}{asn1::rrc\_nr::ho\_cmd\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{handover\_command}};}
\DoxyCodeLine{00451\ \ \ \mbox{\hyperlink{structasn1_1_1cbit__ref}{asn1::cbit\_ref}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cmd}}.end()\});}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{handover\_command}}.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref}})\ !=\ asn1::SRSASN\_SUCCESS)\ \{}
\DoxyCodeLine{00454\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Couldn't\ unpack\ Handover\ Command\ RRC\ container"{}});}
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00456\ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \textcolor{comment}{//\ Unpack\ RRC\ Reconfiguration\ to\ new\ DL\ DCCH\ Message}}
\DoxyCodeLine{00459\ \ \ \mbox{\hyperlink{structasn1_1_1cbit__ref}{asn1::cbit\_ref}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref2}}(\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{handover\_command}}.crit\_exts.c1().ho\_cmd().ho\_cmd\_msg.begin(),}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{handover\_command}}.crit\_exts.c1().ho\_cmd().ho\_cmd\_msg.end()\});}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1dl__dcch__msg__s}{dl\_dcch\_msg\_s}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}};}
\DoxyCodeLine{00463\ \ \ \textcolor{keyword}{auto}\&\ \ \ \ \ \ \ \ \ rrc\_recfg\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}}.msg.set\_c1().set\_rrc\_recfg();}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00465\ \ \ \textcolor{keywordflow}{if}\ (rrc\_recfg.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref2}})\ !=\ asn1::SRSASN\_SUCCESS)\ \{}
\DoxyCodeLine{00466\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Couldn't\ unpack\ RRC\ Reconfiguration\ container"{}});}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00468\ \ \ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \textcolor{comment}{//\ Send\ to\ UE}}
\DoxyCodeLine{00471\ \ \ on\_new\_dl\_dcch(srb\_id\_t::srb1,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dl\_dcch\_msg}});}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00474\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac1737450987adaa27d36cf16b9f7f3a1}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ac1737450987adaa27d36cf16b9f7f3a1} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_rrc\_reconfiguration\_request@{handle\_rrc\_reconfiguration\_request}}
\index{handle\_rrc\_reconfiguration\_request@{handle\_rrc\_reconfiguration\_request}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_rrc\_reconfiguration\_request()}{handle\_rrc\_reconfiguration\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+rrc\+\_\+reconfiguration\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__reconfiguration__procedure__request}{rrc\+\_\+reconfiguration\+\_\+procedure\+\_\+request}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle an RRC Reconfiguration Request. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The new RRC Reconfiguration Request. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the rrc reconfiguration. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_a9b3de958b7167a203af80e69a7ef9c1b}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00260\ \{}
\DoxyCodeLine{00261\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<rrc\_reconfiguration\_procedure>}}(}
\DoxyCodeLine{00262\ \ \ \ \ \ \ context,\ msg,\ *\textcolor{keyword}{this},\ ngap\_ctrl\_notifier,\ du\_processor\_notifier,\ *event\_mng,\ get\_rrc\_ue\_srb\_handler(),\ logger);}
\DoxyCodeLine{00263\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_afcb830c9feefc49af16f6131fa9d1022}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_afcb830c9feefc49af16f6131fa9d1022} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_rrc\_ue\_capability\_transfer\_request@{handle\_rrc\_ue\_capability\_transfer\_request}}
\index{handle\_rrc\_ue\_capability\_transfer\_request@{handle\_rrc\_ue\_capability\_transfer\_request}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_rrc\_ue\_capability\_transfer\_request()}{handle\_rrc\_ue\_capability\_transfer\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{classbool}{bool}} $>$ rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+rrc\+\_\+ue\+\_\+capability\+\_\+transfer\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1rrc__ue__capability__transfer__request}{rrc\+\_\+ue\+\_\+capability\+\_\+transfer\+\_\+request}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiate the UE capability transfer procedure. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__control__message__handler_ac1847bbea250ca84b13abeea5ba4360a}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ue\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00308\ \{}
\DoxyCodeLine{00309\ \ \ \textcolor{comment}{//\ \ Launch\ RRC\ UE\ capability\ transfer\ procedure}}
\DoxyCodeLine{00310\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<rrc\_ue\_capability\_transfer\_procedure>}}(context,\ *\textcolor{keyword}{this},\ *event\_mng,\ logger);}
\DoxyCodeLine{00311\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a77ef33051ded434d66d6dc119018a1e6}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_a77ef33051ded434d66d6dc119018a1e6} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_ul\_ccch\_pdu@{handle\_ul\_ccch\_pdu}}
\index{handle\_ul\_ccch\_pdu@{handle\_ul\_ccch\_pdu}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_ul\_ccch\_pdu()}{handle\_ul\_ccch\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+ul\+\_\+ccch\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming PDU on the UL-\/\+CCCH logical channel. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__ccch__pdu__handler_a1d29b7fe11ff90360eb563775031d205}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ul\+\_\+ccch\+\_\+pdu\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \{}
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ Parse\ UL-\/CCCH}}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{structasn1_1_1rrc__nr_1_1ul__ccch__msg__s}{ul\_ccch\_msg\_s}}\ ul\_ccch\_msg;}
\DoxyCodeLine{00043\ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{structasn1_1_1cbit__ref}{asn1::cbit\_ref}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref}}(pdu);}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (ul\_ccch\_msg.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{bref}})\ !=\ asn1::SRSASN\_SUCCESS\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ ul\_ccch\_msg.msg.type().value\ !=\ ul\_ccch\_msg\_type\_c::types\_opts::c1)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ logger.log\_error(pdu.begin(),\ pdu.end(),\ \textcolor{stringliteral}{"{}Failed\ to\ unpack\ CCCH\ UL\ PDU"{}});}
\DoxyCodeLine{00048\ \ \ \ \ \ \ on\_ue\_release\_required(cause\_radio\_network\_t::unspecified);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ Log\ Rx\ message}}
\DoxyCodeLine{00054\ \ \ log\_rrc\_message(logger,\ Rx,\ pdu,\ ul\_ccch\_msg,\ \textcolor{stringliteral}{"{}CCCH\ UL"{}});}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ Handle\ message}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{switch}\ (ul\_ccch\_msg.msg.c1().type().value)\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{case}\ ul\_ccch\_msg\_type\_c::c1\_c\_::types\_opts::rrc\_setup\_request:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ handle\_rrc\_setup\_request(ul\_ccch\_msg.msg.c1().rrc\_setup\_request());}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{case}\ ul\_ccch\_msg\_type\_c::c1\_c\_::types\_opts::rrc\_reest\_request:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ handle\_rrc\_reest\_request(ul\_ccch\_msg.msg.c1().rrc\_reest\_request());}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00065\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Unsupported\ CCCH\ UL\ message\ type"{}});}
\DoxyCodeLine{00066\ \ \ \ \ \ \ on\_ue\_release\_required(cause\_radio\_network\_t::unspecified);}
\DoxyCodeLine{00067\ \ \ \}}
\DoxyCodeLine{00068\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ad3fd3f8666b1cef63ab858d278888402}\label{classsrsran_1_1srs__cu__cp_1_1rrc__ue__impl_ad3fd3f8666b1cef63ab858d278888402} 
\index{srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}!handle\_ul\_dcch\_pdu@{handle\_ul\_dcch\_pdu}}
\index{handle\_ul\_dcch\_pdu@{handle\_ul\_dcch\_pdu}!srsran::srs\_cu\_cp::rrc\_ue\_impl@{srsran::srs\_cu\_cp::rrc\_ue\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_ul\_dcch\_pdu()}{handle\_ul\_dcch\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rrc\+\_\+ue\+\_\+impl\+::handle\+\_\+ul\+\_\+dcch\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} srb\+\_\+id\+\_\+t}]{srb\+\_\+id,  }\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}}}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming SRB PDCP PDU on the UL-\/\+DCCH logical channel. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ul__dcch__pdu__handler_ab6cf3dea900c302d05c083f3e84f43f1}{srsran\+::srs\+\_\+cu\+\_\+cp\+::rrc\+\_\+ul\+\_\+dcch\+\_\+pdu\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \{}
\DoxyCodeLine{00195\ \ \ logger.log\_debug(pdcp\_pdu.begin(),\ pdcp\_pdu.end(),\ \textcolor{stringliteral}{"{}RX\ \{\}\ PDCP\ PDU"{}},\ srb\_id);}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \textcolor{keywordflow}{if}\ (context.srbs.find(srb\_id)\ ==\ context.srbs.end())\ \{}
\DoxyCodeLine{00198\ \ \ \ \ logger.log\_error(pdcp\_pdu.begin(),\ pdcp\_pdu.end(),\ \textcolor{stringliteral}{"{}Dropping\ UL-\/DCCH\ PDU.\ Rx\ \{\}\ is\ not\ set\ up"{}},\ srb\_id);}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00200\ \ \ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{comment}{//\ Unpack\ PDCP\ PDU}}
\DoxyCodeLine{00203\ \ \ \mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\_buffer}}\ rrc\_pdu\ =\ context.srbs.at(srb\_id).unpack\_pdcp\_pdu(std::move(pdcp\_pdu));}
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{if}\ (rrc\_pdu.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}())\ \{}
\DoxyCodeLine{00205\ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}Dropping\ empty\ PDU.\ RX\ \{\}"{}},\ srb\_id);}
\DoxyCodeLine{00206\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}original\ len=\{\},\ new\_len=\{\}"{}},\ pdcp\_pdu.length(),\ rrc\_pdu.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}());}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00208\ \ \ \}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ handle\_pdu(srb\_id,\ std::move(rrc\_pdu));}
\DoxyCodeLine{00211\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/rrc/ue/rrc\+\_\+ue\+\_\+impl.\+h\item 
lib/rrc/ue/rrc\+\_\+ue\+\_\+impl.\+cpp\item 
lib/rrc/ue/rrc\+\_\+ue\+\_\+message\+\_\+handlers.\+cpp\item 
lib/rrc/ue/rrc\+\_\+ue\+\_\+message\+\_\+senders.\+cpp\end{DoxyCompactItemize}
