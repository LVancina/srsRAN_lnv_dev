\doxysection{srsran\+::detail\+::base\+\_\+coro\+\_\+frame\texorpdfstring{$<$}{<} Promise \texorpdfstring{$>$}{>} Struct Template Reference}
\hypertarget{structsrsran_1_1detail_1_1base__coro__frame}{}\label{structsrsran_1_1detail_1_1base__coro__frame}\index{srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}}


\doxylink{classBase}{Base} class for coroutine frames.  




{\ttfamily \#include $<$coroutine.\+h$>$}



Inheritance diagram for srsran\+::detail\+::base\+\_\+coro\+\_\+frame\texorpdfstring{$<$}{<} Promise \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d2/d9a/structsrsran_1_1detail_1_1base__coro__frame__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::detail\+::base\+\_\+coro\+\_\+frame\texorpdfstring{$<$}{<} Promise \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{da/d2a/structsrsran_1_1detail_1_1base__coro__frame__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_a076eeca5ed5363eeaa55f05bc5436eae}\label{structsrsran_1_1detail_1_1base__coro__frame_a076eeca5ed5363eeaa55f05bc5436eae} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries promise\+\_\+type} = \mbox{\hyperlink{classPromise}{Promise}}
\item 
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_a4a6f79e57b3150f0a3a5e7ed531a730a}\label{structsrsran_1_1detail_1_1base__coro__frame_a4a6f79e57b3150f0a3a5e7ed531a730a} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries future\+\_\+type} = \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{decltype}}(std\+::declval$<$\mbox{\hyperlink{classPromise}{promise\+\_\+type}}$>$().get\+\_\+return\+\_\+object())
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPromise}{Promise}} \& \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame_aba31882f71cf0cc8c5357313b4425aff}{promise}} ()
\begin{DoxyCompactList}\small\item\em Get promise object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classPromise}{Promise}} \& \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame_ab317c3bc77d707dd97acd924a7a80452}{promise}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} Awaitable $>$ }\\\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame_aa8cad528feb1aa1a1b0ea106949932eb}{on\+\_\+await\+\_\+call}} (Awaitable \&\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaitable\+\_\+obj}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$ \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame_a73700d8b57a1d513588ba973be683265}{from\+\_\+promise}} (\mbox{\hyperlink{classPromise}{Promise}} \texorpdfstring{$\ast$}{*}p)
\begin{DoxyCompactList}\small\item\em From promise object, obtain the coroutine frame pointer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{classPromise}{Promise}}$>$\newline
struct srsran\+::detail\+::base\+\_\+coro\+\_\+frame$<$ Promise $>$}
\doxylink{classBase}{Base} class for coroutine frames. 

Extension of \doxylink{structsrsran_1_1detail_1_1base__coro__frame_3_01void_01_4}{base\+\_\+coro\+\_\+frame$<$void$>$} when \doxylink{classPromise}{Promise} type is specified. Besides the coro state, it stores the promise. 

\doxysubsection{Member Function Documentation}
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_a73700d8b57a1d513588ba973be683265}\label{structsrsran_1_1detail_1_1base__coro__frame_a73700d8b57a1d513588ba973be683265} 
\index{srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}!from\_promise@{from\_promise}}
\index{from\_promise@{from\_promise}!srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}}
\doxysubsubsection{\texorpdfstring{from\_promise()}{from\_promise()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{classPromise}{Promise}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$ \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{srsran\+::detail\+::base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$\+::from\+\_\+promise (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classPromise}{Promise}} \texorpdfstring{$\ast$}{*}}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



From promise object, obtain the coroutine frame pointer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00142\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{base\_coro\_frame<Promise>}}*\textcolor{keyword}{>}(p);\ \}}

\end{DoxyCode}
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_aa8cad528feb1aa1a1b0ea106949932eb}\label{structsrsran_1_1detail_1_1base__coro__frame_aa8cad528feb1aa1a1b0ea106949932eb} 
\index{srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}!on\_await\_call@{on\_await\_call}}
\index{on\_await\_call@{on\_await\_call}!srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}}
\doxysubsubsection{\texorpdfstring{on\_await\_call()}{on\_await\_call()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{classPromise}{Promise}} $>$ \\
template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} Awaitable $>$ \\
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{srsran\+::detail\+::base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$\+::on\+\_\+await\+\_\+call (\begin{DoxyParamCaption}\item[{Awaitable \&\&}]{awaitable\+\_\+obj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

called during await operation to save the awaitable/awaiter in mem buffer, and pass resumable as continuation 
\begin{DoxyParams}{Parameters}
{\em awaitable\+\_\+obj} & object that coroutine awaits on \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if awaitable is ready and false if the coroutine needs to suspend 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00149\ \ \ \{}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ForwardedAwaitable}}\ =}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ std::conditional\_t<std::is\_rvalue\_reference<Awaitable>::value,\ std::decay\_t<Awaitable>,\ Awaitable>;}
\DoxyCodeLine{00152\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ is\_suspended(),\ \textcolor{stringliteral}{"{}Trying\ to\ suspend\ already\ suspended\ coroutine"{}});}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ store\ awaitable/awaiter\ in\ memory\ buffer}}
\DoxyCodeLine{00155\ \ \ \ \ mem\_buffer.emplace(std::forward<Awaitable>(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaitable\_obj}}));}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\ check\ if\ awaiter\ is\ ready.\ If\ not,\ suspend\ coroutine}}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaiter\_t<ForwardedAwaitable>}}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaiter\_obj}}\ =\ mem\_buffer.get\_awaiter<\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ForwardedAwaitable}}>();}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaiter\_obj}}.await\_ready())\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \textcolor{comment}{//\ Tag-\/based\ dispatch\ -\/\ Check\ whether\ awaiter\ uses\ symmetric\ transfer\ /\ tail-\/resume\ on\ await\_suspend.}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{suspend\_sig}}\ \ \ \ \ \ \ \ =\ \textcolor{keyword}{decltype}(\&std::decay\_t<awaiter\_t<ForwardedAwaitable>>::await\_suspend);}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{suspend\_return\_t}}\ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{function\_return\_t<suspend\_sig>}};}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{no\_tail\_resume\_tag}}\ =\ std::is\_same<void,\ suspend\_return\_t>;}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{on\_await\_suspend<awaiter\_t<ForwardedAwaitable>}}>(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{awaiter\_obj}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{no\_tail\_resume\_tag}}\{\});}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00169\ \ \ \}}

\end{DoxyCode}
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_aba31882f71cf0cc8c5357313b4425aff}\label{structsrsran_1_1detail_1_1base__coro__frame_aba31882f71cf0cc8c5357313b4425aff} 
\index{srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}!promise@{promise}}
\index{promise@{promise}!srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}}
\doxysubsubsection{\texorpdfstring{promise()}{promise()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{classPromise}{Promise}} $>$ \\
\mbox{\hyperlink{classPromise}{Promise}} \& \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{srsran\+::detail\+::base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$\+::promise (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get promise object. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}
\Hypertarget{structsrsran_1_1detail_1_1base__coro__frame_ab317c3bc77d707dd97acd924a7a80452}\label{structsrsran_1_1detail_1_1base__coro__frame_ab317c3bc77d707dd97acd924a7a80452} 
\index{srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}!promise@{promise}}
\index{promise@{promise}!srsran::detail::base\_coro\_frame$<$ Promise $>$@{srsran::detail::base\_coro\_frame$<$ Promise $>$}}
\doxysubsubsection{\texorpdfstring{promise()}{promise()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{classPromise}{Promise}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classPromise}{Promise}} \& \mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{srsran\+::detail\+::base\+\_\+coro\+\_\+frame}}$<$ \mbox{\hyperlink{classPromise}{Promise}} $>$\+::promise (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}

\end{DoxyCode}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/async/coroutine.\+h\end{DoxyCompactItemize}
