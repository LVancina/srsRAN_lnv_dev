\doxysection{srsran\+::pbch\+\_\+encoder\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1pbch__encoder__impl}{}\label{classsrsran_1_1pbch__encoder__impl}\index{srsran::pbch\_encoder\_impl@{srsran::pbch\_encoder\_impl}}


Inheritance diagram for srsran\+::pbch\+\_\+encoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=221pt]{dd/d03/classsrsran_1_1pbch__encoder__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::pbch\+\_\+encoder\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{d2/d54/classsrsran_1_1pbch__encoder__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1pbch__encoder__impl_a53b3d1116641ecff0ffc6221b37226a2}{pbch\+\_\+encoder\+\_\+impl}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc24c\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scrambler\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__interleaver}{polar\+\_\+interleaver}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{interleaver\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__allocator}{polar\+\_\+allocator}} $>$ allocator\+\_\+, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__code}{polar\+\_\+code}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{code\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__encoder}{polar\+\_\+encoder}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\+\_\+}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__rate__matcher}{polar\+\_\+rate\+\_\+matcher}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\+\_\+}})
\begin{DoxyCompactList}\small\item\em Constructs a generic PBCH encoder. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1pbch__encoder__impl_a8ec5357153ec31bed53417524ab60a47}{encode}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pbch__encoder_1_1pbch__msg__t}{pbch\+\_\+msg\+\_\+t}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pbch\+\_\+msg}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Encodes a PBCH message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1pbch__encoder}{srsran\+::pbch\+\_\+encoder}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}pbch\+\_\+encoder} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Attributes inherited from \mbox{\hyperlink{classsrsran_1_1pbch__encoder}{srsran\+::pbch\+\_\+encoder}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries PAYLOAD\+\_\+\+SIZE} = 32
\begin{DoxyCompactList}\small\item\em BCH payload size. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries A} = 32
\begin{DoxyCompactList}\small\item\em Generated payload length. TS38.\+212 refers to it as {\itshape A}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries CRC\+\_\+\+LEN} = 24
\begin{DoxyCompactList}\small\item\em CRC length in bits. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries B} = (\mbox{\hyperlink{classsrsran_1_1pbch__encoder_af0f6dc15c04eaa72691dab2c026fc71d}{PAYLOAD\+\_\+\+SIZE}} + \mbox{\hyperlink{classsrsran_1_1pbch__encoder_a5ff9fd9d07a299e0d51e1e996013df5d}{CRC\+\_\+\+LEN}})
\begin{DoxyCompactList}\small\item\em Payload size plus CRC length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries E} = 864
\begin{DoxyCompactList}\small\item\em Number of rate matched bits. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries POLAR\+\_\+\+N\+\_\+\+MAX\+\_\+\+LOG} = 9
\begin{DoxyCompactList}\small\item\em Polar encoder order, logarithmic representation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries POLAR\+\_\+\+N\+\_\+\+MAX} = (1U $<$$<$ \mbox{\hyperlink{classsrsran_1_1pbch__encoder_a0ad13e181fa2ab9ec1ce32ed8d0a9f4b}{POLAR\+\_\+\+N\+\_\+\+MAX\+\_\+\+LOG}})
\begin{DoxyCompactList}\small\item\em Number of encoded bits. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1pbch__encoder__impl_a53b3d1116641ecff0ffc6221b37226a2}\label{classsrsran_1_1pbch__encoder__impl_a53b3d1116641ecff0ffc6221b37226a2} 
\index{srsran::pbch\_encoder\_impl@{srsran::pbch\_encoder\_impl}!pbch\_encoder\_impl@{pbch\_encoder\_impl}}
\index{pbch\_encoder\_impl@{pbch\_encoder\_impl}!srsran::pbch\_encoder\_impl@{srsran::pbch\_encoder\_impl}}
\doxysubsubsection{\texorpdfstring{pbch\_encoder\_impl()}{pbch\_encoder\_impl()}}
{\footnotesize\ttfamily srsran\+::pbch\+\_\+encoder\+\_\+impl\+::pbch\+\_\+encoder\+\_\+impl (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1crc__calculator}{crc\+\_\+calculator}} $>$}]{crc24c\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1pseudo__random__generator}{pseudo\+\_\+random\+\_\+generator}} $>$}]{scrambler\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__interleaver}{polar\+\_\+interleaver}} $>$}]{interleaver\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__allocator}{polar\+\_\+allocator}} $>$}]{allocator\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__code}{polar\+\_\+code}} $>$}]{code\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__encoder}{polar\+\_\+encoder}} $>$}]{encoder\+\_\+,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1polar__rate__matcher}{polar\+\_\+rate\+\_\+matcher}} $>$}]{rm\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs a generic PBCH encoder. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00083\ \ \ \ \ crc24c(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc24c\_}})),}
\DoxyCodeLine{00084\ \ \ \ \ scrambler(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{scrambler\_}})),}
\DoxyCodeLine{00085\ \ \ \ \ interleaver(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{interleaver\_}})),}
\DoxyCodeLine{00086\ \ \ \ \ alloc(std::move(allocator\_)),}
\DoxyCodeLine{00087\ \ \ \ \ code(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{code\_}})),}
\DoxyCodeLine{00088\ \ \ \ \ encoder(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoder\_}})),}
\DoxyCodeLine{00089\ \ \ \ \ rm(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rm\_}}))}
\DoxyCodeLine{00090\ \ \ \{}
\DoxyCodeLine{00091\ \ \ \ \ report\_fatal\_error\_if\_not(crc24c,\ \textcolor{stringliteral}{"{}Invalid\ CRC24C."{}});}
\DoxyCodeLine{00092\ \ \ \ \ report\_fatal\_error\_if\_not(scrambler,\ \textcolor{stringliteral}{"{}Invalid\ scrambler."{}});}
\DoxyCodeLine{00093\ \ \ \ \ report\_fatal\_error\_if\_not(interleaver,\ \textcolor{stringliteral}{"{}Invalid\ Polar\ interleaver."{}});}
\DoxyCodeLine{00094\ \ \ \ \ report\_fatal\_error\_if\_not(alloc,\ \textcolor{stringliteral}{"{}Invalid\ Polar\ allocator."{}});}
\DoxyCodeLine{00095\ \ \ \ \ report\_fatal\_error\_if\_not(code,\ \textcolor{stringliteral}{"{}Invalid\ Polar\ code."{}});}
\DoxyCodeLine{00096\ \ \ \ \ report\_fatal\_error\_if\_not(encoder,\ \textcolor{stringliteral}{"{}Invalid\ Polar\ encoder."{}});}
\DoxyCodeLine{00097\ \ \ \ \ report\_fatal\_error\_if\_not(rm,\ \textcolor{stringliteral}{"{}Invalid\ Polar\ RM."{}});}
\DoxyCodeLine{00098\ \ \ \ \ code-\/>set(\mbox{\hyperlink{classsrsran_1_1pbch__encoder_a6a103a1631cc1d6d9c395e000c365a1d}{B}},\ E,\ \mbox{\hyperlink{classsrsran_1_1pbch__encoder_a0ad13e181fa2ab9ec1ce32ed8d0a9f4b}{POLAR\_N\_MAX\_LOG}},\ \mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dca4a153ad7c410eb31b5f30ddc19128119}{polar\_code\_ibil::not\_present}});}
\DoxyCodeLine{00099\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1pbch__encoder__impl_a8ec5357153ec31bed53417524ab60a47}\label{classsrsran_1_1pbch__encoder__impl_a8ec5357153ec31bed53417524ab60a47} 
\index{srsran::pbch\_encoder\_impl@{srsran::pbch\_encoder\_impl}!encode@{encode}}
\index{encode@{encode}!srsran::pbch\_encoder\_impl@{srsran::pbch\_encoder\_impl}}
\doxysubsubsection{\texorpdfstring{encode()}{encode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} pbch\+\_\+encoder\+\_\+impl\+::encode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{encoded,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pbch__encoder_1_1pbch__msg__t}{pbch\+\_\+msg\+\_\+t}} \&}]{pbch\+\_\+msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Encodes a PBCH message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em encoded} & Encoded data. \\
\hline
\mbox{\texttt{ in}}  & {\em pbch\+\_\+msg} & PBCH message to encode. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1pbch__encoder_a07bb0aff479dff3e2505dec412c8ead6}{srsran\+::pbch\+\_\+encoder}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00164\ \{}
\DoxyCodeLine{00165\ \ \ report\_fatal\_error\_if\_not(}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}.size()\ ==\ E,\ \textcolor{stringliteral}{"{}Invalid\ encoded\ size\ (\{\}),\ expected\ \{\}."{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}}.size(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(E));}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \textcolor{comment}{//\ PBCH\ payload\ generation.}}
\DoxyCodeLine{00169\ \ \ std::array<uint8\_t,\ A>\ a;}
\DoxyCodeLine{00170\ \ \ payload\_generate(a,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pbch\_msg}});}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \textcolor{comment}{//\ Scrambling.}}
\DoxyCodeLine{00173\ \ \ std::array<uint8\_t,\ A>\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{a\_prime}};}
\DoxyCodeLine{00174\ \ \ scramble(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{a\_prime}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pbch\_msg}},\ a);}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \textcolor{comment}{//\ CRC\ Attach.}}
\DoxyCodeLine{00177\ \ \ std::array<uint8\_t,\ B>\ k;}
\DoxyCodeLine{00178\ \ \ crc\_attach(k,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{a\_prime}});}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ Channel\ coding.}}
\DoxyCodeLine{00181\ \ \ std::array<uint8\_t,\ POLAR\_N\_MAX>\ d;}
\DoxyCodeLine{00182\ \ \ channel\_coding(d,\ k);}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ Rate\ matching.}}
\DoxyCodeLine{00185\ \ \ rate\_matching(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{encoded}},\ d);}
\DoxyCodeLine{00186\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/pbch\+\_\+encoder\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/pbch\+\_\+encoder\+\_\+impl.\+cpp\end{DoxyCompactItemize}
