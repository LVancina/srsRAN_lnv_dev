\doxysection{srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool Class Reference}
\hypertarget{classsrsran_1_1ticking__ring__buffer__pool}{}\label{classsrsran_1_1ticking__ring__buffer__pool}\index{srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}}


This pool returns spans of bytes, which have been allocated using a ring memory allocator. Differently from {\ttfamily \doxylink{classsrsran_1_1ring__buffer__pool}{ring\+\_\+buffer\+\_\+pool}}, this pool keeps track of previously allocated bytes, and, on each tick, deallocates the memory that it deems to be too old. This extra check gives this pool the ability to detect potential buffer overflows.  




{\ttfamily \#include $<$ring\+\_\+buffer\+\_\+pool.\+h$>$}



Collaboration diagram for srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{dc/dc8/classsrsran_1_1ticking__ring__buffer__pool__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ticking__ring__buffer__pool_a0eea1bb691cdf693e64e53cf982a5fd6}\label{classsrsran_1_1ticking__ring__buffer__pool_a0eea1bb691cdf693e64e53cf982a5fd6} 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{using}} {\bfseries tick\+\_\+t} = \mbox{\hyperlink{classunsigned}{unsigned}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ticking__ring__buffer__pool_a69d46df26ec845e0652b296535ac753d}{ticking\+\_\+ring\+\_\+buffer\+\_\+pool}} (size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+bytes\+\_\+per\+\_\+tick}}, size\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buffer\+\_\+duration\+\_\+in\+\_\+ticks}}, \mbox{\hyperlink{classunsigned}{tick\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tic\+\_\+wraparound\+\_\+}})
\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1ticking__ring__buffer__pool_ac329b86e3c4e20e10b05b62dea113fa6}{allocate\+\_\+buffer}} (size\+\_\+t sz) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Allocate span of contiguous bytes of size {\ttfamily sz}. Overflows may be detected, depending on the overflow detection policy defined. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ticking__ring__buffer__pool_ae1c6ac21515f5ae5bc9a524ed82a2897}{tick}} (\mbox{\hyperlink{classunsigned}{tick\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tic\+\_\+index}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{noexcept}}
\begin{DoxyCompactList}\small\item\em Increments tick counter and clears old buffers. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1ticking__ring__buffer__pool_ab20c42fe7e9423f933363d0674c44709}{size}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Size of the ring buffer pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This pool returns spans of bytes, which have been allocated using a ring memory allocator. Differently from {\ttfamily \doxylink{classsrsran_1_1ring__buffer__pool}{ring\+\_\+buffer\+\_\+pool}}, this pool keeps track of previously allocated bytes, and, on each tick, deallocates the memory that it deems to be too old. This extra check gives this pool the ability to detect potential buffer overflows. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ticking__ring__buffer__pool_a69d46df26ec845e0652b296535ac753d}\label{classsrsran_1_1ticking__ring__buffer__pool_a69d46df26ec845e0652b296535ac753d} 
\index{srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}!ticking\_ring\_buffer\_pool@{ticking\_ring\_buffer\_pool}}
\index{ticking\_ring\_buffer\_pool@{ticking\_ring\_buffer\_pool}!srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}}
\doxysubsubsection{\texorpdfstring{ticking\_ring\_buffer\_pool()}{ticking\_ring\_buffer\_pool()}}
{\footnotesize\ttfamily srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{nof\+\_\+bytes\+\_\+per\+\_\+tick,  }\item[{size\+\_\+t}]{buffer\+\_\+duration\+\_\+in\+\_\+ticks,  }\item[{\mbox{\hyperlink{classunsigned}{tick\+\_\+t}}}]{tic\+\_\+wraparound\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00126\ \ \ \ \ pool(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_bytes\_per\_tick}}\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buffer\_duration\_in\_ticks}}),}
\DoxyCodeLine{00127\ \ \ \ \ overflow\_detector(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_bytes\_per\_tick}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{buffer\_duration\_in\_ticks}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tic\_wraparound\_}})}
\DoxyCodeLine{00128\ \ \ \{}
\DoxyCodeLine{00129\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ticking__ring__buffer__pool_ac329b86e3c4e20e10b05b62dea113fa6}\label{classsrsran_1_1ticking__ring__buffer__pool_ac329b86e3c4e20e10b05b62dea113fa6} 
\index{srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}!allocate\_buffer@{allocate\_buffer}}
\index{allocate\_buffer@{allocate\_buffer}!srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}}
\doxysubsubsection{\texorpdfstring{allocate\_buffer()}{allocate\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool\+::allocate\+\_\+buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Allocate span of contiguous bytes of size {\ttfamily sz}. Overflows may be detected, depending on the overflow detection policy defined. 

\begin{DoxyReturn}{Returns}
span of bytes pointing at allocated memory region. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00135\ \ \ \{}
\DoxyCodeLine{00136\ \ \ \ \ overflow\_detector.register\_alloc(sz);}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{return}\ pool.\mbox{\hyperlink{classsrsran_1_1ring__buffer__pool_a22d3f1e138034fe04dfb02661bd793ad}{allocate\_buffer}}(sz);}
\DoxyCodeLine{00138\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ticking__ring__buffer__pool_ab20c42fe7e9423f933363d0674c44709}\label{classsrsran_1_1ticking__ring__buffer__pool_ab20c42fe7e9423f933363d0674c44709} 
\index{srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}!size@{size}}
\index{size@{size}!srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Size of the ring buffer pool. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \{\ \textcolor{keywordflow}{return}\ pool.\mbox{\hyperlink{classsrsran_1_1ring__buffer__pool_aefd0cef701632b392e7fe80d89ba4d80}{size}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ticking__ring__buffer__pool_ae1c6ac21515f5ae5bc9a524ed82a2897}\label{classsrsran_1_1ticking__ring__buffer__pool_ae1c6ac21515f5ae5bc9a524ed82a2897} 
\index{srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}!tick@{tick}}
\index{tick@{tick}!srsran::ticking\_ring\_buffer\_pool@{srsran::ticking\_ring\_buffer\_pool}}
\doxysubsubsection{\texorpdfstring{tick()}{tick()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ticking\+\_\+ring\+\_\+buffer\+\_\+pool\+::tick (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{tick\+\_\+t}}}]{tic\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Increments tick counter and clears old buffers. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00141\ \{\ overflow\_detector.tick(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tic\_index}});\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/memory\+\_\+pool/ring\+\_\+buffer\+\_\+pool.\+h\end{DoxyCompactItemize}
