\doxysection{chrono.\+h}
\hypertarget{chrono_8h_source}{}\label{chrono_8h_source}\index{external/fmt/include/fmt/chrono.h@{external/fmt/include/fmt/chrono.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Formatting\ library\ for\ C++\ -\/\ chrono\ support}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Copyright\ (c)\ 2012\ -\/\ present,\ Victor\ Zverovich}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ All\ rights\ reserved.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ For\ the\ license\ information\ refer\ to\ format.h.}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifndef}\ \textcolor{preprocessor}{FMT\_CHRONO\_H\_}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{define}\ \textcolor{preprocessor}{FMT\_CHRONO\_H\_}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{chrono}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{ctime}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{locale}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{sstream}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \mbox{\hyperlink{format_8h}{"{}format.h"{}}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \mbox{\hyperlink{locale_8h}{"{}locale.h"{}}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \mbox{\hyperlink{core_8h_a887c191adf8cfaf06ed40b5c4d487343}{FMT\_BEGIN\_NAMESPACE}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{//\ Enable\ safe\ chrono\ durations,\ unless\ explicitly\ disabled.}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifndef}\ \textcolor{preprocessor}{FMT\_SAFE\_DURATION\_CAST}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#}\ \ \textcolor{preprocessor}{define}\ \textcolor{preprocessor}{FMT\_SAFE\_DURATION\_CAST}\ 1}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \mbox{\hyperlink{chrono_8h_a8e36408d8f476cd09c46417ab03f458e}{FMT\_SAFE\_DURATION\_CAST}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{comment}{//\ For\ conversion\ between\ std::chrono::durations\ without\ undefined}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ behaviour\ or\ erroneous\ results.}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ This\ is\ a\ stripped\ down\ version\ of\ duration\_cast,\ for\ inclusion\ in\ fmt.}}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ See\ https://github.com/pauldreik/safe\_duration\_cast}}
\DoxyCodeLine{00031\ \textcolor{comment}{//}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ Copyright\ Paul\ Dreik\ 2019}}
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace}\ safe\_duration\_cast\ \{}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(!std::is\_same<From,\ To>::value\ \&\&}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<From>::is\_signed\ ==}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<To>::is\_signed)>}
\DoxyCodeLine{00039\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ To\ lossless\_integral\_conversion(\textcolor{keyword}{const}\ From\ from,\ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00040\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00041\ \ \ \textcolor{keyword}{using}\ F\ =\ std::numeric\_limits<From>;}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{using}\ T\ =\ std::numeric\_limits<To>;}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{static\_assert}(F::is\_integer,\ \textcolor{stringliteral}{"{}From\ must\ be\ integral"{}});}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{static\_assert}(T::is\_integer,\ \textcolor{stringliteral}{"{}To\ must\ be\ integral"{}});}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ A\ and\ B\ are\ both\ signed,\ or\ both\ unsigned.}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{if}\ (F::digits\ <=\ T::digits)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{comment}{//\ From\ fits\ in\ To\ without\ any\ problem.}}
\DoxyCodeLine{00049\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//\ From\ does\ not\ always\ fit\ in\ To,\ resort\ to\ a\ dynamic\ check.}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ <\ (T::min)()\ ||\ from\ >\ (T::max)())\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \textcolor{comment}{//\ outside\ range.}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<To>(from);}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{comment}{/**}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ *\ converts\ From\ to\ To,\ without\ loss.\ If\ the\ dynamic\ value\ of\ from}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ *\ can't\ be\ converted\ to\ To\ without\ loss,\ ec\ is\ set.}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00064\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(!std::is\_same<From,\ To>::value\ \&\&}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<From>::is\_signed\ !=}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<To>::is\_signed)>}
\DoxyCodeLine{00068\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ To\ lossless\_integral\_conversion(\textcolor{keyword}{const}\ From\ from,\ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00069\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{using}\ F\ =\ std::numeric\_limits<From>;}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{using}\ T\ =\ std::numeric\_limits<To>;}
\DoxyCodeLine{00072\ \ \ \textcolor{keyword}{static\_assert}(F::is\_integer,\ \textcolor{stringliteral}{"{}From\ must\ be\ integral"{}});}
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{static\_assert}(T::is\_integer,\ \textcolor{stringliteral}{"{}To\ must\ be\ integral"{}});}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ (F::is\_signed\ \&\&\ !T::is\_signed)\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ From\ may\ be\ negative,\ not\ allowed!}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (fmt::detail::is\_negative(from))\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ From\ is\ positive.\ Can\ it\ always\ fit\ in\ To?}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{if}\ (F::digits\ <=\ T::digits)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{comment}{//\ yes,\ From\ always\ fits\ in\ To.}}
\DoxyCodeLine{00085\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \textcolor{comment}{//\ from\ may\ not\ fit\ in\ To,\ we\ have\ to\ do\ a\ dynamic\ check}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ \textcolor{keyword}{static\_cast}<From>((T::max)()))\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00091\ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{keywordflow}{if}\ (!F::is\_signed\ \&\&\ T::is\_signed)\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{//\ can\ from\ be\ held\ in\ To?}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (F::digits\ <\ T::digits)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \textcolor{comment}{//\ yes,\ From\ always\ fits\ in\ To.}}
\DoxyCodeLine{00098\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \textcolor{comment}{//\ from\ may\ not\ fit\ in\ To,\ we\ have\ to\ do\ a\ dynamic\ check}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ \textcolor{keyword}{static\_cast}<From>((T::max)()))\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ outside\ range.}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ reaching\ here\ means\ all\ is\ ok\ for\ lossless\ conversion.}}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<To>(from);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \}\ \ \textcolor{comment}{//\ function}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_same<From,\ To>::value)>}
\DoxyCodeLine{00115\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ To\ lossless\_integral\_conversion(\textcolor{keyword}{const}\ From\ from,\ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00116\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00117\ \ \ \textcolor{keywordflow}{return}\ from;}
\DoxyCodeLine{00118\ \}\ \ \textcolor{comment}{//\ function}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{comment}{//\ clang-\/format\ off}}
\DoxyCodeLine{00121\ \textcolor{comment}{/**}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ *\ converts\ From\ to\ To\ if\ possible,\ otherwise\ ec\ is\ set.}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ *\ input\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \ \ \ output}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ *\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/|-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ *\ NaN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ NaN}}
\DoxyCodeLine{00127\ \textcolor{comment}{\ *\ Inf\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ Inf}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ *\ normal,\ fits\ in\ output\ \ \ \ \ \ \ \ \ \ \ |\ converted\ (possibly\ lossy)}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ *\ normal,\ does\ not\ fit\ in\ output\ \ \ |\ ec\ is\ set}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ *\ subnormal\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ best\ effort}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ *\ -\/Inf\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ -\/Inf}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ clang-\/format\ on}}
\DoxyCodeLine{00134\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(!std::is\_same<From,\ To>::value)>}
\DoxyCodeLine{00136\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ To\ safe\_float\_conversion(\textcolor{keyword}{const}\ From\ from,\ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00137\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00138\ \ \ \textcolor{keyword}{using}\ T\ =\ std::numeric\_limits<To>;}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{static\_assert}(std::is\_floating\_point<From>::value,\ \textcolor{stringliteral}{"{}From\ must\ be\ floating"{}});}
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{static\_assert}(std::is\_floating\_point<To>::value,\ \textcolor{stringliteral}{"{}To\ must\ be\ floating"{}});}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{comment}{//\ catch\ the\ only\ happy\ case}}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordflow}{if}\ (std::isfinite(from))\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >=\ T::lowest()\ \&\&\ from\ <=\ (T::max)())\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<To>(from);}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ not\ within\ range.}}
\DoxyCodeLine{00148\ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00150\ \ \ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ nan\ and\ inf\ will\ be\ preserved}}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<To>(from);}
\DoxyCodeLine{00154\ \}\ \ \textcolor{comment}{//\ function}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_same<From,\ To>::value)>}
\DoxyCodeLine{00158\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ To\ safe\_float\_conversion(\textcolor{keyword}{const}\ From\ from,\ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00159\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00160\ \ \ \textcolor{keyword}{static\_assert}(std::is\_floating\_point<From>::value,\ \textcolor{stringliteral}{"{}From\ must\ be\ floating"{}});}
\DoxyCodeLine{00161\ \ \ \textcolor{keywordflow}{return}\ from;}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{comment}{/**}}
\DoxyCodeLine{00165\ \textcolor{comment}{\ *\ safe\ duration\ cast\ between\ integral\ durations}}
\DoxyCodeLine{00166\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00167\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ FromRep,\ \textcolor{keyword}{typename}\ FromPeriod,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<FromRep>::value),}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<\textcolor{keyword}{typename}\ To::rep>::value)>}
\DoxyCodeLine{00170\ To\ safe\_duration\_cast(std::chrono::duration<FromRep,\ FromPeriod>\ from,}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00172\ \ \ \textcolor{keyword}{using}\ From\ =\ std::chrono::duration<FromRep,\ FromPeriod>;}
\DoxyCodeLine{00173\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{//\ the\ basic\ idea\ is\ that\ we\ need\ to\ convert\ from\ count()\ in\ the\ from\ type}}
\DoxyCodeLine{00175\ \ \ \textcolor{comment}{//\ to\ count()\ in\ the\ To\ type,\ by\ multiplying\ it\ with\ this:}}
\DoxyCodeLine{00176\ \ \ \textcolor{keyword}{struct}\ Factor}
\DoxyCodeLine{00177\ \ \ \ \ \ \ :\ std::ratio\_divide<\textcolor{keyword}{typename}\ From::period,\ \textcolor{keyword}{typename}\ To::period>\ \{\};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \textcolor{keyword}{static\_assert}(Factor::num\ >\ 0,\ \textcolor{stringliteral}{"{}num\ must\ be\ positive"{}});}
\DoxyCodeLine{00180\ \ \ \textcolor{keyword}{static\_assert}(Factor::den\ >\ 0,\ \textcolor{stringliteral}{"{}den\ must\ be\ positive"{}});}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{//\ the\ conversion\ is\ like\ this:\ multiply\ from.count()\ with\ Factor::num}}
\DoxyCodeLine{00183\ \ \ \textcolor{comment}{//\ /Factor::den\ and\ convert\ it\ to\ To::rep,\ all\ this\ without}}
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ overflow/underflow.\ let's\ start\ by\ finding\ a\ suitable\ type\ that\ can\ hold}}
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ both\ To,\ From\ and\ Factor::num}}
\DoxyCodeLine{00186\ \ \ \textcolor{keyword}{using}\ IntermediateRep\ =}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::common\_type<\textcolor{keyword}{typename}\ From::rep,\ \textcolor{keyword}{typename}\ To::rep,}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(Factor::num)>::type;}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \textcolor{comment}{//\ safe\ conversion\ to\ IntermediateRep}}
\DoxyCodeLine{00191\ \ \ IntermediateRep\ count\ =}
\DoxyCodeLine{00192\ \ \ \ \ \ \ lossless\_integral\_conversion<IntermediateRep>(from.count(),\ ec);}
\DoxyCodeLine{00193\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00195\ \ \ \}}
\DoxyCodeLine{00196\ \ \ \textcolor{comment}{//\ multiply\ with\ Factor::num\ without\ overflow\ or\ underflow}}
\DoxyCodeLine{00197\ \ \ \textcolor{keywordflow}{if}\ (Factor::num\ !=\ 1)\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ max1\ =\ detail::max\_value<IntermediateRep>()\ /\ Factor::num;}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{if}\ (count\ >\ max1)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00202\ \ \ \ \ \}}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ min1\ =}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ (std::numeric\_limits<IntermediateRep>::min)()\ /\ Factor::num;}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}\ (count\ <\ min1)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00209\ \ \ \ \ count\ *=\ Factor::num;}
\DoxyCodeLine{00210\ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{comment}{//\ this\ can't\ go\ wrong,\ right?\ den>0\ is\ checked\ earlier.}}
\DoxyCodeLine{00213\ \ \ \textcolor{keywordflow}{if}\ (Factor::den\ !=\ 1)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ count\ /=\ Factor::den;}
\DoxyCodeLine{00215\ \ \ \}}
\DoxyCodeLine{00216\ \ \ \textcolor{comment}{//\ convert\ to\ the\ to\ type,\ safely}}
\DoxyCodeLine{00217\ \ \ \textcolor{keyword}{using}\ ToRep\ =\ \textcolor{keyword}{typename}\ To::rep;}
\DoxyCodeLine{00218\ \ \ \textcolor{keyword}{const}\ ToRep\ tocount\ =\ lossless\_integral\_conversion<ToRep>(count,\ ec);}
\DoxyCodeLine{00219\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00221\ \ \ \}}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{return}\ To\{tocount\};}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \textcolor{comment}{/**}}
\DoxyCodeLine{00226\ \textcolor{comment}{\ *\ safe\ duration\_cast\ between\ floating\ point\ durations}}
\DoxyCodeLine{00227\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00228\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ FromRep,\ \textcolor{keyword}{typename}\ FromPeriod,}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<FromRep>::value),}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<\textcolor{keyword}{typename}\ To::rep>::value)>}
\DoxyCodeLine{00231\ To\ safe\_duration\_cast(std::chrono::duration<FromRep,\ FromPeriod>\ from,}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\&\ ec)\ \{}
\DoxyCodeLine{00233\ \ \ \textcolor{keyword}{using}\ From\ =\ std::chrono::duration<FromRep,\ FromPeriod>;}
\DoxyCodeLine{00234\ \ \ ec\ =\ 0;}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{if}\ (std::isnan(from.count()))\ \{}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{comment}{//\ nan\ in,\ gives\ nan\ out.\ easy.}}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{return}\ To\{std::numeric\_limits<\textcolor{keyword}{typename}\ To::rep>::quiet\_NaN()\};}
\DoxyCodeLine{00238\ \ \ \}}
\DoxyCodeLine{00239\ \ \ \textcolor{comment}{//\ maybe\ we\ should\ also\ check\ if\ from\ is\ denormal,\ and\ decide\ what\ to\ do\ about}}
\DoxyCodeLine{00240\ \ \ \textcolor{comment}{//\ it.}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \textcolor{comment}{//\ +-\/inf\ should\ be\ preserved.}}
\DoxyCodeLine{00243\ \ \ \textcolor{keywordflow}{if}\ (std::isinf(from.count()))\ \{}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{return}\ To\{from.count()\};}
\DoxyCodeLine{00245\ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \textcolor{comment}{//\ the\ basic\ idea\ is\ that\ we\ need\ to\ convert\ from\ count()\ in\ the\ from\ type}}
\DoxyCodeLine{00248\ \ \ \textcolor{comment}{//\ to\ count()\ in\ the\ To\ type,\ by\ multiplying\ it\ with\ this:}}
\DoxyCodeLine{00249\ \ \ \textcolor{keyword}{struct}\ Factor}
\DoxyCodeLine{00250\ \ \ \ \ \ \ :\ std::ratio\_divide<\textcolor{keyword}{typename}\ From::period,\ \textcolor{keyword}{typename}\ To::period>\ \{\};}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \textcolor{keyword}{static\_assert}(Factor::num\ >\ 0,\ \textcolor{stringliteral}{"{}num\ must\ be\ positive"{}});}
\DoxyCodeLine{00253\ \ \ \textcolor{keyword}{static\_assert}(Factor::den\ >\ 0,\ \textcolor{stringliteral}{"{}den\ must\ be\ positive"{}});}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \textcolor{comment}{//\ the\ conversion\ is\ like\ this:\ multiply\ from.count()\ with\ Factor::num}}
\DoxyCodeLine{00256\ \ \ \textcolor{comment}{//\ /Factor::den\ and\ convert\ it\ to\ To::rep,\ all\ this\ without}}
\DoxyCodeLine{00257\ \ \ \textcolor{comment}{//\ overflow/underflow.\ let's\ start\ by\ finding\ a\ suitable\ type\ that\ can\ hold}}
\DoxyCodeLine{00258\ \ \ \textcolor{comment}{//\ both\ To,\ From\ and\ Factor::num}}
\DoxyCodeLine{00259\ \ \ \textcolor{keyword}{using}\ IntermediateRep\ =}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::common\_type<\textcolor{keyword}{typename}\ From::rep,\ \textcolor{keyword}{typename}\ To::rep,}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(Factor::num)>::type;}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \textcolor{comment}{//\ force\ conversion\ of\ From::rep\ -\/>\ IntermediateRep\ to\ be\ safe,}}
\DoxyCodeLine{00264\ \ \ \textcolor{comment}{//\ even\ if\ it\ will\ never\ happen\ be\ narrowing\ in\ this\ context.}}
\DoxyCodeLine{00265\ \ \ IntermediateRep\ count\ =}
\DoxyCodeLine{00266\ \ \ \ \ \ \ safe\_float\_conversion<IntermediateRep>(from.count(),\ ec);}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00269\ \ \ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \textcolor{comment}{//\ multiply\ with\ Factor::num\ without\ overflow\ or\ underflow}}
\DoxyCodeLine{00272\ \ \ \textcolor{keywordflow}{if}\ (Factor::num\ !=\ 1)\ \{}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ max1\ =\ detail::max\_value<IntermediateRep>()\ /}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast}<IntermediateRep>(Factor::num);}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{if}\ (count\ >\ max1)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ min1\ =\ std::numeric\_limits<IntermediateRep>::lowest()\ /}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast}<IntermediateRep>(Factor::num);}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordflow}{if}\ (count\ <\ min1)\ \{}
\DoxyCodeLine{00282\ \ \ \ \ \ \ ec\ =\ 1;}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00284\ \ \ \ \ \}}
\DoxyCodeLine{00285\ \ \ \ \ count\ *=\ \textcolor{keyword}{static\_cast}<IntermediateRep>(Factor::num);}
\DoxyCodeLine{00286\ \ \ \}}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \textcolor{comment}{//\ this\ can't\ go\ wrong,\ right?\ den>0\ is\ checked\ earlier.}}
\DoxyCodeLine{00289\ \ \ \textcolor{keywordflow}{if}\ (Factor::den\ !=\ 1)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keyword}{using}\ common\_t\ =\ \textcolor{keyword}{typename}\ std::common\_type<IntermediateRep,\ intmax\_t>::type;}
\DoxyCodeLine{00291\ \ \ \ \ count\ /=\ \textcolor{keyword}{static\_cast}<common\_t>(Factor::den);}
\DoxyCodeLine{00292\ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \textcolor{comment}{//\ convert\ to\ the\ to\ type,\ safely}}
\DoxyCodeLine{00295\ \ \ \textcolor{keyword}{using}\ ToRep\ =\ \textcolor{keyword}{typename}\ To::rep;}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \textcolor{keyword}{const}\ ToRep\ tocount\ =\ safe\_float\_conversion<ToRep>(count,\ ec);}
\DoxyCodeLine{00298\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00300\ \ \ \}}
\DoxyCodeLine{00301\ \ \ \textcolor{keywordflow}{return}\ To\{tocount\};}
\DoxyCodeLine{00302\ \}}
\DoxyCodeLine{00303\ \}\ \ \textcolor{comment}{//\ namespace\ safe\_duration\_cast}}
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{comment}{//\ Prevents\ expansion\ of\ a\ preceding\ token\ as\ a\ function-\/style\ macro.}}
\DoxyCodeLine{00307\ \textcolor{comment}{//\ Usage:\ f\ FMT\_NOMACRO()}}
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{define}\ \textcolor{preprocessor}{FMT\_NOMACRO}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \textcolor{keyword}{namespace}\ detail\ \{}
\DoxyCodeLine{00311\ \textcolor{keyword}{inline}\ null<>\ localtime\_r\ \mbox{\hyperlink{chrono_8h_a0c2d874e178da493766bca4f1b898780}{FMT\_NOMACRO}}(...)\ \{\ \textcolor{keywordflow}{return}\ null<>();\ \}}
\DoxyCodeLine{00312\ \textcolor{keyword}{inline}\ null<>\ localtime\_s(...)\ \{\ \textcolor{keywordflow}{return}\ null<>();\ \}}
\DoxyCodeLine{00313\ \textcolor{keyword}{inline}\ null<>\ gmtime\_r(...)\ \{\ \textcolor{keywordflow}{return}\ null<>();\ \}}
\DoxyCodeLine{00314\ \textcolor{keyword}{inline}\ null<>\ gmtime\_s(...)\ \{\ \textcolor{keywordflow}{return}\ null<>();\ \}}
\DoxyCodeLine{00315\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{comment}{//\ Thread-\/safe\ replacement\ for\ std::localtime}}
\DoxyCodeLine{00318\ \textcolor{keyword}{inline}\ std::tm\ localtime(std::time\_t\ time)\ \{}
\DoxyCodeLine{00319\ \ \ \textcolor{keyword}{struct}\ dispatcher\ \{}
\DoxyCodeLine{00320\ \ \ \ \ std::time\_t\ time\_;}
\DoxyCodeLine{00321\ \ \ \ \ std::tm\ tm\_\{\};}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \ \ \ \ dispatcher(std::time\_t\ t)\ :\ time\_(t)\ \{\}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{keywordtype}{bool}\ run()\ \{}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \textcolor{keyword}{using}\ \textcolor{keyword}{namespace}\ fmt::detail;}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handle(localtime\_r(\&time\_,\ \&tm\_));}
\DoxyCodeLine{00328\ \ \ \ \ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordtype}{bool}\ handle(std::tm*\ tm)\ \{\ \textcolor{keywordflow}{return}\ tm\ !=\ \textcolor{keywordtype}{nullptr};\ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keywordtype}{bool}\ handle(detail::null<>)\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \textcolor{keyword}{using}\ \textcolor{keyword}{namespace}\ fmt::detail;}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fallback(localtime\_s(\&tm\_,\ \&time\_));}
\DoxyCodeLine{00335\ \ \ \ \ \}}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{keywordtype}{bool}\ fallback(\textcolor{keywordtype}{int}\ res)\ \{\ \textcolor{keywordflow}{return}\ res\ ==\ 0;\ \}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \textcolor{preprocessor}{!}\mbox{\hyperlink{core_8h_a363cb0623e6975ff2b357a52a03e4728}{FMT\_MSC\_VER}}}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordtype}{bool}\ fallback(detail::null<>)\ \{}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \textcolor{keyword}{using}\ \textcolor{keyword}{namespace}\ fmt::detail;}
\DoxyCodeLine{00342\ \ \ \ \ \ \ std::tm*\ tm\ =\ std::localtime(\&time\_);\ \textcolor{comment}{//\ lgtm[cpp/potentially-\/dangerous-\/function]}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tm)\ tm\_\ =\ *tm;}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tm\ !=\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00345\ \ \ \ \ \}}
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00347\ \ \ \};}
\DoxyCodeLine{00348\ \ \ dispatcher\ lt(time);}
\DoxyCodeLine{00349\ \ \ \textcolor{comment}{//\ Too\ big\ time\ values\ may\ be\ unsupported.}}
\DoxyCodeLine{00350\ \ \ \textcolor{keywordflow}{if}\ (!lt.run())\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}time\_t\ value\ out\ of\ range"{}}));}
\DoxyCodeLine{00351\ \ \ \textcolor{keywordflow}{return}\ lt.tm\_;}
\DoxyCodeLine{00352\ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \textcolor{comment}{//\ Thread-\/safe\ replacement\ for\ std::gmtime}}
\DoxyCodeLine{00355\ \textcolor{keyword}{inline}\ std::tm\ gmtime(std::time\_t\ time)\ \{}
\DoxyCodeLine{00356\ \ \ \textcolor{keyword}{struct}\ dispatcher\ \{}
\DoxyCodeLine{00357\ \ \ \ \ std::time\_t\ time\_;}
\DoxyCodeLine{00358\ \ \ \ \ std::tm\ tm\_;}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ dispatcher(std::time\_t\ t)\ :\ time\_(t)\ \{\}}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordtype}{bool}\ run()\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \textcolor{keyword}{using}\ \textcolor{keyword}{namespace}\ fmt::detail;}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handle(gmtime\_r(\&time\_,\ \&tm\_));}
\DoxyCodeLine{00365\ \ \ \ \ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keywordtype}{bool}\ handle(std::tm*\ tm)\ \{\ \textcolor{keywordflow}{return}\ tm\ !=\ \textcolor{keywordtype}{nullptr};\ \}}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordtype}{bool}\ handle(detail::null<>)\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \textcolor{keyword}{using}\ \textcolor{keyword}{namespace}\ fmt::detail;}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fallback(gmtime\_s(\&tm\_,\ \&time\_));}
\DoxyCodeLine{00372\ \ \ \ \ \}}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordtype}{bool}\ fallback(\textcolor{keywordtype}{int}\ res)\ \{\ \textcolor{keywordflow}{return}\ res\ ==\ 0;\ \}}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \textcolor{preprocessor}{!}\mbox{\hyperlink{core_8h_a363cb0623e6975ff2b357a52a03e4728}{FMT\_MSC\_VER}}}
\DoxyCodeLine{00377\ \ \ \ \ \textcolor{keywordtype}{bool}\ fallback(detail::null<>)\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ std::tm*\ tm\ =\ std::gmtime(\&time\_);\ \textcolor{comment}{//\ lgtm[cpp/potentially-\/dangerous-\/function]}}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tm)\ tm\_\ =\ *tm;}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tm\ !=\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00381\ \ \ \ \ \}}
\DoxyCodeLine{00382\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00383\ \ \ \};}
\DoxyCodeLine{00384\ \ \ dispatcher\ gt(time);}
\DoxyCodeLine{00385\ \ \ \textcolor{comment}{//\ Too\ big\ time\ values\ may\ be\ unsupported.}}
\DoxyCodeLine{00386\ \ \ \textcolor{keywordflow}{if}\ (!gt.run())\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}time\_t\ value\ out\ of\ range"{}}));}
\DoxyCodeLine{00387\ \ \ \textcolor{keywordflow}{return}\ gt.tm\_;}
\DoxyCodeLine{00388\ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \textcolor{keyword}{namespace}\ detail\ \{}
\DoxyCodeLine{00391\ \textcolor{keyword}{inline}\ size\_t\ strftime(\textcolor{keywordtype}{char}*\ str,\ size\_t\ count,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ format,}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::tm*\ time)\ \{}
\DoxyCodeLine{00393\ \ \ \textcolor{keywordflow}{return}\ std::strftime(str,\ count,\ format,\ time);}
\DoxyCodeLine{00394\ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \textcolor{keyword}{inline}\ size\_t\ strftime(\textcolor{keywordtype}{wchar\_t}*\ str,\ size\_t\ count,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ format,}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::tm*\ time)\ \{}
\DoxyCodeLine{00398\ \ \ \textcolor{keywordflow}{return}\ std::wcsftime(str,\ count,\ format,\ time);}
\DoxyCodeLine{00399\ \}}
\DoxyCodeLine{00400\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct}\ formatter<std::tm,\ Char>\ \{}
\DoxyCodeLine{00403\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{00404\ \ \ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{00405\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ ctx.begin();}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ ctx.end()\ \&\&\ *it\ ==\ \textcolor{stringliteral}{':'})\ ++it;}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ it;}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{while}\ (end\ !=\ ctx.end()\ \&\&\ *end\ !=\ \textcolor{stringliteral}{'\}'})\ ++end;}
\DoxyCodeLine{00409\ \ \ \ \ tm\_format.reserve(detail::to\_unsigned(end\ -\/\ it\ +\ 1));}
\DoxyCodeLine{00410\ \ \ \ \ tm\_format.append(it,\ end);}
\DoxyCodeLine{00411\ \ \ \ \ tm\_format.push\_back(\textcolor{stringliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{00413\ \ \ \}}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{00416\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ std::tm\&\ tm,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{00417\ \ \ \ \ basic\_memory\_buffer<Char>\ buf;}
\DoxyCodeLine{00418\ \ \ \ \ size\_t\ start\ =\ buf.size();}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ size\_t\ size\ =\ buf.capacity()\ -\/\ start;}
\DoxyCodeLine{00421\ \ \ \ \ \ \ size\_t\ count\ =\ detail::strftime(\&buf[start],\ size,\ \&tm\_format[0],\ \&tm);}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (count\ !=\ 0)\ \{}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ buf.resize(start\ +\ count);}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >=\ tm\_format.size()\ *\ 256)\ \{}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ buffer\ is\ 256\ times\ larger\ than\ the\ format\ string,\ assume}}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ that\ \`{}strftime`\ gives\ an\ empty\ result.\ There\ doesn't\ seem\ to\ be\ a}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ better\ way\ to\ distinguish\ the\ two\ cases:}}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/367}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \textcolor{keyword}{const}\ size\_t\ MIN\_GROWTH\ =\ 10;}
\DoxyCodeLine{00434\ \ \ \ \ \ \ buf.reserve(buf.capacity()\ +\ (size\ >\ MIN\_GROWTH\ ?\ size\ :\ MIN\_GROWTH));}
\DoxyCodeLine{00435\ \ \ \ \ \}}
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keywordflow}{return}\ std::copy(buf.begin(),\ buf.end(),\ ctx.out());}
\DoxyCodeLine{00437\ \ \ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ basic\_memory\_buffer<Char>\ tm\_format;}
\DoxyCodeLine{00440\ \};}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \textcolor{keyword}{namespace}\ detail\ \{}
\DoxyCodeLine{00443\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Period>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units()\ \{}
\DoxyCodeLine{00444\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00445\ \}}
\DoxyCodeLine{00446\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::atto>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}as"{}};\ \}}
\DoxyCodeLine{00447\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::femto>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}fs"{}};\ \}}
\DoxyCodeLine{00448\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::pico>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ps"{}};\ \}}
\DoxyCodeLine{00449\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::nano>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ns"{}};\ \}}
\DoxyCodeLine{00450\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::micro>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}µs"{}};\ \}}
\DoxyCodeLine{00451\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::milli>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ms"{}};\ \}}
\DoxyCodeLine{00452\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::centi>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}cs"{}};\ \}}
\DoxyCodeLine{00453\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::deci>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ds"{}};\ \}}
\DoxyCodeLine{00454\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::ratio<1>>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}s"{}};\ \}}
\DoxyCodeLine{00455\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::deca>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}das"{}};\ \}}
\DoxyCodeLine{00456\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::hecto>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}hs"{}};\ \}}
\DoxyCodeLine{00457\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::kilo>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ks"{}};\ \}}
\DoxyCodeLine{00458\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::mega>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Ms"{}};\ \}}
\DoxyCodeLine{00459\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::giga>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Gs"{}};\ \}}
\DoxyCodeLine{00460\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::tera>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Ts"{}};\ \}}
\DoxyCodeLine{00461\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::peta>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Ps"{}};\ \}}
\DoxyCodeLine{00462\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::exa>()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Es"{}};\ \}}
\DoxyCodeLine{00463\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::ratio<60>>()\ \{}
\DoxyCodeLine{00464\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}m"{}};}
\DoxyCodeLine{00465\ \}}
\DoxyCodeLine{00466\ \textcolor{keyword}{template}\ <>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ get\_units<std::ratio<3600>>()\ \{}
\DoxyCodeLine{00467\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}h"{}};}
\DoxyCodeLine{00468\ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \textcolor{keyword}{enum}\ \textcolor{keyword}{class}\ numeric\_system\ \{}
\DoxyCodeLine{00471\ \ \ standard,}
\DoxyCodeLine{00472\ \ \ \textcolor{comment}{//\ Alternative\ numeric\ system,\ e.g.\ 十二\ instead\ of\ 12\ in\ ja\_JP\ locale.}}
\DoxyCodeLine{00473\ \ \ alternative}
\DoxyCodeLine{00474\ \};}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \textcolor{comment}{//\ Parses\ a\ put\_time-\/like\ format\ string\ and\ invokes\ handler\ actions.}}
\DoxyCodeLine{00477\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{00478\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{const}\ Char*\ parse\_chrono\_format(\textcolor{keyword}{const}\ Char*\ begin,}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{00481\ \ \ \textcolor{keyword}{auto}\ ptr\ =\ begin;}
\DoxyCodeLine{00482\ \ \ \textcolor{keywordflow}{while}\ (ptr\ !=\ end)\ \{}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keyword}{auto}\ c\ =\ *ptr;}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{stringliteral}{'\}'})\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ \textcolor{stringliteral}{'\%'})\ \{}
\DoxyCodeLine{00486\ \ \ \ \ \ \ ++ptr;}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00488\ \ \ \ \ \}}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ !=\ ptr)\ handler.on\_text(begin,\ ptr);}
\DoxyCodeLine{00490\ \ \ \ \ ++ptr;\ \ \textcolor{comment}{//\ consume\ '\%'}}
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr\ ==\ end)\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00492\ \ \ \ \ c\ =\ *ptr++;}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{switch}\ (c)\ \{}
\DoxyCodeLine{00494\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'\%'}:}
\DoxyCodeLine{00495\ \ \ \ \ \ \ handler.on\_text(ptr\ -\/\ 1,\ ptr);}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'n'}:\ \{}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char\ newline[]\ =\ \{\textcolor{stringliteral}{'\(\backslash\)n'}\};}
\DoxyCodeLine{00499\ \ \ \ \ \ \ handler.on\_text(newline,\ newline\ +\ 1);}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00501\ \ \ \ \ \}}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'t'}:\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char\ tab[]\ =\ \{\textcolor{stringliteral}{'\(\backslash\)t'}\};}
\DoxyCodeLine{00504\ \ \ \ \ \ \ handler.on\_text(tab,\ tab\ +\ 1);}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00506\ \ \ \ \ \}}
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{comment}{//\ Day\ of\ the\ week:}}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'a'}:}
\DoxyCodeLine{00509\ \ \ \ \ \ \ handler.on\_abbr\_weekday();}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A'}:}
\DoxyCodeLine{00512\ \ \ \ \ \ \ handler.on\_full\_weekday();}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'w'}:}
\DoxyCodeLine{00515\ \ \ \ \ \ \ handler.on\_dec0\_weekday(numeric\_system::standard);}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00517\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'u'}:}
\DoxyCodeLine{00518\ \ \ \ \ \ \ handler.on\_dec1\_weekday(numeric\_system::standard);}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{comment}{//\ Month:}}
\DoxyCodeLine{00521\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'b'}:}
\DoxyCodeLine{00522\ \ \ \ \ \ \ handler.on\_abbr\_month();}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00524\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'B'}:}
\DoxyCodeLine{00525\ \ \ \ \ \ \ handler.on\_full\_month();}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{comment}{//\ Hour,\ minute,\ second:}}
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'H'}:}
\DoxyCodeLine{00529\ \ \ \ \ \ \ handler.on\_24\_hour(numeric\_system::standard);}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'I'}:}
\DoxyCodeLine{00532\ \ \ \ \ \ \ handler.on\_12\_hour(numeric\_system::standard);}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00534\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'M'}:}
\DoxyCodeLine{00535\ \ \ \ \ \ \ handler.on\_minute(numeric\_system::standard);}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'S'}:}
\DoxyCodeLine{00538\ \ \ \ \ \ \ handler.on\_second(numeric\_system::standard);}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{comment}{//\ Other:}}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'c'}:}
\DoxyCodeLine{00542\ \ \ \ \ \ \ handler.on\_datetime(numeric\_system::standard);}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00544\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'x'}:}
\DoxyCodeLine{00545\ \ \ \ \ \ \ handler.on\_loc\_date(numeric\_system::standard);}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00547\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'X'}:}
\DoxyCodeLine{00548\ \ \ \ \ \ \ handler.on\_loc\_time(numeric\_system::standard);}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'D'}:}
\DoxyCodeLine{00551\ \ \ \ \ \ \ handler.on\_us\_date();}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'F'}:}
\DoxyCodeLine{00554\ \ \ \ \ \ \ handler.on\_iso\_date();}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'r'}:}
\DoxyCodeLine{00557\ \ \ \ \ \ \ handler.on\_12\_hour\_time();}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00559\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'R'}:}
\DoxyCodeLine{00560\ \ \ \ \ \ \ handler.on\_24\_hour\_time();}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'T'}:}
\DoxyCodeLine{00563\ \ \ \ \ \ \ handler.on\_iso\_time();}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00565\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'p'}:}
\DoxyCodeLine{00566\ \ \ \ \ \ \ handler.on\_am\_pm();}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'Q'}:}
\DoxyCodeLine{00569\ \ \ \ \ \ \ handler.on\_duration\_value();}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00571\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'q'}:}
\DoxyCodeLine{00572\ \ \ \ \ \ \ handler.on\_duration\_unit();}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00574\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'z'}:}
\DoxyCodeLine{00575\ \ \ \ \ \ \ handler.on\_utc\_offset();}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'Z'}:}
\DoxyCodeLine{00578\ \ \ \ \ \ \ handler.on\_tz\_name();}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{comment}{//\ Alternative\ representation:}}
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'E'}:\ \{}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr\ ==\ end)\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00583\ \ \ \ \ \ \ c\ =\ *ptr++;}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (c)\ \{}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'c'}:}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ handler.on\_datetime(numeric\_system::alternative);}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'x'}:}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ handler.on\_loc\_date(numeric\_system::alternative);}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'X'}:}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ handler.on\_loc\_time(numeric\_system::alternative);}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00598\ \ \ \ \ \}}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'O'}:}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr\ ==\ end)\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00601\ \ \ \ \ \ \ c\ =\ *ptr++;}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (c)\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'w'}:}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ handler.on\_dec0\_weekday(numeric\_system::alternative);}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'u'}:}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ handler.on\_dec1\_weekday(numeric\_system::alternative);}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'H'}:}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ handler.on\_24\_hour(numeric\_system::alternative);}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'I'}:}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ handler.on\_12\_hour(numeric\_system::alternative);}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'M'}:}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ handler.on\_minute(numeric\_system::alternative);}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'S'}:}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ handler.on\_second(numeric\_system::alternative);}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ format"{}}));}
\DoxyCodeLine{00627\ \ \ \ \ \}}
\DoxyCodeLine{00628\ \ \ \ \ begin\ =\ ptr;}
\DoxyCodeLine{00629\ \ \ \}}
\DoxyCodeLine{00630\ \ \ \textcolor{keywordflow}{if}\ (begin\ !=\ ptr)\ handler.on\_text(begin,\ ptr);}
\DoxyCodeLine{00631\ \ \ \textcolor{keywordflow}{return}\ ptr;}
\DoxyCodeLine{00632\ \}}
\DoxyCodeLine{00633\ }
\DoxyCodeLine{00634\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structdetail_1_1chrono__format__checker}{chrono\_format\_checker}}\ \{}
\DoxyCodeLine{00635\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ report\_no\_date()\ \{\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}no\ date"{}}));\ \}}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ Char*,\ \textcolor{keyword}{const}\ Char*)\ \{\}}
\DoxyCodeLine{00638\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_abbr\_weekday()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00639\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_full\_weekday()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00640\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_dec0\_weekday(numeric\_system)\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00641\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_dec1\_weekday(numeric\_system)\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00642\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_abbr\_month()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00643\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_full\_month()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00644\ \ \ \textcolor{keywordtype}{void}\ on\_24\_hour(numeric\_system)\ \{\}}
\DoxyCodeLine{00645\ \ \ \textcolor{keywordtype}{void}\ on\_12\_hour(numeric\_system)\ \{\}}
\DoxyCodeLine{00646\ \ \ \textcolor{keywordtype}{void}\ on\_minute(numeric\_system)\ \{\}}
\DoxyCodeLine{00647\ \ \ \textcolor{keywordtype}{void}\ on\_second(numeric\_system)\ \{\}}
\DoxyCodeLine{00648\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_datetime(numeric\_system)\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00649\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_loc\_date(numeric\_system)\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00650\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_loc\_time(numeric\_system)\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00651\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_us\_date()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00652\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_iso\_date()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00653\ \ \ \textcolor{keywordtype}{void}\ on\_12\_hour\_time()\ \{\}}
\DoxyCodeLine{00654\ \ \ \textcolor{keywordtype}{void}\ on\_24\_hour\_time()\ \{\}}
\DoxyCodeLine{00655\ \ \ \textcolor{keywordtype}{void}\ on\_iso\_time()\ \{\}}
\DoxyCodeLine{00656\ \ \ \textcolor{keywordtype}{void}\ on\_am\_pm()\ \{\}}
\DoxyCodeLine{00657\ \ \ \textcolor{keywordtype}{void}\ on\_duration\_value()\ \{\}}
\DoxyCodeLine{00658\ \ \ \textcolor{keywordtype}{void}\ on\_duration\_unit()\ \{\}}
\DoxyCodeLine{00659\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_utc\_offset()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00660\ \ \ \mbox{\hyperlink{core_8h_ac9411ed6305aee71472718fa55fcc352}{FMT\_NORETURN}}\ \textcolor{keywordtype}{void}\ on\_tz\_name()\ \{\ report\_no\_date();\ \}}
\DoxyCodeLine{00661\ \};}
\DoxyCodeLine{00662\ }
\DoxyCodeLine{00663\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<T>::value)>}
\DoxyCodeLine{00664\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isnan(T)\ \{}
\DoxyCodeLine{00665\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00666\ \}}
\DoxyCodeLine{00667\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<T>::value)>}
\DoxyCodeLine{00668\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isnan(T\ value)\ \{}
\DoxyCodeLine{00669\ \ \ \textcolor{keywordflow}{return}\ std::isnan(value);}
\DoxyCodeLine{00670\ \}}
\DoxyCodeLine{00671\ }
\DoxyCodeLine{00672\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<T>::value)>}
\DoxyCodeLine{00673\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isfinite(T)\ \{}
\DoxyCodeLine{00674\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00675\ \}}
\DoxyCodeLine{00676\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<T>::value)>}
\DoxyCodeLine{00677\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isfinite(T\ value)\ \{}
\DoxyCodeLine{00678\ \ \ \textcolor{keywordflow}{return}\ std::isfinite(value);}
\DoxyCodeLine{00679\ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \textcolor{comment}{//\ Converts\ value\ to\ int\ and\ checks\ that\ it's\ in\ the\ range\ [0,\ upper).}}
\DoxyCodeLine{00682\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<T>::value)>}
\DoxyCodeLine{00683\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ to\_nonnegative\_int(T\ value,\ \textcolor{keywordtype}{int}\ upper)\ \{}
\DoxyCodeLine{00684\ \ \ \mbox{\hyperlink{core_8h_a03e7ee720f43adc7d83c652a6a5dd5f8}{FMT\_ASSERT}}(value\ >=\ 0\ \&\&\ value\ <=\ upper,\ \textcolor{stringliteral}{"{}invalid\ value"{}});}
\DoxyCodeLine{00685\ \ \ (\textcolor{keywordtype}{void})upper;}
\DoxyCodeLine{00686\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(value);}
\DoxyCodeLine{00687\ \}}
\DoxyCodeLine{00688\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(!std::is\_integral<T>::value)>}
\DoxyCodeLine{00689\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ to\_nonnegative\_int(T\ value,\ \textcolor{keywordtype}{int}\ upper)\ \{}
\DoxyCodeLine{00690\ \ \ \mbox{\hyperlink{core_8h_a03e7ee720f43adc7d83c652a6a5dd5f8}{FMT\_ASSERT}}(}
\DoxyCodeLine{00691\ \ \ \ \ \ \ std::isnan(value)\ ||\ (value\ >=\ 0\ \&\&\ value\ <=\ \textcolor{keyword}{static\_cast}<T>(upper)),}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}invalid\ value"{}});}
\DoxyCodeLine{00693\ \ \ (\textcolor{keywordtype}{void})upper;}
\DoxyCodeLine{00694\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(value);}
\DoxyCodeLine{00695\ \}}
\DoxyCodeLine{00696\ }
\DoxyCodeLine{00697\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<T>::value)>}
\DoxyCodeLine{00698\ \textcolor{keyword}{inline}\ T\ mod(T\ x,\ \textcolor{keywordtype}{int}\ y)\ \{}
\DoxyCodeLine{00699\ \ \ \textcolor{keywordflow}{return}\ x\ \%\ \textcolor{keyword}{static\_cast}<T>(y);}
\DoxyCodeLine{00700\ \}}
\DoxyCodeLine{00701\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<T>::value)>}
\DoxyCodeLine{00702\ \textcolor{keyword}{inline}\ T\ mod(T\ x,\ \textcolor{keywordtype}{int}\ y)\ \{}
\DoxyCodeLine{00703\ \ \ \textcolor{keywordflow}{return}\ std::fmod(x,\ \textcolor{keyword}{static\_cast}<T>(y));}
\DoxyCodeLine{00704\ \}}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \textcolor{comment}{//\ If\ T\ is\ an\ integral\ type,\ maps\ T\ to\ its\ unsigned\ counterpart,\ otherwise}}
\DoxyCodeLine{00707\ \textcolor{comment}{//\ leaves\ it\ unchanged\ (unlike\ std::make\_unsigned).}}
\DoxyCodeLine{00708\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{bool}\ INTEGRAL\ =\ std::is\_integral<T>::value>}
\DoxyCodeLine{00709\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structdetail_1_1make__unsigned__or__unchanged}{make\_unsigned\_or\_unchanged}}\ \{}
\DoxyCodeLine{00710\ \ \ \textcolor{keyword}{using}\ type\ =\ T;}
\DoxyCodeLine{00711\ \};}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structdetail_1_1make__unsigned__or__unchanged}{make\_unsigned\_or\_unchanged}}<T,\ \textcolor{keyword}{true}>\ \{}
\DoxyCodeLine{00714\ \ \ \textcolor{keyword}{using}\ type\ =\ \textcolor{keyword}{typename}\ std::make\_unsigned<T>::type;}
\DoxyCodeLine{00715\ \};}
\DoxyCodeLine{00716\ }
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \mbox{\hyperlink{chrono_8h_a8e36408d8f476cd09c46417ab03f458e}{FMT\_SAFE\_DURATION\_CAST}}}
\DoxyCodeLine{00718\ \textcolor{comment}{//\ throwing\ version\ of\ safe\_duration\_cast}}
\DoxyCodeLine{00719\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ FromRep,\ \textcolor{keyword}{typename}\ FromPeriod>}
\DoxyCodeLine{00720\ To\ fmt\_safe\_duration\_cast(std::chrono::duration<FromRep,\ FromPeriod>\ from)\ \{}
\DoxyCodeLine{00721\ \ \ \textcolor{keywordtype}{int}\ ec;}
\DoxyCodeLine{00722\ \ \ To\ to\ =\ safe\_duration\_cast::safe\_duration\_cast<To>(from,\ ec);}
\DoxyCodeLine{00723\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}cannot\ format\ duration"{}}));}
\DoxyCodeLine{00724\ \ \ \textcolor{keywordflow}{return}\ to;}
\DoxyCodeLine{00725\ \}}
\DoxyCodeLine{00726\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period,}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_integral<Rep>::value)>}
\DoxyCodeLine{00730\ \textcolor{keyword}{inline}\ std::chrono::duration<Rep,\ std::milli>\ get\_milliseconds(}
\DoxyCodeLine{00731\ \ \ \ \ std::chrono::duration<Rep,\ Period>\ d)\ \{}
\DoxyCodeLine{00732\ \ \ \textcolor{comment}{//\ this\ may\ overflow\ and/or\ the\ result\ may\ not\ fit\ in\ the}}
\DoxyCodeLine{00733\ \ \ \textcolor{comment}{//\ target\ type.}}
\DoxyCodeLine{00734\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \mbox{\hyperlink{chrono_8h_a8e36408d8f476cd09c46417ab03f458e}{FMT\_SAFE\_DURATION\_CAST}}}
\DoxyCodeLine{00735\ \ \ \textcolor{keyword}{using}\ CommonSecondsType\ =}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::common\_type<\textcolor{keyword}{decltype}(d),\ std::chrono::seconds>::type;}
\DoxyCodeLine{00737\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ d\_as\_common\ =\ fmt\_safe\_duration\_cast<CommonSecondsType>(d);}
\DoxyCodeLine{00738\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ d\_as\_whole\_seconds\ =}
\DoxyCodeLine{00739\ \ \ \ \ \ \ fmt\_safe\_duration\_cast<std::chrono::seconds>(d\_as\_common);}
\DoxyCodeLine{00740\ \ \ \textcolor{comment}{//\ this\ conversion\ should\ be\ nonproblematic}}
\DoxyCodeLine{00741\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ diff\ =\ d\_as\_common\ -\/\ d\_as\_whole\_seconds;}
\DoxyCodeLine{00742\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ ms\ =}
\DoxyCodeLine{00743\ \ \ \ \ \ \ fmt\_safe\_duration\_cast<std::chrono::duration<Rep,\ std::milli>>(diff);}
\DoxyCodeLine{00744\ \ \ \textcolor{keywordflow}{return}\ ms;}
\DoxyCodeLine{00745\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{00746\ \ \ \textcolor{keyword}{auto}\ s\ =\ std::chrono::duration\_cast<std::chrono::seconds>(d);}
\DoxyCodeLine{00747\ \ \ \textcolor{keywordflow}{return}\ std::chrono::duration\_cast<std::chrono::milliseconds>(d\ -\/\ s);}
\DoxyCodeLine{00748\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00749\ \}}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period,}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_ab02671eb0d43965fe2957e844f427451}{FMT\_ENABLE\_IF}}(std::is\_floating\_point<Rep>::value)>}
\DoxyCodeLine{00753\ \textcolor{keyword}{inline}\ std::chrono::duration<Rep,\ std::milli>\ get\_milliseconds(}
\DoxyCodeLine{00754\ \ \ \ \ std::chrono::duration<Rep,\ Period>\ d)\ \{}
\DoxyCodeLine{00755\ \ \ \textcolor{keyword}{using}\ common\_type\ =\ \textcolor{keyword}{typename}\ std::common\_type<Rep,\ std::intmax\_t>::type;}
\DoxyCodeLine{00756\ \ \ \textcolor{keyword}{auto}\ ms\ =\ mod(d.count()\ *\ \textcolor{keyword}{static\_cast}<common\_type>(Period::num)\ /}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast}<common\_type>(Period::den)\ *\ 1000,}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1000);}
\DoxyCodeLine{00759\ \ \ \textcolor{keywordflow}{return}\ std::chrono::duration<Rep,\ std::milli>(\textcolor{keyword}{static\_cast}<Rep>(ms));}
\DoxyCodeLine{00760\ \}}
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00763\ OutputIt\ format\_duration\_value(OutputIt\ out,\ Rep\ val,\ \textcolor{keywordtype}{int}\ precision)\ \{}
\DoxyCodeLine{00764\ \ \ \textcolor{keyword}{const}\ Char\ pr\_f[]\ =\ \{\textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{':'},\ \textcolor{stringliteral}{'.'},\ \textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{'\}'},\ \textcolor{stringliteral}{'f'},\ \textcolor{stringliteral}{'\}'},\ 0\};}
\DoxyCodeLine{00765\ \ \ \textcolor{keywordflow}{if}\ (precision\ >=\ 0)\ \textcolor{keywordflow}{return}\ format\_to(out,\ pr\_f,\ val,\ precision);}
\DoxyCodeLine{00766\ \ \ \textcolor{keyword}{const}\ Char\ fp\_f[]\ =\ \{\textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{':'},\ \textcolor{stringliteral}{'g'},\ \textcolor{stringliteral}{'\}'},\ 0\};}
\DoxyCodeLine{00767\ \ \ \textcolor{keyword}{const}\ Char\ format[]\ =\ \{\textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{'\}'},\ 0\};}
\DoxyCodeLine{00768\ \ \ \textcolor{keywordflow}{return}\ format\_to(out,\ std::is\_floating\_point<Rep>::value\ ?\ fp\_f\ :\ format,}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val);}
\DoxyCodeLine{00770\ \}}
\DoxyCodeLine{00771\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00772\ OutputIt\ copy\_unit(string\_view\ unit,\ OutputIt\ out,\ Char)\ \{}
\DoxyCodeLine{00773\ \ \ \textcolor{keywordflow}{return}\ std::copy(unit.begin(),\ unit.end(),\ out);}
\DoxyCodeLine{00774\ \}}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00777\ OutputIt\ copy\_unit(string\_view\ unit,\ OutputIt\ out,\ \textcolor{keywordtype}{wchar\_t})\ \{}
\DoxyCodeLine{00778\ \ \ \textcolor{comment}{//\ This\ works\ when\ wchar\_t\ is\ UTF-\/32\ because\ units\ only\ contain\ characters}}
\DoxyCodeLine{00779\ \ \ \textcolor{comment}{//\ that\ have\ the\ same\ representation\ in\ UTF-\/16\ and\ UTF-\/32.}}
\DoxyCodeLine{00780\ \ \ \mbox{\hyperlink{classdetail_1_1utf8__to__utf16}{utf8\_to\_utf16}}\ u(unit);}
\DoxyCodeLine{00781\ \ \ \textcolor{keywordflow}{return}\ std::copy(u.c\_str(),\ u.c\_str()\ +\ u.size(),\ out);}
\DoxyCodeLine{00782\ \}}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Period,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00785\ OutputIt\ format\_duration\_unit(OutputIt\ out)\ \{}
\DoxyCodeLine{00786\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ unit\ =\ get\_units<Period>())}
\DoxyCodeLine{00787\ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_unit(string\_view(unit),\ out,\ Char());}
\DoxyCodeLine{00788\ \ \ \textcolor{keyword}{const}\ Char\ num\_f[]\ =\ \{\textcolor{stringliteral}{'['},\ \textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{'\}'},\ \textcolor{stringliteral}{']'},\ \textcolor{stringliteral}{'s'},\ 0\};}
\DoxyCodeLine{00789\ \ \ \textcolor{keywordflow}{if}\ (const\_check(Period::den\ ==\ 1))\ \textcolor{keywordflow}{return}\ format\_to(out,\ num\_f,\ Period::num);}
\DoxyCodeLine{00790\ \ \ \textcolor{keyword}{const}\ Char\ num\_def\_f[]\ =\ \{\textcolor{stringliteral}{'['},\ \textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{'\}'},\ \textcolor{stringliteral}{'/'},\ \textcolor{stringliteral}{'\{'},\ \textcolor{stringliteral}{'\}'},\ \textcolor{stringliteral}{']'},\ \textcolor{stringliteral}{'s'},\ 0\};}
\DoxyCodeLine{00791\ \ \ \textcolor{keywordflow}{return}\ format\_to(out,\ num\_def\_f,\ Period::num,\ Period::den);}
\DoxyCodeLine{00792\ \}}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Rep,}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Period>}
\DoxyCodeLine{00796\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{chrono\_formatter}}\ \{}
\DoxyCodeLine{00797\ \ \ FormatContext\&\ context;}
\DoxyCodeLine{00798\ \ \ OutputIt\ out;}
\DoxyCodeLine{00799\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{00800\ \ \ \textcolor{comment}{//\ rep\ is\ unsigned\ to\ avoid\ overflow.}}
\DoxyCodeLine{00801\ \ \ \textcolor{keyword}{using}\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{rep}}\ =}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{conditional\_t}}<\mbox{\hyperlink{structdetail_1_1chrono__formatter}{std}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{is\_integral}}<\mbox{\hyperlink{structdetail_1_1chrono__formatter}{Rep}}>::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{value}}\ \&\&\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structdetail_1_1chrono__formatter}{Rep}})\ <\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}),}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned},\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{make\_unsigned\_or\_unchanged}}<\mbox{\hyperlink{structdetail_1_1chrono__formatter}{Rep}}>::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{type}}>;}
\DoxyCodeLine{00804\ \ \ rep\ val;}
\DoxyCodeLine{00805\ \ \ \textcolor{keyword}{using}\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{seconds}}\ =\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{std}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{chrono}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{duration}}<\mbox{\hyperlink{structdetail_1_1chrono__formatter}{rep}}>;}
\DoxyCodeLine{00806\ \ \ seconds\ s;}
\DoxyCodeLine{00807\ \ \ \textcolor{keyword}{using}\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{milliseconds}}\ =\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{std}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{chrono}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{duration}}<\mbox{\hyperlink{structdetail_1_1chrono__formatter}{rep}},\ \mbox{\hyperlink{structdetail_1_1chrono__formatter}{std}}::\mbox{\hyperlink{structdetail_1_1chrono__formatter}{milli}}>;}
\DoxyCodeLine{00808\ \ \ \textcolor{keywordtype}{bool}\ negative;}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \ \ \textcolor{keyword}{using}\ char\_type\ =\ \textcolor{keyword}{typename}\ FormatContext::char\_type;}
\DoxyCodeLine{00811\ }
\DoxyCodeLine{00812\ \ \ \textcolor{keyword}{explicit}\ chrono\_formatter(FormatContext\&\ ctx,\ OutputIt\ o,}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::chrono::duration<Rep,\ Period>\ d)}
\DoxyCodeLine{00814\ \ \ \ \ \ \ :\ context(ctx),}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ out(o),}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ val(\textcolor{keyword}{static\_cast}<rep>(d.count())),}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ negative(\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{if}\ (d.count()\ <\ 0)\ \{}
\DoxyCodeLine{00819\ \ \ \ \ \ \ val\ =\ 0\ -\/\ val;}
\DoxyCodeLine{00820\ \ \ \ \ \ \ negative\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00821\ \ \ \ \ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{comment}{//\ this\ may\ overflow\ and/or\ the\ result\ may\ not\ fit\ in\ the}}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{comment}{//\ target\ type.}}
\DoxyCodeLine{00825\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \mbox{\hyperlink{chrono_8h_a8e36408d8f476cd09c46417ab03f458e}{FMT\_SAFE\_DURATION\_CAST}}}
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{comment}{//\ might\ need\ checked\ conversion\ (rep!=Rep)}}
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{keyword}{auto}\ tmpval\ =\ std::chrono::duration<rep,\ Period>(val);}
\DoxyCodeLine{00828\ \ \ \ \ s\ =\ fmt\_safe\_duration\_cast<seconds>(tmpval);}
\DoxyCodeLine{00829\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{00830\ \ \ \ \ s\ =\ std::chrono::duration\_cast<seconds>(}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ std::chrono::duration<rep,\ Period>(val));}
\DoxyCodeLine{00832\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00833\ \ \ \}}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \ \textcolor{comment}{//\ returns\ true\ if\ nan\ or\ inf,\ writes\ to\ out.}}
\DoxyCodeLine{00836\ \ \ \textcolor{keywordtype}{bool}\ handle\_nan\_inf()\ \{}
\DoxyCodeLine{00837\ \ \ \ \ \textcolor{keywordflow}{if}\ (isfinite(val))\ \{}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00839\ \ \ \ \ \}}
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keywordflow}{if}\ (isnan(val))\ \{}
\DoxyCodeLine{00841\ \ \ \ \ \ \ write\_nan();}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00843\ \ \ \ \ \}}
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{comment}{//\ must\ be\ +-\/inf}}
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ >\ 0)\ \{}
\DoxyCodeLine{00846\ \ \ \ \ \ \ write\_pinf();}
\DoxyCodeLine{00847\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00848\ \ \ \ \ \ \ write\_ninf();}
\DoxyCodeLine{00849\ \ \ \ \ \}}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00851\ \ \ \}}
\DoxyCodeLine{00852\ }
\DoxyCodeLine{00853\ \ \ Rep\ hour()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<Rep>(mod((s.count()\ /\ 3600),\ 24));\ \}}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \ \ Rep\ hour12()\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{00856\ \ \ \ \ Rep\ hour\ =\ \textcolor{keyword}{static\_cast}<Rep>(mod((s.count()\ /\ 3600),\ 12));}
\DoxyCodeLine{00857\ \ \ \ \ \textcolor{keywordflow}{return}\ hour\ <=\ 0\ ?\ 12\ :\ hour;}
\DoxyCodeLine{00858\ \ \ \}}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00860\ \ \ Rep\ minute()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<Rep>(mod((s.count()\ /\ 60),\ 60));\ \}}
\DoxyCodeLine{00861\ \ \ Rep\ second()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast}<Rep>(mod(s.count(),\ 60));\ \}}
\DoxyCodeLine{00862\ }
\DoxyCodeLine{00863\ \ \ std::tm\ time()\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{keyword}{auto}\ time\ =\ std::tm();}
\DoxyCodeLine{00865\ \ \ \ \ time.tm\_hour\ =\ to\_nonnegative\_int(hour(),\ 24);}
\DoxyCodeLine{00866\ \ \ \ \ time.tm\_min\ =\ to\_nonnegative\_int(minute(),\ 60);}
\DoxyCodeLine{00867\ \ \ \ \ time.tm\_sec\ =\ to\_nonnegative\_int(second(),\ 60);}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keywordflow}{return}\ time;}
\DoxyCodeLine{00869\ \ \ \}}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \textcolor{keywordtype}{void}\ write\_sign()\ \{}
\DoxyCodeLine{00872\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ \{}
\DoxyCodeLine{00873\ \ \ \ \ \ \ *out++\ =\ \textcolor{stringliteral}{'-\/'};}
\DoxyCodeLine{00874\ \ \ \ \ \ \ negative\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00875\ \ \ \ \ \}}
\DoxyCodeLine{00876\ \ \ \}}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \ \ \textcolor{keywordtype}{void}\ write(Rep\ value,\ \textcolor{keywordtype}{int}\ width)\ \{}
\DoxyCodeLine{00879\ \ \ \ \ write\_sign();}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{if}\ (isnan(value))\ \textcolor{keywordflow}{return}\ write\_nan();}
\DoxyCodeLine{00881\ \ \ \ \ uint32\_or\_64\_or\_128\_t<\textcolor{keywordtype}{int}>\ n\ =}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ to\_unsigned(to\_nonnegative\_int(value,\ max\_value<\textcolor{keywordtype}{int}>()));}
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ detail::count\_digits(n);}
\DoxyCodeLine{00884\ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ >\ num\_digits)\ out\ =\ std::fill\_n(out,\ width\ -\/\ num\_digits,\ \textcolor{stringliteral}{'0'});}
\DoxyCodeLine{00885\ \ \ \ \ out\ =\ format\_decimal<char\_type>(out,\ n,\ num\_digits).end;}
\DoxyCodeLine{00886\ \ \ \}}
\DoxyCodeLine{00887\ }
\DoxyCodeLine{00888\ \ \ \textcolor{keywordtype}{void}\ write\_nan()\ \{\ std::copy\_n(\textcolor{stringliteral}{"{}nan"{}},\ 3,\ out);\ \}}
\DoxyCodeLine{00889\ \ \ \textcolor{keywordtype}{void}\ write\_pinf()\ \{\ std::copy\_n(\textcolor{stringliteral}{"{}inf"{}},\ 3,\ out);\ \}}
\DoxyCodeLine{00890\ \ \ \textcolor{keywordtype}{void}\ write\_ninf()\ \{\ std::copy\_n(\textcolor{stringliteral}{"{}-\/inf"{}},\ 4,\ out);\ \}}
\DoxyCodeLine{00891\ }
\DoxyCodeLine{00892\ \ \ \textcolor{keywordtype}{void}\ format\_localized(\textcolor{keyword}{const}\ tm\&\ time,\ \textcolor{keywordtype}{char}\ format,\ \textcolor{keywordtype}{char}\ modifier\ =\ 0)\ \{}
\DoxyCodeLine{00893\ \ \ \ \ \textcolor{keywordflow}{if}\ (isnan(val))\ \textcolor{keywordflow}{return}\ write\_nan();}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keyword}{auto}\ locale\ =\ context.locale().\textcolor{keyword}{template}\ get<std::locale>();}
\DoxyCodeLine{00895\ \ \ \ \ \textcolor{keyword}{auto}\&\ facet\ =\ std::use\_facet<std::time\_put<char\_type>>(locale);}
\DoxyCodeLine{00896\ \ \ \ \ std::basic\_ostringstream<char\_type>\ os;}
\DoxyCodeLine{00897\ \ \ \ \ os.imbue(locale);}
\DoxyCodeLine{00898\ \ \ \ \ facet.put(os,\ os,\ \textcolor{stringliteral}{'\ '},\ \&time,\ format,\ modifier);}
\DoxyCodeLine{00899\ \ \ \ \ \textcolor{keyword}{auto}\ str\ =\ os.str();}
\DoxyCodeLine{00900\ \ \ \ \ std::copy(str.begin(),\ str.end(),\ out);}
\DoxyCodeLine{00901\ \ \ \}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \ \ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ char\_type*\ begin,\ \textcolor{keyword}{const}\ char\_type*\ end)\ \{}
\DoxyCodeLine{00904\ \ \ \ \ std::copy(begin,\ end,\ out);}
\DoxyCodeLine{00905\ \ \ \}}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ \ \ \textcolor{comment}{//\ These\ are\ not\ implemented\ because\ durations\ don't\ have\ date\ information.}}
\DoxyCodeLine{00908\ \ \ \textcolor{keywordtype}{void}\ on\_abbr\_weekday()\ \{\}}
\DoxyCodeLine{00909\ \ \ \textcolor{keywordtype}{void}\ on\_full\_weekday()\ \{\}}
\DoxyCodeLine{00910\ \ \ \textcolor{keywordtype}{void}\ on\_dec0\_weekday(numeric\_system)\ \{\}}
\DoxyCodeLine{00911\ \ \ \textcolor{keywordtype}{void}\ on\_dec1\_weekday(numeric\_system)\ \{\}}
\DoxyCodeLine{00912\ \ \ \textcolor{keywordtype}{void}\ on\_abbr\_month()\ \{\}}
\DoxyCodeLine{00913\ \ \ \textcolor{keywordtype}{void}\ on\_full\_month()\ \{\}}
\DoxyCodeLine{00914\ \ \ \textcolor{keywordtype}{void}\ on\_datetime(numeric\_system)\ \{\}}
\DoxyCodeLine{00915\ \ \ \textcolor{keywordtype}{void}\ on\_loc\_date(numeric\_system)\ \{\}}
\DoxyCodeLine{00916\ \ \ \textcolor{keywordtype}{void}\ on\_loc\_time(numeric\_system)\ \{\}}
\DoxyCodeLine{00917\ \ \ \textcolor{keywordtype}{void}\ on\_us\_date()\ \{\}}
\DoxyCodeLine{00918\ \ \ \textcolor{keywordtype}{void}\ on\_iso\_date()\ \{\}}
\DoxyCodeLine{00919\ \ \ \textcolor{keywordtype}{void}\ on\_utc\_offset()\ \{\}}
\DoxyCodeLine{00920\ \ \ \textcolor{keywordtype}{void}\ on\_tz\_name()\ \{\}}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \ \textcolor{keywordtype}{void}\ on\_24\_hour(numeric\_system\ ns)\ \{}
\DoxyCodeLine{00923\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ \ \ \ \ \textcolor{keywordflow}{if}\ (ns\ ==\ numeric\_system::standard)\ \textcolor{keywordflow}{return}\ write(hour(),\ 2);}
\DoxyCodeLine{00926\ \ \ \ \ \textcolor{keyword}{auto}\ time\ =\ tm();}
\DoxyCodeLine{00927\ \ \ \ \ time.tm\_hour\ =\ to\_nonnegative\_int(hour(),\ 24);}
\DoxyCodeLine{00928\ \ \ \ \ format\_localized(time,\ \textcolor{stringliteral}{'H'},\ \textcolor{stringliteral}{'O'});}
\DoxyCodeLine{00929\ \ \ \}}
\DoxyCodeLine{00930\ }
\DoxyCodeLine{00931\ \ \ \textcolor{keywordtype}{void}\ on\_12\_hour(numeric\_system\ ns)\ \{}
\DoxyCodeLine{00932\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00933\ }
\DoxyCodeLine{00934\ \ \ \ \ \textcolor{keywordflow}{if}\ (ns\ ==\ numeric\_system::standard)\ \textcolor{keywordflow}{return}\ write(hour12(),\ 2);}
\DoxyCodeLine{00935\ \ \ \ \ \textcolor{keyword}{auto}\ time\ =\ tm();}
\DoxyCodeLine{00936\ \ \ \ \ time.tm\_hour\ =\ to\_nonnegative\_int(hour12(),\ 12);}
\DoxyCodeLine{00937\ \ \ \ \ format\_localized(time,\ \textcolor{stringliteral}{'I'},\ \textcolor{stringliteral}{'O'});}
\DoxyCodeLine{00938\ \ \ \}}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \ \ \textcolor{keywordtype}{void}\ on\_minute(numeric\_system\ ns)\ \{}
\DoxyCodeLine{00941\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00942\ }
\DoxyCodeLine{00943\ \ \ \ \ \textcolor{keywordflow}{if}\ (ns\ ==\ numeric\_system::standard)\ \textcolor{keywordflow}{return}\ write(minute(),\ 2);}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{keyword}{auto}\ time\ =\ tm();}
\DoxyCodeLine{00945\ \ \ \ \ time.tm\_min\ =\ to\_nonnegative\_int(minute(),\ 60);}
\DoxyCodeLine{00946\ \ \ \ \ format\_localized(time,\ \textcolor{stringliteral}{'M'},\ \textcolor{stringliteral}{'O'});}
\DoxyCodeLine{00947\ \ \ \}}
\DoxyCodeLine{00948\ }
\DoxyCodeLine{00949\ \ \ \textcolor{keywordtype}{void}\ on\_second(numeric\_system\ ns)\ \{}
\DoxyCodeLine{00950\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00951\ }
\DoxyCodeLine{00952\ \ \ \ \ \textcolor{keywordflow}{if}\ (ns\ ==\ numeric\_system::standard)\ \{}
\DoxyCodeLine{00953\ \ \ \ \ \ \ write(second(),\ 2);}
\DoxyCodeLine{00954\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{if}\ \mbox{\hyperlink{chrono_8h_a8e36408d8f476cd09c46417ab03f458e}{FMT\_SAFE\_DURATION\_CAST}}}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \textcolor{comment}{//\ convert\ rep-\/>Rep}}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \textcolor{keyword}{using}\ duration\_rep\ =\ std::chrono::duration<rep,\ Period>;}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \textcolor{keyword}{using}\ duration\_Rep\ =\ std::chrono::duration<Rep,\ Period>;}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ tmpval\ =\ fmt\_safe\_duration\_cast<duration\_Rep>(duration\_rep\{val\});}
\DoxyCodeLine{00959\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ tmpval\ =\ std::chrono::duration<Rep,\ Period>(val);}
\DoxyCodeLine{00961\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ ms\ =\ get\_milliseconds(tmpval);}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ms\ !=\ std::chrono::milliseconds(0))\ \{}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ *out++\ =\ \textcolor{stringliteral}{'.'};}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ write(ms.count(),\ 3);}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00968\ \ \ \ \ \}}
\DoxyCodeLine{00969\ \ \ \ \ \textcolor{keyword}{auto}\ time\ =\ tm();}
\DoxyCodeLine{00970\ \ \ \ \ time.tm\_sec\ =\ to\_nonnegative\_int(second(),\ 60);}
\DoxyCodeLine{00971\ \ \ \ \ format\_localized(time,\ \textcolor{stringliteral}{'S'},\ \textcolor{stringliteral}{'O'});}
\DoxyCodeLine{00972\ \ \ \}}
\DoxyCodeLine{00973\ }
\DoxyCodeLine{00974\ \ \ \textcolor{keywordtype}{void}\ on\_12\_hour\_time()\ \{}
\DoxyCodeLine{00975\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00976\ \ \ \ \ format\_localized(time(),\ \textcolor{stringliteral}{'r'});}
\DoxyCodeLine{00977\ \ \ \}}
\DoxyCodeLine{00978\ }
\DoxyCodeLine{00979\ \ \ \textcolor{keywordtype}{void}\ on\_24\_hour\_time()\ \{}
\DoxyCodeLine{00980\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \{}
\DoxyCodeLine{00981\ \ \ \ \ \ \ *out++\ =\ \textcolor{stringliteral}{':'};}
\DoxyCodeLine{00982\ \ \ \ \ \ \ handle\_nan\_inf();}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00984\ \ \ \ \ \}}
\DoxyCodeLine{00985\ }
\DoxyCodeLine{00986\ \ \ \ \ write(hour(),\ 2);}
\DoxyCodeLine{00987\ \ \ \ \ *out++\ =\ \textcolor{stringliteral}{':'};}
\DoxyCodeLine{00988\ \ \ \ \ write(minute(),\ 2);}
\DoxyCodeLine{00989\ \ \ \}}
\DoxyCodeLine{00990\ }
\DoxyCodeLine{00991\ \ \ \textcolor{keywordtype}{void}\ on\_iso\_time()\ \{}
\DoxyCodeLine{00992\ \ \ \ \ on\_24\_hour\_time();}
\DoxyCodeLine{00993\ \ \ \ \ *out++\ =\ \textcolor{stringliteral}{':'};}
\DoxyCodeLine{00994\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00995\ \ \ \ \ write(second(),\ 2);}
\DoxyCodeLine{00996\ \ \ \}}
\DoxyCodeLine{00997\ }
\DoxyCodeLine{00998\ \ \ \textcolor{keywordtype}{void}\ on\_am\_pm()\ \{}
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01000\ \ \ \ \ format\_localized(time(),\ \textcolor{stringliteral}{'p'});}
\DoxyCodeLine{01001\ \ \ \}}
\DoxyCodeLine{01002\ }
\DoxyCodeLine{01003\ \ \ \textcolor{keywordtype}{void}\ on\_duration\_value()\ \{}
\DoxyCodeLine{01004\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\_nan\_inf())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01005\ \ \ \ \ write\_sign();}
\DoxyCodeLine{01006\ \ \ \ \ out\ =\ format\_duration\_value<char\_type>(out,\ val,\ precision);}
\DoxyCodeLine{01007\ \ \ \}}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01009\ \ \ \textcolor{keywordtype}{void}\ on\_duration\_unit()\ \{}
\DoxyCodeLine{01010\ \ \ \ \ out\ =\ format\_duration\_unit<char\_type,\ Period>(out);}
\DoxyCodeLine{01011\ \ \ \}}
\DoxyCodeLine{01012\ \};}
\DoxyCodeLine{01013\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{01014\ }
\DoxyCodeLine{01015\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01016\ \textcolor{keyword}{struct}\ formatter<std::chrono::duration<Rep,\ Period>,\ Char>\ \{}
\DoxyCodeLine{01017\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01018\ \ \ basic\_format\_specs<Char>\ specs;}
\DoxyCodeLine{01019\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{01020\ \ \ \textcolor{keyword}{using}\ arg\_ref\_type\ =\ detail::arg\_ref<Char>;}
\DoxyCodeLine{01021\ \ \ arg\_ref\_type\ width\_ref;}
\DoxyCodeLine{01022\ \ \ arg\_ref\_type\ precision\_ref;}
\DoxyCodeLine{01023\ \ \ \textcolor{keyword}{mutable}\ basic\_string\_view<Char>\ format\_str;}
\DoxyCodeLine{01024\ \ \ \textcolor{keyword}{using}\ duration\ =\ std::chrono::duration<Rep,\ Period>;}
\DoxyCodeLine{01025\ }
\DoxyCodeLine{01026\ \ \ \textcolor{keyword}{struct}\ spec\_handler\ \{}
\DoxyCodeLine{01027\ \ \ \ \ formatter\&\ f;}
\DoxyCodeLine{01028\ \ \ \ \ basic\_format\_parse\_context<Char>\&\ context;}
\DoxyCodeLine{01029\ \ \ \ \ basic\_string\_view<Char>\ format\_str;}
\DoxyCodeLine{01030\ }
\DoxyCodeLine{01031\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ arg\_ref\_type\ make\_arg\_ref(Id\ arg\_id)\ \{}
\DoxyCodeLine{01032\ \ \ \ \ \ \ context.check\_arg\_id(arg\_id);}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_ref\_type(arg\_id);}
\DoxyCodeLine{01034\ \ \ \ \ \}}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \ \ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ arg\_ref\_type\ make\_arg\_ref(basic\_string\_view<Char>\ arg\_id)\ \{}
\DoxyCodeLine{01037\ \ \ \ \ \ \ context.check\_arg\_id(arg\_id);}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_ref\_type(arg\_id);}
\DoxyCodeLine{01039\ \ \ \ \ \}}
\DoxyCodeLine{01040\ }
\DoxyCodeLine{01041\ \ \ \ \ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ arg\_ref\_type\ make\_arg\_ref(detail::auto\_id)\ \{}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_ref\_type(context.next\_arg\_id());}
\DoxyCodeLine{01043\ \ \ \ \ \}}
\DoxyCodeLine{01044\ }
\DoxyCodeLine{01045\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ msg)\ \{\ \mbox{\hyperlink{format_8h_ad9e2ed6d3b432a04c9622c34a2495304}{FMT\_THROW}}(format\_error(msg));\ \}}
\DoxyCodeLine{01046\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_fill(basic\_string\_view<Char>\ fill)\ \{\ f.specs.fill\ =\ fill;\ \}}
\DoxyCodeLine{01047\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_align(align\_t\ align)\ \{\ f.specs.align\ =\ align;\ \}}
\DoxyCodeLine{01048\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_width(\textcolor{keywordtype}{int}\ width)\ \{\ f.specs.width\ =\ width;\ \}}
\DoxyCodeLine{01049\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_precision(\textcolor{keywordtype}{int}\ \_precision)\ \{\ f.precision\ =\ \_precision;\ \}}
\DoxyCodeLine{01050\ \ \ \ \ \textcolor{keywordtype}{void}\ end\_precision()\ \{\}}
\DoxyCodeLine{01051\ }
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ \textcolor{keywordtype}{void}\ on\_dynamic\_width(Id\ arg\_id)\ \{}
\DoxyCodeLine{01053\ \ \ \ \ \ \ f.width\_ref\ =\ make\_arg\_ref(arg\_id);}
\DoxyCodeLine{01054\ \ \ \ \ \}}
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ \textcolor{keywordtype}{void}\ on\_dynamic\_precision(Id\ arg\_id)\ \{}
\DoxyCodeLine{01057\ \ \ \ \ \ \ f.precision\_ref\ =\ make\_arg\_ref(arg\_id);}
\DoxyCodeLine{01058\ \ \ \ \ \}}
\DoxyCodeLine{01059\ \ \ \};}
\DoxyCodeLine{01060\ }
\DoxyCodeLine{01061\ \ \ \textcolor{keyword}{using}\ iterator\ =\ \textcolor{keyword}{typename}\ basic\_format\_parse\_context<Char>::iterator;}
\DoxyCodeLine{01062\ \ \ \textcolor{keyword}{struct}\ parse\_range\ \{}
\DoxyCodeLine{01063\ \ \ \ \ iterator\ begin;}
\DoxyCodeLine{01064\ \ \ \ \ iterator\ end;}
\DoxyCodeLine{01065\ \ \ \};}
\DoxyCodeLine{01066\ }
\DoxyCodeLine{01067\ \ \ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ parse\_range\ do\_parse(basic\_format\_parse\_context<Char>\&\ ctx)\ \{}
\DoxyCodeLine{01068\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ ctx.begin(),\ end\ =\ ctx.end();}
\DoxyCodeLine{01069\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ ==\ \textcolor{stringliteral}{'\}'})\ \textcolor{keywordflow}{return}\ \{begin,\ begin\};}
\DoxyCodeLine{01070\ \ \ \ \ spec\_handler\ handler\{*\textcolor{keyword}{this},\ ctx,\ format\_str\};}
\DoxyCodeLine{01071\ \ \ \ \ begin\ =\ detail::parse\_align(begin,\ end,\ handler);}
\DoxyCodeLine{01072\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ \{begin,\ begin\};}
\DoxyCodeLine{01073\ \ \ \ \ begin\ =\ detail::parse\_width(begin,\ end,\ handler);}
\DoxyCodeLine{01074\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ \{begin,\ begin\};}
\DoxyCodeLine{01075\ \ \ \ \ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{stringliteral}{'.'})\ \{}
\DoxyCodeLine{01076\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::is\_floating\_point<Rep>::value)}
\DoxyCodeLine{01077\ \ \ \ \ \ \ \ \ begin\ =\ detail::parse\_precision(begin,\ end,\ handler);}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ handler.on\_error(\textcolor{stringliteral}{"{}precision\ not\ allowed\ for\ this\ argument\ type"{}});}
\DoxyCodeLine{01080\ \ \ \ \ \}}
\DoxyCodeLine{01081\ \ \ \ \ end\ =\ parse\_chrono\_format(begin,\ end,\ detail::chrono\_format\_checker());}
\DoxyCodeLine{01082\ \ \ \ \ \textcolor{keywordflow}{return}\ \{begin,\ end\};}
\DoxyCodeLine{01083\ \ \ \}}
\DoxyCodeLine{01084\ }
\DoxyCodeLine{01085\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01086\ \ \ formatter()\ :\ precision(-\/1)\ \{\}}
\DoxyCodeLine{01087\ }
\DoxyCodeLine{01088\ \ \ \mbox{\hyperlink{core_8h_a69201cb276383873487bf68b4ef8b4cd}{FMT\_CONSTEXPR}}\ \textcolor{keyword}{auto}\ parse(basic\_format\_parse\_context<Char>\&\ ctx)}
\DoxyCodeLine{01089\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{01090\ \ \ \ \ \textcolor{keyword}{auto}\ range\ =\ do\_parse(ctx);}
\DoxyCodeLine{01091\ \ \ \ \ format\_str\ =\ basic\_string\_view<Char>(}
\DoxyCodeLine{01092\ \ \ \ \ \ \ \ \ \&*range.begin,\ detail::to\_unsigned(range.end\ -\/\ range.begin));}
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{keywordflow}{return}\ range.end;}
\DoxyCodeLine{01094\ \ \ \}}
\DoxyCodeLine{01095\ }
\DoxyCodeLine{01096\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{01097\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ duration\&\ d,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{01098\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ format\_str.begin(),\ end\ =\ format\_str.end();}
\DoxyCodeLine{01099\ \ \ \ \ \textcolor{comment}{//\ As\ a\ possible\ future\ optimization,\ we\ could\ avoid\ extra\ copying\ if\ width}}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{comment}{//\ is\ not\ specified.}}
\DoxyCodeLine{01101\ \ \ \ \ basic\_memory\_buffer<Char>\ buf;}
\DoxyCodeLine{01102\ \ \ \ \ \textcolor{keyword}{auto}\ out\ =\ std::back\_inserter(buf);}
\DoxyCodeLine{01103\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs.width,\ width\_ref,}
\DoxyCodeLine{01104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx);}
\DoxyCodeLine{01105\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(precision,}
\DoxyCodeLine{01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\_ref,\ ctx);}
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ ==\ \textcolor{stringliteral}{'\}'})\ \{}
\DoxyCodeLine{01108\ \ \ \ \ \ \ out\ =\ detail::format\_duration\_value<Char>(out,\ d.count(),\ precision);}
\DoxyCodeLine{01109\ \ \ \ \ \ \ detail::format\_duration\_unit<Char,\ Period>(out);}
\DoxyCodeLine{01110\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01111\ \ \ \ \ \ \ detail::chrono\_formatter<FormatContext,\ \textcolor{keyword}{decltype}(out),\ Rep,\ Period>\ f(}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \ \ \ \ ctx,\ out,\ d);}
\DoxyCodeLine{01113\ \ \ \ \ \ \ f.precision\ =\ precision;}
\DoxyCodeLine{01114\ \ \ \ \ \ \ parse\_chrono\_format(begin,\ end,\ f);}
\DoxyCodeLine{01115\ \ \ \ \ \}}
\DoxyCodeLine{01116\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write(}
\DoxyCodeLine{01117\ \ \ \ \ \ \ \ \ ctx.out(),\ basic\_string\_view<Char>(buf.data(),\ buf.size()),\ specs);}
\DoxyCodeLine{01118\ \ \ \}}
\DoxyCodeLine{01119\ \};}
\DoxyCodeLine{01120\ }
\DoxyCodeLine{01121\ \mbox{\hyperlink{core_8h_ae0d2fbdf031547a949fc7e1c0b3c97f1}{FMT\_END\_NAMESPACE}}}
\DoxyCodeLine{01122\ }
\DoxyCodeLine{01123\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}\ \ \textcolor{comment}{//\ FMT\_CHRONO\_H\_}}

\end{DoxyCode}
