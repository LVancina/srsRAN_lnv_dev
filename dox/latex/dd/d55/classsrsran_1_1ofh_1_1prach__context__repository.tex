\doxysection{srsran\+::ofh\+::prach\+\_\+context\+\_\+repository Class Reference}
\hypertarget{classsrsran_1_1ofh_1_1prach__context__repository}{}\label{classsrsran_1_1ofh_1_1prach__context__repository}\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}


PRACH context repository.  




{\ttfamily \#include $<$prach\+\_\+context\+\_\+repository.\+h$>$}



Collaboration diagram for srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{dd/db7/classsrsran_1_1ofh_1_1prach__context__repository__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_ac148202823aa6060405c131677b2836a}{prach\+\_\+context\+\_\+repository}} (\mbox{\hyperlink{classunsigned}{unsigned}} size\+\_\+, \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}}=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_a5690531464cd4ef63cf6a844d64ac6fe}{add}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&context, \mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&buffer\+\_\+, \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}=\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}())
\begin{DoxyCompactList}\small\item\em Adds the given entry to the repository at slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_a09f1b33181ffe9c2d0672ddf190ce62a}{write\+\_\+iq}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}, \mbox{\hyperlink{classunsigned}{unsigned}} port, \mbox{\hyperlink{classunsigned}{unsigned}} symbol, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{re\+\_\+start}}, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\+\_\+buffer}})
\begin{DoxyCompactList}\small\item\em Function to write the uplink PRACH buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\+\_\+context}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_a74374b9920c3d9dd87333ea81a62b029}{get}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the entry of the repository for the given slot. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context__repository_ab2830011ba8ecc3e90cbcbfbc9ea83a1}{clear}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}})
\begin{DoxyCompactList}\small\item\em Clears the given slot entry. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PRACH context repository. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1prach__context__repository_ac148202823aa6060405c131677b2836a}\label{classsrsran_1_1ofh_1_1prach__context__repository_ac148202823aa6060405c131677b2836a} 
\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}!prach\_context\_repository@{prach\_context\_repository}}
\index{prach\_context\_repository@{prach\_context\_repository}!srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}
\doxysubsubsection{\texorpdfstring{prach\_context\_repository()}{prach\_context\_repository()}}
{\footnotesize\ttfamily srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+::prach\+\_\+context\+\_\+repository (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{size\+\_\+,  }\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \texorpdfstring{$\ast$}{*}}]{logger\+\_\+ = {\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00202\ \ \ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),\ buffer(size\_)}
\DoxyCodeLine{00203\ \ \ \{}
\DoxyCodeLine{00204\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ofh_1_1prach__context__repository_a5690531464cd4ef63cf6a844d64ac6fe}\label{classsrsran_1_1ofh_1_1prach__context__repository_a5690531464cd4ef63cf6a844d64ac6fe} 
\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}!add@{add}}
\index{add@{add}!srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}
\doxysubsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+::add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__buffer__context}{prach\+\_\+buffer\+\_\+context}} \&}]{context,  }\item[{\mbox{\hyperlink{classsrsran_1_1prach__buffer}{prach\+\_\+buffer}} \&}]{buffer\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot = {\ttfamily \mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Adds the given entry to the repository at slot. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00208\ \ \ \{}
\DoxyCodeLine{00209\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ slot\_point\ current\_slot\ =\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}.valid()\ ?\ \mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}\ :\ context.slot;}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{if}\ (logger)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!entry(current\_slot).empty())\ \{}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ prach\_buffer\_context\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}\ =\ entry(current\_slot).\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a3112d68d3036bd28d9bdc010dc902c86}{get\_context}}();}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ logger-\/>warning(\textcolor{stringliteral}{"{}Missed\ incoming\ User-\/Plane\ PRACH\ messages\ for\ slot\ '\{\}'\ and\ sector\#\{\}"{}},}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}.slot,}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{previous\_context}}.sector);}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ \ \ \ \ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ entry(current\_slot)\ =\ prach\_context(context,\ buffer\_);}
\DoxyCodeLine{00223\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1prach__context__repository_ab2830011ba8ecc3e90cbcbfbc9ea83a1}\label{classsrsran_1_1ofh_1_1prach__context__repository_ab2830011ba8ecc3e90cbcbfbc9ea83a1} 
\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}!clear@{clear}}
\index{clear@{clear}!srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+::clear (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears the given slot entry. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00241\ \ \ \{}
\DoxyCodeLine{00242\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00243\ \ \ \ \ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}})\ =\ \{\};}
\DoxyCodeLine{00244\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1prach__context__repository_a74374b9920c3d9dd87333ea81a62b029}\label{classsrsran_1_1ofh_1_1prach__context__repository_a74374b9920c3d9dd87333ea81a62b029} 
\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}!get@{get}}
\index{get@{get}!srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context}{prach\+\_\+context}} srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+::get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the entry of the repository for the given slot. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \ \ \{}
\DoxyCodeLine{00235\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordflow}{return}\ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}});}
\DoxyCodeLine{00237\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ofh_1_1prach__context__repository_a09f1b33181ffe9c2d0672ddf190ce62a}\label{classsrsran_1_1ofh_1_1prach__context__repository_a09f1b33181ffe9c2d0672ddf190ce62a} 
\index{srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}!write\_iq@{write\_iq}}
\index{write\_iq@{write\_iq}!srsran::ofh::prach\_context\_repository@{srsran::ofh::prach\_context\_repository}}
\doxysubsubsection{\texorpdfstring{write\_iq()}{write\_iq()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::ofh\+::prach\+\_\+context\+\_\+repository\+::write\+\_\+iq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{slot,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{port,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{symbol,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{re\+\_\+start,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$}]{iq\+\_\+buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function to write the uplink PRACH buffer. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00227\ \ \ \{}
\DoxyCodeLine{00228\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mutex);}
\DoxyCodeLine{00229\ \ \ \ \ entry(\mbox{\hyperlink{namespacesrsran_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8}{slot}}).\mbox{\hyperlink{classsrsran_1_1ofh_1_1prach__context_a783e73ae12bd2e76067074e7fdc8df19}{write\_iq}}(port,\ symbol,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{re\_start}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{iq\_buffer}});}
\DoxyCodeLine{00230\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/ofh/support/prach\+\_\+context\+\_\+repository.\+h\end{DoxyCompactItemize}
