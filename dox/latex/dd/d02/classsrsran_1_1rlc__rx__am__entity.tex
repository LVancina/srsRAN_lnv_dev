\doxysection{srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity Class Reference}
\hypertarget{classsrsran_1_1rlc__rx__am__entity}{}\label{classsrsran_1_1rlc__rx__am__entity}\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}


Inheritance diagram for srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d9/d09/classsrsran_1_1rlc__rx__am__entity__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/dd0/classsrsran_1_1rlc__rx__am__entity__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a26bcc94b718377b60b75d5824f1da054}{rlc\+\_\+rx\+\_\+am\+\_\+entity}} (uint32\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{du\+\_\+index\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} rb\+\_\+id, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config}{rlc\+\_\+rx\+\_\+am\+\_\+config}} \&config, \mbox{\hyperlink{classsrsran_1_1rlc__rx__upper__layer__data__notifier}{rlc\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} timers, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&ue\+\_\+executor, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\+\_\+enabled}}, \mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a889c0ad079265b3d45d4fff3236b0b12}{set\+\_\+status\+\_\+handler}} (\mbox{\hyperlink{classsrsran_1_1rlc__tx__am__status__handler}{rlc\+\_\+tx\+\_\+am\+\_\+status\+\_\+handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\+\_\+handler\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a341d8314166c51757f7460561f24cdf7}{set\+\_\+status\+\_\+notifier}} (\mbox{\hyperlink{classsrsran_1_1rlc__tx__am__status__notifier}{rlc\+\_\+tx\+\_\+am\+\_\+status\+\_\+notifier}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\+\_\+notifier\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a99c640c41aa46f6710d0607b0a1fcbcc}{handle\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\+\_\+buffer\+\_\+slice}} buf) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming PDU. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu}{rlc\+\_\+am\+\_\+status\+\_\+pdu}} \& \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_ad92f2b9382aab5788250fa51f1366127}{get\+\_\+status\+\_\+pdu}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets a reference to the latest status report. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a7d37868a4f614614bc1ba26999446889}{get\+\_\+status\+\_\+pdu\+\_\+length}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a9389771d2afebb915c780c0fceec8cf2}{status\+\_\+report\+\_\+required}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a59bc273574decbc39e0bd190e894476a}{notify\+\_\+status\+\_\+report\+\_\+changed}} ()
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4}{rx\+\_\+mod\+\_\+base}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Helper function for arithmetic comparisons of state variables or SN values. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_aad274ab50d6a72b1ed33c1827b9a30bf}{inside\+\_\+rx\+\_\+window}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_aabe9ef92e15580943ba06e003ceb2536}{valid\+\_\+ack\+\_\+sn}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a1d878fba3d449db26a3521a5e2c8aab2}{set\+\_\+state}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state}{rlc\+\_\+rx\+\_\+am\+\_\+state}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{st\+\_\+}})
\item 
\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state}{rlc\+\_\+rx\+\_\+am\+\_\+state}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_ae094631ee62e14ce57db8f76cb176717}{get\+\_\+state}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_a8b952e9ecba9ffba097b3e7307506cf3}{is\+\_\+t\+\_\+reassembly\+\_\+running}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity}{srsran\+::rlc\+\_\+rx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structsrsran_1_1rlc__rx__metrics}{rlc\+\_\+rx\+\_\+metrics}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity_ab4d93db2612b91cfb52986d31a21e43a}{get\+\_\+metrics}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity_a7a1908f30e5224921e59db79b421194b}{reset\+\_\+metrics}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{srsran\+::rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface}{rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{structsrsran_1_1rlc__rx__metrics}{srsran\+::rlc\+\_\+rx\+\_\+metrics}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+sdus}
\begin{DoxyCompactList}\small\item\em Number of SDUs. \end{DoxyCompactList}\item 
size\+\_\+t {\bfseries num\+\_\+sdu\+\_\+bytes}
\begin{DoxyCompactList}\small\item\em Number of SDU bytes. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+pdus}
\begin{DoxyCompactList}\small\item\em Number of PDUs. \end{DoxyCompactList}\item 
size\+\_\+t {\bfseries num\+\_\+pdu\+\_\+bytes}
\begin{DoxyCompactList}\small\item\em Number of PDU bytes. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+lost\+\_\+pdus}
\begin{DoxyCompactList}\small\item\em Number of dropped PDUs (reassembly timeout expiry or out of rx window) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+malformed\+\_\+pdus}
\begin{DoxyCompactList}\small\item\em Number of malformed PDUs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a1c771f379fa63ba2137654c259563308}{rlc\+\_\+mode}} {\bfseries mode}
\begin{DoxyCompactList}\small\item\em RLC mode of the entity. \end{DoxyCompactList}\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__tm__rx__metrics}{rlc\_tm\_rx\_metrics}} {\bfseries tm}\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__um__rx__metrics}{rlc\_um\_rx\_metrics}} {\bfseries um}\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__am__rx__metrics}{rlc\_am\_rx\_metrics}} {\bfseries am}\\
\} \mbox{\hyperlink{structsrsran_1_1rlc__rx__metrics_adaa3e87d666c60631a73e5cb92784697}{mode\_specific}}\\

\end{tabbing}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity}{srsran\+::rlc\+\_\+rx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__entity_a598927ff69e2c71ed532bfe80049ae40}{rlc\+\_\+rx\+\_\+entity}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} du\+\_\+index, \mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} rb\+\_\+id, \mbox{\hyperlink{classsrsran_1_1rlc__rx__upper__layer__data__notifier}{rlc\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\+\_\+enable}}, \mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\+\_\+}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity}{srsran\+::rlc\+\_\+rx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{rlc\+\_\+bearer\+\_\+logger}} {\bfseries logger}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__upper__layer__data__notifier}{rlc\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \& {\bfseries upper\+\_\+dn}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__rx__metrics__container}{rlc\+\_\+rx\+\_\+metrics\+\_\+container}} {\bfseries metrics}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \& {\bfseries pcap}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a26bcc94b718377b60b75d5824f1da054}\label{classsrsran_1_1rlc__rx__am__entity_a26bcc94b718377b60b75d5824f1da054} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!rlc\_rx\_am\_entity@{rlc\_rx\_am\_entity}}
\index{rlc\_rx\_am\_entity@{rlc\_rx\_am\_entity}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{rlc\_rx\_am\_entity()}{rlc\_rx\_am\_entity()}}
{\footnotesize\ttfamily rlc\+\_\+rx\+\_\+am\+\_\+entity\+::rlc\+\_\+rx\+\_\+am\+\_\+entity (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{du\+\_\+index\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}}}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}}}]{rb\+\_\+id,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config}{rlc\+\_\+rx\+\_\+am\+\_\+config}} \&}]{config,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__rx__upper__layer__data__notifier}{rlc\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&}]{upper\+\_\+dn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}}}]{timers,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{ue\+\_\+executor,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{metrics\+\_\+enabled,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&}]{pcap\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classsrsran_1_1rlc__rx__entity}{rlc\_rx\_entity}}(du\_index,\ ue\_index,\ rb\_id,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_dn\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\_enabled}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\_}}),}
\DoxyCodeLine{00040\ \ \ cfg(config),}
\DoxyCodeLine{00041\ \ \ mod(\mbox{\hyperlink{namespacesrsran_abcf66419637f2dc1494305c3b8d7aaf5}{cardinality}}(to\_number(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}}))),}
\DoxyCodeLine{00042\ \ \ am\_window\_size(\mbox{\hyperlink{namespacesrsran_ada4c5e4e89a42d8c43ad7ebab29ef30f}{window\_size}}(to\_number(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}}))),}
\DoxyCodeLine{00043\ \ \ rx\_window(create\_rx\_window(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}})),}
\DoxyCodeLine{00044\ \ \ status\_buf(\{\mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu}{rlc\_am\_status\_pdu}}(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}}),}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu}{rlc\_am\_status\_pdu}}(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}}),}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu}{rlc\_am\_status\_pdu}}(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}})\}),}
\DoxyCodeLine{00047\ \ \ status\_prohibit\_timer(timers.create\_timer()),}
\DoxyCodeLine{00048\ \ \ reassembly\_timer(timers.create\_timer()),}
\DoxyCodeLine{00049\ \ \ ue\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_executor\_}}),}
\DoxyCodeLine{00050\ \ \ pcap\_context(ue\_index,\ rb\_id,\ config)}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \ \ metrics.metrics\_set\_mode(rlc\_mode::am);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ check\ status\_prohibit\_timer}}
\DoxyCodeLine{00055\ \ \ srsran\_assert(status\_prohibit\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}(),\ \textcolor{stringliteral}{"{}Cannot\ create\ RLC\ RX\ AM,\ status\_prohibit\_timer\ not\ configured."{}});}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ check\ reassembly\_timer}}
\DoxyCodeLine{00057\ \ \ srsran\_assert(reassembly\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}(),\ \textcolor{stringliteral}{"{}Cannot\ create\ RLC\ RX\ AM,\ reassembly\_timer\ not\ configured."{}});}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ configure\ status\_prohibit\_timer}}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{if}\ (cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a059e3613d7288df699211b8c01e089fe}{t\_status\_prohibit}}\ >\ 0)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ status\_prohibit\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(std::chrono::milliseconds\{cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a059e3613d7288df699211b8c01e089fe}{t\_status\_prohibit}}\},}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{keyword}{this}](\mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tid}})\ \{\ on\_expired\_status\_prohibit\_timer();\ \});}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ configure\ reassembly\_timer}}
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{if}\ (cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_afb1650d25b26e77e60b1532fb7ef782a}{t\_reassembly}}\ >\ 0)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ reassembly\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a79c9d6ec6c5942aa869ea4ba273536c5}{set}}(std::chrono::milliseconds\{cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_afb1650d25b26e77e60b1532fb7ef782a}{t\_reassembly}}\},}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{keyword}{this}](\mbox{\hyperlink{namespacesrsran_aa72283f3567ebd1eb77b7dd882d6de33}{timer\_id\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tid}})\ \{\ on\_expired\_reassembly\_timer();\ \});}
\DoxyCodeLine{00069\ \ \ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ configure\ status\ report\ limits}}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{if}\ (cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a5784b2dd83264e8b3290d9a80662362a}{max\_sn\_per\_status}}.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classuint32__t}{uint32\_t}}\ max\_sn\_per\_status\ =\ cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a5784b2dd83264e8b3290d9a80662362a}{max\_sn\_per\_status}}.value();}
\DoxyCodeLine{00074\ \ \ \ \ srsran\_assert(max\_sn\_per\_status\ <=\ \mbox{\hyperlink{namespacesrsran_ada4c5e4e89a42d8c43ad7ebab29ef30f}{window\_size}}(to\_number(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}})),}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Cannot\ create\ RLC\ RX\ AM,\ max\_sn\_per\_status\ exceeds\ window\_size.\ \{\}"{}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cfg);}
\DoxyCodeLine{00077\ \ \ \ \ srsran\_assert(max\_sn\_per\_status\ >\ 0,\ \textcolor{stringliteral}{"{}Cannot\ create\ RLC\ RX\ AM,\ max\_sn\_per\_status\ must\ not\ be\ zero.\ \{\}"{}},\ cfg);}
\DoxyCodeLine{00078\ \ \ \ \ max\_nof\_sn\_per\_status\_report\ =\ max\_sn\_per\_status;}
\DoxyCodeLine{00079\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00080\ \ \ \ \ max\_nof\_sn\_per\_status\_report\ =\ \mbox{\hyperlink{namespacesrsran_ada4c5e4e89a42d8c43ad7ebab29ef30f}{window\_size}}(to\_number(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a6dc978f60b4b5fe052ee3a8f14f84297}{sn\_field\_length}}));}
\DoxyCodeLine{00081\ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ initialize\ status\ report}}
\DoxyCodeLine{00084\ \ \ status\_cached-\/>\mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu_ad3b2d218987b1572b94d31649ecfa119}{ack\_sn}}\ =\ st.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state_aa791211a124cb176410289c9994dd851}{rx\_next\_highest}};}
\DoxyCodeLine{00085\ \ \ status\_report\_size.store(status\_cached-\/>get\_packed\_size(),\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ logger.log\_info(\textcolor{stringliteral}{"{}RLC\ AM\ configured.\ \{\}"{}},\ cfg);}
\DoxyCodeLine{00088\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_ae094631ee62e14ce57db8f76cb176717}\label{classsrsran_1_1rlc__rx__am__entity_ae094631ee62e14ce57db8f76cb176717} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!get\_state@{get\_state}}
\index{get\_state@{get\_state}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{get\_state()}{get\_state()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state}{rlc\+\_\+rx\+\_\+am\+\_\+state}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::get\+\_\+state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get the internal state variables Note\+: This function should only be used for testing

\begin{DoxyReturn}{Returns}
A copy of the internal state variables 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00230\ \{\ \textcolor{keywordflow}{return}\ st;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_ad92f2b9382aab5788250fa51f1366127}\label{classsrsran_1_1rlc__rx__am__entity_ad92f2b9382aab5788250fa51f1366127} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!get\_status\_pdu@{get\_status\_pdu}}
\index{get\_status\_pdu@{get\_status\_pdu}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{get\_status\_pdu()}{get\_status\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu}{rlc\+\_\+am\+\_\+status\+\_\+pdu}} \& rlc\+\_\+rx\+\_\+am\+\_\+entity\+::get\+\_\+status\+\_\+pdu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Gets a reference to the latest status report. 

Important Note\+: The returned status report is only guaranteed to be valid if {\ttfamily status\+\_\+report\+\_\+required} returns {\ttfamily true}. For (unit-\/)testing not checking this condition, a valid status report can be expected (a) once after receiving one (or more) PDUs, or (b) once after t-\/reassembly has expired.

The returned reference stays valid until the next call of this function or the destruction of the RLC RX entity. \begin{DoxyReturn}{Returns}
The latest status report 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__status__provider_a032530956cbc71aa46b635070184d94c}{srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+status\+\_\+provider}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00584\ \{}
\DoxyCodeLine{00585\ \ \ do\_status.store(\textcolor{keyword}{false},\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00586\ \ \ \textcolor{keywordflow}{if}\ (status\_prohibit\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_af009b842ea6d7f5bd5ba2cc87016b8bf}{is\_valid}}()\ \&\&\ cfg.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__config_a059e3613d7288df699211b8c01e089fe}{t\_status\_prohibit}}\ >\ 0)\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ ue\_executor.\mbox{\hyperlink{classsrsran_1_1task__executor_a296e1c4285dafdbfcbc912c3006690a4}{defer}}([\&]()\ \{\ status\_prohibit\_timer.run();\ \}))\ \{}
\DoxyCodeLine{00588\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Unable\ to\ start\ prohibit\ timer"{}});}
\DoxyCodeLine{00589\ \ \ \ \ \}}
\DoxyCodeLine{00590\ \ \ \ \ status\_prohibit\_timer\_is\_running.store(\textcolor{keyword}{true},\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00591\ \ \ \}}
\DoxyCodeLine{00592\ \ \ std::unique\_lock<std::mutex>\ lock(status\_report\_mutex);}
\DoxyCodeLine{00593\ \ \ std::swap(status\_shared,\ status\_cached);}
\DoxyCodeLine{00594\ \ \ \textcolor{keywordflow}{return}\ *status\_shared;}
\DoxyCodeLine{00595\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a7d37868a4f614614bc1ba26999446889}\label{classsrsran_1_1rlc__rx__am__entity_a7d37868a4f614614bc1ba26999446889} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!get\_status\_pdu\_length@{get\_status\_pdu\_length}}
\index{get\_status\_pdu\_length@{get\_status\_pdu\_length}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{get\_status\_pdu\_length()}{get\_status\_pdu\_length()}}
{\footnotesize\ttfamily uint32\+\_\+t rlc\+\_\+rx\+\_\+am\+\_\+entity\+::get\+\_\+status\+\_\+pdu\+\_\+length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__status__provider}{srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+status\+\_\+provider}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00598\ \{}
\DoxyCodeLine{00599\ \ \ \textcolor{keywordflow}{return}\ status\_report\_size.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{00600\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a99c640c41aa46f6710d0607b0a1fcbcc}\label{classsrsran_1_1rlc__rx__am__entity_a99c640c41aa46f6710d0607b0a1fcbcc} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!handle\_pdu@{handle\_pdu}}
\index{handle\_pdu@{handle\_pdu}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{handle\_pdu()}{handle\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rlc\+\_\+rx\+\_\+am\+\_\+entity\+::handle\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer__slice}{byte\+\_\+buffer\+\_\+slice}}}]{pdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming PDU. 



Implements \mbox{\hyperlink{classsrsran_1_1rlc__rx__lower__layer__interface_afb0664e4a2ab9b981fbe79e47f54377c}{srsran\+::rlc\+\_\+rx\+\_\+lower\+\_\+layer\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00092\ \{}
\DoxyCodeLine{00093\ \ \ trace\_point\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rx\_tp}}\ =\ \mbox{\hyperlink{namespacesrsran_a46a9d0c2069e595c7efbda41e108f76b}{up\_tracer}}.now();}
\DoxyCodeLine{00094\ \ \ metrics.metrics\_add\_pdus(1,\ buf.length());}
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{if}\ (buf.empty())\ \{}
\DoxyCodeLine{00096\ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}Dropped\ empty\ PDU."{}});}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ pcap.push\_pdu(pcap\_context,\ buf);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1rlc__am__status__pdu_a3856f1c6ccdedec7edef5d69f65b57b6}{rlc\_am\_status\_pdu::is\_control\_pdu}}(buf.view()))\ \{}
\DoxyCodeLine{00103\ \ \ \ \ metrics.\mbox{\hyperlink{classsrsran_1_1rlc__rx__metrics__container_ab67f1f7437618e81749fdd71f8636f2a}{metrics\_add\_ctrl\_pdus}}(1,\ buf.length());}
\DoxyCodeLine{00104\ \ \ \ \ handle\_control\_pdu(std::move(buf));}
\DoxyCodeLine{00105\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00106\ \ \ \ \ handle\_data\_pdu(std::move(buf));}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{namespacesrsran_a46a9d0c2069e595c7efbda41e108f76b}{up\_tracer}}\ <<\ \mbox{\hyperlink{structsrsran_1_1trace__event}{trace\_event}}\{\textcolor{stringliteral}{"{}rlc\_rx\_pdu"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rx\_tp}}\};}
\DoxyCodeLine{00109\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_aad274ab50d6a72b1ed33c1827b9a30bf}\label{classsrsran_1_1rlc__rx__am__entity_aad274ab50d6a72b1ed33c1827b9a30bf} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!inside\_rx\_window@{inside\_rx\_window}}
\index{inside\_rx\_window@{inside\_rx\_window}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{inside\_rx\_window()}{inside\_rx\_window()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::inside\+\_\+rx\+\_\+window (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{sn }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Checks whether a sequence number is inside the current Rx window 
\begin{DoxyParams}{Parameters}
{\em sn} & The sequence number to be checked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if sn is inside the Rx window, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00200\ \ \ \{}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ RX\_Next\ <=\ SN\ <\ RX\_Next\ +\ AM\_Window\_Size}}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4}{rx\_mod\_base}}(sn)\ <\ am\_window\_size;}
\DoxyCodeLine{00203\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a8b952e9ecba9ffba097b3e7307506cf3}\label{classsrsran_1_1rlc__rx__am__entity_a8b952e9ecba9ffba097b3e7307506cf3} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!is\_t\_reassembly\_running@{is\_t\_reassembly\_running}}
\index{is\_t\_reassembly\_running@{is\_t\_reassembly\_running}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{is\_t\_reassembly\_running()}{is\_t\_reassembly\_running()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::is\+\_\+t\+\_\+reassembly\+\_\+running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get whether the reassembly timer is running Note\+: This function should only be used for testing

\begin{DoxyReturn}{Returns}
true is t-\/\+Reassembly is running 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00236\ \{\ \textcolor{keywordflow}{return}\ reassembly\_timer.\mbox{\hyperlink{classsrsran_1_1unique__timer_a600954b52cb062982a086792c201b9d9}{is\_running}}();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a59bc273574decbc39e0bd190e894476a}\label{classsrsran_1_1rlc__rx__am__entity_a59bc273574decbc39e0bd190e894476a} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!notify\_status\_report\_changed@{notify\_status\_report\_changed}}
\index{notify\_status\_report\_changed@{notify\_status\_report\_changed}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{notify\_status\_report\_changed()}{notify\_status\_report\_changed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rlc\+\_\+rx\+\_\+am\+\_\+entity\+::notify\+\_\+status\+\_\+report\+\_\+changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Inform the Tx entity that a status report is triggered (whenever do\+\_\+status is set to true and t-\/status\+Prohibit is not running), or its size has changed (e.\+g. further PDUs have been received) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00609\ \{}
\DoxyCodeLine{00610\ \ \ \textcolor{keywordflow}{if}\ (status\_report\_required())\ \{}
\DoxyCodeLine{00611\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Notifying\ TX\ that\ status\ report\ has\ changed."{}});}
\DoxyCodeLine{00612\ \ \ \ \ status\_notifier-\/>\mbox{\hyperlink{classsrsran_1_1rlc__tx__am__status__notifier_a5e3aa08205076627fb9258aeb951827b}{on\_status\_report\_changed}}();}
\DoxyCodeLine{00613\ \ \ \}}
\DoxyCodeLine{00614\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4}\label{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!rx\_mod\_base@{rx\_mod\_base}}
\index{rx\_mod\_base@{rx\_mod\_base}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{rx\_mod\_base()}{rx\_mod\_base()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::rx\+\_\+mod\+\_\+base (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{sn }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Helper function for arithmetic comparisons of state variables or SN values. 

When performing arithmetic comparisons of state variables or SN values, a modulus base shall be used.

(...) RX\+\_\+\+Next shall be assumed as the modulus base at the (...) receiving side of an AM RLC entity (...). This modulus base is subtracted from all the values involved, and then an absolute comparison is performed (e.\+g. RX\+\_\+\+Next \texorpdfstring{$<$}{<}= SN \texorpdfstring{$<$}{<} RX\+\_\+\+Next + AM\+\_\+\+Window\+\_\+\+Size is evaluated as \mbox{[}RX\+\_\+\+Next – RX\+\_\+\+Next\mbox{]} modulo 2\texorpdfstring{$^\wedge$}{\string^}\mbox{[}sn-\/\+Field\+Length\mbox{]} \texorpdfstring{$<$}{<}= \mbox{[}SN – RX\+\_\+\+Next\mbox{]} modulo 2\texorpdfstring{$^\wedge$}{\string^}\mbox{[}sn-\/\+Field\+Length\mbox{]} \texorpdfstring{$<$}{<} \mbox{[}RX\+\_\+\+Next + AM\+\_\+\+Window\+\_\+\+Size – RX\+\_\+\+Next\mbox{]} modulo 2\texorpdfstring{$^\wedge$}{\string^}\mbox{[}sn-\/\+Field\+Length\mbox{]}), where sn-\/\+Field\+Length is 12 or 18 for 12 bit SN and 18 bit SN, respectively.

Ref\+: TS 38.\+322 Sec. 7.\+1


\begin{DoxyParams}{Parameters}
{\em sn} & The sequence number to be rebased from RX\+\_\+\+Next \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The rebased value of sn 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \{\ \textcolor{keywordflow}{return}\ (sn\ -\/\ st.\mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state_a5f38fb1ce910683b80b0f4152366860d}{rx\_next}})\ \%\ mod;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a1d878fba3d449db26a3521a5e2c8aab2}\label{classsrsran_1_1rlc__rx__am__entity_a1d878fba3d449db26a3521a5e2c8aab2} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!set\_state@{set\_state}}
\index{set\_state@{set\_state}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{set\_state()}{set\_state()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::set\+\_\+state (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__rx__am__state}{rlc\+\_\+rx\+\_\+am\+\_\+state}} \&}]{st\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the internal state variables Note\+: This function should only be used for testing


\begin{DoxyParams}{Parameters}
{\em st\+\_\+} & The state variables to be set \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00224\ \{\ this-\/>st\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{st\_}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a889c0ad079265b3d45d4fff3236b0b12}\label{classsrsran_1_1rlc__rx__am__entity_a889c0ad079265b3d45d4fff3236b0b12} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!set\_status\_handler@{set\_status\_handler}}
\index{set\_status\_handler@{set\_status\_handler}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{set\_status\_handler()}{set\_status\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::set\+\_\+status\+\_\+handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1rlc__tx__am__status__handler}{rlc\+\_\+tx\+\_\+am\+\_\+status\+\_\+handler}} \texorpdfstring{$\ast$}{*}}]{status\+\_\+handler\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00161\ \{\ status\_handler\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\_handler\_}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a341d8314166c51757f7460561f24cdf7}\label{classsrsran_1_1rlc__rx__am__entity_a341d8314166c51757f7460561f24cdf7} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!set\_status\_notifier@{set\_status\_notifier}}
\index{set\_status\_notifier@{set\_status\_notifier}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{set\_status\_notifier()}{set\_status\_notifier()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::set\+\_\+status\+\_\+notifier (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1rlc__tx__am__status__notifier}{rlc\+\_\+tx\+\_\+am\+\_\+status\+\_\+notifier}} \texorpdfstring{$\ast$}{*}}]{status\+\_\+notifier\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00162\ \{\ status\_notifier\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{status\_notifier\_}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_a9389771d2afebb915c780c0fceec8cf2}\label{classsrsran_1_1rlc__rx__am__entity_a9389771d2afebb915c780c0fceec8cf2} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!status\_report\_required@{status\_report\_required}}
\index{status\_report\_required@{status\_report\_required}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{status\_report\_required()}{status\_report\_required()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} rlc\+\_\+rx\+\_\+am\+\_\+entity\+::status\+\_\+report\+\_\+required (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__status__provider}{srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+status\+\_\+provider}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00603\ \{}
\DoxyCodeLine{00604\ \ \ \textcolor{keywordflow}{return}\ do\_status.load(std::memory\_order\_relaxed)\ \&\&}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ status\_prohibit\_timer\_is\_running.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{00606\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__rx__am__entity_aabe9ef92e15580943ba06e003ceb2536}\label{classsrsran_1_1rlc__rx__am__entity_aabe9ef92e15580943ba06e003ceb2536} 
\index{srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}!valid\_ack\_sn@{valid\_ack\_sn}}
\index{valid\_ack\_sn@{valid\_ack\_sn}!srsran::rlc\_rx\_am\_entity@{srsran::rlc\_rx\_am\_entity}}
\doxysubsubsection{\texorpdfstring{valid\_ack\_sn()}{valid\_ack\_sn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::rlc\+\_\+rx\+\_\+am\+\_\+entity\+::valid\+\_\+ack\+\_\+sn (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{sn }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

This function is used to check if the Rx\+\_\+\+Highest\+\_\+\+Status is valid when t-\/\+Reasseambly expires.

ACK\+\_\+\+SN may be equal to RX\+\_\+\+NEXT + AM\+\_\+\+Window\+\_\+\+Size if the PDU with SN=RX\+\_\+\+NEXT+\+AM\+\_\+\+Window\+\_\+\+Size has been received by the RX. An ACK\+\_\+\+SN == Rx\+\_\+\+Next should not update Rx\+\_\+\+Highest\+\_\+\+Status, it should be updated when Rx\+\_\+\+Next is updated. 
\begin{DoxyParams}{Parameters}
{\em sn} & The sequence number to be checked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if sn is a valid ACK\+\_\+\+SN, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00212\ \ \ \{}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{comment}{//\ RX\_Next\ <\ SN\ <=\ RX\_Next\ +\ AM\_Window\_Size}}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keywordflow}{return}\ (0\ <\ \mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4}{rx\_mod\_base}}(sn))\ \&\&\ (\mbox{\hyperlink{classsrsran_1_1rlc__rx__am__entity_abe3135881a67cfced087174567df69e4}{rx\_mod\_base}}(sn)\ <=\ am\_window\_size);}
\DoxyCodeLine{00215\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/rlc/rlc\+\_\+rx\+\_\+am\+\_\+entity.\+h\item 
lib/rlc/rlc\+\_\+rx\+\_\+am\+\_\+entity.\+cpp\end{DoxyCompactItemize}
