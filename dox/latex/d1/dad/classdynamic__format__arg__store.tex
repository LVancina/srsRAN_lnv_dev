\doxysection{dynamic\+\_\+format\+\_\+arg\+\_\+store\texorpdfstring{$<$}{<} Context \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classdynamic__format__arg__store}{}\label{classdynamic__format__arg__store}\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}


{\ttfamily \#include $<$core.\+h$>$}



Collaboration diagram for dynamic\+\_\+format\+\_\+arg\+\_\+store\texorpdfstring{$<$}{<} Context \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{d3/de7/classdynamic__format__arg__store__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classdynamic__format__arg__store_a710e994685e69fd1cd4f56d29efc0d95}{push\+\_\+back}} (const T \&arg)
\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classdynamic__format__arg__store_ac58637a7965cbfeab47c2f50e923dc07}{push\+\_\+back}} (std\+::reference\+\_\+wrapper$<$ T $>$ arg)
\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classdynamic__format__arg__store_a14baaad39c59b82fdf86dc4276f7d7cc}{push\+\_\+back}} (const \mbox{\hyperlink{structdetail_1_1named__arg}{detail\+::named\+\_\+arg}}$<$ char\+\_\+type, T $>$ \&arg)
\item 
void \mbox{\hyperlink{classdynamic__format__arg__store_a94763fc905f02222d575f7c03161c212}{clear}} ()
\item 
void \mbox{\hyperlink{classdynamic__format__arg__store_a9c6983c46b69775b5066f6ad748be584}{reserve}} (size\+\_\+t new\+\_\+cap, size\+\_\+t new\+\_\+cap\+\_\+named)
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classdynamic__format__arg__store_ab8e9e33cc7b78829001a86ef6110ebb6}\label{classdynamic__format__arg__store_ab8e9e33cc7b78829001a86ef6110ebb6} 
class {\bfseries basic\+\_\+format\+\_\+args$<$ Context $>$}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Context$>$\newline
class dynamic\+\_\+format\+\_\+arg\+\_\+store$<$ Context $>$}
\textbackslash{}rst A dynamic version of {\ttfamily fmt\+::format\+\_\+arg\+\_\+store}. It\textquotesingle{}s equipped with a storage to potentially temporary objects which lifetimes could be shorter than the format arguments object.

It can be implicitly converted into {\ttfamily \texorpdfstring{$\sim$}{\string~}fmt\doxylink{classbasic__format__args}{basic\+\_\+format\+\_\+args}} for passing into type-\/erased formatting functions such as {\ttfamily \texorpdfstring{$\sim$}{\string~}fmtvformat}. \textbackslash{}endrst 

\doxysubsection{Member Function Documentation}
\Hypertarget{classdynamic__format__arg__store_a94763fc905f02222d575f7c03161c212}\label{classdynamic__format__arg__store_a94763fc905f02222d575f7c03161c212} 
\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}!clear@{clear}}
\index{clear@{clear}!dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily template$<$typename Context $>$ \\
void \mbox{\hyperlink{classdynamic__format__arg__store}{dynamic\+\_\+format\+\_\+arg\+\_\+store}}$<$ Context $>$\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Erase all elements from the store 
\begin{DoxyCode}{0}
\DoxyCodeLine{01603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01604\ \ \ \ \ data\_.clear();}
\DoxyCodeLine{01605\ \ \ \ \ named\_info\_.clear();}
\DoxyCodeLine{01606\ \ \ \ \ dynamic\_args\_\ =\ \mbox{\hyperlink{classdetail_1_1dynamic__arg__list}{detail::dynamic\_arg\_list}}();}
\DoxyCodeLine{01607\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classdynamic__format__arg__store_a14baaad39c59b82fdf86dc4276f7d7cc}\label{classdynamic__format__arg__store_a14baaad39c59b82fdf86dc4276f7d7cc} 
\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}!push\_back@{push\_back}}
\index{push\_back@{push\_back}!dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}
\doxysubsubsection{\texorpdfstring{push\_back()}{push\_back()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily template$<$typename Context $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classdynamic__format__arg__store}{dynamic\+\_\+format\+\_\+arg\+\_\+store}}$<$ Context $>$\+::push\+\_\+back (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdetail_1_1named__arg}{detail\+::named\+\_\+arg}}$<$ char\+\_\+type, T $>$ \&}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Adds named argument into the dynamic store for later passing to a formatting function. {\ttfamily std\+::reference\+\_\+wrapper} is supported to avoid copying of the argument. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01592\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classParseContext_1_1char__type}{char\_type}}*\ arg\_name\ =}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ dynamic\_args\_.push<std::basic\_string<char\_type>>(arg.name).c\_str();}
\DoxyCodeLine{01594\ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::const\_check(need\_copy<T>::value))\ \{}
\DoxyCodeLine{01595\ \ \ \ \ \ \ emplace\_arg(}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ \ \ fmt::arg(arg\_name,\ dynamic\_args\_.push<stored\_type<T>>(arg.value)));}
\DoxyCodeLine{01597\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01598\ \ \ \ \ \ \ emplace\_arg(fmt::arg(arg\_name,\ arg.value));}
\DoxyCodeLine{01599\ \ \ \ \ \}}
\DoxyCodeLine{01600\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classdynamic__format__arg__store_a710e994685e69fd1cd4f56d29efc0d95}\label{classdynamic__format__arg__store_a710e994685e69fd1cd4f56d29efc0d95} 
\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}!push\_back@{push\_back}}
\index{push\_back@{push\_back}!dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}
\doxysubsubsection{\texorpdfstring{push\_back()}{push\_back()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily template$<$typename Context $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classdynamic__format__arg__store}{dynamic\+\_\+format\+\_\+arg\+\_\+store}}$<$ Context $>$\+::push\+\_\+back (\begin{DoxyParamCaption}\item[{const T \&}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\textbackslash{}rst Adds an argument into the dynamic store for later passing to a formatting function.

Note that custom types and string types (but not string views) are copied into the store dynamically allocating memory if necessary.

Example\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}\+::

fmt\+::dynamic\+\_\+format\+\_\+arg\+\_\+store$<$fmt\+::format\+\_\+context$>$ store; store.\+push\+\_\+back(42); store.\+push\+\_\+back("{}abc"{}); store.\+push\+\_\+back(1.\+5f); std\+::string result = fmt\+::vformat("{}\{\} and \{\} and \{\}"{}, store); \textbackslash{}endrst 
\begin{DoxyCode}{0}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01548\ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::const\_check(need\_copy<T>::value))\ \{}
\DoxyCodeLine{01549\ \ \ \ \ \ \ emplace\_arg(dynamic\_args\_.push<stored\_type<T>\ >(arg));}
\DoxyCodeLine{01550\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01551\ \ \ \ \ \ \ emplace\_arg(detail::unwrap(arg));}
\DoxyCodeLine{01552\ \ \ \ \ \}}
\DoxyCodeLine{01553\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classdynamic__format__arg__store_ac58637a7965cbfeab47c2f50e923dc07}\label{classdynamic__format__arg__store_ac58637a7965cbfeab47c2f50e923dc07} 
\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}!push\_back@{push\_back}}
\index{push\_back@{push\_back}!dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}
\doxysubsubsection{\texorpdfstring{push\_back()}{push\_back()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$typename Context $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classdynamic__format__arg__store}{dynamic\+\_\+format\+\_\+arg\+\_\+store}}$<$ Context $>$\+::push\+\_\+back (\begin{DoxyParamCaption}\item[{std\+::reference\+\_\+wrapper$<$ T $>$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyVerb}\rst
Adds a reference to the argument into the dynamic store for later passing to
a formatting function. Supports named arguments wrapped in
``std::reference_wrapper`` via ``std::ref()``/``std::cref()``.

  Example**::

  fmt::dynamic_format_arg_store<fmt::format_context> store;
  char str[] = "1234567890";
  store.push_back(std::cref(str));
  int a1_val{42};
  auto a1 = fmt::arg("a1_", a1_val);
  store.push_back(std::cref(a1));
\end{DoxyVerb}
 Changing str affects the output but only for string and custom types. str\mbox{[}0\mbox{]} = \textquotesingle{}X\textquotesingle{};

std\+::string result = fmt\+::vformat("{}\{\} and \{a1\+\_\+\}"{}); assert(result == "{}\+X234567890 and 42"{}); \textbackslash{}endrst 
\begin{DoxyCode}{0}
\DoxyCodeLine{01577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01578\ \ \ \ \ \textcolor{keyword}{static\_assert}(}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1is__named__arg}{detail::is\_named\_arg<typename\ std::remove\_cv<T>::type}}>::value\ ||}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ need\_copy<T>::value,}
\DoxyCodeLine{01581\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}objects\ of\ built-\/in\ types\ and\ string\ views\ are\ always\ copied"{}});}
\DoxyCodeLine{01582\ \ \ \ \ emplace\_arg(arg.get());}
\DoxyCodeLine{01583\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classdynamic__format__arg__store_a9c6983c46b69775b5066f6ad748be584}\label{classdynamic__format__arg__store_a9c6983c46b69775b5066f6ad748be584} 
\index{dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}!reserve@{reserve}}
\index{reserve@{reserve}!dynamic\_format\_arg\_store$<$ Context $>$@{dynamic\_format\_arg\_store$<$ Context $>$}}
\doxysubsubsection{\texorpdfstring{reserve()}{reserve()}}
{\footnotesize\ttfamily template$<$typename Context $>$ \\
void \mbox{\hyperlink{classdynamic__format__arg__store}{dynamic\+\_\+format\+\_\+arg\+\_\+store}}$<$ Context $>$\+::reserve (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{new\+\_\+cap,  }\item[{size\+\_\+t}]{new\+\_\+cap\+\_\+named }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\textbackslash{}rst Reserves space to store at least {\itshape new\+\_\+cap} arguments including new\+\_\+cap\+\_\+named\texorpdfstring{$\ast$}{*} named arguments. \textbackslash{}endrst 
\begin{DoxyCode}{0}
\DoxyCodeLine{01615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01616\ \ \ \ \ FMT\_ASSERT(new\_cap\ >=\ new\_cap\_named,}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Set\ of\ arguments\ includes\ set\ of\ named\ arguments"{}});}
\DoxyCodeLine{01618\ \ \ \ \ data\_.reserve(new\_cap);}
\DoxyCodeLine{01619\ \ \ \ \ named\_info\_.reserve(new\_cap\_named);}
\DoxyCodeLine{01620\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
external/fmt/include/fmt/core.\+h\end{DoxyCompactItemize}
