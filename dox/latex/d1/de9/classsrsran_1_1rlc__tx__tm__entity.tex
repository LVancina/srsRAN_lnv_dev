\doxysection{srsran\+::rlc\+\_\+tx\+\_\+tm\+\_\+entity Class Reference}
\hypertarget{classsrsran_1_1rlc__tx__tm__entity}{}\label{classsrsran_1_1rlc__tx__tm__entity}\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}


Inheritance diagram for srsran\+::rlc\+\_\+tx\+\_\+tm\+\_\+entity\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/ddf/classsrsran_1_1rlc__tx__tm__entity__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::rlc\+\_\+tx\+\_\+tm\+\_\+entity\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d83/classsrsran_1_1rlc__tx__tm__entity__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__tm__entity_a5b6793151e53fe6266a2505670a92b4d}{rlc\+\_\+tx\+\_\+tm\+\_\+entity}} (uint32\+\_\+t du\+\_\+index, \mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} rb\+\_\+id, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__tx__tm__config}{rlc\+\_\+tx\+\_\+tm\+\_\+config}} \&config, \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__control__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+cn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__notifier}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lower\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcell\+\_\+executor\+\_\+}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\+\_\+enabled\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__tm__entity_abc95357266e454ce5dc055b455f43e74}{handle\+\_\+sdu}} (\mbox{\hyperlink{structsrsran_1_1rlc__sdu}{rlc\+\_\+sdu}} sdu) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Interface for higher layers to pass SDUs into RLC. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__tm__entity_ac66b3d59044966d3c6000409d0604ba5}{discard\+\_\+sdu}} (uint32\+\_\+t pdcp\+\_\+sn) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Interface for higher layers to discard SDUs from RLC queue. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1rlc__tx__tm__entity_a80834aaffe2d6f038707f4f26b336178}{pull\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rlc\+\_\+pdu\+\_\+buf}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of {\ttfamily rlc\+\_\+pdu\+\_\+buf} is insufficient or the TX buffer is empty. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classsrsran_1_1rlc__tx__tm__entity_a18f1f8b8006a1fd7c6afb76b670561bd}{get\+\_\+buffer\+\_\+state}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull\+\_\+pdu). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity}{srsran\+::rlc\+\_\+tx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structsrsran_1_1rlc__tx__metrics}{rlc\+\_\+tx\+\_\+metrics}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity_ab835005656d9d0dbb67e19d6d49b3577}{get\+\_\+metrics}} ()
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity_a6c881c34347d814d0a59be6ed9eca264}{reset\+\_\+metrics}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{srsran\+::rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{srsran\+::rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{structsrsran_1_1rlc__tx__metrics}{srsran\+::rlc\+\_\+tx\+\_\+metrics}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+sdus}
\begin{DoxyCompactList}\small\item\em Number of SDUs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+of\+\_\+pulled\+\_\+sdus}
\begin{DoxyCompactList}\small\item\em Number of pulled SDUs. \end{DoxyCompactList}\item 
size\+\_\+t {\bfseries num\+\_\+sdu\+\_\+bytes}
\begin{DoxyCompactList}\small\item\em Number of SDU bytes. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+dropped\+\_\+sdus}
\begin{DoxyCompactList}\small\item\em Number of dropped SDUs (due to full queue) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+discarded\+\_\+sdus}
\begin{DoxyCompactList}\small\item\em Number of discarded SDUs (instructed from higher layer) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+discard\+\_\+failures}
\begin{DoxyCompactList}\small\item\em Number of failed SDU discards (instructed from higher layer) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries sum\+\_\+sdu\+\_\+latency\+\_\+us}
\begin{DoxyCompactList}\small\item\em total SDU latency (in us)\texorpdfstring{$>$}{>} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} {\bfseries num\+\_\+pdus\+\_\+no\+\_\+segmentation}
\begin{DoxyCompactList}\small\item\em Number of transmitted PDUs without segmentation. \end{DoxyCompactList}\item 
size\+\_\+t {\bfseries num\+\_\+pdu\+\_\+bytes\+\_\+no\+\_\+segmentation}
\begin{DoxyCompactList}\small\item\em Number of transmitted PDU bytes without segmentation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a1c771f379fa63ba2137654c259563308}{rlc\+\_\+mode}} {\bfseries mode}
\begin{DoxyCompactList}\small\item\em RLC mode of the entity. \end{DoxyCompactList}\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__tm__tx__metrics}{rlc\_tm\_tx\_metrics}} {\bfseries tm}\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__um__tx__metrics}{rlc\_um\_tx\_metrics}} {\bfseries um}\\
\>\mbox{\hyperlink{structsrsran_1_1rlc__am__tx__metrics}{rlc\_am\_tx\_metrics}} {\bfseries am}\\
\} \mbox{\hyperlink{structsrsran_1_1rlc__tx__metrics_a97e10254bd7914a69ee8f0182d5dc2cc}{mode\_specific}}\\

\end{tabbing}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity}{srsran\+::rlc\+\_\+tx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__entity_a3d60bcedb1ee117619637568433ca906}{rlc\+\_\+tx\+\_\+entity}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} du\+\_\+index, \mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}} ue\+\_\+index, \mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}} rb\+\_\+id, \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__control__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\+\_\+cn\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__notifier}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lower\+\_\+dn\+\_\+}}, \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\+\_\+enabled}}, \mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\+\_\+}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity}{srsran\+::rlc\+\_\+tx\+\_\+entity}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{rlc\+\_\+bearer\+\_\+logger}} {\bfseries logger}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__metrics__container}{rlc\+\_\+tx\+\_\+metrics\+\_\+container}} {\bfseries metrics}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \& {\bfseries upper\+\_\+dn}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__control__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+control\+\_\+notifier}} \& {\bfseries upper\+\_\+cn}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__notifier}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+notifier}} \& {\bfseries lower\+\_\+dn}
\item 
\mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \& {\bfseries pcap}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1rlc__tx__tm__entity_a5b6793151e53fe6266a2505670a92b4d}\label{classsrsran_1_1rlc__tx__tm__entity_a5b6793151e53fe6266a2505670a92b4d} 
\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}!rlc\_tx\_tm\_entity@{rlc\_tx\_tm\_entity}}
\index{rlc\_tx\_tm\_entity@{rlc\_tx\_tm\_entity}!srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}
\doxysubsubsection{\texorpdfstring{rlc\_tx\_tm\_entity()}{rlc\_tx\_tm\_entity()}}
{\footnotesize\ttfamily rlc\+\_\+tx\+\_\+tm\+\_\+entity\+::rlc\+\_\+tx\+\_\+tm\+\_\+entity (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{du\+\_\+index,  }\item[{\mbox{\hyperlink{namespacesrsran_a511ed22603607d4a784c0f1807648b47}{du\+\_\+ue\+\_\+index\+\_\+t}}}]{ue\+\_\+index,  }\item[{\mbox{\hyperlink{classsrsran_1_1rb__id__t}{rb\+\_\+id\+\_\+t}}}]{rb\+\_\+id,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rlc__tx__tm__config}{rlc\+\_\+tx\+\_\+tm\+\_\+config}} \&}]{config,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+notifier}} \&}]{upper\+\_\+dn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__control__notifier}{rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+control\+\_\+notifier}} \&}]{upper\+\_\+cn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__notifier}{rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+notifier}} \&}]{lower\+\_\+dn\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{pcell\+\_\+executor\+\_\+,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{metrics\+\_\+enabled\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1rlc__pcap}{rlc\+\_\+pcap}} \&}]{pcap\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00037\ \ \ \mbox{\hyperlink{classsrsran_1_1rlc__tx__entity}{rlc\_tx\_entity}}(du\_index,\ ue\_index,\ rb\_id,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_dn\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{upper\_cn\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{lower\_dn\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{metrics\_enabled\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcap\_}}),}
\DoxyCodeLine{00038\ \ \ cfg(config),}
\DoxyCodeLine{00039\ \ \ sdu\_queue(cfg.\mbox{\hyperlink{structsrsran_1_1rlc__tx__tm__config_a14799f56b333e9802c65ef6f392c57f9}{queue\_size}},\ logger),}
\DoxyCodeLine{00040\ \ \ pcell\_executor(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pcell\_executor\_}}),}
\DoxyCodeLine{00041\ \ \ pcap\_context(ue\_index,\ rb\_id,\ \textcolor{comment}{/*\ is\_uplink\ */}\ \textcolor{keyword}{false})}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ metrics.metrics\_set\_mode(rlc\_mode::tm);}
\DoxyCodeLine{00044\ \ \ logger.log\_info(\textcolor{stringliteral}{"{}RLC\ TM\ created.\ \{\}"{}},\ cfg);}
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1rlc__tx__tm__entity_ac66b3d59044966d3c6000409d0604ba5}\label{classsrsran_1_1rlc__tx__tm__entity_ac66b3d59044966d3c6000409d0604ba5} 
\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}!discard\_sdu@{discard\_sdu}}
\index{discard\_sdu@{discard\_sdu}!srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}
\doxysubsubsection{\texorpdfstring{discard\_sdu()}{discard\_sdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rlc\+\_\+tx\+\_\+tm\+\_\+entity\+::discard\+\_\+sdu (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{pdcp\+\_\+sn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Interface for higher layers to discard SDUs from RLC queue. 


\begin{DoxyParams}{Parameters}
{\em pdcp\+\_\+sn} & PDCP sequence number (SN) of the SDU that is to be discarded \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface_a349619ff887450259fa44a739d2980b6}{srsran\+::rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{}
\DoxyCodeLine{00064\ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}Ignoring\ invalid\ attempt\ to\ discard\ SDU\ in\ TM.\ pdcp\_sn=\{\}"{}},\ pdcp\_sn);}
\DoxyCodeLine{00065\ \ \ metrics.metrics\_add\_discard\_failure(1);}
\DoxyCodeLine{00066\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__tx__tm__entity_a18f1f8b8006a1fd7c6afb76b670561bd}\label{classsrsran_1_1rlc__tx__tm__entity_a18f1f8b8006a1fd7c6afb76b670561bd} 
\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}!get\_buffer\_state@{get\_buffer\_state}}
\index{get\_buffer\_state@{get\_buffer\_state}!srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}
\doxysubsubsection{\texorpdfstring{get\_buffer\_state()}{get\_buffer\_state()}}
{\footnotesize\ttfamily uint32\+\_\+t rlc\+\_\+tx\+\_\+tm\+\_\+entity\+::get\+\_\+buffer\+\_\+state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull\+\_\+pdu). 

\begin{DoxyReturn}{Returns}
Provides the current buffer state 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface_a7cbb36d4595cc433e55261341ccc641a}{srsran\+::rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \{}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{return}\ sdu\_queue.\mbox{\hyperlink{classsrsran_1_1rlc__sdu__queue__lockfree_ab2d800cfef5a9542f480da984fc3e2d0}{size\_bytes}}()\ +\ sdu.buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}();}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__tx__tm__entity_abc95357266e454ce5dc055b455f43e74}\label{classsrsran_1_1rlc__tx__tm__entity_abc95357266e454ce5dc055b455f43e74} 
\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}!handle\_sdu@{handle\_sdu}}
\index{handle\_sdu@{handle\_sdu}!srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}
\doxysubsubsection{\texorpdfstring{handle\_sdu()}{handle\_sdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rlc\+\_\+tx\+\_\+tm\+\_\+entity\+::handle\+\_\+sdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1rlc__sdu}{rlc\+\_\+sdu}}}]{sdu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Interface for higher layers to pass SDUs into RLC. 


\begin{DoxyParams}{Parameters}
{\em sdu} & SDU to be handled \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__interface_a3672e8658872f39bbcbb61afa9a05235}{srsran\+::rlc\+\_\+tx\+\_\+upper\+\_\+layer\+\_\+data\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \{}
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_}}.buf.length();}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (sdu\_queue.\mbox{\hyperlink{classsrsran_1_1rlc__sdu__queue__lockfree_a1a653b33da96f2caea9471794877464c}{write}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_}}))\ \{}
\DoxyCodeLine{00052\ \ \ \ \ logger.log\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_}}.buf.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_}}.buf.end(),\ \textcolor{stringliteral}{"{}TX\ SDU.\ sdu\_len=\{\}\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}},\ sdu\_queue);}
\DoxyCodeLine{00053\ \ \ \ \ metrics.metrics\_add\_sdus(1,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}});}
\DoxyCodeLine{00054\ \ \ \ \ handle\_changed\_buffer\_state();}
\DoxyCodeLine{00055\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00056\ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}Dropped\ SDU.\ sdu\_len=\{\}\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}},\ sdu\_queue);}
\DoxyCodeLine{00057\ \ \ \ \ metrics.metrics\_add\_lost\_sdus(1);}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rlc__tx__tm__entity_a80834aaffe2d6f038707f4f26b336178}\label{classsrsran_1_1rlc__tx__tm__entity_a80834aaffe2d6f038707f4f26b336178} 
\index{srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}!pull\_pdu@{pull\_pdu}}
\index{pull\_pdu@{pull\_pdu}!srsran::rlc\_tx\_tm\_entity@{srsran::rlc\_tx\_tm\_entity}}
\doxysubsubsection{\texorpdfstring{pull\_pdu()}{pull\_pdu()}}
{\footnotesize\ttfamily size\+\_\+t rlc\+\_\+tx\+\_\+tm\+\_\+entity\+::pull\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{rlc\+\_\+pdu\+\_\+buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of {\ttfamily rlc\+\_\+pdu\+\_\+buf} is insufficient or the TX buffer is empty. 


\begin{DoxyParams}{Parameters}
{\em rlc\+\_\+pdu\+\_\+buf} & TX buffer where to encode an RLC Tx PDU. The encoded PDU size cannot exceed the size of the buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes taken by the written RLC PDU. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1rlc__tx__lower__layer__interface_acdd2d3757d55392f35627a2a05e1fbcf}{srsran\+::rlc\+\_\+tx\+\_\+lower\+\_\+layer\+\_\+interface}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mac\_sdu\_buf}}.size();}
\DoxyCodeLine{00072\ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}MAC\ opportunity.\ grant\_len=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}});}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Get\ a\ new\ SDU,\ if\ none\ is\ currently\ being\ transmitted}}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ (sdu.buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a4d77b44f1d800f8b2f92bb76e80512f3}{empty}}())\ \{}
\DoxyCodeLine{00076\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Reading\ SDU\ from\ sdu\_queue.\ \{\}"{}},\ sdu\_queue);}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ sdu\_queue.\mbox{\hyperlink{classsrsran_1_1rlc__sdu__queue__lockfree_a5b2d6733746aaf17fd87a0743ba52501}{read}}(sdu))\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}SDU\ queue\ empty.\ grant\_len=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}});}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}Read\ SDU.\ pdcp\_sn=\{\}\ sdu\_len=\{\}"{}},\ sdu.pdcp\_sn,\ sdu.buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}());}
\DoxyCodeLine{00082\ \ \ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}}\ =\ sdu.buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7168fb8841a83a60b60a2ae06b59662d}{length}}();}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}}\ >\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}})\ \{}
\DoxyCodeLine{00086\ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}SDU\ exeeds\ provided\ space.\ front\_len=\{\}\ grant\_len=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}});}
\DoxyCodeLine{00087\ \ \ \ \ metrics.metrics\_add\_small\_alloc(1);}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ Notify\ the\ upper\ layer\ about\ the\ beginning\ of\ the\ transfer\ of\ the\ current\ SDU}}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{if}\ (sdu.pdcp\_sn.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00093\ \ \ \ \ upper\_dn.\mbox{\hyperlink{classsrsran_1_1rlc__tx__upper__layer__data__notifier_aa6056abcbe99afbd8359eb5617fd1687}{on\_transmitted\_sdu}}(sdu.pdcp\_sn.value());}
\DoxyCodeLine{00094\ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ In\ TM\ there\ is\ no\ header,\ just\ pass\ the\ plain\ SDU}}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_it}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mac\_sdu\_buf}}.begin();}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classsrsran_1_1span}{span<uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seg}}\ :\ sdu.buf.segments())\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_it}}\ =\ std::copy(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seg}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seg}}.end(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_it}});}
\DoxyCodeLine{00100\ \ \ \}}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_len}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_it}}\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mac\_sdu\_buf}}.begin();}
\DoxyCodeLine{00102\ \ \ logger.log\_info(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mac\_sdu\_buf}}.data(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_len}},\ \textcolor{stringliteral}{"{}TX\ PDU.\ pdu\_len=\{\}\ grant\_len=\{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_len}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{grant\_len}});}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ Release\ SDU}}
\DoxyCodeLine{00105\ \ \ sdu.buf.\mbox{\hyperlink{classsrsran_1_1byte__buffer_a7c8882b6403ea3f246d63c64dd122f10}{clear}}();}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ Update\ metrics}}
\DoxyCodeLine{00108\ \ \ metrics.metrics\_add\_pdus\_no\_segmentation(1,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{sdu\_len}});}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{//\ Push\ PDU\ into\ PCAP.}}
\DoxyCodeLine{00111\ \ \ pcap.push\_pdu(pcap\_context,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mac\_sdu\_buf}}.subspan(0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_len}}));}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pdu\_len}};}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/rlc/rlc\+\_\+tx\+\_\+tm\+\_\+entity.\+h\item 
lib/rlc/rlc\+\_\+tx\+\_\+tm\+\_\+entity.\+cpp\end{DoxyCompactItemize}
