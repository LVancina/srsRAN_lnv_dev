\doxysection{srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1crc__calculator__lut__impl}{}\label{classsrsran_1_1crc__calculator__lut__impl}\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}


CRC calculator based on look-\/up tables.  




{\ttfamily \#include $<$crc\+\_\+calculator\+\_\+lut\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{d4/d73/classsrsran_1_1crc__calculator__lut__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{de/d92/classsrsran_1_1crc__calculator__lut__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ac592ef15cda8c9f96f66238f7e2315d7}{crc\+\_\+calculator\+\_\+lut\+\_\+impl}} (\mbox{\hyperlink{namespacesrsran_a435210edce480bf70bdd9d0c887c0c56}{crc\+\_\+generator\+\_\+poly}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{poly\+\_\+}})
\begin{DoxyCompactList}\small\item\em Initializes the CRC calculator with the provided cyclic generator polynomial. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2}{reset}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\+\_\+}}=0)
\begin{DoxyCompactList}\small\item\em Sets the internal CRC. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\+\_\+byte}} (\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{byte}})
\begin{DoxyCompactList}\small\item\em Includes the given {\ttfamily byte} into the CRC computation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ac1f460d23eafbce60d64e072c1457794}{reversecrcbit}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbits}})
\begin{DoxyCompactList}\small\item\em Reverses the {\ttfamily nbits} least significant bits of {\ttfamily crc}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\+\_\+checksum}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Reads the current value of {\ttfamily crc}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a5246e6c93b5c770ce2ca3f3ddcfec3c2}{calculate\+\_\+byte}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ input) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Calculates the checksum from a byte buffer (8 packed bits in every input byte). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a224e92c939f342424ca3eb2e2154170f}{calculate\+\_\+bit}} (\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$ input) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Calculates the checksum from a bit buffer (1 bit in for every input byte). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ac05aec99ba6d524d12d37b0f6b636f9a}{calculate}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} \&data) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Calculates the checksum from a bit buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a435210edce480bf70bdd9d0c887c0c56}{crc\+\_\+generator\+\_\+poly}} \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_af1de15a373354ac9cbe50f931dd936b9}{get\+\_\+generator\+\_\+poly}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the identifier of the generator polynomial. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
CRC calculator based on look-\/up tables. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_ac592ef15cda8c9f96f66238f7e2315d7}\label{classsrsran_1_1crc__calculator__lut__impl_ac592ef15cda8c9f96f66238f7e2315d7} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!crc\_calculator\_lut\_impl@{crc\_calculator\_lut\_impl}}
\index{crc\_calculator\_lut\_impl@{crc\_calculator\_lut\_impl}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{crc\_calculator\_lut\_impl()}{crc\_calculator\_lut\_impl()}}
{\footnotesize\ttfamily crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a435210edce480bf70bdd9d0c887c0c56}{crc\+\_\+generator\+\_\+poly}}}]{poly\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Initializes the CRC calculator with the provided cyclic generator polynomial. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00061\ \ \ table(crc\_tables.at(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{poly\_}})),\ order(table.order),\ crcmask(table.crcmask),\ crc(0),\ poly(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{poly\_}})}
\DoxyCodeLine{00062\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Do\ nothing}}
\DoxyCodeLine{00064\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_ac05aec99ba6d524d12d37b0f6b636f9a}\label{classsrsran_1_1crc__calculator__lut__impl_ac05aec99ba6d524d12d37b0f6b636f9a} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!calculate@{calculate}}
\index{calculate@{calculate}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{calculate()}{calculate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::calculate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bit__buffer}{bit\+\_\+buffer}} \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates the checksum from a bit buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Input data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resulting CRC checksum. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1crc__calculator_aef578a5a33ab7a680911acb2ddcae963}{srsran\+::crc\+\_\+calculator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \{}
\DoxyCodeLine{00126\ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2}{reset}}();}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{//\ Pack\ bits\ into\ bytes.}}
\DoxyCodeLine{00129\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}}\ =\ input.size()\ /\ 8;}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}\ \ \ =\ input.size()\ \%\ 8;}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//\ Extract\ and\ calculate\ CRC\ for\ each\ byte.}}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_byte}}\ =\ 0;\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_byte}}\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}};\ ++\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_byte}})\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \textcolor{keywordtype}{byte}\ =\ input.get\_byte(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_byte}});}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\_byte}}(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ Process\ remainder\ bits.}}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}\ >\ 0)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{remainder}}\ =\ input.extract(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}}\ *\ 8,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}});}
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\_byte}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{remainder}}\ <<\ (8\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}));}
\DoxyCodeLine{00142\ \ \ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ crc\ =\ (\mbox{\hyperlink{classuint32__t}{uint32\_t}})\mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\_checksum}}();}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}\ >\ 0)\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ Reverse\ CRC\ res8\ positions}}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ac1f460d23eafbce60d64e072c1457794}{reversecrcbit}}(8\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}});}
\DoxyCodeLine{00149\ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\_checksum}}();}
\DoxyCodeLine{00152\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_a224e92c939f342424ca3eb2e2154170f}\label{classsrsran_1_1crc__calculator__lut__impl_a224e92c939f342424ca3eb2e2154170f} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!calculate\_bit@{calculate\_bit}}
\index{calculate\_bit@{calculate\_bit}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{calculate\_bit()}{calculate\_bit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::calculate\+\_\+bit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates the checksum from a bit buffer (1 bit in for every input byte). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Provides the byte buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resulting CRC checksum. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1crc__calculator_ad0d4abb35547dbf3c99af855035581e9}{srsran\+::crc\+\_\+calculator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079\ \{}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2}{reset}}();}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{int}\ a\ =\ 0;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ Pack\ bits\ into\ bytes.}}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}}\ =\ input.size()\ /\ 8;}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}\ \ \ =\ input.size()\ \%\ 8;}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}}\ >\ 0)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ a\ =\ 1;}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ Calculate\ CRC.}}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}};\ i++)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Get\ pack\ a\ byte\ from\ 8\ bits.}}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint8\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pter}}\ =\ input.\mbox{\hyperlink{classsrsran_1_1span_ac5f02596fcb6e8f430a3e11e47a6d7e8}{subspan}}(8U\ *\ i,\ 8);}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#ifdef\ HAVE\_SSE}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ Get\ 8\ Bit}}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_\_m64}}\ \mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_mm\_cmpgt\_pi8}}(*(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_\_m64}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pter}}.data())),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_mm\_set1\_pi8}}(0));}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Get\ mask\ and\ reverse.}}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \textcolor{keywordtype}{byte}\ =\ \mbox{\hyperlink{namespacesrsran_a02763b7d33ebb4e0c39b4a9730b6687f}{reverse\_byte}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuint8__t}{uint8\_t}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\_mm\_movemask\_pi8}}(\mbox{\hyperlink{namespacesrsran_ad24c439c1013fdd70334019fc3d1d1fbaf2ce11ebf110993621bedd8e747d7b1b}{mask}})));}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ HAVE\_SSE}}
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \textcolor{keywordtype}{byte}\ =\ (\mbox{\hyperlink{classuint8__t}{uint8\_t}})(srsvec::bit\_pack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pter}},\ 8)\ \&\ 0xff);}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ HAVE\_SSE}}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\_byte}}(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00105\ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}};\ i\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbytes}}\ +\ a;\ i++)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \textcolor{keywordtype}{byte}\ =\ 0x00;}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ k\ =\ 0;\ k\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}};\ k++)\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordtype}{byte}\ |=\ (\mbox{\hyperlink{classuint8__t}{uint8\_t}})((input[i\ *\ 8\ +\ k])\ <<\ (7U\ -\/\ k));}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\_byte}}(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ crc\ =\ (\mbox{\hyperlink{classuint32__t}{uint32\_t}})\mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\_checksum}}();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ Reverse\ CRC\ res8\ positions}}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{if}\ (a\ ==\ 1)\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ac1f460d23eafbce60d64e072c1457794}{reversecrcbit}}(8\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{res8}});}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\_checksum}}();}
\DoxyCodeLine{00123\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_a5246e6c93b5c770ce2ca3f3ddcfec3c2}\label{classsrsran_1_1crc__calculator__lut__impl_a5246e6c93b5c770ce2ca3f3ddcfec3c2} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!calculate\_byte@{calculate\_byte}}
\index{calculate\_byte@{calculate\_byte}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{calculate\_byte()}{calculate\_byte()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::calculate\+\_\+byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} $>$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates the checksum from a byte buffer (8 packed bits in every input byte). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Provides the byte buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resulting CRC checksum. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1crc__calculator_a527fe01b97675f1709ea4995b7a8f936}{srsran\+::crc\+\_\+calculator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2}{reset}}();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{//\ For\ each\ byte}}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classuint8__t}{uint8\_t}}\ \textcolor{keywordtype}{byte}\ :\ input)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}{put\_byte}}(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}{get\_checksum}}();}
\DoxyCodeLine{00076\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332}\label{classsrsran_1_1crc__calculator__lut__impl_a667419120c34366e3bdb8df5af2c4332} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!get\_checksum@{get\_checksum}}
\index{get\_checksum@{get\_checksum}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{get\_checksum()}{get\_checksum()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\+\_\+calculator\+\_\+checksum\+\_\+t}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::get\+\_\+checksum (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Reads the current value of {\ttfamily crc}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacesrsran_a0d42ca5ccf5e45162370645b3d94597a}{crc\_calculator\_checksum\_t}}\textcolor{keyword}{>}(crc\ \&\ crcmask);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_af1de15a373354ac9cbe50f931dd936b9}\label{classsrsran_1_1crc__calculator__lut__impl_af1de15a373354ac9cbe50f931dd936b9} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!get\_generator\_poly@{get\_generator\_poly}}
\index{get\_generator\_poly@{get\_generator\_poly}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{get\_generator\_poly()}{get\_generator\_poly()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a435210edce480bf70bdd9d0c887c0c56}{crc\+\_\+generator\+\_\+poly}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::get\+\_\+generator\+\_\+poly (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the identifier of the generator polynomial. 



Implements \mbox{\hyperlink{classsrsran_1_1crc__calculator_a47c397142a916607dab38210cedc5e4d}{srsran\+::crc\+\_\+calculator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \{\ \textcolor{keywordflow}{return}\ poly;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39}\label{classsrsran_1_1crc__calculator__lut__impl_afb92ddb460f7d9400e8978a6568aae39} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!put\_byte@{put\_byte}}
\index{put\_byte@{put\_byte}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{put\_byte()}{put\_byte()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::put\+\_\+byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{byte }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Includes the given {\ttfamily byte} into the CRC computation. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ idx;}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{if}\ (order\ >\ 8)\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{comment}{//\ For\ more\ than\ 8\ bits}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ord}}\ =\ order\ -\/\ 8U;}
\DoxyCodeLine{00081\ \ \ \ \ \ \ idx\ \ \ \ \ \ \ \ \ \ =\ ((crc\ >>\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ord}}))\ \&\ 0xffU)\ \string^\ \textcolor{keywordtype}{byte};}
\DoxyCodeLine{00082\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \textcolor{comment}{//\ For\ 8\ bits\ or\ less}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ord}}\ =\ 8U\ -\/\ order;}
\DoxyCodeLine{00085\ \ \ \ \ \ \ idx\ \ \ \ \ \ \ \ \ \ =\ ((crc\ <<\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ord}}))\ \&\ 0xffU)\ \string^\ \textcolor{keywordtype}{byte};}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ crc\ =\ (crc\ <<\ 8U)\ \string^\ table[idx];}
\DoxyCodeLine{00089\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2}\label{classsrsran_1_1crc__calculator__lut__impl_ab0c7c74052b6520decc75d2035cff2b2} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!reset@{reset}}
\index{reset@{reset}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{crc\+\_\+ = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the internal CRC. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ \{\ crc\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{crc\_}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1crc__calculator__lut__impl_ac1f460d23eafbce60d64e072c1457794}\label{classsrsran_1_1crc__calculator__lut__impl_ac1f460d23eafbce60d64e072c1457794} 
\index{srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}!reversecrcbit@{reversecrcbit}}
\index{reversecrcbit@{reversecrcbit}!srsran::crc\_calculator\_lut\_impl@{srsran::crc\_calculator\_lut\_impl}}
\doxysubsubsection{\texorpdfstring{reversecrcbit()}{reversecrcbit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::crc\+\_\+calculator\+\_\+lut\+\_\+impl\+::reversecrcbit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nbits }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reverses the {\ttfamily nbits} least significant bits of {\ttfamily crc}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ uint64\_t\ m,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rmask}}\ =\ 0x1;}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{for}\ (m\ =\ 0;\ m\ <\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nbits}};\ m++)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rmask}}\ \&\ crc)\ ==\ 0x01)}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ crc\ =\ (crc\ \string^\ table.polynom)\ >>\ 1;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ crc\ =\ crc\ >>\ 1;}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ \ \ \ \ crc\ =\ (crc\ \&\ table.crcmask);}
\DoxyCodeLine{00103\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+coding/crc\+\_\+calculator\+\_\+lut\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+coding/crc\+\_\+calculator\+\_\+lut\+\_\+impl.\+cpp\end{DoxyCompactItemize}
