\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+handover\+\_\+preparation\+\_\+procedure Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure}{}\label{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure}\index{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+handover\+\_\+preparation\+\_\+procedure\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{d8/da4/classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a4109986f17fa920fa54368980e0b4c60}{ngap\+\_\+handover\+\_\+preparation\+\_\+procedure}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__request}{ngap\+\_\+handover\+\_\+preparation\+\_\+request}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{req\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__context__t}{ngap\+\_\+context\+\_\+t}} \&context\+\_\+, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__ids}{ngap\+\_\+ue\+\_\+ids}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\+\_\+ids\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier}{ngap\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{amf\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\+\_\+rrc\+\_\+ue\+\_\+control\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\+\_\+ue\+\_\+notif\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager}{up\+\_\+resource\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{up\+\_\+manager\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__transaction__manager}{ngap\+\_\+transaction\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ev\+\_\+mng\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}} timers, \mbox{\hyperlink{classsrsran_1_1prefixed__logger}{ngap\+\_\+ue\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a6d15cb98e1aa97ebf27a5926208097f0}{operator()}} (\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\+\_\+handover\+\_\+preparation\+\_\+response}} $>$ $>$ \&ctx)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_aca5c578eee7a06697badab715b83c3e7}{name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a4109986f17fa920fa54368980e0b4c60}\label{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a4109986f17fa920fa54368980e0b4c60} 
\index{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}!ngap\_handover\_preparation\_procedure@{ngap\_handover\_preparation\_procedure}}
\index{ngap\_handover\_preparation\_procedure@{ngap\_handover\_preparation\_procedure}!srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}}
\doxysubsubsection{\texorpdfstring{ngap\_handover\_preparation\_procedure()}{ngap\_handover\_preparation\_procedure()}}
{\footnotesize\ttfamily ngap\+\_\+handover\+\_\+preparation\+\_\+procedure\+::ngap\+\_\+handover\+\_\+preparation\+\_\+procedure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__request}{ngap\+\_\+handover\+\_\+preparation\+\_\+request}} \&}]{req\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__context__t}{ngap\+\_\+context\+\_\+t}} \&}]{context\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__ids}{ngap\+\_\+ue\+\_\+ids}} \&}]{ue\+\_\+ids\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__message__notifier}{ngap\+\_\+message\+\_\+notifier}} \&}]{amf\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\+\_\+rrc\+\_\+ue\+\_\+control\+\_\+notifier}} \&}]{rrc\+\_\+ue\+\_\+notif\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager}{up\+\_\+resource\+\_\+manager}} \&}]{up\+\_\+manager\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__transaction__manager}{ngap\+\_\+transaction\+\_\+manager}} \&}]{ev\+\_\+mng\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\+\_\+factory}}}]{timers,  }\item[{\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{ngap\+\_\+ue\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00042\ \ \ request(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{request\_}}),}
\DoxyCodeLine{00043\ \ \ context(context\_),}
\DoxyCodeLine{00044\ \ \ ue\_ids(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ue\_ids\_}}),}
\DoxyCodeLine{00045\ \ \ amf\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{amf\_notif\_}}),}
\DoxyCodeLine{00046\ \ \ rrc\_ue\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{rrc\_ue\_notif\_}}),}
\DoxyCodeLine{00047\ \ \ up\_manager(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{up\_manager\_}}),}
\DoxyCodeLine{00048\ \ \ ev\_mng(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ev\_mng\_}}),}
\DoxyCodeLine{00049\ \ \ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}}),}
\DoxyCodeLine{00050\ \ \ tng\_reloc\_prep\_timer(timers.create\_timer())}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_aca5c578eee7a06697badab715b83c3e7}\label{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_aca5c578eee7a06697badab715b83c3e7} 
\index{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}!name@{name}}
\index{name@{name}!srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} srsran\+::srs\+\_\+cu\+\_\+cp\+::ngap\+\_\+handover\+\_\+preparation\+\_\+procedure\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Handover\ Preparation\ Procedure"{}};\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a6d15cb98e1aa97ebf27a5926208097f0}\label{classsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__procedure_a6d15cb98e1aa97ebf27a5926208097f0} 
\index{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}!operator()@{operator()}}
\index{operator()@{operator()}!srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure@{srsran::srs\_cu\_cp::ngap\_handover\_preparation\_procedure}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ngap\+\_\+handover\+\_\+preparation\+\_\+procedure\+::operator() (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_aadfca39572d46ed2a532ab91af40292e}{coro\+\_\+context}}$<$ \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\+\_\+handover\+\_\+preparation\+\_\+response}} $>$ $>$ \&}]{ctx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}\(\backslash\)"{}\{\}\(\backslash\)"{}\ initialized"{}},\ name());}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{if}\ (ue\_ids.amf\_ue\_id\ ==\ amf\_ue\_id\_t::invalid\ ||\ ue\_ids.ran\_ue\_id\ ==\ ran\_ue\_id\_t::invalid)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Invalid\ NGAP\ id\ pair"{}});}
\DoxyCodeLine{00062\ \ \ \ \ CORO\_EARLY\_RETURN(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\_handover\_preparation\_response}}\{\textcolor{keyword}{false}\});}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ Subscribe\ to\ respective\ publisher\ to\ receive\ HANDOVER\ COMMAND/HANDOVER\ PREPARATION\ FAILURE\ message.}}
\DoxyCodeLine{00066\ \ \ transaction\_sink.subscribe\_to(ev\_mng.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__transaction__manager_a1fb9f774d8b730d1886406d49c493842}{handover\_preparation\_outcome}},\ tng\_reloc\_prep\_ms);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ Get\ required\ context\ from\ RRC\ UE}}
\DoxyCodeLine{00069\ \ \ get\_required\_handover\_context();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ Send\ Handover\ Required\ to\ AMF}}
\DoxyCodeLine{00072\ \ \ send\_handover\_required();}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ CORO\_AWAIT(transaction\_sink);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{if}\ (transaction\_sink.timeout\_expired())\ \{}
\DoxyCodeLine{00077\ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}\(\backslash\)"{}\{\}\(\backslash\)"{}\ timed\ out\ after\ \{\}ms"{}},\ name(),\ tng\_reloc\_prep\_ms.count());}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ TODO:\ Initialize\ Handover\ Cancellation\ procedure}}
\DoxyCodeLine{00079\ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (transaction\_sink.successful())\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Forward\ RRC\ Container}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{if}\ (!forward\_rrc\_handover\_command())\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ CORO\_EARLY\_RETURN(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\_handover\_preparation\_response}}\{\textcolor{keyword}{false}\});}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ \ \ \ \ logger.log\_debug(\textcolor{stringliteral}{"{}\(\backslash\)"{}\{\}\(\backslash\)"{}\ finalized"{}},\ name());}
\DoxyCodeLine{00087\ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ Forward\ procedure\ result\ to\ DU\ manager.}}
\DoxyCodeLine{00090\ \ \ CORO\_RETURN(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__handover__preparation__response}{ngap\_handover\_preparation\_response}}\{\textcolor{keyword}{true}\});}
\DoxyCodeLine{00091\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/ngap/procedures/ngap\+\_\+handover\+\_\+preparation\+\_\+procedure.\+h\item 
lib/ngap/procedures/ngap\+\_\+handover\+\_\+preparation\+\_\+procedure.\+cpp\end{DoxyCompactItemize}
