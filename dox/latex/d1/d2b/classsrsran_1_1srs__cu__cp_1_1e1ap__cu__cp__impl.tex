\doxysection{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl}{}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl}\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}


Inheritance diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d06/classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d8/da5/classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae39c62e27843843fad5b5492cde0db1c}{e1ap\+\_\+cu\+\_\+cp\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1e1ap__message__notifier}{e1ap\+\_\+message\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\+\_\+pdu\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__up__processor__notifier}{e1ap\+\_\+cu\+\_\+up\+\_\+processor\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\+\_\+cu\+\_\+up\+\_\+processor\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__notifier}{e1ap\+\_\+cu\+\_\+cp\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+cp\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timers\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ctrl\+\_\+exec\+\_\+}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\+\_\+nof\+\_\+supported\+\_\+ues\+\_\+}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a3b59d3a4e535225d09341a468865fb0d}{handle\+\_\+cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Creates and transmits the E1 Setup outcome to the CU-\/\+UP. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+response}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a34aa5cd76bcf4c21c837141d10a1f8da}{handle\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__request}{e1ap\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+request}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the Bearer Context Setup procedure as per TS 38.\+463 section 8.\+3.\+1. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+response}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a6d24c2bb9d42fac1e392c15aff487182}{handle\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__request}{e1ap\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+request}} \&request) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the Bearer Context Modification procedure as per TS 38.\+463 section 8.\+3.\+2. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a79e14696161b36ff49d21eb8220f2824}{handle\+\_\+bearer\+\_\+context\+\_\+release\+\_\+command}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__release__command}{e1ap\+\_\+bearer\+\_\+context\+\_\+release\+\_\+command}} \&command) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the Bearer Context Release procedure as per TS 38.\+463 section 8.\+3.\+4. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a5f3dfb181d0357d1c65827e0fb30d471}{handle\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\+\_\+message}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming E1\+AP message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae30b0ad815e46526e71f7a71f8233733}{handle\+\_\+connection\+\_\+loss}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a0d40030ec6cc6939a667c4942fd5a811}{update\+\_\+ue\+\_\+context}} (ue\+\_\+index\+\_\+t ue\+\_\+index, ue\+\_\+index\+\_\+t old\+\_\+ue\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Update the context of an UE. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_aabc9ca80ffa711ef7cfc713651aa8b6f}{remove\+\_\+bearer\+\_\+context}} (ue\+\_\+index\+\_\+t ue\+\_\+index) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Remove the context of an UE. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a17287a7efabae334c40070c3a39864e2}{get\+\_\+nof\+\_\+ues}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the number of UEs registered at the E1\+AP. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae39c62e27843843fad5b5492cde0db1c}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae39c62e27843843fad5b5492cde0db1c} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!e1ap\_cu\_cp\_impl@{e1ap\_cu\_cp\_impl}}
\index{e1ap\_cu\_cp\_impl@{e1ap\_cu\_cp\_impl}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{e1ap\_cu\_cp\_impl()}{e1ap\_cu\_cp\_impl()}}
{\footnotesize\ttfamily e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1e1ap__message__notifier}{e1ap\+\_\+message\+\_\+notifier}} \&}]{e1ap\+\_\+pdu\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__up__processor__notifier}{e1ap\+\_\+cu\+\_\+up\+\_\+processor\+\_\+notifier}} \&}]{e1ap\+\_\+cu\+\_\+up\+\_\+processor\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__notifier}{e1ap\+\_\+cu\+\_\+cp\+\_\+notifier}} \&}]{cu\+\_\+cp\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\+\_\+manager}} \&}]{timers\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{ctrl\+\_\+exec\+\_\+,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{max\+\_\+nof\+\_\+supported\+\_\+ues\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00039\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}CU-\/CP-\/E1"{}})),}
\DoxyCodeLine{00040\ \ \ pdu\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_pdu\_notifier\_}}),}
\DoxyCodeLine{00041\ \ \ cu\_up\_processor\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_cu\_up\_processor\_notifier\_}}),}
\DoxyCodeLine{00042\ \ \ cu\_cp\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_cp\_notifier\_}}),}
\DoxyCodeLine{00043\ \ \ ctrl\_exec(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ctrl\_exec\_}}),}
\DoxyCodeLine{00044\ \ \ timers(\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timers\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ctrl\_exec\_}}\}),}
\DoxyCodeLine{00045\ \ \ ue\_ctxt\_list(timers,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_nof\_supported\_ues\_}},\ logger),}
\DoxyCodeLine{00046\ \ \ ev\_mng(timers)}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a79463e3585169e9ebc3b256a87567c59}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a79463e3585169e9ebc3b256a87567c59} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!````~e1ap\_cu\_cp\_impl@{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_cp\_impl}}
\index{````~e1ap\_cu\_cp\_impl@{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_cp\_impl}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_cp\_impl()}{\string~e1ap\_cu\_cp\_impl()}}
{\footnotesize\ttfamily e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::\texorpdfstring{$\sim$}{\string~}e1ap\+\_\+cu\+\_\+cp\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a17287a7efabae334c40070c3a39864e2}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a17287a7efabae334c40070c3a39864e2} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!get\_nof\_ues@{get\_nof\_ues}}
\index{get\_nof\_ues@{get\_nof\_ues}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ues()}{get\_nof\_ues()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::get\+\_\+nof\+\_\+ues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Get the number of UEs registered at the E1\+AP. 

\begin{DoxyReturn}{Returns}
The number of UEs. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__statistics__handler_a3f410a797860372081a2c1cac24a6fce}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+statistics\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \{\ \textcolor{keywordflow}{return}\ ue\_ctxt\_list.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a6d24c2bb9d42fac1e392c15aff487182}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a6d24c2bb9d42fac1e392c15aff487182} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_bearer\_context\_modification\_request@{handle\_bearer\_context\_modification\_request}}
\index{handle\_bearer\_context\_modification\_request@{handle\_bearer\_context\_modification\_request}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_bearer\_context\_modification\_request()}{handle\_bearer\_context\_modification\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+response}} $>$ e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__request}{e1ap\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the Bearer Context Modification procedure as per TS 38.\+463 section 8.\+3.\+2. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em request} & The Bearer Context Modification Request message to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a \doxylink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+modification\+\_\+response} struct with the success member set to \textquotesingle{}true\textquotesingle{} in case of a successful outcome, \textquotesingle{}false\textquotesingle{} otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__manager_a87da189ef600550f4503b2ee7d80f987}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+bearer\+\_\+context\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00126\ \{}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.contains(request.ue\_index))\ \{}
\DoxyCodeLine{00128\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ BearerContextModificationRequest.\ Bearer\ context\ does\ not\ exist"{}},\ request.ue\_index);}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<e1ap\_bearer\_context\_modification\_response>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__modification__response}{e1ap\_bearer\_context\_modification\_response}}\ res\{\};}
\DoxyCodeLine{00132\ \ \ \ \ \ \ res.success\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00133\ \ \ \ \ \ \ res.cause\ \ \ =\ cause\_misc\_t::unspecified;}
\DoxyCodeLine{00134\ \ \ \ \ \ \ CORO\_RETURN(res);}
\DoxyCodeLine{00135\ \ \ \ \ \});}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ Get\ UE\ context}}
\DoxyCodeLine{00139\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__ue__context}{e1ap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[request.ue\_index];}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}};}
\DoxyCodeLine{00142\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_init\_msg();}
\DoxyCodeLine{00143\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().load\_info\_obj(ASN1\_E1AP\_ID\_BEARER\_CONTEXT\_MOD);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{auto}\&\ bearer\_context\_mod\_request\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().value.bearer\_context\_mod\_request();}
\DoxyCodeLine{00146\ \ \ bearer\_context\_mod\_request-\/>gnb\_cu\_cp\_ue\_e1ap\_id\ =\ gnb\_cu\_cp\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_cp\_ue\_e1ap\_id);}
\DoxyCodeLine{00147\ \ \ bearer\_context\_mod\_request-\/>gnb\_cu\_up\_ue\_e1ap\_id\ =\ gnb\_cu\_up\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_up\_ue\_e1ap\_id);}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ fill\_asn1\_bearer\_context\_modification\_request(bearer\_context\_mod\_request,\ request);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<bearer\_context\_modification\_procedure>}}(}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}},\ ue\_ctxt.bearer\_ev\_mng,\ pdu\_notifier,\ ue\_ctxt.logger);}
\DoxyCodeLine{00153\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a79e14696161b36ff49d21eb8220f2824}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a79e14696161b36ff49d21eb8220f2824} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_bearer\_context\_release\_command@{handle\_bearer\_context\_release\_command}}
\index{handle\_bearer\_context\_release\_command@{handle\_bearer\_context\_release\_command}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_bearer\_context\_release\_command()}{handle\_bearer\_context\_release\_command()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} $>$ e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+bearer\+\_\+context\+\_\+release\+\_\+command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__release__command}{e1ap\+\_\+bearer\+\_\+context\+\_\+release\+\_\+command}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the Bearer Context Release procedure as per TS 38.\+463 section 8.\+3.\+4. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The Bearer Context Release Command message to transmit. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__manager_ad4148a5d64ba3d427b78f31805cf95c0}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+bearer\+\_\+context\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00157\ \{}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.contains(command.ue\_index))\ \{}
\DoxyCodeLine{00159\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ BearerContextReleaseCommand.\ Bearer\ context\ does\ not\ exist"{}},\ command.ue\_index);}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<void>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00162\ \ \ \ \ \ \ CORO\_RETURN();}
\DoxyCodeLine{00163\ \ \ \ \ \});}
\DoxyCodeLine{00164\ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{comment}{//\ Get\ UE\ context}}
\DoxyCodeLine{00167\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__ue__context}{e1ap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[command.ue\_index];}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}};}
\DoxyCodeLine{00170\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_init\_msg();}
\DoxyCodeLine{00171\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().load\_info\_obj(ASN1\_E1AP\_ID\_BEARER\_CONTEXT\_RELEASE);}
\DoxyCodeLine{00172\ \ \ \textcolor{keyword}{auto}\&\ bearer\_context\_release\_cmd\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().value.bearer\_context\_release\_cmd();}
\DoxyCodeLine{00173\ \ \ bearer\_context\_release\_cmd-\/>gnb\_cu\_cp\_ue\_e1ap\_id\ =\ gnb\_cu\_cp\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_cp\_ue\_e1ap\_id);}
\DoxyCodeLine{00174\ \ \ bearer\_context\_release\_cmd-\/>gnb\_cu\_up\_ue\_e1ap\_id\ =\ gnb\_cu\_up\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_up\_ue\_e1ap\_id);}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ fill\_asn1\_bearer\_context\_release\_command(bearer\_context\_release\_cmd,\ command);}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<bearer\_context\_release\_procedure>}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}},\ ue\_ctxt.bearer\_ev\_mng,\ pdu\_notifier,\ ue\_ctxt.logger);}
\DoxyCodeLine{00179\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a34aa5cd76bcf4c21c837141d10a1f8da}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a34aa5cd76bcf4c21c837141d10a1f8da} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_bearer\_context\_setup\_request@{handle\_bearer\_context\_setup\_request}}
\index{handle\_bearer\_context\_setup\_request@{handle\_bearer\_context\_setup\_request}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_bearer\_context\_setup\_request()}{handle\_bearer\_context\_setup\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+response}} $>$ e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__request}{e1ap\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the Bearer Context Setup procedure as per TS 38.\+463 section 8.\+3.\+1. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em request} & The Bearer Context Setup Request message to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a \doxylink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__response}{e1ap\+\_\+bearer\+\_\+context\+\_\+setup\+\_\+response} struct with the success member set to \textquotesingle{}true\textquotesingle{} in case of a successful outcome, \textquotesingle{}false\textquotesingle{} otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__manager_aadc75ea3256d84a135adc3b8cfc56168}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+bearer\+\_\+context\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \ \ gnb\_cu\_cp\_ue\_e1ap\_id\_t\ cu\_cp\_ue\_e1ap\_id\ =\ ue\_ctxt\_list.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__ue__context__list_a015be7c35bea04af1a437f0be07d154d}{allocate\_gnb\_cu\_cp\_ue\_e1ap\_id}}();}
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{if}\ (cu\_cp\_ue\_e1ap\_id\ ==\ gnb\_cu\_cp\_ue\_e1ap\_id\_t::invalid)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}No\ CU-\/CP-\/UE-\/E1AP-\/ID\ available"{}});}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a7e6b39343dc4497d9182977154e42559}{launch\_async}}([](\mbox{\hyperlink{structsrsran_1_1detail_1_1base__coro__frame}{coro\_context}}<\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<e1ap\_bearer\_context\_setup\_response>}}>\&\ ctx)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ CORO\_BEGIN(ctx);}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__setup__response}{e1ap\_bearer\_context\_setup\_response}}\ res;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ res.success\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00101\ \ \ \ \ \ \ CORO\_RETURN(res);}
\DoxyCodeLine{00102\ \ \ \ \ \});}
\DoxyCodeLine{00103\ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ add\ new\ e1ap\_ue\_context}}
\DoxyCodeLine{00106\ \ \ ue\_ctxt\_list.add\_ue(request.ue\_index,\ cu\_cp\_ue\_e1ap\_id);}
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1e1ap__ue__context}{e1ap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[cu\_cp\_ue\_e1ap\_id];}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ ue\_ctxt.logger.log\_debug(\textcolor{stringliteral}{"{}Added\ UE"{}});}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}};}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_init\_msg();}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().load\_info\_obj(ASN1\_E1AP\_ID\_BEARER\_CONTEXT\_SETUP);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{keyword}{auto}\&\ bearer\_context\_setup\_request\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().value.bearer\_context\_setup\_request();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ fill\_asn1\_bearer\_context\_setup\_request(bearer\_context\_setup\_request,\ request);}
\DoxyCodeLine{00118\ \ \ bearer\_context\_setup\_request-\/>gnb\_cu\_cp\_ue\_e1ap\_id\ =\ gnb\_cu\_cp\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_cp\_ue\_e1ap\_id);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<bearer\_context\_setup\_procedure>}}(}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}},\ ue\_ctxt.bearer\_ev\_mng,\ ue\_ctxt\_list,\ pdu\_notifier,\ ue\_ctxt.logger);}
\DoxyCodeLine{00122\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae30b0ad815e46526e71f7a71f8233733}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_ae30b0ad815e46526e71f7a71f8233733} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_connection\_loss@{handle\_connection\_loss}}
\index{handle\_connection\_loss@{handle\_connection\_loss}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_connection\_loss()}{handle\_connection\_loss()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+connection\+\_\+loss (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1e1ap__event__handler}{srsran\+::e1ap\+\_\+event\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \{\}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a3b59d3a4e535225d09341a468865fb0d}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a3b59d3a4e535225d09341a468865fb0d} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_cu\_up\_e1\_setup\_response@{handle\_cu\_up\_e1\_setup\_response}}
\index{handle\_cu\_up\_e1\_setup\_response@{handle\_cu\_up\_e1\_setup\_response}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_cu\_up\_e1\_setup\_response()}{handle\_cu\_up\_e1\_setup\_response()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates and transmits the E1 Setup outcome to the CU-\/\+UP. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The \doxylink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response} to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The CU-\/\+CP transmits the E1\+Setup\+Response/\+E1\+Setup\+Failure as per TS 38.\+463 section 8.\+2.\+3. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__connection__manager_a619de91b36647dcf0d856805f28c1d7d}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+connection\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \{}
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Pack\ message\ into\ PDU}}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}};}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{if}\ (msg.success)\ \{}
\DoxyCodeLine{00058\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Sending\ CuUpE1SetupResponse"{}});}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_successful\_outcome();}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.successful\_outcome().load\_info\_obj(ASN1\_E1AP\_ID\_GNB\_CU\_UP\_E1\_SETUP);}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_resp}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.successful\_outcome().value.gnb\_cu\_up\_e1\_setup\_resp();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{if}\ (msg.gnb\_cu\_cp\_name.\mbox{\hyperlink{classsrsran_1_1optional_a2f160539a76c3f4dd0b50b339b81202e}{has\_value}}())\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_resp}}-\/>gnb\_cu\_cp\_name.from\_string(msg.gnb\_cu\_cp\_name.value());}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ set\ values\ handled\ by\ E1AP}}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.successful\_outcome().value.gnb\_cu\_up\_e1\_setup\_resp()-\/>transaction\_id\ =\ current\_transaction\_id;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ send\ response}}
\DoxyCodeLine{00072\ \ \ \ \ pdu\_notifier.\mbox{\hyperlink{classsrsran_1_1e1ap__message__notifier_a540491c6e6b048ac34f3e119b2ff82ed}{on\_new\_message}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}});}
\DoxyCodeLine{00073\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00074\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Sending\ CuUpE1SetupFailure"{}});}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_unsuccessful\_outcome();}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.unsuccessful\_outcome().load\_info\_obj(ASN1\_E1AP\_ID\_GNB\_CU\_UP\_E1\_SETUP);}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.unsuccessful\_outcome().value.gnb\_cu\_up\_e1\_setup\_fail();}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_fail}}\ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.unsuccessful\_outcome().value.gnb\_cu\_up\_e1\_setup\_fail();}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_fail}}-\/>cause\ =\ \mbox{\hyperlink{namespacesrsran_ae40649f27f94a703f2da82cc596588d8}{cause\_to\_asn1\_cause}}(msg.cause.value());}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ set\ values\ handled\ by\ E1}}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_fail}}-\/>transaction\_id\ =\ current\_transaction\_id;}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_fail}}-\/>cause.set\_radio\_network();}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{setup\_fail}}-\/>cause.radio\_network()\ =\ asn1::e1ap::cause\_radio\_network\_opts::options::no\_radio\_res\_available;}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ send\ response}}
\DoxyCodeLine{00087\ \ \ \ \ pdu\_notifier.\mbox{\hyperlink{classsrsran_1_1e1ap__message__notifier_a540491c6e6b048ac34f3e119b2ff82ed}{on\_new\_message}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}});}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a5f3dfb181d0357d1c65827e0fb30d471}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a5f3dfb181d0357d1c65827e0fb30d471} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!handle\_message@{handle\_message}}
\index{handle\_message@{handle\_message}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_message()}{handle\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::handle\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming E1\+AP message. 



Implements \mbox{\hyperlink{classsrsran_1_1e1ap__message__handler_a86caecb24315c3e234fd382cc19080c5}{srsran\+::e1ap\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00182\ \{}
\DoxyCodeLine{00183\ \ \ logger.debug(\textcolor{stringliteral}{"{}Handling\ PDU\ of\ type\ \{\}"{}},\ msg.pdu.type().to\_string());}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ Log\ message.}}
\DoxyCodeLine{00186\ \ \ \mbox{\hyperlink{classsrsran_1_1expected}{expected<gnb\_cu\_cp\_ue\_e1ap\_id\_t>}}\ gnb\_cu\_cp\_ue\_e1ap\_id\ =\ get\_gnb\_cu\_cp\_ue\_e1ap\_id(msg.pdu);}
\DoxyCodeLine{00187\ \ \ \mbox{\hyperlink{classsrsran_1_1expected}{expected<uint8\_t>}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction\_id\ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_ad7cac9245adf27dd24c8b0d65df2ab46}{get\_transaction\_id}}(msg.pdu);}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{if}\ (transaction\_id.has\_value())\ \{}
\DoxyCodeLine{00189\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}\ transaction\ id=\{\}"{}},}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.pdu.type().to\_string(),}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a3536908808e17a9174fa4e7e3ac75dda}{get\_message\_type\_str}}(msg.pdu),}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction\_id.value());}
\DoxyCodeLine{00193\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (gnb\_cu\_cp\_ue\_e1ap\_id.has\_value())\ \{}
\DoxyCodeLine{00194\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}\ GNB-\/CU-\/CP-\/UE-\/E1AP-\/ID=\{\}"{}},}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.pdu.type().to\_string(),}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a3536908808e17a9174fa4e7e3ac75dda}{get\_message\_type\_str}}(msg.pdu),}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gnb\_cu\_cp\_ue\_e1ap\_id.value());}
\DoxyCodeLine{00198\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00199\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}"{}},\ msg.pdu.type().to\_string(),\ \mbox{\hyperlink{namespacesrsran_a3536908808e17a9174fa4e7e3ac75dda}{get\_message\_type\_str}}(msg.pdu));}
\DoxyCodeLine{00200\ \ \ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keywordflow}{if}\ (logger.debug.enabled())\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{classasn1_1_1json__writer}{asn1::json\_writer}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}};}
\DoxyCodeLine{00204\ \ \ \ \ msg.pdu.to\_json(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}});}
\DoxyCodeLine{00205\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Rx\ E1AP\ PDU:\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{js}}.to\_string());}
\DoxyCodeLine{00206\ \ \ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \textcolor{comment}{//\ Run\ E1AP\ protocols\ in\ Control\ executor.}}
\DoxyCodeLine{00209\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ ctrl\_exec.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}([\textcolor{keyword}{this},\ msg]()\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ switch\ (msg.pdu.type().value)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::init\_msg:}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_initiating\_message(msg.pdu.init\_msg());}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::successful\_outcome:}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_successful\_outcome(msg.pdu.successful\_outcome());}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::unsuccessful\_outcome:}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_unsuccessful\_outcome(msg.pdu.unsuccessful\_outcome());}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ default:}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Invalid\ PDU\ type"{}});}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \}))\ \{}
\DoxyCodeLine{00225\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Discarding\ E1AP\ PDU.\ Cause:\ CU-\/CP\ task\ queue\ is\ full"{}});}
\DoxyCodeLine{00226\ \ \ \}}
\DoxyCodeLine{00227\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_aabc9ca80ffa711ef7cfc713651aa8b6f}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_aabc9ca80ffa711ef7cfc713651aa8b6f} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!remove\_bearer\_context@{remove\_bearer\_context}}
\index{remove\_bearer\_context@{remove\_bearer\_context}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{remove\_bearer\_context()}{remove\_bearer\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::remove\+\_\+bearer\+\_\+context (\begin{DoxyParamCaption}\item[{ue\+\_\+index\+\_\+t}]{ue\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Remove the context of an UE. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ue\+\_\+index} & The index of the UE to remove. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__bearer__context__removal__handler_a2aa2ff40ec5d87f8bc480facce69f246}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+bearer\+\_\+context\+\_\+removal\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00383\ \{}
\DoxyCodeLine{00384\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.contains(ue\_index))\ \{}
\DoxyCodeLine{00385\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}ue=\{\}:\ UE\ context\ not\ found"{}},\ ue\_index);}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00387\ \ \ \}}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ ue\_ctxt\_list.remove\_ue(ue\_index);}
\DoxyCodeLine{00390\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a0d40030ec6cc6939a667c4942fd5a811}\label{classsrsran_1_1srs__cu__cp_1_1e1ap__cu__cp__impl_a0d40030ec6cc6939a667c4942fd5a811} 
\index{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}!update\_ue\_context@{update\_ue\_context}}
\index{update\_ue\_context@{update\_ue\_context}!srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl@{srsran::srs\_cu\_cp::e1ap\_cu\_cp\_impl}}
\doxysubsubsection{\texorpdfstring{update\_ue\_context()}{update\_ue\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+cp\+\_\+impl\+::update\+\_\+ue\+\_\+context (\begin{DoxyParamCaption}\item[{ue\+\_\+index\+\_\+t}]{ue\+\_\+index,  }\item[{ue\+\_\+index\+\_\+t}]{old\+\_\+ue\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Update the context of an UE. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1e1ap__ue__handler_a578d2948c5b56e0425ca09caae717c40}{srsran\+::srs\+\_\+cu\+\_\+cp\+::e1ap\+\_\+ue\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00369\ \{}
\DoxyCodeLine{00370\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.contains(old\_ue\_index))\ \{}
\DoxyCodeLine{00371\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Failed\ to\ transfer\ E1AP\ UE\ context\ from\ ue=\{\}\ to\ ue=\{\}.\ Old\ UE\ context\ does\ not\ exist"{}},}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ old\_ue\_index,}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_index);}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ ue\_ctxt\_list[old\_ue\_index].logger.log\_debug(\textcolor{stringliteral}{"{}Transferring\ E1AP\ UE\ context\ to\ ue=\{\}"{}},\ ue\_index);}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ ue\_ctxt\_list.update\_ue\_index(ue\_index,\ old\_ue\_index);}
\DoxyCodeLine{00380\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/e1ap/cu\+\_\+cp/e1ap\+\_\+cu\+\_\+cp\+\_\+impl.\+h\item 
lib/e1ap/cu\+\_\+cp/e1ap\+\_\+cu\+\_\+cp\+\_\+impl.\+cpp\end{DoxyCompactItemize}
