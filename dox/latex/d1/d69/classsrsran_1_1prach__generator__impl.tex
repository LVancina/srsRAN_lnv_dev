\doxysection{srsran\+::prach\+\_\+generator\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1prach__generator__impl}{}\label{classsrsran_1_1prach__generator__impl}\index{srsran::prach\_generator\_impl@{srsran::prach\_generator\_impl}}


On-\/demand PRACH time-\/domain signal generator.  




{\ttfamily \#include $<$prach\+\_\+generator\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::prach\+\_\+generator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{d8/dc7/classsrsran_1_1prach__generator__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::prach\+\_\+generator\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{d7/d93/classsrsran_1_1prach__generator__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1prach__generator__impl_a08a8004a67f02ff1a20b27a71cf1a2c7}{prach\+\_\+generator\+\_\+impl}} ()
\begin{DoxyCompactList}\small\item\em Constructor -\/ Acquires ownership of the internal components. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ \mbox{\hyperlink{classsrsran_1_1prach__generator__impl_a32499beeed7e2ba3f2f3a88a0377333e}{generate}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__generator_1_1configuration}{configuration}} \&config) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Generates the frequency-\/domain PRACH sequence $y_{u,v}(n)$. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1prach__generator}{srsran\+::prach\+\_\+generator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} {\bfseries \texorpdfstring{$\sim$}{\string~}prach\+\_\+generator} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
On-\/demand PRACH time-\/domain signal generator. 

It generates PRACH frequency-\/domain signals on demand instead of generating and storing them off-\/line. It minimizes memory footprint at the cost of longer processing time.

More details about the generation algorithm can be found in \begin{quote}
D. Gregoratti, X. Arteaga, and J. Broquetas, "{}\+Mathematical Properties of the Zadoff-\/\+Chu Sequences,"{} online\+: \href{https://arxiv.org/abs/2311.01035}{\texttt{ https\+://arxiv.\+org/abs/2311.\+01035}} \end{quote}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1prach__generator__impl_a08a8004a67f02ff1a20b27a71cf1a2c7}\label{classsrsran_1_1prach__generator__impl_a08a8004a67f02ff1a20b27a71cf1a2c7} 
\index{srsran::prach\_generator\_impl@{srsran::prach\_generator\_impl}!prach\_generator\_impl@{prach\_generator\_impl}}
\index{prach\_generator\_impl@{prach\_generator\_impl}!srsran::prach\_generator\_impl@{srsran::prach\_generator\_impl}}
\doxysubsubsection{\texorpdfstring{prach\_generator\_impl()}{prach\_generator\_impl()}}
{\footnotesize\ttfamily srsran\+::prach\+\_\+generator\+\_\+impl\+::prach\+\_\+generator\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor -\/ Acquires ownership of the internal components. 

The PRACH generator depends on the DFT to generate the frequency-\/domain signals.


\begin{DoxyParams}{Parameters}
{\em dft\+\_\+long\+\_\+} & DFT processor for generating long sequences. \\
\hline
{\em dft\+\_\+short\+\_\+} & DFT processor for generating short sequences. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ sequence(LONG)}
\DoxyCodeLine{00076\ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ Do\ nothing.}}
\DoxyCodeLine{00078\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1prach__generator__impl_a32499beeed7e2ba3f2f3a88a0377333e}\label{classsrsran_1_1prach__generator__impl_a32499beeed7e2ba3f2f3a88a0377333e} 
\index{srsran::prach\_generator\_impl@{srsran::prach\_generator\_impl}!generate@{generate}}
\index{generate@{generate}!srsran::prach\_generator\_impl@{srsran::prach\_generator\_impl}}
\doxysubsubsection{\texorpdfstring{generate()}{generate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_adb0c7723c7e69c78add18ca453dd1dbc}{cf\+\_\+t}} $>$ prach\+\_\+generator\+\_\+impl\+::generate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1prach__generator_1_1configuration}{configuration}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Generates the frequency-\/domain PRACH sequence $y_{u,v}(n)$. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & Parameters describing the generated sequence. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A read-\/only view of the generated sequence. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1prach__generator_a7389ee8b0a72cc692926bf0e221f0dd5}{srsran\+::prach\+\_\+generator}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00271\ \{}
\DoxyCodeLine{00272\ \ \ srsran\_assert(config.restricted\_set\ ==\ restricted\_set\_config::UNRESTRICTED,\ \textcolor{stringliteral}{"{}Unrestricted\ sets\ are\ not\ implemented."{}});}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sequence\_length\ =\ SHORT;}
\DoxyCodeLine{00275\ \ \ \mbox{\hyperlink{namespacesrsran_a0c776fcbbe92d002557487b5ea9c6950}{prach\_subcarrier\_spacing}}\ ra\_scs\ \ \ \ \ \ \ \ \ \ =\ prach\_subcarrier\_spacing::kHz15;}
\DoxyCodeLine{00276\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_aaea6c484cd5f8113a5b11434d68e371b}{is\_long\_preamble}}(config.format))\ \{}
\DoxyCodeLine{00277\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1prach__preamble__information}{prach\_preamble\_information}}\ info\ =\ \mbox{\hyperlink{namespacesrsran_a41d072dc823c78c2627da83a877dcf5a}{get\_prach\_preamble\_long\_info}}(config.format);}
\DoxyCodeLine{00278\ \ \ \ \ ra\_scs\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ info.scs;}
\DoxyCodeLine{00279\ \ \ \ \ sequence\_length\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ info.sequence\_length;}
\DoxyCodeLine{00280\ \ \ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_cs}}\ =\ \mbox{\hyperlink{namespacesrsran_aafa4c456e58b29f8804fedc599ab8710}{prach\_cyclic\_shifts\_get}}(ra\_scs,\ config.restricted\_set,\ config.zero\_correlation\_zone);}
\DoxyCodeLine{00283\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_cs}}\ !=\ PRACH\_CYCLIC\_SHIFTS\_RESERVED,\ \textcolor{stringliteral}{"{}Configuration\ leads\ to\ a\ reserved\ number\ of\ cyclic\ shifts."{}});}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \textcolor{keywordtype}{unsigned}\ root\_sequence\_index\ =\ config.root\_sequence\_index\ +\ config.preamble\_index;}
\DoxyCodeLine{00286\ \ \ \textcolor{keywordtype}{unsigned}\ cyclic\_shift\ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_cs}}\ !=\ 0)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_sequences\_per\_root}}\ =\ sequence\_length\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_cs}};}
\DoxyCodeLine{00290\ \ \ \ \ root\_sequence\_index\ \ \ \ \ \ \ \ \ \ \ \ \ =\ config.root\_sequence\_index\ +\ config.preamble\_index\ /\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_sequences\_per\_root}};}
\DoxyCodeLine{00291\ \ \ \ \ cyclic\_shift\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ (config.preamble\_index\ \%\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_sequences\_per\_root}})\ *\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_cs}};}
\DoxyCodeLine{00292\ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_aaea6c484cd5f8113a5b11434d68e371b}{is\_long\_preamble}}(config.format))\ \{}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{return}\ generate\_y\_u\_v\_long(get\_sequence\_number\_long(root\_sequence\_index),\ cyclic\_shift);}
\DoxyCodeLine{00296\ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{keywordflow}{return}\ generate\_y\_u\_v\_short(get\_sequence\_number\_short(root\_sequence\_index),\ cyclic\_shift);}
\DoxyCodeLine{00299\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+processors/prach\+\_\+generator\+\_\+impl.\+h\item 
lib/phy/upper/channel\+\_\+processors/prach\+\_\+generator\+\_\+impl.\+cpp\end{DoxyCompactItemize}
