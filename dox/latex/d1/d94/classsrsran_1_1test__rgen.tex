\doxysection{srsran\+::test\+\_\+rgen Class Reference}
\hypertarget{classsrsran_1_1test__rgen}{}\label{classsrsran_1_1test__rgen}\index{srsran::test\_rgen@{srsran::test\_rgen}}


This class creates a random generation interface that is suitable for unit tests. The user has the ability to set a random seed to reproduce tests.  




{\ttfamily \#include $<$test\+\_\+utils.\+h$>$}



Collaboration diagram for srsran\+::test\+\_\+rgen\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=183pt]{d2/d95/classsrsran_1_1test__rgen__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} std\+::mt19937 \& \mbox{\hyperlink{classsrsran_1_1test__rgen_adb79a80d7aaee4a1ed79b2936f403a62}{get}} ()
\begin{DoxyCompactList}\small\item\em Get test pseudo-\/random generator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1test__rgen_a15ccd3c9be108de6aa8b3454e521723f}{set\+\_\+seed}} (\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seed}})
\begin{DoxyCompactList}\small\item\em Set random seed for the test pseudo-\/random generator. If this function is never called, the pseudo-\/random generator will be initialized with a random seed using std\+::random\+\_\+device. If it is called once, the seed will be the one passed as an argument. If it is called more than once, the test will abort. Thus, there should not be race conditions in seed initialization. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ }\\\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} \mbox{\hyperlink{classsrsran_1_1test__rgen_ab00cd183f4bf01382a7f7c982b5365cd}{uniform\+\_\+int}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} \mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} \mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}})
\begin{DoxyCompactList}\small\item\em Return a random integer with uniform distribution within the specified bounds. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ }\\\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} \mbox{\hyperlink{classsrsran_1_1test__rgen_a4ef5cc04b0f5414c920bb0b71bbe4137}{uniform\+\_\+int}} ()
\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ }\\\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} std\+::vector$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ \mbox{\hyperlink{classsrsran_1_1test__rgen_a74a59f76d84b777d3b56b0444c87eef7}{random\+\_\+vector}} (size\+\_\+t sz)
\begin{DoxyCompactList}\small\item\em Return a vector of integers with specified size filled with random values. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class creates a random generation interface that is suitable for unit tests. The user has the ability to set a random seed to reproduce tests. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1test__rgen_adb79a80d7aaee4a1ed79b2936f403a62}\label{classsrsran_1_1test__rgen_adb79a80d7aaee4a1ed79b2936f403a62} 
\index{srsran::test\_rgen@{srsran::test\_rgen}!get@{get}}
\index{get@{get}!srsran::test\_rgen@{srsran::test\_rgen}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} std\+::mt19937 \& srsran\+::test\+\_\+rgen\+::get (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get test pseudo-\/random generator. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00256\ \ \ \{}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keyword}{thread\_local}\ std::mt19937\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{random\_generator}}\ =\ init(std::random\_device\{\}());}
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{random\_generator}};}
\DoxyCodeLine{00259\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1test__rgen_a74a59f76d84b777d3b56b0444c87eef7}\label{classsrsran_1_1test__rgen_a74a59f76d84b777d3b56b0444c87eef7} 
\index{srsran::test\_rgen@{srsran::test\_rgen}!random\_vector@{random\_vector}}
\index{random\_vector@{random\_vector}!srsran::test\_rgen@{srsran::test\_rgen}}
\doxysubsubsection{\texorpdfstring{random\_vector()}{random\_vector()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} std\+::vector$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ srsran\+::test\+\_\+rgen\+::random\+\_\+vector (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Return a vector of integers with specified size filled with random values. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00289\ \ \ \{}
\DoxyCodeLine{00290\ \ \ \ \ std::vector<Integer>\ vec(sz);}
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ !=\ sz;\ ++i)\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ vec[i]\ =\ test\_rgen::uniform\_int<Integer>();}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordflow}{return}\ vec;}
\DoxyCodeLine{00295\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1test__rgen_a15ccd3c9be108de6aa8b3454e521723f}\label{classsrsran_1_1test__rgen_a15ccd3c9be108de6aa8b3454e521723f} 
\index{srsran::test\_rgen@{srsran::test\_rgen}!set\_seed@{set\_seed}}
\index{set\_seed@{set\_seed}!srsran::test\_rgen@{srsran::test\_rgen}}
\doxysubsubsection{\texorpdfstring{set\_seed()}{set\_seed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::test\+\_\+rgen\+::set\+\_\+seed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuint32__t}{uint32\+\_\+t}}}]{seed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Set random seed for the test pseudo-\/random generator. If this function is never called, the pseudo-\/random generator will be initialized with a random seed using std\+::random\+\_\+device. If it is called once, the seed will be the one passed as an argument. If it is called more than once, the test will abort. Thus, there should not be race conditions in seed initialization. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00266\ \ \ \{}
\DoxyCodeLine{00267\ \ \ \ \ init(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seed}});}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordflow}{if}\ (get\_seed()\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{seed}})\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a630688b51219f81c5a47ec5650326afc}{report\_fatal\_error}}(\textcolor{stringliteral}{"{}Trying\ to\ set\ a\ random\ seed\ multiple\ times\ (not\ thread-\/safe)"{}});}
\DoxyCodeLine{00270\ \ \ \ \ \}}
\DoxyCodeLine{00271\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1test__rgen_a4ef5cc04b0f5414c920bb0b71bbe4137}\label{classsrsran_1_1test__rgen_a4ef5cc04b0f5414c920bb0b71bbe4137} 
\index{srsran::test\_rgen@{srsran::test\_rgen}!uniform\_int@{uniform\_int}}
\index{uniform\_int@{uniform\_int}!srsran::test\_rgen@{srsran::test\_rgen}}
\doxysubsubsection{\texorpdfstring{uniform\_int()}{uniform\_int()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} srsran\+::test\+\_\+rgen\+::uniform\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00282\ \ \ \{}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1test__rgen_ab00cd183f4bf01382a7f7c982b5365cd}{uniform\_int}}(std::numeric\_limits<Integer>::min(),\ std::numeric\_limits<Integer>::max());}
\DoxyCodeLine{00284\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1test__rgen_ab00cd183f4bf01382a7f7c982b5365cd}\label{classsrsran_1_1test__rgen_ab00cd183f4bf01382a7f7c982b5365cd} 
\index{srsran::test\_rgen@{srsran::test\_rgen}!uniform\_int@{uniform\_int}}
\index{uniform\_int@{uniform\_int}!srsran::test\_rgen@{srsran::test\_rgen}}
\doxysubsubsection{\texorpdfstring{uniform\_int()}{uniform\_int()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}} srsran\+::test\+\_\+rgen\+::uniform\+\_\+int (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}}}]{min,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Integer}}}]{max }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Return a random integer with uniform distribution within the specified bounds. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00276\ \ \ \{}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keywordflow}{return}\ std::uniform\_int\_distribution<Integer>\{\mbox{\hyperlink{namespacesrsran_a2a7e19abbadc531788e0849e634c23c6}{min}},\ \mbox{\hyperlink{namespacesrsran_a2918c0347dde854fce1aaebb70a16c33}{max}}\}(\mbox{\hyperlink{classsrsran_1_1test__rgen_adb79a80d7aaee4a1ed79b2936f403a62}{get}}());}
\DoxyCodeLine{00278\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/test\+\_\+utils.\+h\end{DoxyCompactItemize}
