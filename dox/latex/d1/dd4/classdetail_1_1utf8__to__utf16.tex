\doxysection{detail\+::utf8\+\_\+to\+\_\+utf16 Class Reference}
\hypertarget{classdetail_1_1utf8__to__utf16}{}\label{classdetail_1_1utf8__to__utf16}\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}


Collaboration diagram for detail\+::utf8\+\_\+to\+\_\+utf16\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{d2/dbe/classdetail_1_1utf8__to__utf16__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
FMT\+\_\+\+API \mbox{\hyperlink{classdetail_1_1utf8__to__utf16_aabad25a649e8f141b998e38abd970721}{utf8\+\_\+to\+\_\+utf16}} (\mbox{\hyperlink{classbasic__string__view}{string\+\_\+view}} s)
\item 
\mbox{\hyperlink{classdetail_1_1utf8__to__utf16_ac5dad9511ec2d548f0206d4f4d9e7a5e}{operator wstring\+\_\+view}} () const
\item 
size\+\_\+t \mbox{\hyperlink{classdetail_1_1utf8__to__utf16_afede51636701fc9df710951bcd2febb9}{size}} () const
\item 
const \mbox{\hyperlink{classwchar__t}{wchar\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classdetail_1_1utf8__to__utf16_aafbf922e5ca6d679cfd83533b20a1df7}{c\+\_\+str}} () const
\item 
std\+::wstring \mbox{\hyperlink{classdetail_1_1utf8__to__utf16_ad9c208a81fb309c97c717cbe0380f062}{str}} () const
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdetail_1_1utf8__to__utf16_aabad25a649e8f141b998e38abd970721}\label{classdetail_1_1utf8__to__utf16_aabad25a649e8f141b998e38abd970721} 
\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}!utf8\_to\_utf16@{utf8\_to\_utf16}}
\index{utf8\_to\_utf16@{utf8\_to\_utf16}!detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}
\doxysubsubsection{\texorpdfstring{utf8\_to\_utf16()}{utf8\_to\_utf16()}}
{\footnotesize\ttfamily FMT\+\_\+\+FUNC detail\+::utf8\+\_\+to\+\_\+utf16\+::utf8\+\_\+to\+\_\+utf16 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbasic__string__view}{string\+\_\+view}}}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01326\ \ \ \textcolor{keyword}{auto}\ transcode\ =\ [\textcolor{keyword}{this}](\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ p)\ \{}
\DoxyCodeLine{01327\ \ \ \ \ \textcolor{keyword}{auto}\ cp\ =\ \mbox{\hyperlink{classuint32__t}{uint32\_t}}();}
\DoxyCodeLine{01328\ \ \ \ \ \textcolor{keyword}{auto}\ error\ =\ 0;}
\DoxyCodeLine{01329\ \ \ \ \ p\ =\ utf8\_decode(p,\ \&cp,\ \&error);}
\DoxyCodeLine{01330\ \ \ \ \ \textcolor{keywordflow}{if}\ (error\ !=\ 0)\ FMT\_THROW(std::runtime\_error(\textcolor{stringliteral}{"{}invalid\ utf8"{}}));}
\DoxyCodeLine{01331\ \ \ \ \ \textcolor{keywordflow}{if}\ (cp\ <=\ 0xFFFF)\ \{}
\DoxyCodeLine{01332\ \ \ \ \ \ \ buffer\_.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{wchar\_t}\textcolor{keyword}{>}(cp));}
\DoxyCodeLine{01333\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01334\ \ \ \ \ \ \ cp\ -\/=\ 0x10000;}
\DoxyCodeLine{01335\ \ \ \ \ \ \ buffer\_.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{wchar\_t}\textcolor{keyword}{>}(0xD800\ +\ (cp\ >>\ 10)));}
\DoxyCodeLine{01336\ \ \ \ \ \ \ buffer\_.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{wchar\_t}\textcolor{keyword}{>}(0xDC00\ +\ (cp\ \&\ 0x3FF)));}
\DoxyCodeLine{01337\ \ \ \ \ \}}
\DoxyCodeLine{01338\ \ \ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{01339\ \ \ \};}
\DoxyCodeLine{01340\ \ \ \textcolor{keyword}{auto}\ p\ =\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}();}
\DoxyCodeLine{01341\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ block\_size\ =\ 4;\ \ \textcolor{comment}{//\ utf8\_decode\ always\ reads\ blocks\ of\ 4\ chars.}}
\DoxyCodeLine{01342\ \ \ \textcolor{keywordflow}{if}\ (s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ >=\ block\_size)\ \{}
\DoxyCodeLine{01343\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ end\ =\ p\ +\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ -\/\ block\_size\ +\ 1;\ p\ <\ end;)\ p\ =\ transcode(p);}
\DoxyCodeLine{01344\ \ \ \}}
\DoxyCodeLine{01345\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ num\_chars\_left\ =\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}()\ +\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ -\/\ p)\ \{}
\DoxyCodeLine{01346\ \ \ \ \ \textcolor{keywordtype}{char}\ buf[2\ *\ block\_size\ -\/\ 1]\ =\ \{\};}
\DoxyCodeLine{01347\ \ \ \ \ memcpy(buf,\ p,\ to\_unsigned(num\_chars\_left));}
\DoxyCodeLine{01348\ \ \ \ \ p\ =\ buf;}
\DoxyCodeLine{01349\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01350\ \ \ \ \ \ \ p\ =\ transcode(p);}
\DoxyCodeLine{01351\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (p\ -\/\ buf\ <\ num\_chars\_left);}
\DoxyCodeLine{01352\ \ \ \}}
\DoxyCodeLine{01353\ \ \ buffer\_.push\_back(0);}
\DoxyCodeLine{01354\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classdetail_1_1utf8__to__utf16_aafbf922e5ca6d679cfd83533b20a1df7}\label{classdetail_1_1utf8__to__utf16_aafbf922e5ca6d679cfd83533b20a1df7} 
\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}!c\_str@{c\_str}}
\index{c\_str@{c\_str}!detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}
\doxysubsubsection{\texorpdfstring{c\_str()}{c\_str()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classwchar__t}{wchar\+\_\+t}} \texorpdfstring{$\ast$}{*} detail\+::utf8\+\_\+to\+\_\+utf16\+::c\+\_\+str (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00993\ \{\ \textcolor{keywordflow}{return}\ \&buffer\_[0];\ \}}

\end{DoxyCode}
\Hypertarget{classdetail_1_1utf8__to__utf16_ac5dad9511ec2d548f0206d4f4d9e7a5e}\label{classdetail_1_1utf8__to__utf16_ac5dad9511ec2d548f0206d4f4d9e7a5e} 
\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}!operator wstring\_view@{operator wstring\_view}}
\index{operator wstring\_view@{operator wstring\_view}!detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}
\doxysubsubsection{\texorpdfstring{operator wstring\_view()}{operator wstring\_view()}}
{\footnotesize\ttfamily detail\+::utf8\+\_\+to\+\_\+utf16\+::operator \mbox{\hyperlink{classbasic__string__view}{wstring\+\_\+view}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00991\ \{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}

\end{DoxyCode}
\Hypertarget{classdetail_1_1utf8__to__utf16_afede51636701fc9df710951bcd2febb9}\label{classdetail_1_1utf8__to__utf16_afede51636701fc9df710951bcd2febb9} 
\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}!size@{size}}
\index{size@{size}!detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t detail\+::utf8\+\_\+to\+\_\+utf16\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00992\ \{\ \textcolor{keywordflow}{return}\ buffer\_.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}()\ -\/\ 1;\ \}}

\end{DoxyCode}
\Hypertarget{classdetail_1_1utf8__to__utf16_ad9c208a81fb309c97c717cbe0380f062}\label{classdetail_1_1utf8__to__utf16_ad9c208a81fb309c97c717cbe0380f062} 
\index{detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}!str@{str}}
\index{str@{str}!detail::utf8\_to\_utf16@{detail::utf8\_to\_utf16}}
\doxysubsubsection{\texorpdfstring{str()}{str()}}
{\footnotesize\ttfamily std\+::wstring detail\+::utf8\+\_\+to\+\_\+utf16\+::str (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00994\ \{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
external/fmt/include/fmt/format.\+h\item 
external/fmt/include/fmt/format-\/inl.\+h\end{DoxyCompactItemize}
