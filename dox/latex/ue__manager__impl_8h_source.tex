\doxysection{ue\+\_\+manager\+\_\+impl.\+h}
\hypertarget{ue__manager__impl_8h_source}{}\label{ue__manager__impl_8h_source}\index{lib/cu\_cp/ue\_manager/ue\_manager\_impl.h@{lib/cu\_cp/ue\_manager/ue\_manager\_impl.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ 2021-\/2024\ Software\ Radio\ Systems\ Limited}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ srsRAN.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ srsRAN\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ it\ under\ the\ terms\ of\ the\ GNU\ Affero\ General\ Public\ License\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ published\ by\ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ srsRAN\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ GNU\ Affero\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ A\ copy\ of\ the\ GNU\ Affero\ General\ Public\ License\ can\ be\ found\ in}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ the\ LICENSE\ file\ in\ the\ top-\/level\ directory\ of\ this\ distribution}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ and\ at\ http://www.gnu.org/licenses/.}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}../adapters/cu\_cp\_adapters.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}../adapters/ngap\_adapters.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}../adapters/rrc\_ue\_adapters.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}ue\_metrics\_handler.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}ue\_task\_scheduler.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}srsran/cu\_cp/ue\_manager.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesrsran}{srsran}}\ \{}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{namespace\ }srs\_cu\_cp\ \{}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__t}{ngap\_ue\_t}}\ \{}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__pdu__notifier}{ngap\_rrc\_ue\_pdu\_notifier}}\&\ \ \ \ \ \ \ \ \ \ \ rrc\_ue\_pdu\_notifier;}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\_rrc\_ue\_control\_notifier}}\&\ \ \ \ \ \ \ rrc\_ue\_ctrl\_notifier;}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__du__processor__control__notifier}{ngap\_du\_processor\_control\_notifier}}\&\ du\_processor\_ctrl\_notifier;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__t}{ngap\_ue\_t}}(\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__pdu__notifier}{ngap\_rrc\_ue\_pdu\_notifier}}\&\ \ \ \ \ \ \ \ \ \ \ rrc\_ue\_pdu\_notifier\_,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\_rrc\_ue\_control\_notifier}}\&\ \ \ \ \ \ \ rrc\_ue\_ctrl\_notifier\_,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__du__processor__control__notifier}{ngap\_du\_processor\_control\_notifier}}\&\ du\_processor\_ctrl\_notifier\_)\ :}
\DoxyCodeLine{00045\ \ \ \ \ rrc\_ue\_pdu\_notifier(rrc\_ue\_pdu\_notifier\_),}
\DoxyCodeLine{00046\ \ \ \ \ rrc\_ue\_ctrl\_notifier(rrc\_ue\_ctrl\_notifier\_),}
\DoxyCodeLine{00047\ \ \ \ \ du\_processor\_ctrl\_notifier(du\_processor\_ctrl\_notifier\_)}
\DoxyCodeLine{00048\ \ \ \{}
\DoxyCodeLine{00049\ \ \ \}}
\DoxyCodeLine{00050\ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue}{cu\_cp\_ue}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__ue}{du\_ue}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue}{ngap\_ue}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__task__scheduler}{rrc\_ue\_task\_scheduler}}}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue}{cu\_cp\_ue}}(\textcolor{keyword}{const}\ ue\_index\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_index\_,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1up__resource__manager__cfg}{up\_resource\_manager\_cfg}}\ up\_cfg,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__task__scheduler}{ue\_task\_scheduler}}\ \ \ \ \ \ \ \ \ \ \ \ \ task\_sched\_,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pci\_\ \ \ \ =\ INVALID\_PCI,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\_rnti\_\ =\ rnti\_t::INVALID\_RNTI)\ :}
\DoxyCodeLine{00060\ \ \ \ \ ue\_index(ue\_index\_),\ task\_sched(std::move(task\_sched\_)),\ up\_mng(create\_up\_resource\_manager(up\_cfg))}
\DoxyCodeLine{00061\ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (pci\_\ !=\ INVALID\_PCI)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ pci\ =\ pci\_;}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\_rnti\_\ !=\ rnti\_t::INVALID\_RNTI)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ c\_rnti\ =\ c\_rnti\_;}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ du\_index\ =\ get\_du\_index\_from\_ue\_index(ue\_index);}
\DoxyCodeLine{00071\ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_ab8d1676142bff570b6983407396d187d}{stop}}();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ generic\_ue}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00079\ \ \ ue\_index\_t\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_adc313731005fbab6f17d01cd0875cce4}{get\_ue\_index}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ ue\_index;\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1up__resource__manager}{up\_resource\_manager}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a299b8a7adbcf86b4cf352bfe52330f96}{get\_up\_resource\_manager}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ *up\_mng;\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ rrc\ ue\ task\ scheduler.}}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a2ed55582b8663b20b3e63ae543be0cc7}{schedule\_async\_task}}(\mbox{\hyperlink{classsrsran_1_1async__task}{async\_task<void>}}\ task)\textcolor{keyword}{\ override\ }\{\ task\_sched.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__task__scheduler_ac5602d5ab2310ad98682a4b6470bfaa9}{schedule\_async\_task}}(std::move(task));\ \}}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{classsrsran_1_1unique__timer}{unique\_timer}}\ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a34a19ebaa59872af0819dfccd930b0eb}{make\_unique\_timer}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ task\_sched.\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__task__scheduler_ae18ecf9d2f316458d1e04b7e0ea9b02a}{create\_timer}}();\ \}}
\DoxyCodeLine{00087\ \ \ \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_abe5fbe2ee89bef91d5d12cba5e583cd3}{get\_timer\_factory}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ task\_sched.get\_timer\_factory();\ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ du\_ue}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__task__scheduler}{rrc\_ue\_task\_scheduler}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a621d1e87937e63f87b388623fdeb5aec}{get\_task\_sched}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__control__message__notifier}{du\_processor\_rrc\_ue\_control\_message\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a3fc86c155b221a1c6d76d8998cabb24f}{get\_rrc\_ue\_notifier}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00096\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00097\ \ \ \ \ srsran\_assert(rrc\_ue\_notifier\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{stringliteral}{"{}ue=\{\}:\ RRC\ UE\ notifier\ was\ not\ set"{}},\ ue\_index);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{return}\ *rrc\_ue\_notifier;}
\DoxyCodeLine{00099\ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__srb__control__notifier}{du\_processor\_rrc\_ue\_srb\_control\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_aea97df156390b5e5313744a32d48fb23}{get\_rrc\_ue\_srb\_notifier}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00103\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00104\ \ \ \ \ srsran\_assert(rrc\_ue\_srb\_notifier\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{stringliteral}{"{}ue=\{\}:\ RRC\ UE\ SRB\ notifier\ was\ not\ set"{}},\ ue\_index);}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{return}\ *rrc\_ue\_srb\_notifier;}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__context__update__notifier}{rrc\_ue\_context\_update\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a7ebc60b95d71eb4d35fc490b493ea2af}{get\_rrc\_ue\_context\_update\_notifier}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ rrc\_ue\_cu\_cp\_ev\_notifier;\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__measurement__notifier}{rrc\_ue\_measurement\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a9efebdfd9c37dfc4c145f71df2b96a9d}{get\_rrc\_ue\_measurement\_notifier}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ rrc\_ue\_cu\_cp\_ev\_notifier;\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_ad7ae292c87f0cfec7dd716be53d02c25}{get\_pci}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ pci;\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_adfa0155034551c3d1c8859ecb79bd8b4}{get\_c\_rnti}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ c\_rnti;\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \mbox{\hyperlink{namespacesrsran_a24d9c58a8feb961399d30d43f80302f6}{gnb\_du\_id\_t}}\ get\_du\_id()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ du\_id;\ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00122\ \ \ du\_index\_t\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a3870ed3edf26aed2eb1756ab643c9042}{get\_du\_index}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ du\_index;\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ du\_cell\_index\_t\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a8c22b8b59dbddca386b1682432e5d42e}{get\_pcell\_index}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ pcell\_index;\ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00128\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a38ee9f96ba86c918876b2303902cb367}{update\_du\_ue}}(\mbox{\hyperlink{namespacesrsran_a24d9c58a8feb961399d30d43f80302f6}{gnb\_du\_id\_t}}\ du\_id\_\ \ =\ gnb\_du\_id\_t::invalid,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ \ \ \ \ \ \ pci\_\ \ \ \ =\ INVALID\_PCI,}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \ \ \ \ \ c\_rnti\_\ =\ rnti\_t::INVALID\_RNTI)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00131\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{if}\ (du\_id\_\ !=\ gnb\_du\_id\_t::invalid)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ du\_id\ =\ du\_id\_;}
\DoxyCodeLine{00134\ \ \ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{if}\ (pci\_\ !=\ INVALID\_PCI)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ pci\ =\ pci\_;}
\DoxyCodeLine{00138\ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\_rnti\_\ !=\ rnti\_t::INVALID\_RNTI)\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ c\_rnti\ =\ c\_rnti\_;}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00147\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a7cd74eed553902351f9379c3f52503fc}{set\_pcell\_index}}(du\_cell\_index\_t\ pcell\_index\_)\textcolor{keyword}{\ override\ }\{\ pcell\_index\ =\ pcell\_index\_;\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00151\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a4069a9c9dc98eb507a20227b163e79e3}{set\_rrc\_ue\_notifier}}(\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__control__message__notifier}{du\_processor\_rrc\_ue\_control\_message\_notifier}}\&\ rrc\_ue\_notifier\_)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00152\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00153\ \ \ \ \ rrc\_ue\_notifier\ =\ \&rrc\_ue\_notifier\_;}
\DoxyCodeLine{00154\ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00158\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a79948c673ea0a6a9855c6ce32536c6b2}{set\_rrc\_ue\_srb\_notifier}}(\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__srb__control__notifier}{du\_processor\_rrc\_ue\_srb\_control\_notifier}}\&\ rrc\_ue\_srb\_notifier\_)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00159\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00160\ \ \ \ \ rrc\_ue\_srb\_notifier\ =\ \&rrc\_ue\_srb\_notifier\_;}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{//\ ngap\_ue}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00166\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__pdu__notifier}{ngap\_rrc\_ue\_pdu\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a7196d682a62eb10355a35d028b9e6778}{get\_rrc\_ue\_pdu\_notifier}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00167\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00168\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.has\_value(),\ \textcolor{stringliteral}{"{}ue=\{\}:\ NGAP\ UE\ was\ not\ created"{}},\ ue\_index);}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.value().rrc\_ue\_pdu\_notifier;}
\DoxyCodeLine{00170\ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00173\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\_rrc\_ue\_control\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a736660b15aa40f47955410ac65b40206}{get\_rrc\_ue\_control\_notifier}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00174\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00175\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.has\_value(),\ \textcolor{stringliteral}{"{}ue=\{\}:\ NGAP\ UE\ was\ not\ created"{}},\ ue\_index);}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.value().rrc\_ue\_ctrl\_notifier;}
\DoxyCodeLine{00177\ \ \ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__du__processor__control__notifier}{ngap\_du\_processor\_control\_notifier}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a074a471a7c119f2eb21aeafea873004f}{get\_du\_processor\_control\_notifier}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00181\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00182\ \ \ \ \ srsran\_assert(\mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.has\_value(),\ \textcolor{stringliteral}{"{}ue=\{\}:\ NGAP\ UE\ was\ not\ created"{}},\ ue\_index);}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.value().du\_processor\_ctrl\_notifier;}
\DoxyCodeLine{00184\ \ \ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00190\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_abd003c1108bfd90f2ac254c2604167a7}{add\_ngap\_ue\_context}}(\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__pdu__notifier}{ngap\_rrc\_ue\_pdu\_notifier}}\&\ \ \ \ \ \ \ \ \ \ \ rrc\_ue\_pdu\_notifier,}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\_rrc\_ue\_control\_notifier}}\&\ \ \ \ \ \ \ rrc\_ue\_ctrl\_notifier,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__du__processor__control__notifier}{ngap\_du\_processor\_control\_notifier}}\&\ du\_processor\_ctrl\_notifier)}
\DoxyCodeLine{00193\ \ \ \{}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.emplace(rrc\_ue\_pdu\_notifier,\ rrc\_ue\_ctrl\_notifier,\ du\_processor\_ctrl\_notifier);}
\DoxyCodeLine{00195\ \ \ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \textcolor{keywordtype}{bool}\ ngap\_ue\_created()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}}.has\_value();\ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{comment}{//\ cu-\/cp\ ue}}
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__adapter}{ngap\_rrc\_ue\_adapter}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a43c18bde5157b38b53debff249677c5d}{get\_ngap\_rrc\_ue\_adapter}}()\ \{\ \textcolor{keywordflow}{return}\ ngap\_rrc\_ue\_ev\_notifier;\ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00204\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__rrc__ue__adapter}{cu\_cp\_rrc\_ue\_adapter}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_aba0a2a14a752e66214a35594b8562c96}{get\_cu\_cp\_rrc\_ue\_adapter}}()\ \{\ \textcolor{keywordflow}{return}\ cu\_cp\_rrc\_ue\_ev\_notifier;\ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00207\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__cu__cp__adapter}{rrc\_ue\_cu\_cp\_adapter}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__ue_a09c10e2212008c69f9e438911b726c6a}{get\_rrc\_ue\_cu\_cp\_adapter}}()\ \{\ \textcolor{keywordflow}{return}\ rrc\_ue\_cu\_cp\_ev\_notifier;\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00210\ \ \ \textcolor{comment}{//\ common\ context}}
\DoxyCodeLine{00211\ \ \ ue\_index\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_index\ =\ ue\_index\_t::invalid;}
\DoxyCodeLine{00212\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__task__scheduler}{ue\_task\_scheduler}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task\_sched;}
\DoxyCodeLine{00213\ \ \ std::unique\_ptr<up\_resource\_manager>\ up\_mng;}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{comment}{//\ du\ ue\ context}}
\DoxyCodeLine{00216\ \ \ du\_index\_t\ \ \ \ \ \ du\_index\ \ \ \ =\ du\_index\_t::invalid;}
\DoxyCodeLine{00217\ \ \ \mbox{\hyperlink{namespacesrsran_a24d9c58a8feb961399d30d43f80302f6}{gnb\_du\_id\_t}}\ \ \ \ \ du\_id\ \ \ \ \ \ \ =\ gnb\_du\_id\_t::invalid;}
\DoxyCodeLine{00218\ \ \ du\_cell\_index\_t\ pcell\_index\ =\ du\_cell\_index\_t::invalid;}
\DoxyCodeLine{00219\ \ \ \mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ \ \ \ \ \ \ \ \ \ \ pci\ \ \ \ \ \ \ \ \ =\ INVALID\_PCI;}
\DoxyCodeLine{00220\ \ \ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ \ \ \ \ \ \ \ \ \ c\_rnti\ \ \ \ \ \ =\ rnti\_t::INVALID\_RNTI;}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__control__message__notifier}{du\_processor\_rrc\_ue\_control\_message\_notifier}}*\ rrc\_ue\_notifier\ \ \ \ \ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00223\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__rrc__ue__srb__control__notifier}{du\_processor\_rrc\_ue\_srb\_control\_notifier}}*\ \ \ \ \ rrc\_ue\_srb\_notifier\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \textcolor{comment}{//\ ngap\ ue\ context}}
\DoxyCodeLine{00226\ \ \ \mbox{\hyperlink{classsrsran_1_1optional}{optional<ngap\_ue\_t>}}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ngap__ue__context}{ngap\_ue\_context}};}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \textcolor{comment}{//\ cu-\/cp\ ue\ context}}
\DoxyCodeLine{00229\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__adapter}{ngap\_rrc\_ue\_adapter}}\ \ ngap\_rrc\_ue\_ev\_notifier;}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__rrc__ue__adapter}{cu\_cp\_rrc\_ue\_adapter}}\ cu\_cp\_rrc\_ue\_ev\_notifier;}
\DoxyCodeLine{00231\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__cu__cp__adapter}{rrc\_ue\_cu\_cp\_adapter}}\ rrc\_ue\_cu\_cp\_ev\_notifier;}
\DoxyCodeLine{00232\ \};}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__processor__ue__manager}{du\_processor\_ue\_manager}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue__manager}{ngap\_ue\_manager}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__metrics__handler}{ue\_metrics\_handler}}}
\DoxyCodeLine{00235\ \{}
\DoxyCodeLine{00236\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00237\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager}{ue\_manager}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ue__configuration}{ue\_configuration}}\&\ \ \ \ \ \ \ \ ue\_config\_,}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1up__resource__manager__cfg}{up\_resource\_manager\_cfg}}\&\ up\_config\_,}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\_manager}}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ timers,}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1task__executor}{task\_executor}}\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cu\_cp\_exec);}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00243\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a46140d36f35c6c0f7bc8d8a976a7930f}{stop}}();}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \textcolor{comment}{//\ common}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00249\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__cp_1_1ue__configuration}{ue\_configuration}}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_addd593fdddcf507dc4a3959662be4066}{get\_ue\_config}}()\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ ue\_config;\ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00254\ \ \ ue\_index\_t\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a826c8df4aeec50963b8545605ac0a153}{get\_ue\_index}}(\mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ pci,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ c\_rnti)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00258\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ad7f6fed10a7ab5bf6dca6ab8fc7d5017}{remove\_ue}}(ue\_index\_t\ ue\_index)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00262\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a9d7aa76b1c9a6a6d111f095b11ca016b}{get\_nof\_ues}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ ues.size();\ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \textcolor{comment}{//\ du\_processor\_ue\_manager}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00269\ \ \ ue\_index\_t\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a1257d9a11efdab93e0e0cf2e9cc518d6}{add\_ue}}(du\_index\_t\ du\_index)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00274\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__ue}{du\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a3ef8cd198d1f01983fe87c7b0e10ac19}{find\_ue}}(ue\_index\_t\ ue\_index)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__ue}{du\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a5f1d69de147bcb1ccb3f19b56e11e70c}{set\_ue\_du\_context}}(ue\_index\_t\ ue\_index,\ \mbox{\hyperlink{namespacesrsran_a24d9c58a8feb961399d30d43f80302f6}{gnb\_du\_id\_t}}\ du\_id,\ \mbox{\hyperlink{namespacesrsran_ae2a7787d776e7d6ee8959beb6b368286}{pci\_t}}\ pci,\ \mbox{\hyperlink{namespacesrsran_a1d83bcd76f2b7c6251855be8472a46f5}{rnti\_t}}\ rnti)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00281\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1du__ue}{du\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ae2398ec164174300ad8d7723ce13793c}{find\_du\_ue}}(ue\_index\_t\ ue\_index)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00285\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_aca748559cf99a06d618719b282752bd4}{get\_nof\_du\_ues}}(du\_index\_t\ du\_index)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00286\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ ue\_count\ =\ 0;}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{comment}{//\ Search\ allocated\ UE\ indexes}}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint16\_t\ i\ =\ 0;\ i\ <\ MAX\_NOF\_UES\_PER\_DU;\ i++)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ ue\_index\_t\ new\_ue\_index\ =\ generate\_ue\_index(du\_index,\ i);}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ues.find(new\_ue\_index)\ !=\ ues.end())\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ ue\_count++;}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{return}\ ue\_count;}
\DoxyCodeLine{00296\ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{comment}{//\ ngap\_ue\_manager}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00307\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue}{ngap\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_a2609ee374c472a30d6f7b4a62ecddb23}{set\_ue\_ng\_context}}(ue\_index\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ue\_index,}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__pdu__notifier}{ngap\_rrc\_ue\_pdu\_notifier}}\&\ \ \ \ \ \ \ \ \ \ \ rrc\_ue\_pdu\_notifier\_,}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__control__notifier}{ngap\_rrc\_ue\_control\_notifier}}\&\ \ \ \ \ \ \ rrc\_ue\_ctrl\_notifier\_,}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__du__processor__control__notifier}{ngap\_du\_processor\_control\_notifier}}\&\ du\_processor\_ctrl\_notifier\_)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00315\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__ue}{ngap\_ue}}*\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ad21bedf0a1a1d1fab12dd5900656712a}{find\_ngap\_ue}}(ue\_index\_t\ ue\_index)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00319\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ab4c9082b1d90380eea02ea1687da7bda}{get\_nof\_ngap\_ues}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00320\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ ue\_count\ =\ 0;}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{//\ Search\ allocated\ UE\ indexes}}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{classsrsran_1_1ue}{ue}}\ :\ ues)\ \{}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1ue}{ue}}.second.ngap\_ue\_created())\ \{}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ ue\_count++;}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00327\ \ \ \ \ \}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordflow}{return}\ ue\_count;}
\DoxyCodeLine{00329\ \ \ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{comment}{//\ cu-\/cp\ ue\ manager}}
\DoxyCodeLine{00333\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ngap__rrc__ue__adapter}{ngap\_rrc\_ue\_adapter}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_adfa054cfa13308585f6d97e44089c276}{get\_ngap\_rrc\_ue\_adapter}}(ue\_index\_t\ ue\_index)}
\DoxyCodeLine{00334\ \ \ \{}
\DoxyCodeLine{00335\ \ \ \ \ srsran\_assert(ue\_index\ !=\ ue\_index\_t::invalid,\ \textcolor{stringliteral}{"{}Invalid\ ue\_index=\{\}"{}},\ ue\_index);}
\DoxyCodeLine{00336\ \ \ \ \ srsran\_assert(ues.find(ue\_index)\ !=\ ues.end(),\ \textcolor{stringliteral}{"{}UE\ with\ ue\_index=\{\}\ does\ not\ exist"{}},\ ue\_index);}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{return}\ ues.at(ue\_index).get\_ngap\_rrc\_ue\_adapter();}
\DoxyCodeLine{00339\ \ \ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00342\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1cu__cp__rrc__ue__adapter}{cu\_cp\_rrc\_ue\_adapter}}\&\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_adbd291f11deac244e666e1630d1b5c1f}{get\_cu\_cp\_rrc\_ue\_adapter}}(ue\_index\_t\ ue\_index)}
\DoxyCodeLine{00343\ \ \ \{}
\DoxyCodeLine{00344\ \ \ \ \ srsran\_assert(ue\_index\ !=\ ue\_index\_t::invalid,\ \textcolor{stringliteral}{"{}Invalid\ ue\_index=\{\}"{}},\ ue\_index);}
\DoxyCodeLine{00345\ \ \ \ \ srsran\_assert(ues.find(ue\_index)\ !=\ ues.end(),\ \textcolor{stringliteral}{"{}UE\ with\ ue\_index=\{\}\ does\ not\ exist"{}},\ ue\_index);}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordflow}{return}\ ues.at(ue\_index).get\_cu\_cp\_rrc\_ue\_adapter();}
\DoxyCodeLine{00348\ \ \ \}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1rrc__ue__cu__cp__adapter}{rrc\_ue\_cu\_cp\_adapter}}\&\ get\_rrc\_ue\_cu\_cp\_adapter(ue\_index\_t\ ue\_index)}
\DoxyCodeLine{00351\ \ \ \{}
\DoxyCodeLine{00352\ \ \ \ \ srsran\_assert(ue\_index\ !=\ ue\_index\_t::invalid,\ \textcolor{stringliteral}{"{}Invalid\ ue\_index=\{\}"{}},\ ue\_index);}
\DoxyCodeLine{00353\ \ \ \ \ srsran\_assert(ues.find(ue\_index)\ !=\ ues.end(),\ \textcolor{stringliteral}{"{}UE\ with\ ue\_index=\{\}\ does\ not\ exist"{}},\ ue\_index);}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{return}\ ues.at(ue\_index).get\_rrc\_ue\_cu\_cp\_adapter();}
\DoxyCodeLine{00356\ \ \ \}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ std::vector<metrics\_report::ue\_info>\ \mbox{\hyperlink{classsrsran_1_1srs__cu__cp_1_1ue__manager_ac8b9801835fc778d88602cb145fa69a8}{handle\_ue\_metrics\_report\_request}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ ue\_task\_scheduler\_manager\&\ get\_task\_sched()\ \{\ \textcolor{keywordflow}{return}\ ue\_task\_scheds;\ \}}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00365\ \ \ ue\_index\_t\ get\_next\_ue\_index(du\_index\_t\ du\_index);}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog::basic\_logger}}\&\ \ \ \ \ \ \ \ \ logger\ =\ srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}CU-\/UEMNG"{}});}
\DoxyCodeLine{00368\ \ \ \textcolor{keyword}{const}\ ue\_configuration\ \ \ \ \ \ \ \ ue\_config;}
\DoxyCodeLine{00369\ \ \ \textcolor{keyword}{const}\ up\_resource\_manager\_cfg\ up\_config;}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \textcolor{comment}{//\ Manager\ of\ UE\ task\ schedulers.}}
\DoxyCodeLine{00372\ \ \ ue\_task\_scheduler\_manager\ ue\_task\_scheds;}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \textcolor{comment}{//\ Container\ of\ UE\ contexts\ handled\ by\ the\ CU-\/CP.}}
\DoxyCodeLine{00375\ \ \ std::unordered\_map<ue\_index\_t,\ cu\_cp\_ue>\ ues;}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \textcolor{comment}{//\ ue\ index\ lookups}}
\DoxyCodeLine{00378\ \ \ std::map<std::tuple<pci\_t,\ rnti\_t>,\ ue\_index\_t>\ pci\_rnti\_to\_ue\_index;\ \textcolor{comment}{//\ ue\_indexes\ indexed\ by\ pci\ and\ rnti}}
\DoxyCodeLine{00379\ \};}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \}\ \textcolor{comment}{//\ namespace\ srs\_cu\_cp}}
\DoxyCodeLine{00382\ \}\ \textcolor{comment}{//\ namespace\ srsran}}

\end{DoxyCode}
