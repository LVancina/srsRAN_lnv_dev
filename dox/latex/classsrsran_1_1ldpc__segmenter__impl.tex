\doxysection{srsran\+::ldpc\+\_\+segmenter\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1ldpc__segmenter__impl}{}\label{classsrsran_1_1ldpc__segmenter__impl}\index{srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}}


Generic implementation of LDPC segmentation.  




{\ttfamily \#include $<$ldpc\+\_\+segmenter\+\_\+impl.\+h$>$}

Inheritance diagram for srsran\+::ldpc\+\_\+segmenter\+\_\+impl\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsrsran_1_1ldpc__segmenter__impl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1ldpc__segmenter__impl_1_1sch__crc}{sch\+\_\+crc}}
\begin{DoxyCompactList}\small\item\em CRC calculators used in shared channels. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__impl_ac42240fce4bb7e502661967508115d76}{segment}} (\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{classsrsran_1_1described__segment}{described\+\_\+segment}}, MAX\+\_\+\+NOF\+\_\+\+SEGMENTS $>$ \&described\+\_\+segments, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$ transport\+\_\+block, const \mbox{\hyperlink{structsrsran_1_1segmenter__config}{segmenter\+\_\+config}} \&cfg) override
\begin{DoxyCompactList}\small\item\em Adds the CRC to the a transport block, carries out segmentation and computes all codeblock metadata for later use (encoder and rate matching). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__impl_a75d65c4074bcbe5c3931bfa3544154a9}{segment}} (\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{namespacesrsran_a98c687a6314223a04e1b4d3a54b1035b}{described\+\_\+rx\+\_\+codeblock}}, MAX\+\_\+\+NOF\+\_\+\+SEGMENTS $>$ \&described\+\_\+codeblocks, \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$ codeword\+\_\+llrs, unsigned tbs, const \mbox{\hyperlink{structsrsran_1_1segmenter__config}{segmenter\+\_\+config}} \&cfg) override
\begin{DoxyCompactList}\small\item\em Splits a codeword into codeblocks and computes the metadata of all codeblocks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__tx}{srsran\+::ldpc\+\_\+segmenter\+\_\+tx}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}ldpc\+\_\+segmenter\+\_\+tx} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__rx}{srsran\+::ldpc\+\_\+segmenter\+\_\+rx}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}ldpc\+\_\+segmenter\+\_\+rx} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsrsran_1_1ldpc__segmenter__impl_ac9b94cc668575c6fb122b3d8d7b5a0ca}\label{classsrsran_1_1ldpc__segmenter__impl_ac9b94cc668575c6fb122b3d8d7b5a0ca} 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__tx}{ldpc\+\_\+segmenter\+\_\+tx}} $>$ {\bfseries create\+\_\+ldpc\+\_\+segmenter\+\_\+impl\+\_\+tx} (\mbox{\hyperlink{structsrsran_1_1ldpc__segmenter__impl_1_1sch__crc}{sch\+\_\+crc}} \&)
\begin{DoxyCompactList}\small\item\em Wraps the constructor of the Tx version of the LDPC segmenter. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__rx}{ldpc\+\_\+segmenter\+\_\+rx}} $>$ \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__impl_ab902ba9d2a109cc9d7b56476e4363f8a}{create\+\_\+ldpc\+\_\+segmenter\+\_\+impl\+\_\+rx}} ()
\begin{DoxyCompactList}\small\item\em Wraps the constructor of the Rx version of the LDPC segmenter. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Generic implementation of LDPC segmentation. 

Implements both \doxylink{classsrsran_1_1ldpc__segmenter__tx}{ldpc\+\_\+segmenter\+\_\+tx} and \doxylink{classsrsran_1_1ldpc__segmenter__rx}{ldpc\+\_\+segmenter\+\_\+rx}. For this reason, the constructor has been hidden behind the static wrapper methods \doxylink{classsrsran_1_1ldpc__segmenter__impl_ac9b94cc668575c6fb122b3d8d7b5a0ca}{create\+\_\+ldpc\+\_\+segmenter\+\_\+impl\+\_\+tx()} and \doxylink{classsrsran_1_1ldpc__segmenter__impl_ab902ba9d2a109cc9d7b56476e4363f8a}{create\+\_\+ldpc\+\_\+segmenter\+\_\+impl\+\_\+rx()}. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ldpc__segmenter__impl_ab902ba9d2a109cc9d7b56476e4363f8a}\label{classsrsran_1_1ldpc__segmenter__impl_ab902ba9d2a109cc9d7b56476e4363f8a} 
\index{srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}!create\_ldpc\_segmenter\_impl\_rx@{create\_ldpc\_segmenter\_impl\_rx}}
\index{create\_ldpc\_segmenter\_impl\_rx@{create\_ldpc\_segmenter\_impl\_rx}!srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}}
\doxysubsubsection{\texorpdfstring{create\_ldpc\_segmenter\_impl\_rx()}{create\_ldpc\_segmenter\_impl\_rx()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__rx}{ldpc\+\_\+segmenter\+\_\+rx}} $>$ ldpc\+\_\+segmenter\+\_\+impl\+::create\+\_\+ldpc\+\_\+segmenter\+\_\+impl\+\_\+rx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Wraps the constructor of the Rx version of the LDPC segmenter. 

\begin{DoxyRemark}{Remarks}
The receive-\/chain version of the segmenter does not need CRC calculators. 
\end{DoxyRemark}
\Hypertarget{classsrsran_1_1ldpc__segmenter__impl_a75d65c4074bcbe5c3931bfa3544154a9}\label{classsrsran_1_1ldpc__segmenter__impl_a75d65c4074bcbe5c3931bfa3544154a9} 
\index{srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}!segment@{segment}}
\index{segment@{segment}!srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}}
\doxysubsubsection{\texorpdfstring{segment()}{segment()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void ldpc\+\_\+segmenter\+\_\+impl\+::segment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{namespacesrsran_a98c687a6314223a04e1b4d3a54b1035b}{described\+\_\+rx\+\_\+codeblock}}, MAX\+\_\+\+NOF\+\_\+\+SEGMENTS $>$ \&}]{described\+\_\+codeblocks,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const \mbox{\hyperlink{classsrsran_1_1log__likelihood__ratio}{log\+\_\+likelihood\+\_\+ratio}} $>$}]{codeword\+\_\+llrs,  }\item[{unsigned}]{tbs,  }\item[{const \mbox{\hyperlink{structsrsran_1_1segmenter__config}{segmenter\+\_\+config}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Splits a codeword into codeblocks and computes the metadata of all codeblocks. 

The LLRs corresponding to the received codeword are split into codeblocks to feed the decoder. Each codeblock is described by all the metadata needed for rate-\/dematching and decoding, as per TS38.\+212 Section 5.\+4.\+2.\+1. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em described\+\_\+codeblocks} & Codeblock LLRs and corresponding metadata. \\
\hline
\mbox{\texttt{ in}}  & {\em codeword\+\_\+llrs} & Log-\/likelihood ratios of the received codeword. \\
\hline
\mbox{\texttt{ in}}  & {\em tbs} & Transport block size (not including CRC), as a number of bits. \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Parameters affecting splitting and codeblock metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
The output codeblocks are just views (not copies) of the proper block of codeword log-\/likelihood ratios in {\ttfamily codeword\+\_\+llrs}. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__rx_afc2e88efb648316e4a90d3b019d5cf26}{srsran\+::ldpc\+\_\+segmenter\+\_\+rx}}.

\Hypertarget{classsrsran_1_1ldpc__segmenter__impl_ac42240fce4bb7e502661967508115d76}\label{classsrsran_1_1ldpc__segmenter__impl_ac42240fce4bb7e502661967508115d76} 
\index{srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}!segment@{segment}}
\index{segment@{segment}!srsran::ldpc\_segmenter\_impl@{srsran::ldpc\_segmenter\_impl}}
\doxysubsubsection{\texorpdfstring{segment()}{segment()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void ldpc\+\_\+segmenter\+\_\+impl\+::segment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1static__vector}{static\+\_\+vector}}$<$ \mbox{\hyperlink{classsrsran_1_1described__segment}{described\+\_\+segment}}, MAX\+\_\+\+NOF\+\_\+\+SEGMENTS $>$ \&}]{described\+\_\+segments,  }\item[{\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ const uint8\+\_\+t $>$}]{transport\+\_\+block,  }\item[{const \mbox{\hyperlink{structsrsran_1_1segmenter__config}{segmenter\+\_\+config}} \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds the CRC to the a transport block, carries out segmentation and computes all codeblock metadata for later use (encoder and rate matching). 

First, the transport block CRC is attached, as per TS38.\+212 Section 7.\+2.\+1. Then, the transport block is split into a number of segments and, if needed, a CRC is attached to each segment\+\_\+tx. This is done according to TS38.\+212 Section 5.\+2.\+2. The function also computes other segment\+\_\+tx metadata (e.\+g., coded and rate-\/matched length) according to TS38.\+212 Section 5.\+4.\+2.\+1.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em described\+\_\+segments} & Segments (unpacked, one bit per entry) and corresponding metadata. \\
\hline
\mbox{\texttt{ in}}  & {\em transport\+\_\+block} & The transport block to segment\+\_\+tx (packed, one byte per entry). \\
\hline
\mbox{\texttt{ in}}  & {\em cfg} & Parameters affecting splitting and codeblock metadata. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1ldpc__segmenter__tx_a4862995fa5565996de5c9b4c6e6ef946}{srsran\+::ldpc\+\_\+segmenter\+\_\+tx}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+coding/ldpc/\mbox{\hyperlink{ldpc__segmenter__impl_8h}{ldpc\+\_\+segmenter\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+coding/ldpc/ldpc\+\_\+segmenter\+\_\+impl.\+cpp\end{DoxyCompactItemize}
