\doxysection{format.\+h}
\hypertarget{format_8h_source}{}\label{format_8h_source}\index{external/fmt/include/fmt/format.h@{external/fmt/include/fmt/format.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ Formatting\ library\ for\ C++}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ Copyright\ (c)\ 2012\ -\/\ present,\ Victor\ Zverovich}}
\DoxyCodeLine{00005\ \textcolor{comment}{}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ a\ copy\ of\ this\ software\ and\ associated\ documentation\ files\ (the}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ "{}Software"{}),\ to\ deal\ in\ the\ Software\ without\ restriction,\ including}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ without\ limitation\ the\ rights\ to\ use,\ copy,\ modify,\ merge,\ publish,}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ distribute,\ sublicense,\ and/or\ sell\ copies\ of\ the\ Software,\ and\ to}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ permit\ persons\ to\ whom\ the\ Software\ is\ furnished\ to\ do\ so,\ subject\ to}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ the\ following\ conditions:}}
\DoxyCodeLine{00013\ \textcolor{comment}{}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ included\ in\ all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00016\ \textcolor{comment}{}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ EXPRESS\ OR\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ MERCHANTABILITY,\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT\ OF\ OR\ IN\ CONNECTION}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00024\ \textcolor{comment}{}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ -\/-\/-\/\ Optional\ exception\ to\ the\ license\ -\/-\/-\/}}
\DoxyCodeLine{00026\ \textcolor{comment}{}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ As\ an\ exception,\ if,\ as\ a\ result\ of\ your\ compiling\ your\ source\ code,\ portions}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ of\ this\ Software\ are\ embedded\ into\ a\ machine-\/executable\ object\ form\ of\ such}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ source\ code,\ you\ may\ redistribute\ such\ embedded\ portions\ in\ such\ object\ form}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ without\ including\ the\ above\ copyright\ and\ permission\ notices.}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#ifndef\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ <cerrno>}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ "{}core.h"{}}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#ifdef\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#\ \ define\ FMT\_ICC\_VERSION\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#elif\ defined(\_\_ICL)}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#\ \ define\ FMT\_ICC\_VERSION\ \_\_ICL}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#\ \ define\ FMT\_ICC\_VERSION\ 0}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#ifdef\ \_\_NVCC\_\_}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CUDA\_VERSION\ (\_\_CUDACC\_VER\_MAJOR\_\_\ *\ 100\ +\ \_\_CUDACC\_VER\_MINOR\_\_)}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CUDA\_VERSION\ 0}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_builtin}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ \_\_has\_builtin(x)}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ 0}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ ||\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE\ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ ==\ 201103L\ ||\ \_\_cplusplus\ ==\ 201402L}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#\ \ if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_FALLTHROUGH\ [[clang::fallthrough]]}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#\ \ elif\ FMT\_GCC\_VERSION\ >=\ 700\ \&\&\ !defined(\_\_PGI)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\ \ \ \ \ \ (!defined(\_\_EDG\_VERSION\_\_)\ ||\ \_\_EDG\_VERSION\_\_\ >=\ 520)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_FALLTHROUGH\ [[gnu::fallthrough]]}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_FALLTHROUGH}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#elif\ FMT\_HAS\_CPP17\_ATTRIBUTE(fallthrough)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\ \ \ \ (defined(\_MSVC\_LANG)\ \&\&\ \_MSVC\_LANG\ >=\ 201703L)}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FALLTHROUGH\ [[fallthrough]]}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FALLTHROUGH}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#ifndef\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_CPP17\_ATTRIBUTE(maybe\_unused)}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED\ [[maybe\_unused]]}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#ifndef\ FMT\_THROW}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#\ \ if\ FMT\_EXCEPTIONS}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#\ \ \ \ if\ FMT\_MSC\_VER\ ||\ FMT\_NVCC}}
\DoxyCodeLine{00099\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00100\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00101\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Exception>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ do\_throw(\textcolor{keyword}{const}\ Exception\&\ x)\ \{}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ Silence\ unreachable\ code\ warnings\ in\ MSVC\ and\ NVCC\ because\ these}}
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ are\ nearly\ impossible\ to\ fix\ in\ a\ generic\ code.}}
\DoxyCodeLine{00104\ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{bool}\ b\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{if}\ (b)\ \textcolor{keywordflow}{throw}\ x;}
\DoxyCodeLine{00106\ \}}
\DoxyCodeLine{00107\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00108\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ detail::do\_throw(x)}}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#\ \ \ \ else}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ throw\ x}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_THROW(x)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\ \ \ \ \ \ do\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ static\_cast<void>(sizeof(x));\ \(\backslash\)}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ FMT\_ASSERT(false,\ "{}"{});\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\ \ \ \ \ \ \}\ while\ (false)}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00120\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\#if\ FMT\_EXCEPTIONS}}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#\ \ define\ FMT\_TRY\ try}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CATCH(x)\ catch\ (x)}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#\ \ define\ FMT\_TRY\ if\ (true)}}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CATCH(x)\ if\ (false)}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{00131\ \textcolor{comment}{//\ EDG\ based\ compilers\ (Intel,\ NVIDIA,\ Elbrus,\ etc),\ GCC\ and\ MSVC\ support\ UDLs.}}
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#\ \ if\ (FMT\_HAS\_FEATURE(cxx\_user\_literals)\ ||\ FMT\_GCC\_VERSION\ >=\ 407\ ||\ \(\backslash\)}}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\ \ \ \ \ \ \ FMT\_MSC\_VER\ >=\ 1900)\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\ \ \ \ \ \ (!defined(\_\_EDG\_VERSION\_\_)\ ||\ \_\_EDG\_VERSION\_\_\ >=\ }\textcolor{comment}{/*\ UDL\ feature\ */}\textcolor{preprocessor}{\ 480)}}
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 1}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 0}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_UDL\_TEMPLATE}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ EDG\ frontend\ based\ compilers\ (icc,\ nvcc,\ etc)\ and\ GCC\ <\ 6.4\ do\ not\ properly}}
\DoxyCodeLine{00143\ \textcolor{comment}{//\ support\ UDL\ templates\ and\ GCC\ >=\ 9\ warns\ about\ them.}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_USER\_DEFINED\_LITERALS\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\ \ \ \ \ \ (!defined(\_\_EDG\_VERSION\_\_)\ ||\ \_\_EDG\_VERSION\_\_\ >=\ 501)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{\ \ \ \ \ \ ((FMT\_GCC\_VERSION\ >=\ 604\ \&\&\ \_\_cplusplus\ >=\ 201402L)\ ||\ \ \ \(\backslash\)}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\ \ \ \ \ \ \ FMT\_CLANG\_VERSION\ >=\ 304)}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_UDL\_TEMPLATE\ 1}}
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_UDL\_TEMPLATE\ 0}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_FLOAT}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_FLOAT\ 1}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_DOUBLE}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_DOUBLE\ 1}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_LONG\_DOUBLE}}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_LONG\_DOUBLE\ 1}}
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{comment}{//\ \_\_builtin\_clz\ is\ broken\ in\ clang\ with\ Microsoft\ CodeGen:}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/519}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\#if\ (FMT\_GCC\_VERSION\ ||\ FMT\_HAS\_BUILTIN(\_\_builtin\_clz))\ \&\&\ !FMT\_MSC\_VER}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZ(n)\ \_\_builtin\_clz(n)}}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#if\ (FMT\_GCC\_VERSION\ ||\ FMT\_HAS\_BUILTIN(\_\_builtin\_clzll))\ \&\&\ !FMT\_MSC\_VER}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZLL(n)\ \_\_builtin\_clzll(n)}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{comment}{//\ Some\ compilers\ masquerade\ as\ both\ MSVC\ and\ GCC-\/likes\ or\ otherwise\ support}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ \_\_builtin\_clz\ and\ \_\_builtin\_clzll,\ so\ only\ define\ FMT\_BUILTIN\_CLZ\ using\ the}}
\DoxyCodeLine{00177\ \textcolor{comment}{//\ MSVC\ intrinsics\ if\ the\ clz\ and\ clzll\ builtins\ are\ not\ available.}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VER\ \&\&\ !defined(FMT\_BUILTIN\_CLZLL)\ \&\&\ !defined(\_MANAGED)}}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#\ \ include\ <intrin.h>}\ \ \textcolor{comment}{//\ \_BitScanReverse,\ \_BitScanReverse64}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00182\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00183\ \textcolor{comment}{//\ Avoid\ Clang\ with\ Microsoft\ CodeGen's\ -\/Wunknown-\/pragmas\ warning.}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#\ \ ifndef\ \_\_clang\_\_}}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanReverse)}}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00187\ \textcolor{keyword}{inline}\ uint32\_t\ clz(uint32\_t\ x)\ \{}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00189\ \ \ \_BitScanReverse(\&r,\ x);}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00192\ \ \ \textcolor{comment}{//\ Static\ analysis\ complains\ about\ using\ uninitialized\ data}}
\DoxyCodeLine{00193\ \ \ \textcolor{comment}{//\ "{}r"{},\ but\ the\ only\ way\ that\ can\ happen\ is\ if\ "{}x"{}\ is\ 0,}}
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{//\ which\ the\ callers\ guarantee\ to\ not\ happen.}}
\DoxyCodeLine{00195\ \ \ FMT\_SUPPRESS\_MSC\_WARNING(6102)}
\DoxyCodeLine{00196\ \ \ return\ 31\ -\/\ r;}
\DoxyCodeLine{00197\ \}}
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZ(n)\ detail::clz(n)}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#\ \ if\ defined(\_WIN64)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanReverse64)}}
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{keyword}{inline}\ uint32\_t\ clzll(uint64\_t\ x)\ \{}
\DoxyCodeLine{00205\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#\ \ ifdef\ \_WIN64}}
\DoxyCodeLine{00207\ \ \ \_BitScanReverse64(\&r,\ x);}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00209\ \ \ \textcolor{comment}{//\ Scan\ the\ high\ 32\ bits.}}
\DoxyCodeLine{00210\ \ \ \textcolor{keywordflow}{if}\ (\_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x\ >>\ 32)))\ \textcolor{keywordflow}{return}\ 63\ -\/\ (r\ +\ 32);}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{comment}{//\ Scan\ the\ low\ 32\ bits.}}
\DoxyCodeLine{00213\ \ \ \_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x));}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00217\ \ \ \textcolor{comment}{//\ Static\ analysis\ complains\ about\ using\ uninitialized\ data}}
\DoxyCodeLine{00218\ \ \ \textcolor{comment}{//\ "{}r"{},\ but\ the\ only\ way\ that\ can\ happen\ is\ if\ "{}x"{}\ is\ 0,}}
\DoxyCodeLine{00219\ \ \ \textcolor{comment}{//\ which\ the\ callers\ guarantee\ to\ not\ happen.}}
\DoxyCodeLine{00220\ \ \ FMT\_SUPPRESS\_MSC\_WARNING(6102)}
\DoxyCodeLine{00221\ \ \ return\ 63\ -\/\ r;}
\DoxyCodeLine{00222\ \}}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZLL(n)\ detail::clzll(n)}}
\DoxyCodeLine{00224\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00225\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \textcolor{comment}{//\ Enable\ the\ deprecated\ numeric\ alignment.}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#ifndef\ FMT\_DEPRECATED\_NUMERIC\_ALIGN}}
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#\ \ define\ FMT\_DEPRECATED\_NUMERIC\_ALIGN\ 0}}
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00234\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \textcolor{comment}{//\ An\ equivalent\ of\ \`{}*reinterpret\_cast<Dest*>(\&source)`\ that\ doesn't\ have}}
\DoxyCodeLine{00237\ \textcolor{comment}{//\ undefined\ behavior\ (e.g.\ due\ to\ type\ aliasing).}}
\DoxyCodeLine{00238\ \textcolor{comment}{//\ Example:\ uint64\_t\ d\ =\ bit\_cast<uint64\_t>(2.718);}}
\DoxyCodeLine{00239\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Dest,\ \textcolor{keyword}{typename}\ Source>}
\DoxyCodeLine{00240\ \textcolor{keyword}{inline}\ Dest\ bit\_cast(\textcolor{keyword}{const}\ Source\&\ source)\ \{}
\DoxyCodeLine{00241\ \ \ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(Dest)\ ==\ \textcolor{keyword}{sizeof}(Source),\ \textcolor{stringliteral}{"{}size\ mismatch"{}});}
\DoxyCodeLine{00242\ \ \ Dest\ dest;}
\DoxyCodeLine{00243\ \ \ std::memcpy(\&dest,\ \&source,\ \textcolor{keyword}{sizeof}(dest));}
\DoxyCodeLine{00244\ \ \ \textcolor{keywordflow}{return}\ dest;}
\DoxyCodeLine{00245\ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ is\_big\_endian()\ \{}
\DoxyCodeLine{00248\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ u\ =\ 1u;}
\DoxyCodeLine{00249\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{char}\ data[\textcolor{keyword}{sizeof}(u)];}
\DoxyCodeLine{00251\ \ \ \};}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{return}\ bit\_cast<bytes>(u).data[0]\ ==\ 0;}
\DoxyCodeLine{00253\ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \textcolor{comment}{//\ A\ fallback\ implementation\ of\ uintptr\_t\ for\ systems\ that\ lack\ it.}}
\DoxyCodeLine{00256\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1fallback__uintptr}{fallback\_uintptr}}\ \{}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classdetail_1_1value}{value}}[\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*)];}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \mbox{\hyperlink{structdetail_1_1fallback__uintptr}{fallback\_uintptr}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00260\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structdetail_1_1fallback__uintptr}{fallback\_uintptr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ p)\ \{}
\DoxyCodeLine{00261\ \ \ \ \ *\textcolor{keyword}{this}\ =\ bit\_cast<fallback\_uintptr>(p);}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_big\_endian())\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ j\ =\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*)\ -\/\ 1;\ i\ <\ j;\ ++i,\ -\/-\/j)}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ std::swap(\mbox{\hyperlink{classdetail_1_1value}{value}}[i],\ \mbox{\hyperlink{classdetail_1_1value}{value}}[j]);}
\DoxyCodeLine{00265\ \ \ \ \ \}}
\DoxyCodeLine{00266\ \ \ \}}
\DoxyCodeLine{00267\ \};}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#ifdef\ UINTPTR\_MAX}}
\DoxyCodeLine{00269\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structdetail_1_1fallback__uintptr}{uintptr\_t}}\ =\ ::uintptr\_t;}
\DoxyCodeLine{00270\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structdetail_1_1fallback__uintptr}{uintptr\_t}}\ to\_uintptr(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ p)\ \{\ \textcolor{keywordflow}{return}\ bit\_cast<uintptr\_t>(p);\ \}}
\DoxyCodeLine{00271\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00272\ \textcolor{keyword}{using\ }uintptr\_t\ =\ fallback\_uintptr;}
\DoxyCodeLine{00273\ \textcolor{keyword}{inline}\ fallback\_uintptr\ to\_uintptr(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ p)\ \{}
\DoxyCodeLine{00274\ \ \ \textcolor{keywordflow}{return}\ fallback\_uintptr(p);}
\DoxyCodeLine{00275\ \}}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \textcolor{comment}{//\ Returns\ the\ largest\ possible\ value\ for\ type\ T.\ Same\ as}}
\DoxyCodeLine{00279\ \textcolor{comment}{//\ std::numeric\_limits<T>::max()\ but\ shorter\ and\ not\ affected\ by\ the\ max\ macro.}}
\DoxyCodeLine{00280\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ T\ max\_value()\ \{}
\DoxyCodeLine{00281\ \ \ \textcolor{keywordflow}{return}\ (std::numeric\_limits<T>::max)();}
\DoxyCodeLine{00282\ \}}
\DoxyCodeLine{00283\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ num\_bits()\ \{}
\DoxyCodeLine{00284\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<T>::digits;}
\DoxyCodeLine{00285\ \}}
\DoxyCodeLine{00286\ \textcolor{comment}{//\ std::numeric\_limits<T>::digits\ may\ return\ 0\ for\ 128-\/bit\ ints.}}
\DoxyCodeLine{00287\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ num\_bits<int128\_t>()\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00288\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ num\_bits<uint128\_t>()\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00289\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ num\_bits<fallback\_uintptr>()\ \{}
\DoxyCodeLine{00290\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*)\ *}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<unsigned\ char>::digits);}
\DoxyCodeLine{00292\ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ assume(\textcolor{keywordtype}{bool}\ condition)\ \{}
\DoxyCodeLine{00295\ \ \ (void)condition;}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#if\ FMT\_HAS\_BUILTIN(\_\_builtin\_assume)}}
\DoxyCodeLine{00297\ \ \ \_\_builtin\_assume(condition);}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00299\ \}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{comment}{//\ A\ workaround\ for\ gcc\ 4.8\ to\ make\ void\_t\ work\ in\ a\ SFINAE\ context.}}
\DoxyCodeLine{00302\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Ts>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1void__t__impl}{void\_t\_impl}}\ \{\ \textcolor{keyword}{using\ }type\ =\ void;\ \};}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Ts>}
\DoxyCodeLine{00305\ \textcolor{keyword}{using\ }void\_t\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdetail_1_1void__t__impl}{detail::void\_t\_impl}}<Ts...>::type;}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{comment}{//\ An\ approximation\ of\ iterator\_t\ for\ pre-\/C++20\ systems.}}
\DoxyCodeLine{00308\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00309\ \textcolor{keyword}{using\ }iterator\_t\ =\ \textcolor{keyword}{decltype}(std::begin(std::declval<T\&>()));}
\DoxyCodeLine{00310\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }sentinel\_t\ =\ \textcolor{keyword}{decltype}(std::end(std::declval<T\&>()));}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{comment}{//\ Detect\ the\ iterator\ category\ of\ *any*\ given\ type\ in\ a\ SFINAE-\/friendly\ way.}}
\DoxyCodeLine{00313\ \textcolor{comment}{//\ Unfortunately,\ older\ implementations\ of\ std::iterator\_traits\ are\ not\ safe}}
\DoxyCodeLine{00314\ \textcolor{comment}{//\ for\ use\ in\ a\ SFINAE-\/context.}}
\DoxyCodeLine{00315\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{00316\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1iterator__category}{iterator\_category}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1iterator__category}{iterator\_category}}<T*>\ \{}
\DoxyCodeLine{00319\ \ \ \textcolor{keyword}{using\ }type\ =\ std::random\_access\_iterator\_tag;}
\DoxyCodeLine{00320\ \};}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It>}
\DoxyCodeLine{00323\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1iterator__category}{iterator\_category}}<It,\ void\_t<typename\ It::\mbox{\hyperlink{structdetail_1_1iterator__category}{iterator\_category}}>>\ \{}
\DoxyCodeLine{00324\ \ \ \textcolor{keyword}{using\ }type\ =\ \textcolor{keyword}{typename}\ It::iterator\_category;}
\DoxyCodeLine{00325\ \};}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \textcolor{comment}{//\ Detect\ if\ *any*\ given\ type\ models\ the\ OutputIterator\ concept.}}
\DoxyCodeLine{00328\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1is__output__iterator}{is\_output\_iterator}}\ \{}
\DoxyCodeLine{00329\ \ \ \textcolor{comment}{//\ Check\ for\ mutability\ because\ all\ iterator\ categories\ derived\ from}}
\DoxyCodeLine{00330\ \ \ \textcolor{comment}{//\ std::input\_iterator\_tag\ *may*\ also\ meet\ the\ requirements\ of\ an}}
\DoxyCodeLine{00331\ \ \ \textcolor{comment}{//\ OutputIterator,\ thereby\ falling\ into\ the\ category\ of\ 'mutable\ iterators'}}
\DoxyCodeLine{00332\ \ \ \textcolor{comment}{//\ [iterator.requirements.general]\ clause\ 4.\ The\ compiler\ reveals\ this}}
\DoxyCodeLine{00333\ \ \ \textcolor{comment}{//\ property\ only\ at\ the\ point\ of\ *actually\ dereferencing*\ the\ iterator!}}
\DoxyCodeLine{00334\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00335\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{decltype}(*(std::declval<U>()))\ test(std::input\_iterator\_tag);}
\DoxyCodeLine{00336\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\&\ test(std::output\_iterator\_tag);}
\DoxyCodeLine{00337\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\&\ test(...);}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \ \ \textcolor{keyword}{using\ }type\ =\ \textcolor{keyword}{decltype}(test<It>(\textcolor{keyword}{typename}\ \mbox{\hyperlink{structdetail_1_1iterator__category}{iterator\_category<It>::type}}\{\}));}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00342\ \ \ \textcolor{keyword}{enum}\ \{\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ =\ !std::is\_const<remove\_reference\_t<type>>::value\ \};}
\DoxyCodeLine{00343\ \};}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \textcolor{comment}{//\ A\ workaround\ for\ std::string\ not\ having\ mutable\ data()\ until\ C++17.}}
\DoxyCodeLine{00346\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ Char*\ get\_data(std::basic\_string<Char>\&\ s)\ \{}
\DoxyCodeLine{00347\ \ \ \textcolor{keywordflow}{return}\ \&s[0];}
\DoxyCodeLine{00348\ \}}
\DoxyCodeLine{00349\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container>}
\DoxyCodeLine{00350\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ Container::value\_type*\ get\_data(Container\&\ c)\ \{}
\DoxyCodeLine{00351\ \ \ \textcolor{keywordflow}{return}\ c.data();}
\DoxyCodeLine{00352\ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \textcolor{preprocessor}{\#if\ defined(\_SECURE\_SCL)\ \&\&\ \_SECURE\_SCL}}
\DoxyCodeLine{00355\ \textcolor{comment}{//\ Make\ a\ checked\ iterator\ to\ avoid\ MSVC\ warnings.}}
\DoxyCodeLine{00356\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }checked\_ptr\ =\ stdext::checked\_array\_iterator<T*>;}
\DoxyCodeLine{00357\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ checked\_ptr<T>\ make\_checked(T*\ p,\ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00358\ \ \ \textcolor{keywordflow}{return}\ \{p,\ size\};}
\DoxyCodeLine{00359\ \}}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00361\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }checked\_ptr\ =\ T*;}
\DoxyCodeLine{00362\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{inline}\ T*\ make\_checked(T*\ p,\ \textcolor{keywordtype}{size\_t})\ \{\ \textcolor{keywordflow}{return}\ p;\ \}}
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container,\ FMT\_ENABLE\_IF(is\_contiguous<Container>::value)>}
\DoxyCodeLine{00366\ \textcolor{preprocessor}{\#if\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00367\ \_\_attribute\_\_((no\_sanitize(\textcolor{stringliteral}{"{}undefined"{}})))}
\DoxyCodeLine{00368\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00369\ \textcolor{keyword}{inline}\ checked\_ptr<typename\ Container::value\_type>}
\DoxyCodeLine{00370\ reserve(std::back\_insert\_iterator<Container>\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{00371\ \ \ Container\&\ c\ =\ get\_container(it);}
\DoxyCodeLine{00372\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ c.size();}
\DoxyCodeLine{00373\ \ \ c.resize(size\ +\ n);}
\DoxyCodeLine{00374\ \ \ \textcolor{keywordflow}{return}\ make\_checked(get\_data(c)\ +\ size,\ n);}
\DoxyCodeLine{00375\ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>\ \textcolor{keyword}{inline}\ Iterator\&\ reserve(Iterator\&\ it,\ \textcolor{keywordtype}{size\_t})\ \{}
\DoxyCodeLine{00378\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00379\ \}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container,\ FMT\_ENABLE\_IF(is\_contiguous<Container>::value)>}
\DoxyCodeLine{00382\ \textcolor{keyword}{inline}\ std::back\_insert\_iterator<Container>\ base\_iterator(}
\DoxyCodeLine{00383\ \ \ \ \ std::back\_insert\_iterator<Container>\&\ it,}
\DoxyCodeLine{00384\ \ \ \ \ checked\_ptr<typename\ Container::value\_type>)\ \{}
\DoxyCodeLine{00385\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00386\ \}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00389\ \textcolor{keyword}{inline}\ Iterator\ base\_iterator(Iterator,\ Iterator\ it)\ \{}
\DoxyCodeLine{00390\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00391\ \}}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \textcolor{comment}{//\ An\ output\ iterator\ that\ counts\ the\ number\ of\ objects\ written\ to\ it\ and}}
\DoxyCodeLine{00394\ \textcolor{comment}{//\ discards\ them.}}
\DoxyCodeLine{00395\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}}\ \{}
\DoxyCodeLine{00396\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00397\ \ \ \textcolor{keywordtype}{size\_t}\ count\_;}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{using\ }iterator\_category\ =\ std::output\_iterator\_tag;}
\DoxyCodeLine{00401\ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ std::ptrdiff\_t;}
\DoxyCodeLine{00402\ \ \ \textcolor{keyword}{using\ }pointer\ =\ void;}
\DoxyCodeLine{00403\ \ \ \textcolor{keyword}{using\ }reference\ =\ void;}
\DoxyCodeLine{00404\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdetail_1_1counting__iterator}{\_Unchecked\_type}}\ =\ \mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}};\ \ \textcolor{comment}{//\ Mark\ iterator\ as\ checked.}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1counting__iterator_1_1value__type}{value\_type}}\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ T\&)\ \{\}}
\DoxyCodeLine{00408\ \ \ \};}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}}()\ :\ count\_(0)\ \{\}}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \ \ \textcolor{keywordtype}{size\_t}\ count()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ count\_;\ \}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ counting\_iterator\&\ operator++()\ \{}
\DoxyCodeLine{00415\ \ \ \ \ ++count\_;}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00417\ \ \ \}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ counting\_iterator\ operator++(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00421\ \ \ \ \ ++*\textcolor{keyword}{this};}
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00423\ \ \ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ value\_type\ operator*()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\};\ \}}
\DoxyCodeLine{00426\ \};}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base}}\ \{}
\DoxyCodeLine{00429\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00430\ \ \ OutputIt\ out\_;}
\DoxyCodeLine{00431\ \ \ \textcolor{keywordtype}{size\_t}\ limit\_;}
\DoxyCodeLine{00432\ \ \ \textcolor{keywordtype}{size\_t}\ count\_;}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base}}(OutputIt\ out,\ \textcolor{keywordtype}{size\_t}\ limit)}
\DoxyCodeLine{00435\ \ \ \ \ \ \ :\ out\_(out),\ limit\_(limit),\ count\_(0)\ \{\}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00438\ \ \ \textcolor{keyword}{using\ }iterator\_category\ =\ std::output\_iterator\_tag;}
\DoxyCodeLine{00439\ \ \ \textcolor{keyword}{using\ }value\_type\ =\ \textcolor{keyword}{typename}\ std::iterator\_traits<OutputIt>::value\_type;}
\DoxyCodeLine{00440\ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ void;}
\DoxyCodeLine{00441\ \ \ \textcolor{keyword}{using\ }pointer\ =\ void;}
\DoxyCodeLine{00442\ \ \ \textcolor{keyword}{using\ }reference\ =\ void;}
\DoxyCodeLine{00443\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{\_Unchecked\_type}}\ =}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base}};\ \ \textcolor{comment}{//\ Mark\ iterator\ as\ checked.}}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \ \ OutputIt\ base()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ out\_;\ \}}
\DoxyCodeLine{00447\ \ \ \textcolor{keywordtype}{size\_t}\ count()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ count\_;\ \}}
\DoxyCodeLine{00448\ \};}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \textcolor{comment}{//\ An\ output\ iterator\ that\ truncates\ the\ output\ and\ counts\ the\ number\ of\ objects}}
\DoxyCodeLine{00451\ \textcolor{comment}{//\ written\ to\ it.}}
\DoxyCodeLine{00452\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keyword}{typename}\ std::is\_void<}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::iterator\_traits<OutputIt>::value\_type>::type>}
\DoxyCodeLine{00455\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}};}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00458\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}<OutputIt,\ std::false\_type>}
\DoxyCodeLine{00459\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base}}<OutputIt>\ \{}
\DoxyCodeLine{00460\ \ \ \textcolor{keyword}{mutable}\ \textcolor{keyword}{typename}\ truncating\_iterator\_base<OutputIt>::value\_type\ blackhole\_;}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00463\ \ \ \textcolor{keyword}{using\ }value\_type\ =\ \textcolor{keyword}{typename}\ truncating\_iterator\_base<OutputIt>::value\_type;}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00465\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}(OutputIt\ out,\ \textcolor{keywordtype}{size\_t}\ limit)}
\DoxyCodeLine{00466\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base<OutputIt>}}(out,\ limit)\ \{\}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\&\ operator++()\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>count\_++\ <\ this-\/>limit\_)\ ++this-\/>out\_;}
\DoxyCodeLine{00470\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00471\ \ \ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\ operator++(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00475\ \ \ \ \ ++*\textcolor{keyword}{this};}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00477\ \ \ \}}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ value\_type\&\ operator*()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00480\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>count\_\ <\ this-\/>limit\_\ ?\ *this-\/>out\_\ :\ blackhole\_;}
\DoxyCodeLine{00481\ \ \ \}}
\DoxyCodeLine{00482\ \};}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00485\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}<OutputIt,\ std::true\_type>}
\DoxyCodeLine{00486\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base}}<OutputIt>\ \{}
\DoxyCodeLine{00487\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00488\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}(OutputIt\ out,\ \textcolor{keywordtype}{size\_t}\ limit)}
\DoxyCodeLine{00489\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1truncating__iterator__base}{truncating\_iterator\_base<OutputIt>}}(out,\ limit)\ \{\}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\&\ operator=(T\ val)\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>count\_++\ <\ this-\/>limit\_)\ *this-\/>out\_++\ =\ val;}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00494\ \ \ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\&\ operator++()\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00497\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\&\ operator++(\textcolor{keywordtype}{int})\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00498\ \ \ \mbox{\hyperlink{classdetail_1_1truncating__iterator}{truncating\_iterator}}\&\ operator*()\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00499\ \};}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00502\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)\ \{}
\DoxyCodeLine{00503\ \ \ \textcolor{keywordflow}{return}\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{00504\ \}}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \textcolor{comment}{//\ Counts\ the\ number\ of\ code\ points\ in\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00507\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char>}}\ s)\ \{}
\DoxyCodeLine{00508\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ data\ =\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}();}
\DoxyCodeLine{00509\ \ \ \textcolor{keywordtype}{size\_t}\ num\_code\_points\ =\ 0;}
\DoxyCodeLine{00510\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();\ i\ !=\ size;\ ++i)\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keywordflow}{if}\ ((data[i]\ \&\ 0xc0)\ !=\ 0x80)\ ++num\_code\_points;}
\DoxyCodeLine{00512\ \ \ \}}
\DoxyCodeLine{00513\ \ \ \textcolor{keywordflow}{return}\ num\_code\_points;}
\DoxyCodeLine{00514\ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char8\_type>}}\ s)\ \{}
\DoxyCodeLine{00517\ \ \ \textcolor{keywordflow}{return}\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char>}}(}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}()),\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()));}
\DoxyCodeLine{00519\ \}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00522\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{00523\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{00524\ \ \ \textcolor{keywordflow}{return}\ n\ <\ size\ ?\ n\ :\ size;}
\DoxyCodeLine{00525\ \}}
\DoxyCodeLine{00526\ }
\DoxyCodeLine{00527\ \textcolor{comment}{//\ Calculates\ the\ index\ of\ the\ nth\ code\ point\ in\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00528\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char8\_type>}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{00529\ \ \ \textcolor{keyword}{const}\ char8\_type*\ data\ =\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}();}
\DoxyCodeLine{00530\ \ \ \textcolor{keywordtype}{size\_t}\ num\_code\_points\ =\ 0;}
\DoxyCodeLine{00531\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();\ i\ !=\ size;\ ++i)\ \{}
\DoxyCodeLine{00532\ \ \ \ \ \textcolor{keywordflow}{if}\ ((data[i]\ \&\ 0xc0)\ !=\ 0x80\ \&\&\ ++num\_code\_points\ >\ n)\ \{}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i;}
\DoxyCodeLine{00534\ \ \ \ \ \}}
\DoxyCodeLine{00535\ \ \ \}}
\DoxyCodeLine{00536\ \ \ \textcolor{keywordflow}{return}\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{00537\ \}}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00539\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputIt,\ \textcolor{keyword}{typename}\ OutChar>}
\DoxyCodeLine{00540\ \textcolor{keyword}{using\ }needs\_conversion\ =\ bool\_constant<}
\DoxyCodeLine{00541\ \ \ \ \ std::is\_same<typename\ std::iterator\_traits<InputIt>::value\_type,}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}>::value\ \&\&}
\DoxyCodeLine{00543\ \ \ \ \ std::is\_same<OutChar,\ char8\_type>::value>;}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutChar,\ \textcolor{keyword}{typename}\ InputIt,\ \textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!needs\_conversion<InputIt,\ OutChar>::value)>}
\DoxyCodeLine{00547\ OutputIt\ copy\_str(InputIt\ begin,\ InputIt\ end,\ OutputIt\ it)\ \{}
\DoxyCodeLine{00548\ \ \ \textcolor{keywordflow}{return}\ std::copy(begin,\ end,\ it);}
\DoxyCodeLine{00549\ \}}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutChar,\ \textcolor{keyword}{typename}\ InputIt,\ \textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(needs\_conversion<InputIt,\ OutChar>::value)>}
\DoxyCodeLine{00553\ OutputIt\ copy\_str(InputIt\ begin,\ InputIt\ end,\ OutputIt\ it)\ \{}
\DoxyCodeLine{00554\ \ \ \textcolor{keywordflow}{return}\ std::transform(begin,\ end,\ it,}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keywordtype}{char}\ c)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}char8\_type\textcolor{keyword}{>}(c);\ \});}
\DoxyCodeLine{00556\ \}}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_GRISU}}
\DoxyCodeLine{00559\ \textcolor{preprocessor}{\#\ \ define\ FMT\_USE\_GRISU\ 1}}
\DoxyCodeLine{00560\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ use\_grisu()\ \{}
\DoxyCodeLine{00563\ \ \ \textcolor{keywordflow}{return}\ FMT\_USE\_GRISU\ \&\&\ std::numeric\_limits<double>::is\_iec559\ \&\&}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(T)\ <=\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double});}
\DoxyCodeLine{00565\ \}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00568\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00569\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdetail_1_1buffer_ab12c0beccf64adf0091468e357ed4b92}{buffer<T>::append}}(\textcolor{keyword}{const}\ U*\ begin,\ \textcolor{keyword}{const}\ U*\ end)\ \{}
\DoxyCodeLine{00570\ \ \ \textcolor{keywordtype}{size\_t}\ new\_size\ =\ size\_\ +\ to\_unsigned(end\ -\/\ begin);}
\DoxyCodeLine{00571\ \ \ reserve(new\_size);}
\DoxyCodeLine{00572\ \ \ std::uninitialized\_copy(begin,\ end,}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ make\_checked(ptr\_\ +\ size\_,\ capacity\_\ -\/\ size\_));}
\DoxyCodeLine{00574\ \ \ size\_\ =\ new\_size;}
\DoxyCodeLine{00575\ \}}
\DoxyCodeLine{00576\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ \textcolor{comment}{//\ The\ number\ of\ characters\ to\ store\ in\ the\ basic\_memory\_buffer\ object\ itself}}
\DoxyCodeLine{00579\ \textcolor{comment}{//\ to\ avoid\ dynamic\ memory\ allocation.}}
\DoxyCodeLine{00580\ \textcolor{keyword}{enum}\ \{\ inline\_buffer\_size\ =\ 500\ \};}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00611\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE\ =\ inline\_buffer\_size,}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Allocator\ =\ std::allocator<T>>}
\DoxyCodeLine{00613\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer}}<T>\ \{}
\DoxyCodeLine{00614\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00615\ \ \ T\ store\_[SIZE];}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \textcolor{comment}{//\ Don't\ inherit\ from\ Allocator\ avoid\ generating\ type\_info\ for\ it.}}
\DoxyCodeLine{00618\ \ \ Allocator\ alloc\_;}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \textcolor{comment}{//\ Deallocate\ memory\ allocated\ by\ the\ buffer.}}
\DoxyCodeLine{00621\ \ \ \textcolor{keywordtype}{void}\ deallocate()\ \{}
\DoxyCodeLine{00622\ \ \ \ \ T*\ data\ =\ this-\/>data();}
\DoxyCodeLine{00623\ \ \ \ \ \textcolor{keywordflow}{if}\ (data\ !=\ store\_)\ alloc\_.deallocate(data,\ this-\/>capacity());}
\DoxyCodeLine{00624\ \ \ \}}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00627\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_aef35aca4fab16eca930005b98f1f896d}{grow}}(\textcolor{keywordtype}{size\_t}\ size)\ FMT\_OVERRIDE;}
\DoxyCodeLine{00628\ }
\DoxyCodeLine{00629\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00630\ \ \ \textcolor{keyword}{using\ }value\_type\ =\ T;}
\DoxyCodeLine{00631\ \ \ \textcolor{keyword}{using\ }const\_reference\ =\ \textcolor{keyword}{const}\ T\&;}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00633\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}(\textcolor{keyword}{const}\ Allocator\&\ alloc\ =\ Allocator())}
\DoxyCodeLine{00634\ \ \ \ \ \ \ :\ alloc\_(alloc)\ \{}
\DoxyCodeLine{00635\ \ \ \ \ this-\/>set(store\_,\ SIZE);}
\DoxyCodeLine{00636\ \ \ \}}
\DoxyCodeLine{00637\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{\string~basic\_memory\_buffer}}()\ FMT\_OVERRIDE\ \{\ deallocate();\ \}}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00640\ \ \ \textcolor{comment}{//\ Move\ data\ from\ other\ to\ this\ buffer.}}
\DoxyCodeLine{00641\ \ \ \textcolor{keywordtype}{void}\ move(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ other)\ \{}
\DoxyCodeLine{00642\ \ \ \ \ alloc\_\ =\ std::move(other.alloc\_);}
\DoxyCodeLine{00643\ \ \ \ \ T*\ data\ =\ other.data();}
\DoxyCodeLine{00644\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ other.size(),\ capacity\ =\ other.capacity();}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{keywordflow}{if}\ (data\ ==\ other.store\_)\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ this-\/>set(store\_,\ capacity);}
\DoxyCodeLine{00647\ \ \ \ \ \ \ std::uninitialized\_copy(other.store\_,\ other.store\_\ +\ size,}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_checked(store\_,\ capacity));}
\DoxyCodeLine{00649\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00650\ \ \ \ \ \ \ this-\/>set(data,\ capacity);}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ pointer\ to\ the\ inline\ array\ so\ that\ delete\ is\ not\ called}}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \textcolor{comment}{//\ when\ deallocating.}}
\DoxyCodeLine{00653\ \ \ \ \ \ \ other.set(other.store\_,\ 0);}
\DoxyCodeLine{00654\ \ \ \ \ \}}
\DoxyCodeLine{00655\ \ \ \ \ this-\/>resize(size);}
\DoxyCodeLine{00656\ \ \ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00665\ \ \ \mbox{\hyperlink{classbasic__memory__buffer_ae3e8292ba2764ec68bb113cdc6c45b63}{basic\_memory\_buffer}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ FMT\_NOEXCEPT\ \{\ move(other);\ \}}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00672\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ \mbox{\hyperlink{classbasic__memory__buffer_ac43dfbb614c85270a362df1272f9144b}{operator=}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ FMT\_NOEXCEPT\ \{}
\DoxyCodeLine{00673\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{this}\ !=\ \&other,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00674\ \ \ \ \ deallocate();}
\DoxyCodeLine{00675\ \ \ \ \ move(other);}
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00677\ \ \ \}}
\DoxyCodeLine{00678\ }
\DoxyCodeLine{00679\ \ \ \textcolor{comment}{//\ Returns\ a\ copy\ of\ the\ allocator\ associated\ with\ this\ buffer.}}
\DoxyCodeLine{00680\ \ \ Allocator\ get\_allocator()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ alloc\_;\ \}}
\DoxyCodeLine{00681\ \};}
\DoxyCodeLine{00682\ }
\DoxyCodeLine{00683\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00684\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_aef35aca4fab16eca930005b98f1f896d}{basic\_memory\_buffer<T,\ SIZE,\ Allocator>::grow}}(\textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00685\ \textcolor{preprocessor}{\#ifdef\ FMT\_FUZZ}}
\DoxyCodeLine{00686\ \ \ \textcolor{keywordflow}{if}\ (size\ >\ 5000)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}fuzz\ mode\ -\/\ won't\ grow\ that\ much"{}});}
\DoxyCodeLine{00687\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00688\ \ \ \textcolor{keywordtype}{size\_t}\ old\_capacity\ =\ this-\/>capacity();}
\DoxyCodeLine{00689\ \ \ \textcolor{keywordtype}{size\_t}\ new\_capacity\ =\ old\_capacity\ +\ old\_capacity\ /\ 2;}
\DoxyCodeLine{00690\ \ \ \textcolor{keywordflow}{if}\ (size\ >\ new\_capacity)\ new\_capacity\ =\ size;}
\DoxyCodeLine{00691\ \ \ T*\ old\_data\ =\ this-\/>data();}
\DoxyCodeLine{00692\ \ \ T*\ new\_data\ =}
\DoxyCodeLine{00693\ \ \ \ \ \ \ std::allocator\_traits<Allocator>::allocate(alloc\_,\ new\_capacity);}
\DoxyCodeLine{00694\ \ \ \textcolor{comment}{//\ The\ following\ code\ doesn't\ throw,\ so\ the\ raw\ pointer\ above\ doesn't\ leak.}}
\DoxyCodeLine{00695\ \ \ std::uninitialized\_copy(old\_data,\ old\_data\ +\ this-\/>size(),}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_checked(new\_data,\ new\_capacity));}
\DoxyCodeLine{00697\ \ \ this-\/>set(new\_data,\ new\_capacity);}
\DoxyCodeLine{00698\ \ \ \textcolor{comment}{//\ deallocate\ must\ not\ throw\ according\ to\ the\ standard,\ but\ even\ if\ it\ does,}}
\DoxyCodeLine{00699\ \ \ \textcolor{comment}{//\ the\ buffer\ already\ uses\ the\ new\ storage\ and\ will\ deallocate\ it\ in}}
\DoxyCodeLine{00700\ \ \ \textcolor{comment}{//\ destructor.}}
\DoxyCodeLine{00701\ \ \ \textcolor{keywordflow}{if}\ (old\_data\ !=\ store\_)\ alloc\_.deallocate(old\_data,\ old\_capacity);}
\DoxyCodeLine{00702\ \}}
\DoxyCodeLine{00703\ }
\DoxyCodeLine{00704\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<char>}};}
\DoxyCodeLine{00705\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__memory__buffer}{wmemory\_buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<wchar\_t>}};}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00707\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00708\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__contiguous}{is\_contiguous}}<\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}<T,\ SIZE,\ Allocator>>\ :\ std::true\_type\ \{}
\DoxyCodeLine{00709\ \};}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00712\ FMT\_CLASS\_API}
\DoxyCodeLine{00713\ \textcolor{keyword}{class\ }FMT\_API\ \mbox{\hyperlink{classformat__error}{format\_error}}\ :\ \textcolor{keyword}{public}\ std::runtime\_error\ \{}
\DoxyCodeLine{00714\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00715\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ :\ std::runtime\_error(message)\ \{\}}
\DoxyCodeLine{00716\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ std::string\&\ message)}
\DoxyCodeLine{00717\ \ \ \ \ \ \ :\ std::runtime\_error(message)\ \{\}}
\DoxyCodeLine{00718\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classformat__error}{format\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00719\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classformat__error}{format\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00720\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}(\mbox{\hyperlink{classformat__error}{format\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00721\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}\&\ operator=(\mbox{\hyperlink{classformat__error}{format\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00722\ \ \ \mbox{\hyperlink{classformat__error}{\string~format\_error}}()\ FMT\_NOEXCEPT\ FMT\_OVERRIDE;}
\DoxyCodeLine{00723\ \};}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00725\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00728\ \textcolor{keyword}{using\ }is\_signed\ =}
\DoxyCodeLine{00729\ \ \ \ \ std::integral\_constant<bool,\ std::numeric\_limits<T>::is\_signed\ ||}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<T,\ int128\_t>::value>;}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \textcolor{comment}{//\ Returns\ true\ if\ value\ is\ negative,\ false\ otherwise.}}
\DoxyCodeLine{00733\ \textcolor{comment}{//\ Same\ as\ \`{}value\ <\ 0`\ but\ doesn't\ produce\ warnings\ if\ T\ is\ an\ unsigned\ type.}}
\DoxyCodeLine{00734\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{00735\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ is\_negative(T\ value)\ \{}
\DoxyCodeLine{00736\ \ \ \textcolor{keywordflow}{return}\ value\ <\ 0;}
\DoxyCodeLine{00737\ \}}
\DoxyCodeLine{00738\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{00739\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ is\_negative(T)\ \{}
\DoxyCodeLine{00740\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00741\ \}}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value)>}
\DoxyCodeLine{00744\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ is\_supported\_floating\_point(T)\ \{}
\DoxyCodeLine{00745\ \ \ \textcolor{keywordflow}{return}\ (std::is\_same<T,\ float>::value\ \&\&\ FMT\_USE\_FLOAT)\ ||}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ (std::is\_same<T,\ double>::value\ \&\&\ FMT\_USE\_DOUBLE)\ ||}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ (std::is\_same<T,\ long\ double>::value\ \&\&\ FMT\_USE\_LONG\_DOUBLE);}
\DoxyCodeLine{00748\ \}}
\DoxyCodeLine{00749\ }
\DoxyCodeLine{00750\ \textcolor{comment}{//\ Smallest\ of\ uint32\_t,\ uint64\_t,\ uint128\_t\ that\ is\ large\ enough\ to}}
\DoxyCodeLine{00751\ \textcolor{comment}{//\ represent\ all\ values\ of\ T.}}
\DoxyCodeLine{00752\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00753\ \textcolor{keyword}{using\ }uint32\_or\_64\_or\_128\_t\ =}
\DoxyCodeLine{00754\ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 32,\ uint32\_t,}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 64,\ uint64\_t,\ uint128\_t>>;}
\DoxyCodeLine{00756\ }
\DoxyCodeLine{00757\ \textcolor{comment}{//\ Static\ data\ is\ placed\ in\ this\ class\ template\ for\ the\ header-\/only\ config.}}
\DoxyCodeLine{00758\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }FMT\_EXTERN\_TEMPLATE\_API\ \mbox{\hyperlink{structdetail_1_1basic__data}{basic\_data}}\ \{}
\DoxyCodeLine{00759\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint64\_t\ powers\_of\_10\_64[];}
\DoxyCodeLine{00760\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32\_t\ zero\_or\_powers\_of\_10\_32[];}
\DoxyCodeLine{00761\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint64\_t\ zero\_or\_powers\_of\_10\_64[];}
\DoxyCodeLine{00762\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint64\_t\ pow10\_significands[];}
\DoxyCodeLine{00763\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ int16\_t\ pow10\_exponents[];}
\DoxyCodeLine{00764\ \ \ \textcolor{comment}{//\ GCC\ generates\ slightly\ better\ code\ for\ pairs\ than\ chars.}}
\DoxyCodeLine{00765\ \ \ \textcolor{keyword}{using\ }digit\_pair\ =\ \textcolor{keywordtype}{char}[2];}
\DoxyCodeLine{00766\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ digit\_pair\ digits[];}
\DoxyCodeLine{00767\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ hex\_digits[];}
\DoxyCodeLine{00768\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ foreground\_color[];}
\DoxyCodeLine{00769\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ background\_color[];}
\DoxyCodeLine{00770\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ reset\_color[5];}
\DoxyCodeLine{00771\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ wreset\_color[5];}
\DoxyCodeLine{00772\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ signs[];}
\DoxyCodeLine{00773\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ left\_padding\_shifts[5];}
\DoxyCodeLine{00774\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ right\_padding\_shifts[5];}
\DoxyCodeLine{00775\ \};}
\DoxyCodeLine{00776\ }
\DoxyCodeLine{00777\ \textcolor{preprocessor}{\#ifndef\ FMT\_EXPORTED}}
\DoxyCodeLine{00778\ FMT\_EXTERN\ \textcolor{keyword}{template}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1basic__data}{basic\_data<void>}};}
\DoxyCodeLine{00779\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \textcolor{comment}{//\ This\ is\ a\ struct\ rather\ than\ an\ alias\ to\ avoid\ shadowing\ warnings\ in\ gcc.}}
\DoxyCodeLine{00782\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1data}{data}}\ :\ \mbox{\hyperlink{structdetail_1_1basic__data}{basic\_data<>}}\ \{\};}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{00785\ \textcolor{comment}{//\ Returns\ the\ number\ of\ decimal\ digits\ in\ n.\ Leading\ zeros\ are\ not\ counted}}
\DoxyCodeLine{00786\ \textcolor{comment}{//\ except\ for\ n\ ==\ 0\ in\ which\ case\ count\_digits\ returns\ 1.}}
\DoxyCodeLine{00787\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ count\_digits(uint64\_t\ n)\ \{}
\DoxyCodeLine{00788\ \ \ \textcolor{comment}{//\ Based\ on\ http://graphics.stanford.edu/\string~seander/bithacks.html\#IntegerLog10}}
\DoxyCodeLine{00789\ \ \ \textcolor{comment}{//\ and\ the\ benchmark\ https://github.com/localvoid/cxx-\/benchmark-\/count-\/digits.}}
\DoxyCodeLine{00790\ \ \ \textcolor{keywordtype}{int}\ t\ =\ (64\ -\/\ FMT\_BUILTIN\_CLZLL(n\ |\ 1))\ *\ 1233\ >>\ 12;}
\DoxyCodeLine{00791\ \ \ \textcolor{keywordflow}{return}\ t\ -\/\ (n\ <\ data::zero\_or\_powers\_of\_10\_64[t])\ +\ 1;}
\DoxyCodeLine{00792\ \}}
\DoxyCodeLine{00793\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00794\ \textcolor{comment}{//\ Fallback\ version\ of\ count\_digits\ used\ when\ \_\_builtin\_clz\ is\ not\ available.}}
\DoxyCodeLine{00795\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ count\_digits(uint64\_t\ n)\ \{}
\DoxyCodeLine{00796\ \ \ \textcolor{keywordtype}{int}\ count\ =\ 1;}
\DoxyCodeLine{00797\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{00798\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ four\ digits\ instead}}
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{00801\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10)\ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 100)\ \textcolor{keywordflow}{return}\ count\ +\ 1;}
\DoxyCodeLine{00803\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 1000)\ \textcolor{keywordflow}{return}\ count\ +\ 2;}
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10000)\ \textcolor{keywordflow}{return}\ count\ +\ 3;}
\DoxyCodeLine{00805\ \ \ \ \ n\ /=\ 10000u;}
\DoxyCodeLine{00806\ \ \ \ \ count\ +=\ 4;}
\DoxyCodeLine{00807\ \ \ \}}
\DoxyCodeLine{00808\ \}}
\DoxyCodeLine{00809\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{00812\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ count\_digits(uint128\_t\ n)\ \{}
\DoxyCodeLine{00813\ \ \ \textcolor{keywordtype}{int}\ count\ =\ 1;}
\DoxyCodeLine{00814\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ four\ digits\ instead}}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10)\ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 100)\ \textcolor{keywordflow}{return}\ count\ +\ 1;}
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 1000)\ \textcolor{keywordflow}{return}\ count\ +\ 2;}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10000)\ \textcolor{keywordflow}{return}\ count\ +\ 3;}
\DoxyCodeLine{00822\ \ \ \ \ n\ /=\ 10000U;}
\DoxyCodeLine{00823\ \ \ \ \ count\ +=\ 4;}
\DoxyCodeLine{00824\ \ \ \}}
\DoxyCodeLine{00825\ \}}
\DoxyCodeLine{00826\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \textcolor{comment}{//\ Counts\ the\ number\ of\ digits\ in\ n.\ BITS\ =\ log2(radix).}}
\DoxyCodeLine{00829\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BITS,\ \textcolor{keyword}{typename}\ UInt>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ count\_digits(UInt\ n)\ \{}
\DoxyCodeLine{00830\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ 0;}
\DoxyCodeLine{00831\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00832\ \ \ \ \ ++num\_digits;}
\DoxyCodeLine{00833\ \ \ \}\ \textcolor{keywordflow}{while}\ ((n\ >>=\ BITS)\ !=\ 0);}
\DoxyCodeLine{00834\ \ \ \textcolor{keywordflow}{return}\ num\_digits;}
\DoxyCodeLine{00835\ \}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00837\ \textcolor{keyword}{template}\ <>\ \textcolor{keywordtype}{int}\ count\_digits<4>(\mbox{\hyperlink{structdetail_1_1fallback__uintptr}{detail::fallback\_uintptr}}\ n);}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ ||\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00840\ \textcolor{preprocessor}{\#\ \ define\ FMT\_ALWAYS\_INLINE\ inline\ \_\_attribute\_\_((always\_inline))}}
\DoxyCodeLine{00841\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00842\ \textcolor{preprocessor}{\#\ \ define\ FMT\_ALWAYS\_INLINE}}
\DoxyCodeLine{00843\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00844\ }
\DoxyCodeLine{00845\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{00846\ \textcolor{comment}{//\ Optional\ version\ of\ count\_digits\ for\ better\ performance\ on\ 32-\/bit\ platforms.}}
\DoxyCodeLine{00847\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ count\_digits(uint32\_t\ n)\ \{}
\DoxyCodeLine{00848\ \ \ \textcolor{keywordtype}{int}\ t\ =\ (32\ -\/\ FMT\_BUILTIN\_CLZ(n\ |\ 1))\ *\ 1233\ >>\ 12;}
\DoxyCodeLine{00849\ \ \ \textcolor{keywordflow}{return}\ t\ -\/\ (n\ <\ data::zero\_or\_powers\_of\_10\_32[t])\ +\ 1;}
\DoxyCodeLine{00850\ \}}
\DoxyCodeLine{00851\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00852\ }
\DoxyCodeLine{00853\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ digits10()\ FMT\_NOEXCEPT\ \{}
\DoxyCodeLine{00854\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<Int>::digits10;}
\DoxyCodeLine{00855\ \}}
\DoxyCodeLine{00856\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ digits10<int128\_t>()\ FMT\_NOEXCEPT\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{00857\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ digits10<uint128\_t>()\ FMT\_NOEXCEPT\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{00858\ }
\DoxyCodeLine{00859\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ FMT\_API\ std::string\ grouping\_impl(locale\_ref\ loc);}
\DoxyCodeLine{00860\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ std::string\ grouping(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00861\ \ \ \textcolor{keywordflow}{return}\ grouping\_impl<char>(loc);}
\DoxyCodeLine{00862\ \}}
\DoxyCodeLine{00863\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{inline}\ std::string\ grouping<wchar\_t>(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00864\ \ \ \textcolor{keywordflow}{return}\ grouping\_impl<wchar\_t>(loc);}
\DoxyCodeLine{00865\ \}}
\DoxyCodeLine{00866\ }
\DoxyCodeLine{00867\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ FMT\_API\ Char\ thousands\_sep\_impl(locale\_ref\ loc);}
\DoxyCodeLine{00868\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ Char\ thousands\_sep(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00869\ \ \ \textcolor{keywordflow}{return}\ Char(thousands\_sep\_impl<char>(loc));}
\DoxyCodeLine{00870\ \}}
\DoxyCodeLine{00871\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{wchar\_t}\ thousands\_sep(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00872\ \ \ \textcolor{keywordflow}{return}\ thousands\_sep\_impl<wchar\_t>(loc);}
\DoxyCodeLine{00873\ \}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ FMT\_API\ Char\ decimal\_point\_impl(locale\_ref\ loc);}
\DoxyCodeLine{00876\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ Char\ decimal\_point(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00877\ \ \ \textcolor{keywordflow}{return}\ Char(decimal\_point\_impl<char>(loc));}
\DoxyCodeLine{00878\ \}}
\DoxyCodeLine{00879\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{wchar\_t}\ decimal\_point(locale\_ref\ loc)\ \{}
\DoxyCodeLine{00880\ \ \ \textcolor{keywordflow}{return}\ decimal\_point\_impl<wchar\_t>(loc);}
\DoxyCodeLine{00881\ \}}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \textcolor{comment}{//\ Compares\ two\ characters\ for\ equality.}}
\DoxyCodeLine{00884\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keywordtype}{bool}\ equal2(\textcolor{keyword}{const}\ Char*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ \{}
\DoxyCodeLine{00885\ \ \ \textcolor{keywordflow}{return}\ lhs[0]\ ==\ rhs[0]\ \&\&\ lhs[1]\ ==\ rhs[1];}
\DoxyCodeLine{00886\ \}}
\DoxyCodeLine{00887\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ equal2(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ \{}
\DoxyCodeLine{00888\ \ \ \textcolor{keywordflow}{return}\ memcmp(lhs,\ rhs,\ 2)\ ==\ 0;}
\DoxyCodeLine{00889\ \}}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \textcolor{comment}{//\ Copies\ two\ characters\ from\ src\ to\ dst.}}
\DoxyCodeLine{00892\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keywordtype}{void}\ copy2(Char*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{}
\DoxyCodeLine{00893\ \ \ *dst++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src++);}
\DoxyCodeLine{00894\ \ \ *dst\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src);}
\DoxyCodeLine{00895\ \}}
\DoxyCodeLine{00896\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ copy2(\textcolor{keywordtype}{char}*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{\ memcpy(dst,\ src,\ 2);\ \}}
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00898\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1format__decimal__result}{format\_decimal\_result}}\ \{}
\DoxyCodeLine{00899\ \ \ Iterator\ begin;}
\DoxyCodeLine{00900\ \ \ Iterator\ end;}
\DoxyCodeLine{00901\ \};}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \textcolor{comment}{//\ Formats\ a\ decimal\ unsigned\ integer\ value\ writing\ into\ out\ pointing\ to\ a}}
\DoxyCodeLine{00904\ \textcolor{comment}{//\ buffer\ of\ specified\ size.\ The\ caller\ must\ ensure\ that\ the\ buffer\ is\ large}}
\DoxyCodeLine{00905\ \textcolor{comment}{//\ enough.}}
\DoxyCodeLine{00906\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{00907\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structdetail_1_1format__decimal__result}{format\_decimal\_result<Char*>}}\ format\_decimal(Char*\ out,\ UInt\ \mbox{\hyperlink{classdetail_1_1value}{value}},}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00909\ \ \ FMT\_ASSERT(size\ >=\ count\_digits(\mbox{\hyperlink{classdetail_1_1value}{value}}),\ \textcolor{stringliteral}{"{}invalid\ digit\ count"{}});}
\DoxyCodeLine{00910\ \ \ out\ +=\ size;}
\DoxyCodeLine{00911\ \ \ Char*\ end\ =\ out;}
\DoxyCodeLine{00912\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classdetail_1_1value}{value}}\ >=\ 100)\ \{}
\DoxyCodeLine{00913\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ two\ digits\ instead}}
\DoxyCodeLine{00914\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{00915\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{00916\ \ \ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{00917\ \ \ \ \ copy2(out,\ data::digits[\mbox{\hyperlink{classdetail_1_1value}{value}}\ \%\ 100]);}
\DoxyCodeLine{00918\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1value}{value}}\ /=\ 100;}
\DoxyCodeLine{00919\ \ \ \}}
\DoxyCodeLine{00920\ \ \ \textcolor{keywordflow}{if}\ (value\ <\ 10)\ \{}
\DoxyCodeLine{00921\ \ \ \ \ *-\/-\/out\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ value);}
\DoxyCodeLine{00922\ \ \ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{00923\ \ \ \}}
\DoxyCodeLine{00924\ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{00925\ \ \ copy2(out,\ data::digits[value]);}
\DoxyCodeLine{00926\ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{00927\ \}}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Iterator,}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_pointer<remove\_cvref\_t<Iterator>>::value)>}
\DoxyCodeLine{00931\ \textcolor{keyword}{inline}\ format\_decimal\_result<Iterator>\ format\_decimal(Iterator\ out,\ UInt\ value,}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits)\ \{}
\DoxyCodeLine{00933\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (<=\ digits10\ +\ 1).}}
\DoxyCodeLine{00934\ \ \ \textcolor{keyword}{enum}\ \{\ max\_size\ =\ digits10<UInt>()\ +\ 1\ \};}
\DoxyCodeLine{00935\ \ \ Char\ buffer[2\ *\ max\_size];}
\DoxyCodeLine{00936\ \ \ \textcolor{keyword}{auto}\ end\ =\ format\_decimal(buffer,\ value,\ num\_digits).end;}
\DoxyCodeLine{00937\ \ \ \textcolor{keywordflow}{return}\ \{out,\ detail::copy\_str<Char>(buffer,\ end,\ out)\};}
\DoxyCodeLine{00938\ \}}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{00941\ \textcolor{keyword}{inline}\ Char*\ format\_uint(Char*\ buffer,\ UInt\ value,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00943\ \ \ buffer\ +=\ num\_digits;}
\DoxyCodeLine{00944\ \ \ Char*\ end\ =\ buffer;}
\DoxyCodeLine{00945\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00946\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits\ =\ upper\ ?\ \textcolor{stringliteral}{"{}0123456789ABCDEF"{}}\ :\ data::hex\_digits;}
\DoxyCodeLine{00947\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ digit\ =\ (value\ \&\ ((1\ <<\ BASE\_BITS)\ -\/\ 1));}
\DoxyCodeLine{00948\ \ \ \ \ *-\/-\/buffer\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(BASE\_BITS\ <\ 4\ ?\ static\_cast<char>(\textcolor{charliteral}{'0'}\ +\ digit)}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ digits[digit]);}
\DoxyCodeLine{00950\ \ \ \}\ \textcolor{keywordflow}{while}\ ((value\ >>=\ BASE\_BITS)\ !=\ 0);}
\DoxyCodeLine{00951\ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{00952\ \}}
\DoxyCodeLine{00953\ }
\DoxyCodeLine{00954\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00955\ Char*\ format\_uint(Char*\ buffer,\ \mbox{\hyperlink{structdetail_1_1fallback__uintptr}{detail::fallback\_uintptr}}\ n,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ =\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00957\ \ \ \textcolor{keyword}{auto}\ char\_digits\ =\ std::numeric\_limits<unsigned\ char>::digits\ /\ 4;}
\DoxyCodeLine{00958\ \ \ \textcolor{keywordtype}{int}\ start\ =\ (num\_digits\ +\ char\_digits\ -\/\ 1)\ /\ char\_digits\ -\/\ 1;}
\DoxyCodeLine{00959\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{int}\ start\_digits\ =\ num\_digits\ \%\ char\_digits)\ \{}
\DoxyCodeLine{00960\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ value\ =\ n.value[start-\/-\/];}
\DoxyCodeLine{00961\ \ \ \ \ buffer\ =\ format\_uint<BASE\_BITS>(buffer,\ value,\ start\_digits);}
\DoxyCodeLine{00962\ \ \ \}}
\DoxyCodeLine{00963\ \ \ \textcolor{keywordflow}{for}\ (;\ start\ >=\ 0;\ -\/-\/start)\ \{}
\DoxyCodeLine{00964\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ value\ =\ n.value[start];}
\DoxyCodeLine{00965\ \ \ \ \ buffer\ +=\ char\_digits;}
\DoxyCodeLine{00966\ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ buffer;}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ char\_digits;\ ++i)\ \{}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ digit\ =\ (value\ \&\ ((1\ <<\ BASE\_BITS)\ -\/\ 1));}
\DoxyCodeLine{00969\ \ \ \ \ \ \ *-\/-\/p\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(data::hex\_digits[digit]);}
\DoxyCodeLine{00970\ \ \ \ \ \ \ value\ >>=\ BASE\_BITS;}
\DoxyCodeLine{00971\ \ \ \ \ \}}
\DoxyCodeLine{00972\ \ \ \}}
\DoxyCodeLine{00973\ \ \ \textcolor{keywordflow}{return}\ buffer;}
\DoxyCodeLine{00974\ \}}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{00977\ \textcolor{keyword}{inline}\ It\ format\_uint(It\ out,\ UInt\ value,\ \textcolor{keywordtype}{int}\ num\_digits,\ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00978\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits\ /\ BASE\_BITS\ +\ 1).}}
\DoxyCodeLine{00979\ \ \ \textcolor{keywordtype}{char}\ buffer[num\_bits<UInt>()\ /\ BASE\_BITS\ +\ 1];}
\DoxyCodeLine{00980\ \ \ format\_uint<BASE\_BITS>(buffer,\ value,\ num\_digits,\ upper);}
\DoxyCodeLine{00981\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_str<Char>(buffer,\ buffer\ +\ num\_digits,\ out);}
\DoxyCodeLine{00982\ \}}
\DoxyCodeLine{00983\ }
\DoxyCodeLine{00984\ \textcolor{comment}{//\ A\ converter\ from\ UTF-\/8\ to\ UTF-\/16.}}
\DoxyCodeLine{00985\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1utf8__to__utf16}{utf8\_to\_utf16}}\ \{}
\DoxyCodeLine{00986\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00987\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{wmemory\_buffer}}\ buffer\_;}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00990\ \ \ FMT\_API\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1utf8__to__utf16}{utf8\_to\_utf16}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s);}
\DoxyCodeLine{00991\ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classbasic__string__view}{wstring\_view}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{00992\ \ \ \textcolor{keywordtype}{size\_t}\ size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ buffer\_.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}()\ -\/\ 1;\ \}}
\DoxyCodeLine{00993\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ c\_str()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&buffer\_[0];\ \}}
\DoxyCodeLine{00994\ \ \ std::wstring\ str()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{00995\ \};}
\DoxyCodeLine{00996\ }
\DoxyCodeLine{00997\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1null}{null}}\ \{\};}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \textcolor{comment}{//\ Workaround\ an\ array\ initialization\ issue\ in\ gcc\ 4.8.}}
\DoxyCodeLine{01000\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1fill__t}{fill\_t}}\ \{}
\DoxyCodeLine{01001\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01002\ \ \ \textcolor{keyword}{enum}\ \{\ max\_size\ =\ 4\ \};}
\DoxyCodeLine{01003\ \ \ Char\ data\_[max\_size];}
\DoxyCodeLine{01004\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ size\_;}
\DoxyCodeLine{01005\ }
\DoxyCodeLine{01006\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01007\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator=(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)\ \{}
\DoxyCodeLine{01008\ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{01009\ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >\ max\_size)\ \{}
\DoxyCodeLine{01010\ \ \ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ fill"{}}));}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01012\ \ \ \ \ \}}
\DoxyCodeLine{01013\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ size;\ ++i)\ data\_[i]\ =\ s[i];}
\DoxyCodeLine{01014\ \ \ \ \ size\_\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(size);}
\DoxyCodeLine{01015\ \ \ \}}
\DoxyCodeLine{01016\ }
\DoxyCodeLine{01017\ \ \ \textcolor{keywordtype}{size\_t}\ size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ size\_;\ \}}
\DoxyCodeLine{01018\ \ \ \textcolor{keyword}{const}\ Char*\ \mbox{\hyperlink{structdetail_1_1data}{data}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ data\_;\ \}}
\DoxyCodeLine{01019\ }
\DoxyCodeLine{01020\ \ \ FMT\_CONSTEXPR\ Char\&\ operator[](\textcolor{keywordtype}{size\_t}\ index)\ \{\ \textcolor{keywordflow}{return}\ data\_[index];\ \}}
\DoxyCodeLine{01021\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char\&\ operator[](\textcolor{keywordtype}{size\_t}\ index)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01022\ \ \ \ \ \textcolor{keywordflow}{return}\ data\_[index];}
\DoxyCodeLine{01023\ \ \ \}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \ \ \textcolor{keyword}{static}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1fill__t}{fill\_t<Char>}}\ make()\ \{}
\DoxyCodeLine{01026\ \ \ \ \ \textcolor{keyword}{auto}\ fill\ =\ \mbox{\hyperlink{structdetail_1_1fill__t}{fill\_t<Char>}}();}
\DoxyCodeLine{01027\ \ \ \ \ fill[0]\ =\ Char(\textcolor{charliteral}{'\ '});}
\DoxyCodeLine{01028\ \ \ \ \ fill.size\_\ =\ 1;}
\DoxyCodeLine{01029\ \ \ \ \ \textcolor{keywordflow}{return}\ fill;}
\DoxyCodeLine{01030\ \ \ \}}
\DoxyCodeLine{01031\ \};}
\DoxyCodeLine{01032\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \textcolor{comment}{//\ We\ cannot\ use\ enum\ classes\ as\ bit\ fields\ because\ of\ a\ gcc\ bug}}
\DoxyCodeLine{01035\ \textcolor{comment}{//\ https://gcc.gnu.org/bugzilla/show\_bug.cgi?id=61414.}}
\DoxyCodeLine{01036\ \textcolor{keyword}{namespace\ }align\ \{}
\DoxyCodeLine{01037\ \textcolor{keyword}{enum}\ type\ \{\ none,\ left,\ right,\ center,\ numeric\ \};}
\DoxyCodeLine{01038\ \}}
\DoxyCodeLine{01039\ \textcolor{keyword}{using\ }align\_t\ =\ align::type;}
\DoxyCodeLine{01040\ }
\DoxyCodeLine{01041\ \textcolor{keyword}{namespace\ }sign\ \{}
\DoxyCodeLine{01042\ \textcolor{keyword}{enum}\ type\ \{\ none,\ minus,\ plus,\ space\ \};}
\DoxyCodeLine{01043\ \}}
\DoxyCodeLine{01044\ \textcolor{keyword}{using\ }sign\_t\ =\ sign::type;}
\DoxyCodeLine{01045\ }
\DoxyCodeLine{01046\ \textcolor{comment}{//\ Format\ specifiers\ for\ built-\/in\ and\ string\ types.}}
\DoxyCodeLine{01047\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs}}\ \{}
\DoxyCodeLine{01048\ \ \ \textcolor{keywordtype}{int}\ width;}
\DoxyCodeLine{01049\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{01050\ \ \ \textcolor{keywordtype}{char}\ type;}
\DoxyCodeLine{01051\ \ \ align\_t\ align\ :\ 4;}
\DoxyCodeLine{01052\ \ \ sign\_t\ sign\ :\ 3;}
\DoxyCodeLine{01053\ \ \ \textcolor{keywordtype}{bool}\ alt\ :\ 1;\ \ \textcolor{comment}{//\ Alternate\ form\ ('\#').}}
\DoxyCodeLine{01054\ \ \ \mbox{\hyperlink{structdetail_1_1fill__t}{detail::fill\_t<Char>}}\ fill;}
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs}}()}
\DoxyCodeLine{01057\ \ \ \ \ \ \ :\ width(0),}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ precision(-\/1),}
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ type(0),}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ align(align::none),}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ sign(sign::none),}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ alt(\textcolor{keyword}{false}),}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ fill(\mbox{\hyperlink{structdetail_1_1fill__t}{detail::fill\_t<Char>::make}}())\ \{\}}
\DoxyCodeLine{01064\ \};}
\DoxyCodeLine{01065\ }
\DoxyCodeLine{01066\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structbasic__format__specs}{format\_specs}}\ =\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<char>}};}
\DoxyCodeLine{01067\ }
\DoxyCodeLine{01068\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{01069\ }
\DoxyCodeLine{01070\ \textcolor{comment}{//\ A\ floating-\/point\ presentation\ format.}}
\DoxyCodeLine{01071\ \textcolor{keyword}{enum\ class}\ float\_format\ :\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \{}
\DoxyCodeLine{01072\ \ \ general,\ \ \textcolor{comment}{//\ General:\ exponent\ notation\ or\ fixed\ point\ based\ on\ magnitude.}}
\DoxyCodeLine{01073\ \ \ exp,\ \ \ \ \ \ \textcolor{comment}{//\ Exponent\ notation\ with\ the\ default\ precision\ of\ 6,\ e.g.\ 1.2e-\/3.}}
\DoxyCodeLine{01074\ \ \ fixed,\ \ \ \ \textcolor{comment}{//\ Fixed\ point\ with\ the\ default\ precision\ of\ 6,\ e.g.\ 0.0012.}}
\DoxyCodeLine{01075\ \ \ hex}
\DoxyCodeLine{01076\ \};}
\DoxyCodeLine{01077\ }
\DoxyCodeLine{01078\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ \{}
\DoxyCodeLine{01079\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{01080\ \ \ float\_format\ format\ :\ 8;}
\DoxyCodeLine{01081\ \ \ sign\_t\ sign\ :\ 8;}
\DoxyCodeLine{01082\ \ \ \textcolor{keywordtype}{bool}\ upper\ :\ 1;}
\DoxyCodeLine{01083\ \ \ \textcolor{keywordtype}{bool}\ locale\ :\ 1;}
\DoxyCodeLine{01084\ \ \ \textcolor{keywordtype}{bool}\ binary32\ :\ 1;}
\DoxyCodeLine{01085\ \ \ \textcolor{keywordtype}{bool}\ use\_grisu\ :\ 1;}
\DoxyCodeLine{01086\ \ \ \textcolor{keywordtype}{bool}\ showpoint\ :\ 1;}
\DoxyCodeLine{01087\ \};}
\DoxyCodeLine{01088\ }
\DoxyCodeLine{01089\ \textcolor{comment}{//\ Writes\ the\ exponent\ exp\ in\ the\ form\ "{}[+-\/]d\{2,3\}"{}\ to\ buffer.}}
\DoxyCodeLine{01090\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It>\ It\ write\_exponent(\textcolor{keywordtype}{int}\ exp,\ It\ it)\ \{}
\DoxyCodeLine{01091\ \ \ FMT\_ASSERT(-\/10000\ <\ exp\ \&\&\ exp\ <\ 10000,\ \textcolor{stringliteral}{"{}exponent\ out\ of\ range"{}});}
\DoxyCodeLine{01092\ \ \ \textcolor{keywordflow}{if}\ (exp\ <\ 0)\ \{}
\DoxyCodeLine{01093\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{01094\ \ \ \ \ exp\ =\ -\/exp;}
\DoxyCodeLine{01095\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01096\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{01097\ \ \ \}}
\DoxyCodeLine{01098\ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 100)\ \{}
\DoxyCodeLine{01099\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ top\ =\ data::digits[exp\ /\ 100];}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 1000)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[0]);}
\DoxyCodeLine{01101\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[1]);}
\DoxyCodeLine{01102\ \ \ \ \ exp\ \%=\ 100;}
\DoxyCodeLine{01103\ \ \ \}}
\DoxyCodeLine{01104\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ d\ =\ data::digits[exp];}
\DoxyCodeLine{01105\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[0]);}
\DoxyCodeLine{01106\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[1]);}
\DoxyCodeLine{01107\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01108\ \}}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01110\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1float__writer}{float\_writer}}\ \{}
\DoxyCodeLine{01111\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01112\ \ \ \textcolor{comment}{//\ The\ number\ is\ given\ as\ v\ =\ digits\_\ *\ pow(10,\ exp\_).}}
\DoxyCodeLine{01113\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits\_;}
\DoxyCodeLine{01114\ \ \ \textcolor{keywordtype}{int}\ num\_digits\_;}
\DoxyCodeLine{01115\ \ \ \textcolor{keywordtype}{int}\ exp\_;}
\DoxyCodeLine{01116\ \ \ \textcolor{keywordtype}{size\_t}\ size\_;}
\DoxyCodeLine{01117\ \ \ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ specs\_;}
\DoxyCodeLine{01118\ \ \ Char\ decimal\_point\_;}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It>\ It\ prettify(It\ it)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01121\ \ \ \ \ \textcolor{comment}{//\ pow(10,\ full\_exp\ -\/\ 1)\ <=\ v\ <=\ pow(10,\ full\_exp).}}
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keywordtype}{int}\ full\_exp\ =\ num\_digits\_\ +\ exp\_;}
\DoxyCodeLine{01123\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.format\ ==\ float\_format::exp)\ \{}
\DoxyCodeLine{01124\ \ \ \ \ \ \ \textcolor{comment}{//\ Insert\ a\ decimal\ point\ after\ the\ first\ digit\ and\ add\ an\ exponent.}}
\DoxyCodeLine{01125\ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*digits\_);}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ specs\_.precision\ -\/\ num\_digits\_;}
\DoxyCodeLine{01127\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\_\ >\ 1\ ||\ specs\_.showpoint)\ *it++\ =\ decimal\_point\_;}
\DoxyCodeLine{01128\ \ \ \ \ \ \ it\ =\ copy\_str<Char>(digits\_\ +\ 1,\ digits\_\ +\ num\_digits\_,\ it);}
\DoxyCodeLine{01129\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ >\ 0\ \&\&\ specs\_.showpoint)}
\DoxyCodeLine{01130\ \ \ \ \ \ \ \ \ it\ =\ std::fill\_n(it,\ num\_zeros,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01131\ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(specs\_.upper\ ?\ \textcolor{charliteral}{'E'}\ :\ \textcolor{charliteral}{'e'});}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_exponent<Char>(full\_exp\ -\/\ 1,\ it);}
\DoxyCodeLine{01133\ \ \ \ \ \}}
\DoxyCodeLine{01134\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\_\ <=\ full\_exp)\ \{}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \textcolor{comment}{//\ 1234e7\ -\/>\ 12340000000[.0+]}}
\DoxyCodeLine{01136\ \ \ \ \ \ \ it\ =\ copy\_str<Char>(digits\_,\ digits\_\ +\ num\_digits\_,\ it);}
\DoxyCodeLine{01137\ \ \ \ \ \ \ it\ =\ std::fill\_n(it,\ full\_exp\ -\/\ num\_digits\_,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.showpoint\ ||\ specs\_.precision\ <\ 0)\ \{}
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ *it++\ =\ decimal\_point\_;}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ specs\_.precision\ -\/\ full\_exp;}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ <=\ 0)\ \{}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.format\ !=\ float\_format::fixed)}
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01145\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01146\ \textcolor{preprocessor}{\#ifdef\ FMT\_FUZZ}}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ >\ 5000)}
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}fuzz\ mode\ -\/\ avoiding\ excessive\ cpu\ use"{}});}
\DoxyCodeLine{01149\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ it\ =\ std::fill\_n(it,\ num\_zeros,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01152\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (full\_exp\ >\ 0)\ \{}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \textcolor{comment}{//\ 1234e-\/2\ -\/>\ 12.34[0+]}}
\DoxyCodeLine{01154\ \ \ \ \ \ \ it\ =\ copy\_str<Char>(digits\_,\ digits\_\ +\ full\_exp,\ it);}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!specs\_.showpoint)\ \{}
\DoxyCodeLine{01156\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Remove\ trailing\ zeros.}}
\DoxyCodeLine{01157\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ num\_digits\_;}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ full\_exp\ \&\&\ digits\_[num\_digits\ -\/\ 1]\ ==\ \textcolor{charliteral}{'0'})}
\DoxyCodeLine{01159\ \ \ \ \ \ \ \ \ \ \ -\/-\/num\_digits;}
\DoxyCodeLine{01160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ !=\ full\_exp)\ *it++\ =\ decimal\_point\_;}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(digits\_\ +\ full\_exp,\ digits\_\ +\ num\_digits,\ it);}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01163\ \ \ \ \ \ \ *it++\ =\ decimal\_point\_;}
\DoxyCodeLine{01164\ \ \ \ \ \ \ it\ =\ copy\_str<Char>(digits\_\ +\ full\_exp,\ digits\_\ +\ num\_digits\_,\ it);}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.precision\ >\ num\_digits\_)\ \{}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ trailing\ zeros.}}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ specs\_.precision\ -\/\ num\_digits\_;}
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ it\ =\ std::fill\_n(it,\ num\_zeros,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01170\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \textcolor{comment}{//\ 1234e-\/6\ -\/>\ 0.001234}}
\DoxyCodeLine{01172\ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{01173\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ -\/full\_exp;}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ num\_digits\_;}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ ==\ 0\ \&\&\ specs\_.precision\ >=\ 0\ \&\&}
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \ \ specs\_.precision\ <\ num\_zeros)\ \{}
\DoxyCodeLine{01177\ \ \ \ \ \ \ \ \ num\_zeros\ =\ specs\_.precision;}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01179\ \ \ \ \ \ \ \textcolor{comment}{//\ Remove\ trailing\ zeros.}}
\DoxyCodeLine{01180\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!specs\_.showpoint)}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ 0\ \&\&\ digits\_[num\_digits\ -\/\ 1]\ ==\ \textcolor{charliteral}{'0'})\ -\/-\/num\_digits;}
\DoxyCodeLine{01182\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ !=\ 0\ ||\ num\_digits\ !=\ 0\ ||\ specs\_.showpoint)\ \{}
\DoxyCodeLine{01183\ \ \ \ \ \ \ \ \ *it++\ =\ decimal\_point\_;}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ it\ =\ std::fill\_n(it,\ num\_zeros,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ it\ =\ copy\_str<Char>(digits\_,\ digits\_\ +\ num\_digits,\ it);}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01187\ \ \ \ \ \}}
\DoxyCodeLine{01188\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01189\ \ \ \}}
\DoxyCodeLine{01190\ }
\DoxyCodeLine{01191\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01192\ \ \ \mbox{\hyperlink{classdetail_1_1float__writer}{float\_writer}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits,\ \textcolor{keywordtype}{int}\ num\_digits,\ \textcolor{keywordtype}{int}\ exp,\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ specs,}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point)}
\DoxyCodeLine{01194\ \ \ \ \ \ \ :\ digits\_(digits),}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ num\_digits\_(num\_digits),}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ exp\_(exp),}
\DoxyCodeLine{01197\ \ \ \ \ \ \ \ \ specs\_(specs),}
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ decimal\_point\_(decimal\_point)\ \{}
\DoxyCodeLine{01199\ \ \ \ \ \textcolor{keywordtype}{int}\ full\_exp\ =\ num\_digits\ +\ exp\ -\/\ 1;}
\DoxyCodeLine{01200\ \ \ \ \ \textcolor{keywordtype}{int}\ precision\ =\ specs.precision\ >\ 0\ ?\ specs.precision\ :\ 16;}
\DoxyCodeLine{01201\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.format\ ==\ float\_format::general\ \&\&}
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ !(full\_exp\ >=\ -\/4\ \&\&\ full\_exp\ <\ precision))\ \{}
\DoxyCodeLine{01203\ \ \ \ \ \ \ specs\_.format\ =\ float\_format::exp;}
\DoxyCodeLine{01204\ \ \ \ \ \}}
\DoxyCodeLine{01205\ \ \ \ \ size\_\ =\ prettify(\mbox{\hyperlink{classdetail_1_1counting__iterator}{counting\_iterator}}()).count();}
\DoxyCodeLine{01206\ \ \ \ \ size\_\ +=\ specs.sign\ ?\ 1\ :\ 0;}
\DoxyCodeLine{01207\ \ \ \}}
\DoxyCodeLine{01208\ }
\DoxyCodeLine{01209\ \ \ \textcolor{keywordtype}{size\_t}\ size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ size\_;\ \}}
\DoxyCodeLine{01210\ }
\DoxyCodeLine{01211\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It>\ It\ operator()(It\ it)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01212\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.sign)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(data::signs[specs\_.sign]);}
\DoxyCodeLine{01213\ \ \ \ \ \textcolor{keywordflow}{return}\ prettify(it);}
\DoxyCodeLine{01214\ \ \ \}}
\DoxyCodeLine{01215\ \};}
\DoxyCodeLine{01216\ }
\DoxyCodeLine{01217\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01218\ \textcolor{keywordtype}{int}\ format\_float(T\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ \textcolor{keywordtype}{int}\ precision,\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ specs,\ \mbox{\hyperlink{classdetail_1_1buffer}{buffer<char>}}\&\ buf);}
\DoxyCodeLine{01219\ }
\DoxyCodeLine{01220\ \textcolor{comment}{//\ Formats\ a\ floating-\/point\ number\ with\ snprintf.}}
\DoxyCodeLine{01221\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01222\ \textcolor{keywordtype}{int}\ snprintf\_float(T\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ \textcolor{keywordtype}{int}\ precision,\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\ specs,}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1buffer}{buffer<char>}}\&\ buf);}
\DoxyCodeLine{01224\ }
\DoxyCodeLine{01225\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ T\ promote\_float(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdetail_1_1value}{value}};\ \}}
\DoxyCodeLine{01226\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ promote\_float(\textcolor{keywordtype}{float}\ value)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(value);\ \}}
\DoxyCodeLine{01227\ }
\DoxyCodeLine{01228\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{01229\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ handle\_int\_type\_spec(\textcolor{keywordtype}{char}\ spec,\ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{01230\ \ \ \textcolor{keywordflow}{switch}\ (spec)\ \{}
\DoxyCodeLine{01231\ \ \ \textcolor{keywordflow}{case}\ 0:}
\DoxyCodeLine{01232\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'d'}:}
\DoxyCodeLine{01233\ \ \ \ \ handler.on\_dec();}
\DoxyCodeLine{01234\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01235\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'x'}:}
\DoxyCodeLine{01236\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'X'}:}
\DoxyCodeLine{01237\ \ \ \ \ handler.on\_hex();}
\DoxyCodeLine{01238\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01239\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'b'}:}
\DoxyCodeLine{01240\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'B'}:}
\DoxyCodeLine{01241\ \ \ \ \ handler.on\_bin();}
\DoxyCodeLine{01242\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01243\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'o'}:}
\DoxyCodeLine{01244\ \ \ \ \ handler.on\_oct();}
\DoxyCodeLine{01245\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01246\ \textcolor{preprocessor}{\#ifdef\ FMT\_DEPRECATED\_N\_SPECIFIER}}
\DoxyCodeLine{01247\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'n'}:}
\DoxyCodeLine{01248\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01249\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'L'}:}
\DoxyCodeLine{01250\ \ \ \ \ handler.on\_num();}
\DoxyCodeLine{01251\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01252\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'c'}:}
\DoxyCodeLine{01253\ \ \ \ \ handler.on\_chr();}
\DoxyCodeLine{01254\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01255\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01256\ \ \ \ \ handler.on\_error();}
\DoxyCodeLine{01257\ \ \ \}}
\DoxyCodeLine{01258\ \}}
\DoxyCodeLine{01259\ }
\DoxyCodeLine{01260\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler\ =\ error\_handler,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01261\ FMT\_CONSTEXPR\ float\_specs\ parse\_float\_type\_spec(}
\DoxyCodeLine{01262\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ ErrorHandler\&\&\ eh\ =\ \{\})\ \{}
\DoxyCodeLine{01263\ \ \ \textcolor{keyword}{auto}\ result\ =\ float\_specs();}
\DoxyCodeLine{01264\ \ \ result.showpoint\ =\ specs.alt;}
\DoxyCodeLine{01265\ \ \ \textcolor{keywordflow}{switch}\ (specs.type)\ \{}
\DoxyCodeLine{01266\ \ \ \textcolor{keywordflow}{case}\ 0:}
\DoxyCodeLine{01267\ \ \ \ \ result.format\ =\ float\_format::general;}
\DoxyCodeLine{01268\ \ \ \ \ result.showpoint\ |=\ specs.precision\ >\ 0;}
\DoxyCodeLine{01269\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01270\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'G'}:}
\DoxyCodeLine{01271\ \ \ \ \ result.upper\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01272\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01273\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'g'}:}
\DoxyCodeLine{01274\ \ \ \ \ result.format\ =\ float\_format::general;}
\DoxyCodeLine{01275\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01276\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'E'}:}
\DoxyCodeLine{01277\ \ \ \ \ result.upper\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01278\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01279\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'e'}:}
\DoxyCodeLine{01280\ \ \ \ \ result.format\ =\ float\_format::exp;}
\DoxyCodeLine{01281\ \ \ \ \ result.showpoint\ |=\ specs.precision\ !=\ 0;}
\DoxyCodeLine{01282\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01283\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'F'}:}
\DoxyCodeLine{01284\ \ \ \ \ result.upper\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01285\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01286\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'f'}:}
\DoxyCodeLine{01287\ \ \ \ \ result.format\ =\ float\_format::fixed;}
\DoxyCodeLine{01288\ \ \ \ \ result.showpoint\ |=\ specs.precision\ !=\ 0;}
\DoxyCodeLine{01289\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01290\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'A'}:}
\DoxyCodeLine{01291\ \ \ \ \ result.upper\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01292\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01293\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'a'}:}
\DoxyCodeLine{01294\ \ \ \ \ result.format\ =\ float\_format::hex;}
\DoxyCodeLine{01295\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01296\ \textcolor{preprocessor}{\#ifdef\ FMT\_DEPRECATED\_N\_SPECIFIER}}
\DoxyCodeLine{01297\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'n'}:}
\DoxyCodeLine{01298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01299\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'L'}:}
\DoxyCodeLine{01300\ \ \ \ \ result.locale\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01301\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01302\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01303\ \ \ \ \ eh.on\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01305\ \ \ \}}
\DoxyCodeLine{01306\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01307\ \}}
\DoxyCodeLine{01308\ }
\DoxyCodeLine{01309\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{01310\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ handle\_char\_specs(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}*\ specs,}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{01312\ \ \ \textcolor{keywordflow}{if}\ (!specs)\ \textcolor{keywordflow}{return}\ handler.on\_char();}
\DoxyCodeLine{01313\ \ \ \textcolor{keywordflow}{if}\ (specs-\/>type\ \&\&\ specs-\/>type\ !=\ \textcolor{charliteral}{'c'})\ \textcolor{keywordflow}{return}\ handler.on\_int();}
\DoxyCodeLine{01314\ \ \ \textcolor{keywordflow}{if}\ (specs-\/>align\ ==\ align::numeric\ ||\ specs-\/>sign\ !=\ sign::none\ ||\ specs-\/>alt)}
\DoxyCodeLine{01315\ \ \ \ \ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ specifier\ for\ char"{}});}
\DoxyCodeLine{01316\ \ \ handler.on\_char();}
\DoxyCodeLine{01317\ \}}
\DoxyCodeLine{01318\ }
\DoxyCodeLine{01319\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{01320\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ handle\_cstring\_type\_spec(Char\ spec,\ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{01321\ \ \ \textcolor{keywordflow}{if}\ (spec\ ==\ 0\ ||\ spec\ ==\ \textcolor{charliteral}{'s'})}
\DoxyCodeLine{01322\ \ \ \ \ handler.on\_string();}
\DoxyCodeLine{01323\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (spec\ ==\ \textcolor{charliteral}{'p'})}
\DoxyCodeLine{01324\ \ \ \ \ handler.on\_pointer();}
\DoxyCodeLine{01325\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01326\ \ \ \ \ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{01327\ \}}
\DoxyCodeLine{01328\ }
\DoxyCodeLine{01329\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{01330\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ check\_string\_type\_spec(Char\ spec,\ ErrorHandler\&\&\ eh)\ \{}
\DoxyCodeLine{01331\ \ \ \textcolor{keywordflow}{if}\ (spec\ !=\ 0\ \&\&\ spec\ !=\ \textcolor{charliteral}{'s'})\ eh.on\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{01332\ \}}
\DoxyCodeLine{01333\ }
\DoxyCodeLine{01334\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{01335\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ check\_pointer\_type\_spec(Char\ spec,\ ErrorHandler\&\&\ eh)\ \{}
\DoxyCodeLine{01336\ \ \ \textcolor{keywordflow}{if}\ (spec\ !=\ 0\ \&\&\ spec\ !=\ \textcolor{charliteral}{'p'})\ eh.on\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{01337\ \}}
\DoxyCodeLine{01338\ }
\DoxyCodeLine{01339\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1int__type__checker}{int\_type\_checker}}\ :\ \textcolor{keyword}{private}\ ErrorHandler\ \{}
\DoxyCodeLine{01340\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01341\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1int__type__checker}{int\_type\_checker}}(ErrorHandler\ eh)\ :\ ErrorHandler(eh)\ \{\}}
\DoxyCodeLine{01342\ }
\DoxyCodeLine{01343\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dec()\ \{\}}
\DoxyCodeLine{01344\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_hex()\ \{\}}
\DoxyCodeLine{01345\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_bin()\ \{\}}
\DoxyCodeLine{01346\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_oct()\ \{\}}
\DoxyCodeLine{01347\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_num()\ \{\}}
\DoxyCodeLine{01348\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_chr()\ \{\}}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error()\ \{}
\DoxyCodeLine{01351\ \ \ \ \ ErrorHandler::on\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{01352\ \ \ \}}
\DoxyCodeLine{01353\ \};}
\DoxyCodeLine{01354\ }
\DoxyCodeLine{01355\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{01356\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1char__specs__checker}{char\_specs\_checker}}\ :\ \textcolor{keyword}{public}\ ErrorHandler\ \{}
\DoxyCodeLine{01357\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01358\ \ \ \textcolor{keywordtype}{char}\ type\_;}
\DoxyCodeLine{01359\ }
\DoxyCodeLine{01360\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01361\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1char__specs__checker}{char\_specs\_checker}}(\textcolor{keywordtype}{char}\ type,\ ErrorHandler\ eh)}
\DoxyCodeLine{01362\ \ \ \ \ \ \ :\ ErrorHandler(eh),\ type\_(type)\ \{\}}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_int()\ \{}
\DoxyCodeLine{01365\ \ \ \ \ handle\_int\_type\_spec(type\_,\ \mbox{\hyperlink{classdetail_1_1int__type__checker}{int\_type\_checker<ErrorHandler>}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{01366\ \ \ \}}
\DoxyCodeLine{01367\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_char()\ \{\}}
\DoxyCodeLine{01368\ \};}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{01371\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1cstring__type__checker}{cstring\_type\_checker}}\ :\ \textcolor{keyword}{public}\ ErrorHandler\ \{}
\DoxyCodeLine{01372\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01373\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1cstring__type__checker}{cstring\_type\_checker}}(ErrorHandler\ eh)}
\DoxyCodeLine{01374\ \ \ \ \ \ \ :\ ErrorHandler(eh)\ \{\}}
\DoxyCodeLine{01375\ }
\DoxyCodeLine{01376\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_string()\ \{\}}
\DoxyCodeLine{01377\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_pointer()\ \{\}}
\DoxyCodeLine{01378\ \};}
\DoxyCodeLine{01379\ }
\DoxyCodeLine{01380\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01381\ FMT\_NOINLINE\ OutputIt\ fill(OutputIt\ it,\ \textcolor{keywordtype}{size\_t}\ n,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdetail_1_1fill__t}{fill\_t<Char>}}\&\ fill)\ \{}
\DoxyCodeLine{01382\ \ \ \textcolor{keyword}{auto}\ fill\_size\ =\ fill.size();}
\DoxyCodeLine{01383\ \ \ \textcolor{keywordflow}{if}\ (fill\_size\ ==\ 1)\ \textcolor{keywordflow}{return}\ std::fill\_n(it,\ n,\ fill[0]);}
\DoxyCodeLine{01384\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ it\ =\ std::copy\_n(fill.data(),\ fill\_size,\ it);}
\DoxyCodeLine{01385\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01386\ \}}
\DoxyCodeLine{01387\ }
\DoxyCodeLine{01388\ \textcolor{comment}{//\ Writes\ the\ output\ of\ f,\ padded\ according\ to\ format\ specifications\ in\ specs.}}
\DoxyCodeLine{01389\ \textcolor{comment}{//\ size:\ output\ size\ in\ code\ units.}}
\DoxyCodeLine{01390\ \textcolor{comment}{//\ width:\ output\ display\ width\ in\ (terminal)\ column\ positions.}}
\DoxyCodeLine{01391\ \textcolor{keyword}{template}\ <align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01393\ \textcolor{keyword}{inline}\ OutputIt\ write\_padded(OutputIt\ out,}
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ \textcolor{keywordtype}{size\_t}\ size,}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ width,\ \textcolor{keyword}{const}\ F\&\ f)\ \{}
\DoxyCodeLine{01396\ \ \ \textcolor{keyword}{static\_assert}(align\ ==\ align::left\ ||\ align\ ==\ align::right,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01397\ \ \ \textcolor{keywordtype}{unsigned}\ spec\_width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01398\ \ \ \textcolor{keywordtype}{size\_t}\ padding\ =\ spec\_width\ >\ width\ ?\ spec\_width\ -\/\ width\ :\ 0;}
\DoxyCodeLine{01399\ \ \ \textcolor{keyword}{auto}*\ shifts\ =\ align\ ==\ align::left\ ?\ data::left\_padding\_shifts}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ data::right\_padding\_shifts;}
\DoxyCodeLine{01401\ \ \ \textcolor{keywordtype}{size\_t}\ left\_padding\ =\ padding\ >>\ shifts[specs.align];}
\DoxyCodeLine{01402\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ size\ +\ padding\ *\ specs.fill.size());}
\DoxyCodeLine{01403\ \ \ it\ =\ fill(it,\ left\_padding,\ specs.fill);}
\DoxyCodeLine{01404\ \ \ it\ =\ f(it);}
\DoxyCodeLine{01405\ \ \ it\ =\ fill(it,\ padding\ -\/\ left\_padding,\ specs.fill);}
\DoxyCodeLine{01406\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01407\ \}}
\DoxyCodeLine{01408\ }
\DoxyCodeLine{01409\ \textcolor{keyword}{template}\ <align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01411\ \textcolor{keyword}{inline}\ OutputIt\ write\_padded(OutputIt\ out,}
\DoxyCodeLine{01412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ \textcolor{keywordtype}{size\_t}\ size,}
\DoxyCodeLine{01413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ F\&\ f)\ \{}
\DoxyCodeLine{01414\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align>(out,\ specs,\ size,\ size,\ f);}
\DoxyCodeLine{01415\ \}}
\DoxyCodeLine{01416\ }
\DoxyCodeLine{01417\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01418\ OutputIt\ write\_bytes(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ \mbox{\hyperlink{classbytes}{bytes}},}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)\ \{}
\DoxyCodeLine{01420\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01421\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ \mbox{\hyperlink{classbytes}{bytes}}.size(),\ [\mbox{\hyperlink{classbytes}{bytes}}](iterator\ it)\ \{}
\DoxyCodeLine{01422\ \ \ \ \ const\ char*\ data\ =\ bytes.data();}
\DoxyCodeLine{01423\ \ \ \ \ return\ copy\_str<Char>(data,\ data\ +\ bytes.size(),\ it);}
\DoxyCodeLine{01424\ \ \ \});}
\DoxyCodeLine{01425\ \}}
\DoxyCodeLine{01426\ }
\DoxyCodeLine{01427\ \textcolor{comment}{//\ Data\ for\ write\_int\ that\ doesn't\ depend\ on\ output\ iterator\ type.\ It\ is\ used\ to}}
\DoxyCodeLine{01428\ \textcolor{comment}{//\ avoid\ template\ code\ bloat.}}
\DoxyCodeLine{01429\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1write__int__data}{write\_int\_data}}\ \{}
\DoxyCodeLine{01430\ \ \ \textcolor{keywordtype}{size\_t}\ size;}
\DoxyCodeLine{01431\ \ \ \textcolor{keywordtype}{size\_t}\ padding;}
\DoxyCodeLine{01432\ }
\DoxyCodeLine{01433\ \ \ \mbox{\hyperlink{structdetail_1_1write__int__data}{write\_int\_data}}(\textcolor{keywordtype}{int}\ num\_digits,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ prefix,}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)}
\DoxyCodeLine{01435\ \ \ \ \ \ \ :\ size(prefix.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ +\ to\_unsigned(num\_digits)),\ padding(0)\ \{}
\DoxyCodeLine{01436\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric)\ \{}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ >\ size)\ \{}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ padding\ =\ width\ -\/\ size;}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ size\ =\ width;}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01442\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (specs.precision\ >\ num\_digits)\ \{}
\DoxyCodeLine{01443\ \ \ \ \ \ \ size\ =\ prefix.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ +\ to\_unsigned(specs.precision);}
\DoxyCodeLine{01444\ \ \ \ \ \ \ padding\ =\ to\_unsigned(specs.precision\ -\/\ num\_digits);}
\DoxyCodeLine{01445\ \ \ \ \ \}}
\DoxyCodeLine{01446\ \ \ \}}
\DoxyCodeLine{01447\ \};}
\DoxyCodeLine{01448\ }
\DoxyCodeLine{01449\ \textcolor{comment}{//\ Writes\ an\ integer\ in\ the\ format}}
\DoxyCodeLine{01450\ \textcolor{comment}{//\ \ \ <left-\/padding><prefix><numeric-\/padding><digits><right-\/padding>}}
\DoxyCodeLine{01451\ \textcolor{comment}{//\ where\ <digits>\ are\ written\ by\ f(it).}}
\DoxyCodeLine{01452\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01453\ OutputIt\ write\_int(OutputIt\ out,\ \textcolor{keywordtype}{int}\ num\_digits,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ prefix,}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ F\ f)\ \{}
\DoxyCodeLine{01455\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdetail_1_1data}{data}}\ =\ \mbox{\hyperlink{structdetail_1_1write__int__data}{write\_int\_data<Char>}}(num\_digits,\ prefix,\ specs);}
\DoxyCodeLine{01456\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01457\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(out,\ specs,\ \mbox{\hyperlink{structdetail_1_1data}{data}}.size,\ [=](iterator\ it)\ \{}
\DoxyCodeLine{01458\ \ \ \ \ if\ (prefix.size()\ !=\ 0)}
\DoxyCodeLine{01459\ \ \ \ \ \ \ it\ =\ copy\_str<Char>(prefix.begin(),\ prefix.end(),\ it);}
\DoxyCodeLine{01460\ \ \ \ \ it\ =\ std::fill\_n(it,\ data.padding,\ static\_cast<Char>(\textcolor{stringliteral}{'0'}));}
\DoxyCodeLine{01461\ \ \ \ \ return\ f(it);}
\DoxyCodeLine{01462\ \ \ \});}
\DoxyCodeLine{01463\ \}}
\DoxyCodeLine{01464\ }
\DoxyCodeLine{01465\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ StrChar,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01466\ OutputIt\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<StrChar>}}\ s,}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)\ \{}
\DoxyCodeLine{01468\ \ \ \textcolor{keyword}{auto}\ data\ =\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}();}
\DoxyCodeLine{01469\ \ \ \textcolor{keyword}{auto}\ size\ =\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{01470\ \ \ \textcolor{keywordflow}{if}\ (specs.precision\ >=\ 0\ \&\&\ to\_unsigned(specs.precision)\ <\ size)}
\DoxyCodeLine{01471\ \ \ \ \ size\ =\ code\_point\_index(s,\ to\_unsigned(specs.precision));}
\DoxyCodeLine{01472\ \ \ \textcolor{keyword}{auto}\ width\ =\ specs.width\ !=\ 0}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<StrChar>}}(data,\ size))}
\DoxyCodeLine{01474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 0;}
\DoxyCodeLine{01475\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01476\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ size,\ width,\ [=](iterator\ it)\ \{}
\DoxyCodeLine{01477\ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(data,\ data\ +\ size,\ it);}
\DoxyCodeLine{01478\ \ \ \});}
\DoxyCodeLine{01479\ \}}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \textcolor{comment}{//\ The\ handle\_int\_type\_spec\ handler\ that\ writes\ an\ integer.}}
\DoxyCodeLine{01482\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1int__writer}{int\_writer}}\ \{}
\DoxyCodeLine{01483\ \ \ OutputIt\ out;}
\DoxyCodeLine{01484\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ locale;}
\DoxyCodeLine{01485\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs;}
\DoxyCodeLine{01486\ \ \ UInt\ abs\_value;}
\DoxyCodeLine{01487\ \ \ \textcolor{keywordtype}{char}\ prefix[4];}
\DoxyCodeLine{01488\ \ \ \textcolor{keywordtype}{unsigned}\ prefix\_size;}
\DoxyCodeLine{01489\ }
\DoxyCodeLine{01490\ \ \ \textcolor{keyword}{using\ }iterator\ =}
\DoxyCodeLine{01491\ \ \ \ \ \ \ remove\_reference\_t<decltype(reserve(std::declval<OutputIt\&>(),\ 0))>;}
\DoxyCodeLine{01492\ }
\DoxyCodeLine{01493\ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ get\_prefix()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(prefix,\ prefix\_size);\ \}}
\DoxyCodeLine{01494\ }
\DoxyCodeLine{01495\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>}
\DoxyCodeLine{01496\ \ \ \mbox{\hyperlink{structdetail_1_1int__writer}{int\_writer}}(OutputIt\ output,\ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc,\ Int\ \mbox{\hyperlink{classdetail_1_1value}{value}},}
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ s)}
\DoxyCodeLine{01498\ \ \ \ \ \ \ :\ out(output),}
\DoxyCodeLine{01499\ \ \ \ \ \ \ \ \ locale(loc),}
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ specs(s),}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ abs\_value(\textcolor{keyword}{static\_cast<}UInt\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}})),}
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ prefix\_size(0)\ \{}
\DoxyCodeLine{01503\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<uint32\_or\_64\_or\_128\_t<Int>,\ UInt>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01504\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ \{}
\DoxyCodeLine{01505\ \ \ \ \ \ \ prefix[0]\ =\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{01506\ \ \ \ \ \ \ ++prefix\_size;}
\DoxyCodeLine{01507\ \ \ \ \ \ \ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{01508\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (specs.sign\ !=\ sign::none\ \&\&\ specs.sign\ !=\ sign::minus)\ \{}
\DoxyCodeLine{01509\ \ \ \ \ \ \ prefix[0]\ =\ specs.sign\ ==\ sign::plus\ ?\ \textcolor{charliteral}{'+'}\ :\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{01510\ \ \ \ \ \ \ ++prefix\_size;}
\DoxyCodeLine{01511\ \ \ \ \ \}}
\DoxyCodeLine{01512\ \ \ \}}
\DoxyCodeLine{01513\ }
\DoxyCodeLine{01514\ \ \ \textcolor{keywordtype}{void}\ on\_dec()\ \{}
\DoxyCodeLine{01515\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{01516\ \ \ \ \ out\ =\ write\_int(}
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ get\_prefix(),\ specs,\ [\textcolor{keyword}{this},\ num\_digits](iterator\ it)\ \{}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(it,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{01519\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01520\ \ \ \}}
\DoxyCodeLine{01521\ }
\DoxyCodeLine{01522\ \ \ \textcolor{keywordtype}{void}\ on\_hex()\ \{}
\DoxyCodeLine{01523\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)\ \{}
\DoxyCodeLine{01524\ \ \ \ \ \ \ prefix[prefix\_size++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{01525\ \ \ \ \ \ \ prefix[prefix\_size++]\ =\ specs.type;}
\DoxyCodeLine{01526\ \ \ \ \ \}}
\DoxyCodeLine{01527\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(abs\_value);}
\DoxyCodeLine{01528\ \ \ \ \ out\ =\ write\_int(out,\ num\_digits,\ get\_prefix(),\ specs,}
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{keyword}{this},\ num\_digits](iterator\ it)\ \{}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ abs\_value,\ num\_digits,}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.type\ !=\ \textcolor{charliteral}{'x'});}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01533\ \ \ \}}
\DoxyCodeLine{01534\ }
\DoxyCodeLine{01535\ \ \ \textcolor{keywordtype}{void}\ on\_bin()\ \{}
\DoxyCodeLine{01536\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)\ \{}
\DoxyCodeLine{01537\ \ \ \ \ \ \ prefix[prefix\_size++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{01538\ \ \ \ \ \ \ prefix[prefix\_size++]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(specs.type);}
\DoxyCodeLine{01539\ \ \ \ \ \}}
\DoxyCodeLine{01540\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<1>(abs\_value);}
\DoxyCodeLine{01541\ \ \ \ \ out\ =\ write\_int(out,\ num\_digits,\ get\_prefix(),\ specs,}
\DoxyCodeLine{01542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{keyword}{this},\ num\_digits](iterator\ it)\ \{}
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<1,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01545\ \ \ \}}
\DoxyCodeLine{01546\ }
\DoxyCodeLine{01547\ \ \ \textcolor{keywordtype}{void}\ on\_oct()\ \{}
\DoxyCodeLine{01548\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<3>(abs\_value);}
\DoxyCodeLine{01549\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt\ \&\&\ specs.precision\ <=\ num\_digits\ \&\&\ abs\_value\ !=\ 0)\ \{}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \textcolor{comment}{//\ Octal\ prefix\ '0'\ is\ counted\ as\ a\ digit,\ so\ only\ add\ it\ if\ precision}}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \textcolor{comment}{//\ is\ not\ greater\ than\ the\ number\ of\ digits.}}
\DoxyCodeLine{01552\ \ \ \ \ \ \ prefix[prefix\_size++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{01553\ \ \ \ \ \}}
\DoxyCodeLine{01554\ \ \ \ \ out\ =\ write\_int(out,\ num\_digits,\ get\_prefix(),\ specs,}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{keyword}{this},\ num\_digits](iterator\ it)\ \{}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<3,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01558\ \ \ \}}
\DoxyCodeLine{01559\ }
\DoxyCodeLine{01560\ \ \ \textcolor{keyword}{enum}\ \{\ sep\_size\ =\ 1\ \};}
\DoxyCodeLine{01561\ }
\DoxyCodeLine{01562\ \ \ \textcolor{keywordtype}{void}\ on\_num()\ \{}
\DoxyCodeLine{01563\ \ \ \ \ std::string\ groups\ =\ grouping<Char>(locale);}
\DoxyCodeLine{01564\ \ \ \ \ \textcolor{keywordflow}{if}\ (groups.empty())\ \textcolor{keywordflow}{return}\ on\_dec();}
\DoxyCodeLine{01565\ \ \ \ \ \textcolor{keyword}{auto}\ sep\ =\ thousands\_sep<Char>(locale);}
\DoxyCodeLine{01566\ \ \ \ \ \textcolor{keywordflow}{if}\ (!sep)\ \textcolor{keywordflow}{return}\ on\_dec();}
\DoxyCodeLine{01567\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{01568\ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ num\_digits,\ n\ =\ num\_digits;}
\DoxyCodeLine{01569\ \ \ \ \ std::string::const\_iterator\ group\ =\ groups.cbegin();}
\DoxyCodeLine{01570\ \ \ \ \ \textcolor{keywordflow}{while}\ (group\ !=\ groups.cend()\ \&\&\ n\ >\ *group\ \&\&\ *group\ >\ 0\ \&\&}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ *group\ !=\ max\_value<char>())\ \{}
\DoxyCodeLine{01572\ \ \ \ \ \ \ size\ +=\ sep\_size;}
\DoxyCodeLine{01573\ \ \ \ \ \ \ n\ -\/=\ *group;}
\DoxyCodeLine{01574\ \ \ \ \ \ \ ++group;}
\DoxyCodeLine{01575\ \ \ \ \ \}}
\DoxyCodeLine{01576\ \ \ \ \ \textcolor{keywordflow}{if}\ (group\ ==\ groups.cend())\ size\ +=\ sep\_size\ *\ ((n\ -\/\ 1)\ /\ groups.back());}
\DoxyCodeLine{01577\ \ \ \ \ \textcolor{keywordtype}{char}\ digits[40];}
\DoxyCodeLine{01578\ \ \ \ \ format\_decimal(digits,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{01579\ \ \ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}\ \mbox{\hyperlink{classdetail_1_1buffer}{buffer}};}
\DoxyCodeLine{01580\ \ \ \ \ size\ +=\ prefix\_size;}
\DoxyCodeLine{01581\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1buffer}{buffer}}.\mbox{\hyperlink{classdetail_1_1buffer_a047b15e5092d670624e39b98348725ce}{resize}}(size);}
\DoxyCodeLine{01582\ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s(\&sep,\ sep\_size);}
\DoxyCodeLine{01583\ \ \ \ \ \textcolor{comment}{//\ Index\ of\ a\ decimal\ digit\ with\ the\ least\ significant\ digit\ having\ index\ 0.}}
\DoxyCodeLine{01584\ \ \ \ \ \textcolor{keywordtype}{int}\ digit\_index\ =\ 0;}
\DoxyCodeLine{01585\ \ \ \ \ group\ =\ groups.cbegin();}
\DoxyCodeLine{01586\ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ \mbox{\hyperlink{classdetail_1_1buffer}{buffer}}.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}()\ +\ size;}
\DoxyCodeLine{01587\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_digits\ -\/\ 1;\ i\ >=\ 0;\ -\/-\/i)\ \{}
\DoxyCodeLine{01588\ \ \ \ \ \ \ *-\/-\/p\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(digits[i]);}
\DoxyCodeLine{01589\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*group\ <=\ 0\ ||\ ++digit\_index\ \%\ *group\ !=\ 0\ ||}
\DoxyCodeLine{01590\ \ \ \ \ \ \ \ \ \ \ *group\ ==\ max\_value<char>())}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01592\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (group\ +\ 1\ !=\ groups.cend())\ \{}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ digit\_index\ =\ 0;}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ ++group;}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01596\ \ \ \ \ \ \ p\ -\/=\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{01597\ \ \ \ \ \ \ std::uninitialized\_copy(s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}(),\ s.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}()\ +\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}(),}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ make\_checked(p,\ s.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()));}
\DoxyCodeLine{01599\ \ \ \ \ \}}
\DoxyCodeLine{01600\ \ \ \ \ \textcolor{keywordflow}{if}\ (prefix\_size\ !=\ 0)\ p[-\/1]\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{01601\ \ \ \ \ \textcolor{keyword}{using\ }iterator\_t\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01602\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdetail_1_1data}{data}}\ =\ \mbox{\hyperlink{classdetail_1_1buffer}{buffer}}.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}();}
\DoxyCodeLine{01603\ \ \ \ \ out\ =\ write\_padded<align::right>(out,\ specs,\ size,\ size,\ [=](iterator\_t\ it)\ \{}
\DoxyCodeLine{01604\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(\mbox{\hyperlink{structdetail_1_1data}{data}},\ \mbox{\hyperlink{structdetail_1_1data}{data}}\ +\ size,\ it);}
\DoxyCodeLine{01605\ \ \ \ \ \});}
\DoxyCodeLine{01606\ \ \ \}}
\DoxyCodeLine{01607\ }
\DoxyCodeLine{01608\ \ \ \textcolor{keywordtype}{void}\ on\_chr()\ \{\ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(abs\_value);\ \}}
\DoxyCodeLine{01609\ }
\DoxyCodeLine{01610\ \ \ FMT\_NORETURN\ \textcolor{keywordtype}{void}\ on\_error()\ \{}
\DoxyCodeLine{01611\ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}}));}
\DoxyCodeLine{01612\ \ \ \}}
\DoxyCodeLine{01613\ \};}
\DoxyCodeLine{01614\ }
\DoxyCodeLine{01615\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01616\ OutputIt\ write\_nonfinite(OutputIt\ out,\ \textcolor{keywordtype}{bool}\ isinf,}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdetail_1_1float__specs}{float\_specs}}\&\ fspecs)\ \{}
\DoxyCodeLine{01619\ \ \ \textcolor{keyword}{auto}\ str\ =}
\DoxyCodeLine{01620\ \ \ \ \ \ \ isinf\ ?\ (fspecs.upper\ ?\ \textcolor{stringliteral}{"{}INF"{}}\ :\ \textcolor{stringliteral}{"{}inf"{}})\ :\ (fspecs.upper\ ?\ \textcolor{stringliteral}{"{}NAN"{}}\ :\ \textcolor{stringliteral}{"{}nan"{}});}
\DoxyCodeLine{01621\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ str\_size\ =\ 3;}
\DoxyCodeLine{01622\ \ \ \textcolor{keyword}{auto}\ sign\ =\ fspecs.sign;}
\DoxyCodeLine{01623\ \ \ \textcolor{keyword}{auto}\ size\ =\ str\_size\ +\ (sign\ ?\ 1\ :\ 0);}
\DoxyCodeLine{01624\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01625\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ size,\ [=](iterator\ it)\ \{}
\DoxyCodeLine{01626\ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(data::signs[sign]);}
\DoxyCodeLine{01627\ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(str,\ str\ +\ str\_size,\ it);}
\DoxyCodeLine{01628\ \ \ \});}
\DoxyCodeLine{01629\ \}}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{01632\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_floating\_point<T>::value)>}
\DoxyCodeLine{01633\ OutputIt\ write(OutputIt\ out,\ T\ value,\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\ specs,}
\DoxyCodeLine{01634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locale\_ref\ loc\ =\ \{\})\ \{}
\DoxyCodeLine{01635\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(value)))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01636\ \ \ float\_specs\ fspecs\ =\ parse\_float\_type\_spec(specs);}
\DoxyCodeLine{01637\ \ \ fspecs.sign\ =\ specs.sign;}
\DoxyCodeLine{01638\ \ \ \textcolor{keywordflow}{if}\ (std::signbit(value))\ \{\ \ \textcolor{comment}{//\ value\ <\ 0\ is\ false\ for\ NaN\ so\ use\ signbit.}}
\DoxyCodeLine{01639\ \ \ \ \ fspecs.sign\ =\ sign::minus;}
\DoxyCodeLine{01640\ \ \ \ \ value\ =\ -\/value;}
\DoxyCodeLine{01641\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fspecs.sign\ ==\ sign::minus)\ \{}
\DoxyCodeLine{01642\ \ \ \ \ fspecs.sign\ =\ sign::none;}
\DoxyCodeLine{01643\ \ \ \}}
\DoxyCodeLine{01644\ }
\DoxyCodeLine{01645\ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(value))}
\DoxyCodeLine{01646\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite(out,\ std::isinf(value),\ specs,\ fspecs);}
\DoxyCodeLine{01647\ }
\DoxyCodeLine{01648\ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric\ \&\&\ fspecs.sign)\ \{}
\DoxyCodeLine{01649\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{01650\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(data::signs[fspecs.sign]);}
\DoxyCodeLine{01651\ \ \ \ \ out\ =\ base\_iterator(out,\ it);}
\DoxyCodeLine{01652\ \ \ \ \ fspecs.sign\ =\ sign::none;}
\DoxyCodeLine{01653\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.width\ !=\ 0)\ -\/-\/specs.width;}
\DoxyCodeLine{01654\ \ \ \}}
\DoxyCodeLine{01655\ }
\DoxyCodeLine{01656\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ buffer;}
\DoxyCodeLine{01657\ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::hex)\ \{}
\DoxyCodeLine{01658\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.sign)\ buffer.push\_back(data::signs[fspecs.sign]);}
\DoxyCodeLine{01659\ \ \ \ \ snprintf\_float(promote\_float(value),\ specs.precision,\ fspecs,\ buffer);}
\DoxyCodeLine{01660\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_bytes(out,\ \{buffer.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}(),\ buffer.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}()\},\ specs);}
\DoxyCodeLine{01661\ \ \ \}}
\DoxyCodeLine{01662\ \ \ \textcolor{keywordtype}{int}\ precision\ =\ specs.precision\ >=\ 0\ ||\ !specs.type\ ?\ specs.precision\ :\ 6;}
\DoxyCodeLine{01663\ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::exp)\ \{}
\DoxyCodeLine{01664\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ ==\ max\_value<int>())}
\DoxyCodeLine{01665\ \ \ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}}));}
\DoxyCodeLine{01666\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01667\ \ \ \ \ \ \ ++precision;}
\DoxyCodeLine{01668\ \ \ \}}
\DoxyCodeLine{01669\ \ \ \textcolor{keywordflow}{if}\ (const\_check(std::is\_same<T,\ float>()))\ fspecs.binary32\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01670\ \ \ fspecs.use\_grisu\ =\ use\_grisu<T>();}
\DoxyCodeLine{01671\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ format\_float(promote\_float(value),\ precision,\ fspecs,\ buffer);}
\DoxyCodeLine{01672\ \ \ fspecs.precision\ =\ precision;}
\DoxyCodeLine{01673\ \ \ Char\ point\ =}
\DoxyCodeLine{01674\ \ \ \ \ \ \ fspecs.locale\ ?\ decimal\_point<Char>(loc)\ :\ static\_cast<Char>(\textcolor{stringliteral}{'.'});}
\DoxyCodeLine{01675\ \ \ float\_writer<Char>\ w(buffer.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(buffer.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}()),\ exp,}
\DoxyCodeLine{01676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fspecs,\ point);}
\DoxyCodeLine{01677\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(out,\ specs,\ w.size(),\ w);}
\DoxyCodeLine{01678\ \}}
\DoxyCodeLine{01679\ }
\DoxyCodeLine{01680\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{01681\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_floating\_point<T>::value)>}
\DoxyCodeLine{01682\ OutputIt\ write(OutputIt\ out,\ T\ value)\ \{}
\DoxyCodeLine{01683\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(value)))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01684\ \ \ \textcolor{keyword}{auto}\ fspecs\ =\ float\_specs();}
\DoxyCodeLine{01685\ \ \ \textcolor{keywordflow}{if}\ (std::signbit(value))\ \{\ \ \textcolor{comment}{//\ value\ <\ 0\ is\ false\ for\ NaN\ so\ use\ signbit.}}
\DoxyCodeLine{01686\ \ \ \ \ fspecs.sign\ =\ sign::minus;}
\DoxyCodeLine{01687\ \ \ \ \ value\ =\ -\/value;}
\DoxyCodeLine{01688\ \ \ \}}
\DoxyCodeLine{01689\ }
\DoxyCodeLine{01690\ \ \ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}();}
\DoxyCodeLine{01691\ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(value))}
\DoxyCodeLine{01692\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite(out,\ std::isinf(value),\ specs,\ fspecs);}
\DoxyCodeLine{01693\ }
\DoxyCodeLine{01694\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ buffer;}
\DoxyCodeLine{01695\ \ \ \textcolor{keywordtype}{int}\ precision\ =\ -\/1;}
\DoxyCodeLine{01696\ \ \ \textcolor{keywordflow}{if}\ (const\_check(std::is\_same<T,\ float>()))\ fspecs.binary32\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01697\ \ \ fspecs.use\_grisu\ =\ use\_grisu<T>();}
\DoxyCodeLine{01698\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ format\_float(promote\_float(value),\ precision,\ fspecs,\ buffer);}
\DoxyCodeLine{01699\ \ \ fspecs.precision\ =\ precision;}
\DoxyCodeLine{01700\ \ \ float\_writer<Char>\ w(buffer.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(buffer.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}()),\ exp,}
\DoxyCodeLine{01701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fspecs,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'.'}));}
\DoxyCodeLine{01702\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ w(reserve(out,\ w.size())));}
\DoxyCodeLine{01703\ \}}
\DoxyCodeLine{01704\ }
\DoxyCodeLine{01705\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01706\ OutputIt\ write\_char(OutputIt\ out,\ Char\ value,}
\DoxyCodeLine{01707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)\ \{}
\DoxyCodeLine{01708\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01709\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ 1,\ [=](iterator\ it)\ \{}
\DoxyCodeLine{01710\ \ \ \ \ *it++\ =\ value;}
\DoxyCodeLine{01711\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01712\ \ \ \});}
\DoxyCodeLine{01713\ \}}
\DoxyCodeLine{01714\ }
\DoxyCodeLine{01715\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UIntPtr>}
\DoxyCodeLine{01716\ OutputIt\ write\_ptr(OutputIt\ out,\ UIntPtr\ value,}
\DoxyCodeLine{01717\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}*\ specs)\ \{}
\DoxyCodeLine{01718\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(value);}
\DoxyCodeLine{01719\ \ \ \textcolor{keyword}{auto}\ size\ =\ \mbox{\hyperlink{namespacesrsran_a1ccaefcc6a0383418d549196f3d06739}{to\_unsigned}}(num\_digits)\ +\ size\_t(2);}
\DoxyCodeLine{01720\ \ \ \textcolor{keyword}{using\ }iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(reserve(out,\ 0))>;}
\DoxyCodeLine{01721\ \ \ \textcolor{keyword}{auto}\ write\ =\ [=](iterator\ it)\ \{}
\DoxyCodeLine{01722\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{01723\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'x'});}
\DoxyCodeLine{01724\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ value,\ num\_digits);}
\DoxyCodeLine{01725\ \ \ \};}
\DoxyCodeLine{01726\ \ \ \textcolor{keywordflow}{return}\ specs\ ?\ write\_padded<align::right>(out,\ *specs,\ size,\ write)}
\DoxyCodeLine{01727\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ base\_iterator(out,\ write(reserve(out,\ size)));}
\DoxyCodeLine{01728\ \}}
\DoxyCodeLine{01729\ }
\DoxyCodeLine{01730\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}\ :\ std::is\_integral<T>\ \{\};}
\DoxyCodeLine{01731\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}<\mbox{\hyperlink{structdetail_1_1int128__t}{int128\_t}}>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{01732\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1is__integral}{is\_integral}}<\mbox{\hyperlink{structdetail_1_1uint128__t}{uint128\_t}}>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{01733\ }
\DoxyCodeLine{01734\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01735\ OutputIt\ write(OutputIt\ out,\ \mbox{\hyperlink{structmonostate}{monostate}})\ \{}
\DoxyCodeLine{01736\ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01737\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01738\ \}}
\DoxyCodeLine{01739\ }
\DoxyCodeLine{01740\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_same<Char,\ char>::value)>}
\DoxyCodeLine{01742\ OutputIt\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ value)\ \{}
\DoxyCodeLine{01743\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ value.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}());}
\DoxyCodeLine{01744\ \ \ it\ =\ copy\_str<Char>(value.begin(),\ value.end(),\ it);}
\DoxyCodeLine{01745\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01746\ \}}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01749\ OutputIt\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ value)\ \{}
\DoxyCodeLine{01750\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ value.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}());}
\DoxyCodeLine{01751\ \ \ it\ =\ std::copy(value.begin(),\ value.end(),\ it);}
\DoxyCodeLine{01752\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01753\ \}}
\DoxyCodeLine{01754\ }
\DoxyCodeLine{01755\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{01756\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_integral<T>::value\ \&\&}
\DoxyCodeLine{01757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ Char>::value)>}
\DoxyCodeLine{01759\ OutputIt\ write(OutputIt\ out,\ T\ value)\ \{}
\DoxyCodeLine{01760\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}uint32\_or\_64\_or\_128\_t<T>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{01761\ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ is\_negative(value);}
\DoxyCodeLine{01762\ \ \ \textcolor{comment}{//\ Don't\ do\ -\/abs\_value\ since\ it\ trips\ unsigned-\/integer-\/overflow\ sanitizer.}}
\DoxyCodeLine{01763\ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ \string~abs\_value\ +\ 1;}
\DoxyCodeLine{01764\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{01765\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ (negative\ ?\ 1\ :\ 0)\ +\ static\_cast<size\_t>(num\_digits));}
\DoxyCodeLine{01766\ \ \ \textcolor{keywordflow}{if}\ (negative)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{01767\ \ \ it\ =\ format\_decimal<Char>(it,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{01768\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01769\ \}}
\DoxyCodeLine{01770\ }
\DoxyCodeLine{01771\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01772\ OutputIt\ write(OutputIt\ out,\ \textcolor{keywordtype}{bool}\ value)\ \{}
\DoxyCodeLine{01773\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(value\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}}));}
\DoxyCodeLine{01774\ \}}
\DoxyCodeLine{01775\ }
\DoxyCodeLine{01776\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01777\ OutputIt\ write(OutputIt\ out,\ Char\ value)\ \{}
\DoxyCodeLine{01778\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{01779\ \ \ *it++\ =\ value;}
\DoxyCodeLine{01780\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01781\ \}}
\DoxyCodeLine{01782\ }
\DoxyCodeLine{01783\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01784\ OutputIt\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ Char*\ value)\ \{}
\DoxyCodeLine{01785\ \ \ \textcolor{keywordflow}{if}\ (!value)\ \{}
\DoxyCodeLine{01786\ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}string\ pointer\ is\ null"{}}));}
\DoxyCodeLine{01787\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01788\ \ \ \ \ \textcolor{keyword}{auto}\ length\ =\ std::char\_traits<Char>::length(value);}
\DoxyCodeLine{01789\ \ \ \ \ out\ =\ write(out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(value,\ length));}
\DoxyCodeLine{01790\ \ \ \}}
\DoxyCodeLine{01791\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01792\ \}}
\DoxyCodeLine{01793\ }
\DoxyCodeLine{01794\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01795\ OutputIt\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ value)\ \{}
\DoxyCodeLine{01796\ \ \ \textcolor{keywordflow}{return}\ write\_ptr<Char>(out,\ to\_uintptr(value),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01797\ \}}
\DoxyCodeLine{01798\ }
\DoxyCodeLine{01799\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01800\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ value)\ -\/>\ \textcolor{keyword}{typename}\ std::enable\_if<}
\DoxyCodeLine{01801\ \ \ \ \ mapped\_type\_constant<T,\ basic\_format\_context<OutputIt,\ Char>>::value\ ==}
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ type::custom\_type,}
\DoxyCodeLine{01803\ \ \ \ \ OutputIt>::type\ \{}
\DoxyCodeLine{01804\ \ \ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}}\ ctx(out,\ \{\},\ \{\});}
\DoxyCodeLine{01805\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<T>}}().format(value,\ ctx);}
\DoxyCodeLine{01806\ \}}
\DoxyCodeLine{01807\ }
\DoxyCodeLine{01808\ \textcolor{comment}{//\ An\ argument\ visitor\ that\ formats\ the\ argument\ and\ writes\ it\ via\ the\ output}}
\DoxyCodeLine{01809\ \textcolor{comment}{//\ iterator.\ It's\ a\ class\ and\ not\ a\ generic\ lambda\ for\ compatibility\ with\ C++11.}}
\DoxyCodeLine{01810\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1default__arg__formatter}{default\_arg\_formatter}}\ \{}
\DoxyCodeLine{01811\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__context}{context}}\ =\ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}};}
\DoxyCodeLine{01812\ }
\DoxyCodeLine{01813\ \ \ OutputIt\ out;}
\DoxyCodeLine{01814\ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<context>}}\ args;}
\DoxyCodeLine{01815\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc;}
\DoxyCodeLine{01816\ }
\DoxyCodeLine{01817\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ OutputIt\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01818\ \ \ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01819\ \ \ \}}
\DoxyCodeLine{01820\ }
\DoxyCodeLine{01821\ \ \ OutputIt\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context>::handle}}\ handle)\ \{}
\DoxyCodeLine{01822\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_ctx(\{\});}
\DoxyCodeLine{01823\ \ \ \ \ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}}\ format\_ctx(out,\ args,\ loc);}
\DoxyCodeLine{01824\ \ \ \ \ handle.format(parse\_ctx,\ format\_ctx);}
\DoxyCodeLine{01825\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_ctx.out();}
\DoxyCodeLine{01826\ \ \ \}}
\DoxyCodeLine{01827\ \};}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{01830\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ErrorHandler\ =\ \mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}>}
\DoxyCodeLine{01831\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}\ \{}
\DoxyCodeLine{01832\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01833\ \ \ \textcolor{keyword}{using\ }iterator\ =\ OutputIt;}
\DoxyCodeLine{01834\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ Char;}
\DoxyCodeLine{01835\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structbasic__format__specs}{format\_specs}}\ =\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}};}
\DoxyCodeLine{01836\ }
\DoxyCodeLine{01837\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01838\ \ \ iterator\ out\_;}
\DoxyCodeLine{01839\ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ locale\_;}
\DoxyCodeLine{01840\ \ \ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}*\ specs\_;}
\DoxyCodeLine{01841\ }
\DoxyCodeLine{01842\ \ \ \textcolor{comment}{//\ Attempts\ to\ reserve\ space\ for\ n\ extra\ characters\ in\ the\ output\ range.}}
\DoxyCodeLine{01843\ \ \ \textcolor{comment}{//\ Returns\ a\ pointer\ to\ the\ reserved\ range\ or\ a\ reference\ to\ out\_.}}
\DoxyCodeLine{01844\ \ \ \textcolor{keyword}{auto}\ reserve(\textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keyword}{decltype}(detail::reserve(out\_,\ n))\ \{}
\DoxyCodeLine{01845\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::reserve(out\_,\ n);}
\DoxyCodeLine{01846\ \ \ \}}
\DoxyCodeLine{01847\ }
\DoxyCodeLine{01848\ \ \ \textcolor{keyword}{using\ }reserve\_iterator\ =\ remove\_reference\_t<\textcolor{keyword}{decltype}(}
\DoxyCodeLine{01849\ \ \ \ \ \ \ detail::reserve(std::declval<iterator\&>(),\ 0))>;}
\DoxyCodeLine{01850\ }
\DoxyCodeLine{01851\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{void}\ write\_int(T\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}\&\ spec)\ \{}
\DoxyCodeLine{01852\ \ \ \ \ \textcolor{keyword}{using\ }uint\_type\ =\ uint32\_or\_64\_or\_128\_t<T>;}
\DoxyCodeLine{01853\ \ \ \ \ \mbox{\hyperlink{structdetail_1_1int__writer}{int\_writer<iterator,\ Char,\ uint\_type>}}\ w(out\_,\ locale\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ spec);}
\DoxyCodeLine{01854\ \ \ \ \ handle\_int\_type\_spec(spec.type,\ w);}
\DoxyCodeLine{01855\ \ \ \ \ out\_\ =\ w.out;}
\DoxyCodeLine{01856\ \ \ \}}
\DoxyCodeLine{01857\ }
\DoxyCodeLine{01858\ \ \ \textcolor{keywordtype}{void}\ write(\textcolor{keywordtype}{char}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01859\ \ \ \ \ \textcolor{keyword}{auto}\&\&\ it\ =\ reserve(1);}
\DoxyCodeLine{01860\ \ \ \ \ *it++\ =\ \mbox{\hyperlink{classdetail_1_1value}{value}};}
\DoxyCodeLine{01861\ \ \ \}}
\DoxyCodeLine{01862\ }
\DoxyCodeLine{01863\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Ch,\ FMT\_ENABLE\_IF(std::is\_same<Ch,\ Char>::value)>}
\DoxyCodeLine{01864\ \ \ \textcolor{keywordtype}{void}\ write(Ch\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01865\ \ \ \ \ out\_\ =\ detail::write<Char>(out\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01866\ \ \ \}}
\DoxyCodeLine{01867\ }
\DoxyCodeLine{01868\ \ \ \textcolor{keywordtype}{void}\ write(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01869\ \ \ \ \ \textcolor{keyword}{auto}\&\&\ it\ =\ reserve(\mbox{\hyperlink{classdetail_1_1value}{value}}.size());}
\DoxyCodeLine{01870\ \ \ \ \ it\ =\ copy\_str<Char>(\mbox{\hyperlink{classdetail_1_1value}{value}}.begin(),\ \mbox{\hyperlink{classdetail_1_1value}{value}}.end(),\ it);}
\DoxyCodeLine{01871\ \ \ \}}
\DoxyCodeLine{01872\ \ \ \textcolor{keywordtype}{void}\ write(\mbox{\hyperlink{classbasic__string__view}{wstring\_view}}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01873\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<Char,\ wchar\_t>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01874\ \ \ \ \ \textcolor{keyword}{auto}\&\&\ it\ =\ reserve(\mbox{\hyperlink{classdetail_1_1value}{value}}.size());}
\DoxyCodeLine{01875\ \ \ \ \ it\ =\ std::copy(\mbox{\hyperlink{classdetail_1_1value}{value}}.begin(),\ \mbox{\hyperlink{classdetail_1_1value}{value}}.end(),\ it);}
\DoxyCodeLine{01876\ \ \ \}}
\DoxyCodeLine{01877\ }
\DoxyCodeLine{01878\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Ch>}
\DoxyCodeLine{01879\ \ \ \textcolor{keywordtype}{void}\ write(\textcolor{keyword}{const}\ Ch*\ s,\ \textcolor{keywordtype}{size\_t}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}\&\ specs)\ \{}
\DoxyCodeLine{01880\ \ \ \ \ \textcolor{keyword}{auto}\ width\ =\ specs.width\ !=\ 0}
\DoxyCodeLine{01881\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ count\_code\_points(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Ch>}}(s,\ size))}
\DoxyCodeLine{01882\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 0;}
\DoxyCodeLine{01883\ \ \ \ \ out\_\ =\ write\_padded(out\_,\ specs,\ size,\ width,\ [=](reserve\_iterator\ it)\ \{}
\DoxyCodeLine{01884\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(s,\ s\ +\ size,\ it);}
\DoxyCodeLine{01885\ \ \ \ \ \});}
\DoxyCodeLine{01886\ \ \ \}}
\DoxyCodeLine{01887\ }
\DoxyCodeLine{01888\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Ch>}
\DoxyCodeLine{01889\ \ \ \textcolor{keywordtype}{void}\ write(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Ch>}}\ s,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}\&\ specs\ =\ \{\})\ \{}
\DoxyCodeLine{01890\ \ \ \ \ out\_\ =\ detail::write(out\_,\ s,\ specs);}
\DoxyCodeLine{01891\ \ \ \}}
\DoxyCodeLine{01892\ }
\DoxyCodeLine{01893\ \ \ \textcolor{keywordtype}{void}\ write\_pointer(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ p)\ \{}
\DoxyCodeLine{01894\ \ \ \ \ out\_\ =\ write\_ptr<char\_type>(out\_,\ to\_uintptr(p),\ specs\_);}
\DoxyCodeLine{01895\ \ \ \}}
\DoxyCodeLine{01896\ }
\DoxyCodeLine{01897\ \ \ \textcolor{keyword}{struct\ }char\_spec\_handler\ :\ ErrorHandler\ \{}
\DoxyCodeLine{01898\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}\&\ \mbox{\hyperlink{structformatter}{formatter}};}
\DoxyCodeLine{01899\ \ \ \ \ Char\ \mbox{\hyperlink{classdetail_1_1value}{value}};}
\DoxyCodeLine{01900\ }
\DoxyCodeLine{01901\ \ \ \ \ char\_spec\_handler(\mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}\&\ f,\ Char\ val)}
\DoxyCodeLine{01902\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structformatter}{formatter}}(f),\ \mbox{\hyperlink{classdetail_1_1value}{value}}(val)\ \{\}}
\DoxyCodeLine{01903\ }
\DoxyCodeLine{01904\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_int()\ \{}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \textcolor{comment}{//\ char\ is\ only\ formatted\ as\ int\ if\ there\ are\ specs.}}
\DoxyCodeLine{01906\ \ \ \ \ \ \ \mbox{\hyperlink{structformatter}{formatter}}.write\_int(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}}),\ *\mbox{\hyperlink{structformatter}{formatter}}.specs\_);}
\DoxyCodeLine{01907\ \ \ \ \ \}}
\DoxyCodeLine{01908\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_char()\ \{}
\DoxyCodeLine{01909\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structformatter}{formatter}}.specs\_)}
\DoxyCodeLine{01910\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformatter}{formatter}}.out\_\ =\ write\_char(\mbox{\hyperlink{structformatter}{formatter}}.out\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ *\mbox{\hyperlink{structformatter}{formatter}}.specs\_);}
\DoxyCodeLine{01911\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01912\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformatter}{formatter}}.write(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01913\ \ \ \ \ \}}
\DoxyCodeLine{01914\ \ \ \};}
\DoxyCodeLine{01915\ }
\DoxyCodeLine{01916\ \ \ \textcolor{keyword}{struct\ }cstring\_spec\_handler\ :\ \mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}\ \{}
\DoxyCodeLine{01917\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}\&\ \mbox{\hyperlink{structformatter}{formatter}};}
\DoxyCodeLine{01918\ \ \ \ \ \textcolor{keyword}{const}\ Char*\ \mbox{\hyperlink{classdetail_1_1value}{value}};}
\DoxyCodeLine{01919\ }
\DoxyCodeLine{01920\ \ \ \ \ cstring\_spec\_handler(\mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}\&\ f,\ \textcolor{keyword}{const}\ Char*\ val)}
\DoxyCodeLine{01921\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structformatter}{formatter}}(f),\ \mbox{\hyperlink{classdetail_1_1value}{value}}(val)\ \{\}}
\DoxyCodeLine{01922\ }
\DoxyCodeLine{01923\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_string()\ \{\ \mbox{\hyperlink{structformatter}{formatter}}.write(\mbox{\hyperlink{classdetail_1_1value}{value}});\ \}}
\DoxyCodeLine{01924\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_pointer()\ \{\ \mbox{\hyperlink{structformatter}{formatter}}.write\_pointer(\mbox{\hyperlink{classdetail_1_1value}{value}});\ \}}
\DoxyCodeLine{01925\ \ \ \};}
\DoxyCodeLine{01926\ }
\DoxyCodeLine{01927\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01928\ \ \ iterator\ out()\ \{\ \textcolor{keywordflow}{return}\ out\_;\ \}}
\DoxyCodeLine{01929\ \ \ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}*\ specs()\ \{\ \textcolor{keywordflow}{return}\ specs\_;\ \}}
\DoxyCodeLine{01930\ }
\DoxyCodeLine{01931\ \ \ \textcolor{keywordtype}{void}\ write(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01932\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_)}
\DoxyCodeLine{01933\ \ \ \ \ \ \ write(\mbox{\hyperlink{classbasic__string__view}{string\_view}}(\mbox{\hyperlink{classdetail_1_1value}{value}}\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}}),\ *specs\_);}
\DoxyCodeLine{01934\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01935\ \ \ \ \ \ \ out\_\ =\ detail::write<Char>(out\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01936\ \ \ \}}
\DoxyCodeLine{01937\ }
\DoxyCodeLine{01938\ \ \ \textcolor{keywordtype}{void}\ write(\textcolor{keyword}{const}\ Char*\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01939\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01940\ \ \ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}string\ pointer\ is\ null"{}}));}
\DoxyCodeLine{01941\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01942\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ length\ =\ std::char\_traits<char\_type>::length(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01943\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char\_type>}}\ sv(\mbox{\hyperlink{classdetail_1_1value}{value}},\ length);}
\DoxyCodeLine{01944\ \ \ \ \ \ \ specs\_\ ?\ write(sv,\ *specs\_)\ :\ write(sv);}
\DoxyCodeLine{01945\ \ \ \ \ \}}
\DoxyCodeLine{01946\ \ \ \}}
\DoxyCodeLine{01947\ }
\DoxyCodeLine{01948\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01949\ \ \ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}(OutputIt\ out,\ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}*\ s,\ \mbox{\hyperlink{classdetail_1_1locale__ref}{locale\_ref}}\ loc)}
\DoxyCodeLine{01950\ \ \ \ \ \ \ :\ out\_(out),\ locale\_(loc),\ specs\_(s)\ \{\}}
\DoxyCodeLine{01951\ }
\DoxyCodeLine{01952\ \ \ iterator\ operator()(\mbox{\hyperlink{structmonostate}{monostate}})\ \{}
\DoxyCodeLine{01953\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}invalid\ argument\ type"{}});}
\DoxyCodeLine{01954\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01955\ \ \ \}}
\DoxyCodeLine{01956\ }
\DoxyCodeLine{01957\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{01958\ \ \ FMT\_INLINE\ iterator\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01959\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_)}
\DoxyCodeLine{01960\ \ \ \ \ \ \ write\_int(\mbox{\hyperlink{classdetail_1_1value}{value}},\ *specs\_);}
\DoxyCodeLine{01961\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01962\ \ \ \ \ \ \ out\_\ =\ detail::write<Char>(out\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{01963\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01964\ \ \ \}}
\DoxyCodeLine{01965\ }
\DoxyCodeLine{01966\ \ \ iterator\ operator()(Char\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01967\ \ \ \ \ handle\_char\_specs(specs\_,}
\DoxyCodeLine{01968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ char\_spec\_handler(*\textcolor{keyword}{this},\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}})));}
\DoxyCodeLine{01969\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01970\ \ \ \}}
\DoxyCodeLine{01971\ }
\DoxyCodeLine{01972\ \ \ iterator\ operator()(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01973\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_\ \&\&\ specs\_-\/>type)\ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{this})(\mbox{\hyperlink{classdetail_1_1value}{value}}\ ?\ 1\ :\ 0);}
\DoxyCodeLine{01974\ \ \ \ \ write(\mbox{\hyperlink{classdetail_1_1value}{value}}\ !=\ 0);}
\DoxyCodeLine{01975\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01976\ \ \ \}}
\DoxyCodeLine{01977\ }
\DoxyCodeLine{01978\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value)>}
\DoxyCodeLine{01979\ \ \ iterator\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01980\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ specs\_\ ?\ *specs\_\ :\ \mbox{\hyperlink{structbasic__format__specs}{format\_specs}}();}
\DoxyCodeLine{01981\ \ \ \ \ \textcolor{keywordflow}{if}\ (const\_check(is\_supported\_floating\_point(\mbox{\hyperlink{classdetail_1_1value}{value}})))}
\DoxyCodeLine{01982\ \ \ \ \ \ \ out\_\ =\ detail::write(out\_,\ \mbox{\hyperlink{classdetail_1_1value}{value}},\ specs,\ locale\_);}
\DoxyCodeLine{01983\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01984\ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}unsupported\ float\ argument\ type"{}});}
\DoxyCodeLine{01985\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01986\ \ \ \}}
\DoxyCodeLine{01987\ }
\DoxyCodeLine{01988\ \ \ iterator\ operator()(\textcolor{keyword}{const}\ Char*\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01989\ \ \ \ \ \textcolor{keywordflow}{if}\ (!specs\_)\ \textcolor{keywordflow}{return}\ write(\mbox{\hyperlink{classdetail_1_1value}{value}}),\ out\_;}
\DoxyCodeLine{01990\ \ \ \ \ handle\_cstring\_type\_spec(specs\_-\/>type,\ cstring\_spec\_handler(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classdetail_1_1value}{value}}));}
\DoxyCodeLine{01991\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{01992\ \ \ \}}
\DoxyCodeLine{01993\ }
\DoxyCodeLine{01994\ \ \ iterator\ operator()(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{01995\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_)\ \{}
\DoxyCodeLine{01996\ \ \ \ \ \ \ check\_string\_type\_spec(specs\_-\/>type,\ \mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}());}
\DoxyCodeLine{01997\ \ \ \ \ \ \ write(\mbox{\hyperlink{classdetail_1_1value}{value}},\ *specs\_);}
\DoxyCodeLine{01998\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01999\ \ \ \ \ \ \ write(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02000\ \ \ \ \ \}}
\DoxyCodeLine{02001\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{02002\ \ \ \}}
\DoxyCodeLine{02003\ }
\DoxyCodeLine{02004\ \ \ iterator\ operator()(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02005\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_)\ check\_pointer\_type\_spec(specs\_-\/>type,\ \mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}());}
\DoxyCodeLine{02006\ \ \ \ \ write\_pointer(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02007\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_;}
\DoxyCodeLine{02008\ \ \ \}}
\DoxyCodeLine{02009\ \};}
\DoxyCodeLine{02010\ }
\DoxyCodeLine{02011\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ is\_name\_start(Char\ c)\ \{}
\DoxyCodeLine{02012\ \ \ \textcolor{keywordflow}{return}\ (\textcolor{charliteral}{'a'}\ <=\ c\ \&\&\ c\ <=\ \textcolor{charliteral}{'z'})\ ||\ (\textcolor{charliteral}{'A'}\ <=\ c\ \&\&\ c\ <=\ \textcolor{charliteral}{'Z'})\ ||\ \textcolor{charliteral}{'\_'}\ ==\ c;}
\DoxyCodeLine{02013\ \}}
\DoxyCodeLine{02014\ }
\DoxyCodeLine{02015\ \textcolor{comment}{//\ Parses\ the\ range\ [begin,\ end)\ as\ an\ unsigned\ integer.\ This\ function\ assumes}}
\DoxyCodeLine{02016\ \textcolor{comment}{//\ that\ the\ range\ is\ non-\/empty\ and\ the\ first\ character\ is\ a\ digit.}}
\DoxyCodeLine{02017\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{02018\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ parse\_nonnegative\_int(\textcolor{keyword}{const}\ Char*\&\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ErrorHandler\&\&\ eh)\ \{}
\DoxyCodeLine{02020\ \ \ FMT\_ASSERT(begin\ !=\ end\ \&\&\ \textcolor{charliteral}{'0'}\ <=\ *begin\ \&\&\ *begin\ <=\ \textcolor{charliteral}{'9'},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02021\ \ \ \textcolor{keywordtype}{unsigned}\ value\ =\ 0;}
\DoxyCodeLine{02022\ \ \ \textcolor{comment}{//\ Convert\ to\ unsigned\ to\ prevent\ a\ warning.}}
\DoxyCodeLine{02023\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ max\_int\ =\ max\_value<int>();}
\DoxyCodeLine{02024\ \ \ \textcolor{keywordtype}{unsigned}\ big\ =\ max\_int\ /\ 10;}
\DoxyCodeLine{02025\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02026\ \ \ \ \ \textcolor{comment}{//\ Check\ for\ overflow.}}
\DoxyCodeLine{02027\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ >\ big)\ \{}
\DoxyCodeLine{02028\ \ \ \ \ \ \ value\ =\ max\_int\ +\ 1;}
\DoxyCodeLine{02029\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02030\ \ \ \ \ \}}
\DoxyCodeLine{02031\ \ \ \ \ value\ =\ value\ *\ 10\ +\ unsigned(*begin\ -\/\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02032\ \ \ \ \ ++begin;}
\DoxyCodeLine{02033\ \ \ \}\ \textcolor{keywordflow}{while}\ (begin\ !=\ end\ \&\&\ \textcolor{charliteral}{'0'}\ <=\ *begin\ \&\&\ *begin\ <=\ \textcolor{charliteral}{'9'});}
\DoxyCodeLine{02034\ \ \ \textcolor{keywordflow}{if}\ (value\ >\ max\_int)\ eh.on\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{02035\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(value);}
\DoxyCodeLine{02036\ \}}
\DoxyCodeLine{02037\ }
\DoxyCodeLine{02038\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1custom__formatter}{custom\_formatter}}\ \{}
\DoxyCodeLine{02039\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02040\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ \textcolor{keyword}{typename}\ Context::char\_type;}
\DoxyCodeLine{02041\ }
\DoxyCodeLine{02042\ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<char\_type>}}\&\ parse\_ctx\_;}
\DoxyCodeLine{02043\ \ \ Context\&\ ctx\_;}
\DoxyCodeLine{02044\ }
\DoxyCodeLine{02045\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02046\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1custom__formatter}{custom\_formatter}}(\mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<char\_type>}}\&\ parse\_ctx,}
\DoxyCodeLine{02047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Context\&\ ctx)}
\DoxyCodeLine{02048\ \ \ \ \ \ \ :\ parse\_ctx\_(parse\_ctx),\ ctx\_(ctx)\ \{\}}
\DoxyCodeLine{02049\ }
\DoxyCodeLine{02050\ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<Context>::handle}}\ h)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02051\ \ \ \ \ h.format(parse\_ctx\_,\ ctx\_);}
\DoxyCodeLine{02052\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02053\ \ \ \}}
\DoxyCodeLine{02054\ }
\DoxyCodeLine{02055\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{bool}\ operator()(T)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{02056\ \};}
\DoxyCodeLine{02057\ }
\DoxyCodeLine{02058\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02059\ \textcolor{keyword}{using\ }is\_integer\ =}
\DoxyCodeLine{02060\ \ \ \ \ bool\_constant<is\_integral<T>::value\ \&\&\ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ char>::value\ \&\&}
\DoxyCodeLine{02062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ wchar\_t>::value>;}
\DoxyCodeLine{02063\ }
\DoxyCodeLine{02064\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1width__checker}{width\_checker}}\ \{}
\DoxyCodeLine{02065\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02066\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1width__checker}{width\_checker}}(ErrorHandler\&\ eh)\ :\ handler\_(eh)\ \{\}}
\DoxyCodeLine{02067\ }
\DoxyCodeLine{02068\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02069\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02070\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ handler\_.on\_error(\textcolor{stringliteral}{"{}negative\ width"{}});}
\DoxyCodeLine{02071\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02072\ \ \ \}}
\DoxyCodeLine{02073\ }
\DoxyCodeLine{02074\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02075\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ operator()(T)\ \{}
\DoxyCodeLine{02076\ \ \ \ \ handler\_.on\_error(\textcolor{stringliteral}{"{}width\ is\ not\ integer"{}});}
\DoxyCodeLine{02077\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02078\ \ \ \}}
\DoxyCodeLine{02079\ }
\DoxyCodeLine{02080\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02081\ \ \ ErrorHandler\&\ handler\_;}
\DoxyCodeLine{02082\ \};}
\DoxyCodeLine{02083\ }
\DoxyCodeLine{02084\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1precision__checker}{precision\_checker}}\ \{}
\DoxyCodeLine{02085\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02086\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1precision__checker}{precision\_checker}}(ErrorHandler\&\ eh)\ :\ handler\_(eh)\ \{\}}
\DoxyCodeLine{02087\ }
\DoxyCodeLine{02088\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02089\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ operator()(T\ \mbox{\hyperlink{classdetail_1_1value}{value}})\ \{}
\DoxyCodeLine{02090\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classdetail_1_1value}{value}}))\ handler\_.on\_error(\textcolor{stringliteral}{"{}negative\ precision"{}});}
\DoxyCodeLine{02091\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02092\ \ \ \}}
\DoxyCodeLine{02093\ }
\DoxyCodeLine{02094\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{02095\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ operator()(T)\ \{}
\DoxyCodeLine{02096\ \ \ \ \ handler\_.on\_error(\textcolor{stringliteral}{"{}precision\ is\ not\ integer"{}});}
\DoxyCodeLine{02097\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02098\ \ \ \}}
\DoxyCodeLine{02099\ }
\DoxyCodeLine{02100\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02101\ \ \ ErrorHandler\&\ handler\_;}
\DoxyCodeLine{02102\ \};}
\DoxyCodeLine{02103\ }
\DoxyCodeLine{02104\ \textcolor{comment}{//\ A\ format\ specifier\ handler\ that\ sets\ fields\ in\ basic\_format\_specs.}}
\DoxyCodeLine{02105\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}\ \{}
\DoxyCodeLine{02106\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02107\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}(\mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)}
\DoxyCodeLine{02108\ \ \ \ \ \ \ :\ specs\_(specs)\ \{\}}
\DoxyCodeLine{02109\ }
\DoxyCodeLine{02110\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}\&\ other)}
\DoxyCodeLine{02111\ \ \ \ \ \ \ :\ specs\_(other.specs\_)\ \{\}}
\DoxyCodeLine{02112\ }
\DoxyCodeLine{02113\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_align(align\_t\ align)\ \{\ specs\_.align\ =\ align;\ \}}
\DoxyCodeLine{02114\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_fill(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ fill)\ \{}
\DoxyCodeLine{02115\ \ \ \ \ specs\_.fill\ =\ fill;}
\DoxyCodeLine{02116\ \ \ \}}
\DoxyCodeLine{02117\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_plus()\ \{\ specs\_.sign\ =\ sign::plus;\ \}}
\DoxyCodeLine{02118\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_minus()\ \{\ specs\_.sign\ =\ sign::minus;\ \}}
\DoxyCodeLine{02119\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_space()\ \{\ specs\_.sign\ =\ sign::space;\ \}}
\DoxyCodeLine{02120\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_hash()\ \{\ specs\_.alt\ =\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{02121\ }
\DoxyCodeLine{02122\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_zero()\ \{}
\DoxyCodeLine{02123\ \ \ \ \ specs\_.align\ =\ align::numeric;}
\DoxyCodeLine{02124\ \ \ \ \ specs\_.fill[0]\ =\ Char(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{02125\ \ \ \}}
\DoxyCodeLine{02126\ }
\DoxyCodeLine{02127\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_width(\textcolor{keywordtype}{int}\ width)\ \{\ specs\_.width\ =\ width;\ \}}
\DoxyCodeLine{02128\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_precision(\textcolor{keywordtype}{int}\ precision)\ \{}
\DoxyCodeLine{02129\ \ \ \ \ specs\_.precision\ =\ precision;}
\DoxyCodeLine{02130\ \ \ \}}
\DoxyCodeLine{02131\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ end\_precision()\ \{\}}
\DoxyCodeLine{02132\ }
\DoxyCodeLine{02133\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_type(Char\ type)\ \{}
\DoxyCodeLine{02134\ \ \ \ \ specs\_.type\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(type);}
\DoxyCodeLine{02135\ \ \ \}}
\DoxyCodeLine{02136\ }
\DoxyCodeLine{02137\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02138\ \ \ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs\_;}
\DoxyCodeLine{02139\ \};}
\DoxyCodeLine{02140\ }
\DoxyCodeLine{02141\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1numeric__specs__checker}{numeric\_specs\_checker}}\ \{}
\DoxyCodeLine{02142\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02143\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1numeric__specs__checker}{numeric\_specs\_checker}}(ErrorHandler\&\ eh,\ detail::type\ arg\_type)}
\DoxyCodeLine{02144\ \ \ \ \ \ \ :\ error\_handler\_(eh),\ arg\_type\_(arg\_type)\ \{\}}
\DoxyCodeLine{02145\ }
\DoxyCodeLine{02146\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ require\_numeric\_argument()\ \{}
\DoxyCodeLine{02147\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_arithmetic\_type(arg\_type\_))}
\DoxyCodeLine{02148\ \ \ \ \ \ \ error\_handler\_.on\_error(\textcolor{stringliteral}{"{}format\ specifier\ requires\ numeric\ argument"{}});}
\DoxyCodeLine{02149\ \ \ \}}
\DoxyCodeLine{02150\ }
\DoxyCodeLine{02151\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ check\_sign()\ \{}
\DoxyCodeLine{02152\ \ \ \ \ require\_numeric\_argument();}
\DoxyCodeLine{02153\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_integral\_type(arg\_type\_)\ \&\&\ arg\_type\_\ !=\ type::int\_type\ \&\&}
\DoxyCodeLine{02154\ \ \ \ \ \ \ \ \ arg\_type\_\ !=\ type::long\_long\_type\ \&\&\ arg\_type\_\ !=\ type::char\_type)\ \{}
\DoxyCodeLine{02155\ \ \ \ \ \ \ error\_handler\_.on\_error(\textcolor{stringliteral}{"{}format\ specifier\ requires\ signed\ argument"{}});}
\DoxyCodeLine{02156\ \ \ \ \ \}}
\DoxyCodeLine{02157\ \ \ \}}
\DoxyCodeLine{02158\ }
\DoxyCodeLine{02159\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ check\_precision()\ \{}
\DoxyCodeLine{02160\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_integral\_type(arg\_type\_)\ ||\ arg\_type\_\ ==\ type::pointer\_type)}
\DoxyCodeLine{02161\ \ \ \ \ \ \ error\_handler\_.on\_error(\textcolor{stringliteral}{"{}precision\ not\ allowed\ for\ this\ argument\ type"{}});}
\DoxyCodeLine{02162\ \ \ \}}
\DoxyCodeLine{02163\ }
\DoxyCodeLine{02164\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02165\ \ \ ErrorHandler\&\ error\_handler\_;}
\DoxyCodeLine{02166\ \ \ detail::type\ arg\_type\_;}
\DoxyCodeLine{02167\ \};}
\DoxyCodeLine{02168\ }
\DoxyCodeLine{02169\ \textcolor{comment}{//\ A\ format\ specifier\ handler\ that\ checks\ if\ specifiers\ are\ consistent\ with\ the}}
\DoxyCodeLine{02170\ \textcolor{comment}{//\ argument\ type.}}
\DoxyCodeLine{02171\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Handler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1specs__checker}{specs\_checker}}\ :\ \textcolor{keyword}{public}\ Handler\ \{}
\DoxyCodeLine{02172\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02173\ \ \ \mbox{\hyperlink{classdetail_1_1numeric__specs__checker}{numeric\_specs\_checker<Handler>}}\ checker\_;}
\DoxyCodeLine{02174\ }
\DoxyCodeLine{02175\ \ \ \textcolor{comment}{//\ Suppress\ an\ MSVC\ warning\ about\ using\ this\ in\ initializer\ list.}}
\DoxyCodeLine{02176\ \ \ FMT\_CONSTEXPR\ Handler\&\ \mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}()\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{02177\ }
\DoxyCodeLine{02178\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02179\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1specs__checker}{specs\_checker}}(\textcolor{keyword}{const}\ Handler\&\ handler,\ detail::type\ arg\_type)}
\DoxyCodeLine{02180\ \ \ \ \ \ \ :\ Handler(handler),\ checker\_(\mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}(),\ arg\_type)\ \{\}}
\DoxyCodeLine{02181\ }
\DoxyCodeLine{02182\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1specs__checker}{specs\_checker}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1specs__checker}{specs\_checker}}\&\ other)}
\DoxyCodeLine{02183\ \ \ \ \ \ \ :\ Handler(other),\ checker\_(\mbox{\hyperlink{structdetail_1_1error__handler}{error\_handler}}(),\ other.arg\_type\_)\ \{\}}
\DoxyCodeLine{02184\ }
\DoxyCodeLine{02185\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_align(align\_t\ align)\ \{}
\DoxyCodeLine{02186\ \ \ \ \ \textcolor{keywordflow}{if}\ (align\ ==\ align::numeric)\ checker\_.require\_numeric\_argument();}
\DoxyCodeLine{02187\ \ \ \ \ Handler::on\_align(align);}
\DoxyCodeLine{02188\ \ \ \}}
\DoxyCodeLine{02189\ }
\DoxyCodeLine{02190\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_plus()\ \{}
\DoxyCodeLine{02191\ \ \ \ \ checker\_.check\_sign();}
\DoxyCodeLine{02192\ \ \ \ \ Handler::on\_plus();}
\DoxyCodeLine{02193\ \ \ \}}
\DoxyCodeLine{02194\ }
\DoxyCodeLine{02195\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_minus()\ \{}
\DoxyCodeLine{02196\ \ \ \ \ checker\_.check\_sign();}
\DoxyCodeLine{02197\ \ \ \ \ Handler::on\_minus();}
\DoxyCodeLine{02198\ \ \ \}}
\DoxyCodeLine{02199\ }
\DoxyCodeLine{02200\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_space()\ \{}
\DoxyCodeLine{02201\ \ \ \ \ checker\_.check\_sign();}
\DoxyCodeLine{02202\ \ \ \ \ Handler::on\_space();}
\DoxyCodeLine{02203\ \ \ \}}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_hash()\ \{}
\DoxyCodeLine{02206\ \ \ \ \ checker\_.require\_numeric\_argument();}
\DoxyCodeLine{02207\ \ \ \ \ Handler::on\_hash();}
\DoxyCodeLine{02208\ \ \ \}}
\DoxyCodeLine{02209\ }
\DoxyCodeLine{02210\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_zero()\ \{}
\DoxyCodeLine{02211\ \ \ \ \ checker\_.require\_numeric\_argument();}
\DoxyCodeLine{02212\ \ \ \ \ Handler::on\_zero();}
\DoxyCodeLine{02213\ \ \ \}}
\DoxyCodeLine{02214\ }
\DoxyCodeLine{02215\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ end\_precision()\ \{\ checker\_.check\_precision();\ \}}
\DoxyCodeLine{02216\ \};}
\DoxyCodeLine{02217\ }
\DoxyCodeLine{02218\ \textcolor{keyword}{template}\ <\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}>\ \textcolor{keyword}{class\ }Handler,\ \textcolor{keyword}{typename}\ FormatArg,}
\DoxyCodeLine{02219\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{02220\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ get\_dynamic\_spec(FormatArg\ arg,\ ErrorHandler\ eh)\ \{}
\DoxyCodeLine{02221\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classdetail_1_1value}{value}}\ =\ visit\_format\_arg(Handler<ErrorHandler>(eh),\ arg);}
\DoxyCodeLine{02222\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdetail_1_1value}{value}}\ >\ to\_unsigned(max\_value<int>()))\ eh.on\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{02223\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classdetail_1_1value}{value}});}
\DoxyCodeLine{02224\ \}}
\DoxyCodeLine{02225\ }
\DoxyCodeLine{02226\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1auto__id}{auto\_id}}\ \{\};}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context,\ \textcolor{keyword}{typename}\ ID>}
\DoxyCodeLine{02229\ FMT\_CONSTEXPR\ \textcolor{keyword}{typename}\ Context::format\_arg\ get\_arg(Context\&\ ctx,\ ID\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02230\ \ \ \textcolor{keyword}{auto}\ arg\ =\ ctx.arg(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02231\ \ \ \textcolor{keywordflow}{if}\ (!arg)\ ctx.on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{02232\ \ \ \textcolor{keywordflow}{return}\ arg;}
\DoxyCodeLine{02233\ \}}
\DoxyCodeLine{02234\ }
\DoxyCodeLine{02235\ \textcolor{comment}{//\ The\ standard\ format\ specifier\ handler\ with\ checking.}}
\DoxyCodeLine{02236\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext,\ \textcolor{keyword}{typename}\ Context>}
\DoxyCodeLine{02237\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1specs__handler}{specs\_handler}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}<typename\ Context::char\_type>\ \{}
\DoxyCodeLine{02238\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02239\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ \textcolor{keyword}{typename}\ Context::char\_type;}
\DoxyCodeLine{02240\ }
\DoxyCodeLine{02241\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1specs__handler}{specs\_handler}}(\mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<char\_type>}}\&\ specs,}
\DoxyCodeLine{02242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ParseContext\&\ parse\_ctx,\ Context\&\ ctx)}
\DoxyCodeLine{02243\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter<char\_type>}}(specs),}
\DoxyCodeLine{02244\ \ \ \ \ \ \ \ \ parse\_context\_(parse\_ctx),}
\DoxyCodeLine{02245\ \ \ \ \ \ \ \ \ context\_(ctx)\ \{\}}
\DoxyCodeLine{02246\ }
\DoxyCodeLine{02247\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_width(Id\ arg\_id)\ \{}
\DoxyCodeLine{02248\ \ \ \ \ this-\/>specs\_.width\ =\ get\_dynamic\_spec<width\_checker>(}
\DoxyCodeLine{02249\ \ \ \ \ \ \ \ \ get\_arg(arg\_id),\ context\_.error\_handler());}
\DoxyCodeLine{02250\ \ \ \}}
\DoxyCodeLine{02251\ }
\DoxyCodeLine{02252\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_precision(Id\ arg\_id)\ \{}
\DoxyCodeLine{02253\ \ \ \ \ this-\/>specs\_.precision\ =\ get\_dynamic\_spec<precision\_checker>(}
\DoxyCodeLine{02254\ \ \ \ \ \ \ \ \ get\_arg(arg\_id),\ context\_.error\_handler());}
\DoxyCodeLine{02255\ \ \ \}}
\DoxyCodeLine{02256\ }
\DoxyCodeLine{02257\ \ \ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{\ context\_.on\_error(message);\ \}}
\DoxyCodeLine{02258\ }
\DoxyCodeLine{02259\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02260\ \ \ \textcolor{comment}{//\ This\ is\ only\ needed\ for\ compatibility\ with\ gcc\ 4.4.}}
\DoxyCodeLine{02261\ \ \ \textcolor{keyword}{using\ }format\_arg\ =\ \textcolor{keyword}{typename}\ Context::format\_arg;}
\DoxyCodeLine{02262\ }
\DoxyCodeLine{02263\ \ \ FMT\_CONSTEXPR\ format\_arg\ get\_arg(\mbox{\hyperlink{structdetail_1_1auto__id}{auto\_id}})\ \{}
\DoxyCodeLine{02264\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ parse\_context\_.next\_arg\_id());}
\DoxyCodeLine{02265\ \ \ \}}
\DoxyCodeLine{02266\ }
\DoxyCodeLine{02267\ \ \ FMT\_CONSTEXPR\ format\_arg\ get\_arg(\textcolor{keywordtype}{int}\ arg\_id)\ \{}
\DoxyCodeLine{02268\ \ \ \ \ parse\_context\_.check\_arg\_id(arg\_id);}
\DoxyCodeLine{02269\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ arg\_id);}
\DoxyCodeLine{02270\ \ \ \}}
\DoxyCodeLine{02271\ }
\DoxyCodeLine{02272\ \ \ FMT\_CONSTEXPR\ format\_arg\ get\_arg(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char\_type>}}\ arg\_id)\ \{}
\DoxyCodeLine{02273\ \ \ \ \ parse\_context\_.check\_arg\_id(arg\_id);}
\DoxyCodeLine{02274\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ arg\_id);}
\DoxyCodeLine{02275\ \ \ \}}
\DoxyCodeLine{02276\ }
\DoxyCodeLine{02277\ \ \ ParseContext\&\ parse\_context\_;}
\DoxyCodeLine{02278\ \ \ Context\&\ context\_;}
\DoxyCodeLine{02279\ \};}
\DoxyCodeLine{02280\ }
\DoxyCodeLine{02281\ \textcolor{keyword}{enum\ class}\ arg\_id\_kind\ \{\ none,\ index,\ name\ \};}
\DoxyCodeLine{02282\ }
\DoxyCodeLine{02283\ \textcolor{comment}{//\ An\ argument\ reference.}}
\DoxyCodeLine{02284\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref}}\ \{}
\DoxyCodeLine{02285\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref}}()\ :\ kind(arg\_id\_kind::none),\ val()\ \{\}}
\DoxyCodeLine{02286\ }
\DoxyCodeLine{02287\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref}}(\textcolor{keywordtype}{int}\ index)}
\DoxyCodeLine{02288\ \ \ \ \ \ \ :\ kind(arg\_id\_kind::index),\ val(index)\ \{\}}
\DoxyCodeLine{02289\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref}}(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ name)}
\DoxyCodeLine{02290\ \ \ \ \ \ \ :\ kind(arg\_id\_kind::name),\ val(name)\ \{\}}
\DoxyCodeLine{02291\ }
\DoxyCodeLine{02292\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref}}\&\ operator=(\textcolor{keywordtype}{int}\ idx)\ \{}
\DoxyCodeLine{02293\ \ \ \ \ kind\ =\ arg\_id\_kind::index;}
\DoxyCodeLine{02294\ \ \ \ \ val.index\ =\ idx;}
\DoxyCodeLine{02295\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02296\ \ \ \}}
\DoxyCodeLine{02297\ }
\DoxyCodeLine{02298\ \ \ arg\_id\_kind\ kind;}
\DoxyCodeLine{02299\ \ \ \textcolor{keyword}{union\ }\mbox{\hyperlink{uniondetail_1_1arg__ref_1_1value}{value}}\ \{}
\DoxyCodeLine{02300\ \ \ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{uniondetail_1_1arg__ref_1_1value}{value}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\ =\ 0)\ :\ index\{\textcolor{keywordtype}{id}\}\ \{\}}
\DoxyCodeLine{02301\ \ \ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{uniondetail_1_1arg__ref_1_1value}{value}}(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ n)\ :\ name(n)\ \{\}}
\DoxyCodeLine{02302\ }
\DoxyCodeLine{02303\ \ \ \ \ \textcolor{keywordtype}{int}\ index;}
\DoxyCodeLine{02304\ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ name;}
\DoxyCodeLine{02305\ \ \ \}\ val;}
\DoxyCodeLine{02306\ \};}
\DoxyCodeLine{02307\ }
\DoxyCodeLine{02308\ \textcolor{comment}{//\ Format\ specifiers\ with\ width\ and\ precision\ resolved\ at\ formatting\ rather}}
\DoxyCodeLine{02309\ \textcolor{comment}{//\ than\ parsing\ time\ to\ allow\ re-\/using\ the\ same\ parsed\ specifiers\ with}}
\DoxyCodeLine{02310\ \textcolor{comment}{//\ different\ sets\ of\ arguments\ (precompilation\ of\ format\ strings).}}
\DoxyCodeLine{02311\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02312\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{dynamic\_format\_specs}}\ :\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs}}<Char>\ \{}
\DoxyCodeLine{02313\ \ \ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref<Char>}}\ width\_ref;}
\DoxyCodeLine{02314\ \ \ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref<Char>}}\ precision\_ref;}
\DoxyCodeLine{02315\ \};}
\DoxyCodeLine{02316\ }
\DoxyCodeLine{02317\ \textcolor{comment}{//\ Format\ spec\ handler\ that\ saves\ references\ to\ arguments\ representing\ dynamic}}
\DoxyCodeLine{02318\ \textcolor{comment}{//\ width\ and\ precision\ to\ be\ resolved\ at\ formatting\ time.}}
\DoxyCodeLine{02319\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{02320\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{dynamic\_specs\_handler}}}
\DoxyCodeLine{02321\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter}}<typename\ ParseContext::char\_type>\ \{}
\DoxyCodeLine{02322\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02323\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ \textcolor{keyword}{typename}\ ParseContext::char\_type;}
\DoxyCodeLine{02324\ }
\DoxyCodeLine{02325\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{dynamic\_specs\_handler}}(\mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{dynamic\_format\_specs<char\_type>}}\&\ specs,}
\DoxyCodeLine{02326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ParseContext\&\ ctx)}
\DoxyCodeLine{02327\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter<char\_type>}}(specs),\ specs\_(specs),\ context\_(ctx)\ \{\}}
\DoxyCodeLine{02328\ }
\DoxyCodeLine{02329\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{dynamic\_specs\_handler}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{dynamic\_specs\_handler}}\&\ other)}
\DoxyCodeLine{02330\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1specs__setter}{specs\_setter<char\_type>}}(other),}
\DoxyCodeLine{02331\ \ \ \ \ \ \ \ \ specs\_(other.specs\_),}
\DoxyCodeLine{02332\ \ \ \ \ \ \ \ \ context\_(other.context\_)\ \{\}}
\DoxyCodeLine{02333\ }
\DoxyCodeLine{02334\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_width(Id\ arg\_id)\ \{}
\DoxyCodeLine{02335\ \ \ \ \ specs\_.width\_ref\ =\ make\_arg\_ref(arg\_id);}
\DoxyCodeLine{02336\ \ \ \}}
\DoxyCodeLine{02337\ }
\DoxyCodeLine{02338\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_precision(Id\ arg\_id)\ \{}
\DoxyCodeLine{02339\ \ \ \ \ specs\_.precision\_ref\ =\ make\_arg\_ref(arg\_id);}
\DoxyCodeLine{02340\ \ \ \}}
\DoxyCodeLine{02341\ }
\DoxyCodeLine{02342\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{}
\DoxyCodeLine{02343\ \ \ \ \ context\_.on\_error(message);}
\DoxyCodeLine{02344\ \ \ \}}
\DoxyCodeLine{02345\ }
\DoxyCodeLine{02346\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02347\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}\ =\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref<char\_type>}};}
\DoxyCodeLine{02348\ }
\DoxyCodeLine{02349\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}\ make\_arg\_ref(\textcolor{keywordtype}{int}\ arg\_id)\ \{}
\DoxyCodeLine{02350\ \ \ \ \ context\_.check\_arg\_id(arg\_id);}
\DoxyCodeLine{02351\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}(arg\_id);}
\DoxyCodeLine{02352\ \ \ \}}
\DoxyCodeLine{02353\ }
\DoxyCodeLine{02354\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}\ make\_arg\_ref(\mbox{\hyperlink{structdetail_1_1auto__id}{auto\_id}})\ \{}
\DoxyCodeLine{02355\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}(context\_.next\_arg\_id());}
\DoxyCodeLine{02356\ \ \ \}}
\DoxyCodeLine{02357\ }
\DoxyCodeLine{02358\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}\ make\_arg\_ref(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char\_type>}}\ arg\_id)\ \{}
\DoxyCodeLine{02359\ \ \ \ \ context\_.check\_arg\_id(arg\_id);}
\DoxyCodeLine{02360\ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char\_type>}}\ format\_str(}
\DoxyCodeLine{02361\ \ \ \ \ \ \ \ \ context\_.begin(),\ to\_unsigned(context\_.end()\ -\/\ context\_.begin()));}
\DoxyCodeLine{02362\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structdetail_1_1arg__ref}{arg\_ref\_type}}(arg\_id);}
\DoxyCodeLine{02363\ \ \ \}}
\DoxyCodeLine{02364\ }
\DoxyCodeLine{02365\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{dynamic\_format\_specs<char\_type>}}\&\ specs\_;}
\DoxyCodeLine{02366\ \ \ ParseContext\&\ context\_;}
\DoxyCodeLine{02367\ \};}
\DoxyCodeLine{02368\ }
\DoxyCodeLine{02369\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ IDHandler>}
\DoxyCodeLine{02370\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_arg\_id(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IDHandler\&\&\ handler)\ \{}
\DoxyCodeLine{02372\ \ \ FMT\_ASSERT(begin\ !=\ end,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02373\ \ \ Char\ c\ =\ *begin;}
\DoxyCodeLine{02374\ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\}'}\ ||\ c\ ==\ \textcolor{charliteral}{':'})\ \{}
\DoxyCodeLine{02375\ \ \ \ \ handler();}
\DoxyCodeLine{02376\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02377\ \ \ \}}
\DoxyCodeLine{02378\ \ \ \textcolor{keywordflow}{if}\ (c\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ c\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{02379\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0;}
\DoxyCodeLine{02380\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ \textcolor{charliteral}{'0'})}
\DoxyCodeLine{02381\ \ \ \ \ \ \ index\ =\ parse\_nonnegative\_int(begin,\ end,\ handler);}
\DoxyCodeLine{02382\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02383\ \ \ \ \ \ \ ++begin;}
\DoxyCodeLine{02384\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ (*begin\ !=\ \textcolor{charliteral}{'\}'}\ \&\&\ *begin\ !=\ \textcolor{charliteral}{':'}))}
\DoxyCodeLine{02385\ \ \ \ \ \ \ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ string"{}});}
\DoxyCodeLine{02386\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02387\ \ \ \ \ \ \ handler(index);}
\DoxyCodeLine{02388\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02389\ \ \ \}}
\DoxyCodeLine{02390\ \ \ \textcolor{keywordflow}{if}\ (!is\_name\_start(c))\ \{}
\DoxyCodeLine{02391\ \ \ \ \ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ string"{}});}
\DoxyCodeLine{02392\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02393\ \ \ \}}
\DoxyCodeLine{02394\ \ \ \textcolor{keyword}{auto}\ it\ =\ begin;}
\DoxyCodeLine{02395\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02396\ \ \ \ \ ++it;}
\DoxyCodeLine{02397\ \ \ \}\ \textcolor{keywordflow}{while}\ (it\ !=\ end\ \&\&\ (is\_name\_start(c\ =\ *it)\ ||\ (\textcolor{charliteral}{'0'}\ <=\ c\ \&\&\ c\ <=\ \textcolor{charliteral}{'9'})));}
\DoxyCodeLine{02398\ \ \ handler(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(begin,\ \mbox{\hyperlink{namespacesrsran_a1ccaefcc6a0383418d549196f3d06739}{to\_unsigned}}(it\ -\/\ begin)));}
\DoxyCodeLine{02399\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02400\ \}}
\DoxyCodeLine{02401\ }
\DoxyCodeLine{02402\ \textcolor{comment}{//\ Adapts\ SpecHandler\ to\ IDHandler\ API\ for\ dynamic\ width.}}
\DoxyCodeLine{02403\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ SpecHandler,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1width__adapter}{width\_adapter}}\ \{}
\DoxyCodeLine{02404\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1width__adapter}{width\_adapter}}(SpecHandler\&\ h)\ :\ handler(h)\ \{\}}
\DoxyCodeLine{02405\ }
\DoxyCodeLine{02406\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()()\ \{\ handler.on\_dynamic\_width(\mbox{\hyperlink{structdetail_1_1auto__id}{auto\_id}}());\ \}}
\DoxyCodeLine{02407\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ handler.on\_dynamic\_width(\textcolor{keywordtype}{id});\ \}}
\DoxyCodeLine{02408\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02409\ \ \ \ \ handler.on\_dynamic\_width(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02410\ \ \ \}}
\DoxyCodeLine{02411\ }
\DoxyCodeLine{02412\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{}
\DoxyCodeLine{02413\ \ \ \ \ handler.on\_error(message);}
\DoxyCodeLine{02414\ \ \ \}}
\DoxyCodeLine{02415\ }
\DoxyCodeLine{02416\ \ \ SpecHandler\&\ handler;}
\DoxyCodeLine{02417\ \};}
\DoxyCodeLine{02418\ }
\DoxyCodeLine{02419\ \textcolor{comment}{//\ Adapts\ SpecHandler\ to\ IDHandler\ API\ for\ dynamic\ precision.}}
\DoxyCodeLine{02420\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ SpecHandler,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1precision__adapter}{precision\_adapter}}\ \{}
\DoxyCodeLine{02421\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structdetail_1_1precision__adapter}{precision\_adapter}}(SpecHandler\&\ h)\ :\ handler(h)\ \{\}}
\DoxyCodeLine{02422\ }
\DoxyCodeLine{02423\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()()\ \{\ handler.on\_dynamic\_precision(\mbox{\hyperlink{structdetail_1_1auto__id}{auto\_id}}());\ \}}
\DoxyCodeLine{02424\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ handler.on\_dynamic\_precision(\textcolor{keywordtype}{id});\ \}}
\DoxyCodeLine{02425\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02426\ \ \ \ \ handler.on\_dynamic\_precision(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02427\ \ \ \}}
\DoxyCodeLine{02428\ }
\DoxyCodeLine{02429\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{}
\DoxyCodeLine{02430\ \ \ \ \ handler.on\_error(message);}
\DoxyCodeLine{02431\ \ \ \}}
\DoxyCodeLine{02432\ }
\DoxyCodeLine{02433\ \ \ SpecHandler\&\ handler;}
\DoxyCodeLine{02434\ \};}
\DoxyCodeLine{02435\ }
\DoxyCodeLine{02436\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02437\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ next\_code\_point(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{02438\ \ \ \textcolor{keywordflow}{if}\ (const\_check(\textcolor{keyword}{sizeof}(Char)\ !=\ 1)\ ||\ (*begin\ \&\ 0x80)\ ==\ 0)\ \textcolor{keywordflow}{return}\ begin\ +\ 1;}
\DoxyCodeLine{02439\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02440\ \ \ \ \ ++begin;}
\DoxyCodeLine{02441\ \ \ \}\ \textcolor{keywordflow}{while}\ (begin\ !=\ end\ \&\&\ (*begin\ \&\ 0xc0)\ ==\ 0x80);}
\DoxyCodeLine{02442\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02443\ \}}
\DoxyCodeLine{02444\ }
\DoxyCodeLine{02445\ \textcolor{comment}{//\ Parses\ fill\ and\ alignment.}}
\DoxyCodeLine{02446\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{02447\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_align(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{02449\ \ \ FMT\_ASSERT(begin\ !=\ end,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02450\ \ \ \textcolor{keyword}{auto}\ align\ =\ align::none;}
\DoxyCodeLine{02451\ \ \ \textcolor{keyword}{auto}\ p\ =\ next\_code\_point(begin,\ end);}
\DoxyCodeLine{02452\ \ \ \textcolor{keywordflow}{if}\ (p\ ==\ end)\ p\ =\ begin;}
\DoxyCodeLine{02453\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{02454\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(*p))\ \{}
\DoxyCodeLine{02455\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'<'}:}
\DoxyCodeLine{02456\ \ \ \ \ \ \ align\ =\ align::left;}
\DoxyCodeLine{02457\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02458\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'>'}:}
\DoxyCodeLine{02459\ \ \ \ \ \ \ align\ =\ align::right;}
\DoxyCodeLine{02460\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02461\ \textcolor{preprocessor}{\#if\ FMT\_DEPRECATED\_NUMERIC\_ALIGN}}
\DoxyCodeLine{02462\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'='}:}
\DoxyCodeLine{02463\ \ \ \ \ \ \ align\ =\ align::numeric;}
\DoxyCodeLine{02464\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02465\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02466\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\string^'}:}
\DoxyCodeLine{02467\ \ \ \ \ \ \ align\ =\ align::center;}
\DoxyCodeLine{02468\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02469\ \ \ \ \ \}}
\DoxyCodeLine{02470\ \ \ \ \ \textcolor{keywordflow}{if}\ (align\ !=\ align::none)\ \{}
\DoxyCodeLine{02471\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ !=\ begin)\ \{}
\DoxyCodeLine{02472\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ c\ =\ *begin;}
\DoxyCodeLine{02473\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\{'})}
\DoxyCodeLine{02474\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ fill\ character\ '\{'"{}}),\ begin;}
\DoxyCodeLine{02475\ \ \ \ \ \ \ \ \ handler.on\_fill(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(begin,\ \mbox{\hyperlink{namespacesrsran_a1ccaefcc6a0383418d549196f3d06739}{to\_unsigned}}(p\ -\/\ begin)));}
\DoxyCodeLine{02476\ \ \ \ \ \ \ \ \ begin\ =\ p\ +\ 1;}
\DoxyCodeLine{02477\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02478\ \ \ \ \ \ \ \ \ ++begin;}
\DoxyCodeLine{02479\ \ \ \ \ \ \ handler.on\_align(align);}
\DoxyCodeLine{02480\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02481\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (p\ ==\ begin)\ \{}
\DoxyCodeLine{02482\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02483\ \ \ \ \ \}}
\DoxyCodeLine{02484\ \ \ \ \ p\ =\ begin;}
\DoxyCodeLine{02485\ \ \ \}}
\DoxyCodeLine{02486\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02487\ \}}
\DoxyCodeLine{02488\ }
\DoxyCodeLine{02489\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{02490\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_width(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{02492\ \ \ FMT\_ASSERT(begin\ !=\ end,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02493\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'0'}\ <=\ *begin\ \&\&\ *begin\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{02494\ \ \ \ \ handler.on\_width(parse\_nonnegative\_int(begin,\ end,\ handler));}
\DoxyCodeLine{02495\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{charliteral}{'\{'})\ \{}
\DoxyCodeLine{02496\ \ \ \ \ ++begin;}
\DoxyCodeLine{02497\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ !=\ end)}
\DoxyCodeLine{02498\ \ \ \ \ \ \ begin\ =\ parse\_arg\_id(begin,\ end,\ width\_adapter<Handler,\ Char>(handler));}
\DoxyCodeLine{02499\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{02500\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ string"{}}),\ begin;}
\DoxyCodeLine{02501\ \ \ \ \ ++begin;}
\DoxyCodeLine{02502\ \ \ \}}
\DoxyCodeLine{02503\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02504\ \}}
\DoxyCodeLine{02505\ }
\DoxyCodeLine{02506\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{02507\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_precision(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{02509\ \ \ ++begin;}
\DoxyCodeLine{02510\ \ \ \textcolor{keyword}{auto}\ c\ =\ begin\ !=\ end\ ?\ *begin\ :\ Char();}
\DoxyCodeLine{02511\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'0'}\ <=\ c\ \&\&\ c\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{02512\ \ \ \ \ handler.on\_precision(parse\_nonnegative\_int(begin,\ end,\ handler));}
\DoxyCodeLine{02513\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\{'})\ \{}
\DoxyCodeLine{02514\ \ \ \ \ ++begin;}
\DoxyCodeLine{02515\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ !=\ end)\ \{}
\DoxyCodeLine{02516\ \ \ \ \ \ \ begin\ =}
\DoxyCodeLine{02517\ \ \ \ \ \ \ \ \ \ \ parse\_arg\_id(begin,\ end,\ precision\_adapter<Handler,\ Char>(handler));}
\DoxyCodeLine{02518\ \ \ \ \ \}}
\DoxyCodeLine{02519\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin++\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{02520\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ string"{}}),\ begin;}
\DoxyCodeLine{02521\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02522\ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}missing\ precision\ specifier"{}}),\ begin;}
\DoxyCodeLine{02523\ \ \ \}}
\DoxyCodeLine{02524\ \ \ handler.end\_precision();}
\DoxyCodeLine{02525\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02526\ \}}
\DoxyCodeLine{02527\ }
\DoxyCodeLine{02528\ \textcolor{comment}{//\ Parses\ standard\ format\ specifiers\ and\ sends\ notifications\ about\ parsed}}
\DoxyCodeLine{02529\ \textcolor{comment}{//\ components\ to\ handler.}}
\DoxyCodeLine{02530\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ SpecHandler>}
\DoxyCodeLine{02531\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_format\_specs(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SpecHandler\&\&\ handler)\ \{}
\DoxyCodeLine{02533\ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ ==\ \textcolor{charliteral}{'\}'})\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02534\ }
\DoxyCodeLine{02535\ \ \ begin\ =\ parse\_align(begin,\ end,\ handler);}
\DoxyCodeLine{02536\ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02537\ }
\DoxyCodeLine{02538\ \ \ \textcolor{comment}{//\ Parse\ sign.}}
\DoxyCodeLine{02539\ \ \ \textcolor{keywordflow}{switch}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(*begin))\ \{}
\DoxyCodeLine{02540\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'+'}:}
\DoxyCodeLine{02541\ \ \ \ \ handler.on\_plus();}
\DoxyCodeLine{02542\ \ \ \ \ ++begin;}
\DoxyCodeLine{02543\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02544\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'-\/'}:}
\DoxyCodeLine{02545\ \ \ \ \ handler.on\_minus();}
\DoxyCodeLine{02546\ \ \ \ \ ++begin;}
\DoxyCodeLine{02547\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02548\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\ '}:}
\DoxyCodeLine{02549\ \ \ \ \ handler.on\_space();}
\DoxyCodeLine{02550\ \ \ \ \ ++begin;}
\DoxyCodeLine{02551\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02552\ \ \ \}}
\DoxyCodeLine{02553\ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02554\ }
\DoxyCodeLine{02555\ \ \ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{charliteral}{'\#'})\ \{}
\DoxyCodeLine{02556\ \ \ \ \ handler.on\_hash();}
\DoxyCodeLine{02557\ \ \ \ \ \textcolor{keywordflow}{if}\ (++begin\ ==\ end)\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02558\ \ \ \}}
\DoxyCodeLine{02559\ }
\DoxyCodeLine{02560\ \ \ \textcolor{comment}{//\ Parse\ zero\ flag.}}
\DoxyCodeLine{02561\ \ \ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{02562\ \ \ \ \ handler.on\_zero();}
\DoxyCodeLine{02563\ \ \ \ \ \textcolor{keywordflow}{if}\ (++begin\ ==\ end)\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02564\ \ \ \}}
\DoxyCodeLine{02565\ }
\DoxyCodeLine{02566\ \ \ begin\ =\ parse\_width(begin,\ end,\ handler);}
\DoxyCodeLine{02567\ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02568\ }
\DoxyCodeLine{02569\ \ \ \textcolor{comment}{//\ Parse\ precision.}}
\DoxyCodeLine{02570\ \ \ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{charliteral}{'.'})\ \{}
\DoxyCodeLine{02571\ \ \ \ \ begin\ =\ parse\_precision(begin,\ end,\ handler);}
\DoxyCodeLine{02572\ \ \ \}}
\DoxyCodeLine{02573\ }
\DoxyCodeLine{02574\ \ \ \textcolor{comment}{//\ Parse\ type.}}
\DoxyCodeLine{02575\ \ \ \textcolor{keywordflow}{if}\ (begin\ !=\ end\ \&\&\ *begin\ !=\ \textcolor{charliteral}{'\}'})\ handler.on\_type(*begin++);}
\DoxyCodeLine{02576\ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02577\ \}}
\DoxyCodeLine{02578\ }
\DoxyCodeLine{02579\ \textcolor{comment}{//\ Return\ the\ result\ via\ the\ out\ param\ to\ workaround\ gcc\ bug\ 77539.}}
\DoxyCodeLine{02580\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ IS\_CONSTEXPR,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Ptr\ =\ const\ T*>}
\DoxyCodeLine{02581\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ find(Ptr\ first,\ Ptr\ last,\ T\ value,\ Ptr\&\ out)\ \{}
\DoxyCodeLine{02582\ \ \ \textcolor{keywordflow}{for}\ (out\ =\ first;\ out\ !=\ last;\ ++out)\ \{}
\DoxyCodeLine{02583\ \ \ \ \ \textcolor{keywordflow}{if}\ (*out\ ==\ value)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02584\ \ \ \}}
\DoxyCodeLine{02585\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02586\ \}}
\DoxyCodeLine{02587\ }
\DoxyCodeLine{02588\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{02589\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ find<false,\ char>(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ first,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ last,\ \textcolor{keywordtype}{char}\ value,}
\DoxyCodeLine{02590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\&\ out)\ \{}
\DoxyCodeLine{02591\ \ \ out\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(}
\DoxyCodeLine{02592\ \ \ \ \ \ \ std::memchr(first,\ value,\ detail::to\_unsigned(last\ -\/\ first)));}
\DoxyCodeLine{02593\ \ \ \textcolor{keywordflow}{return}\ out\ !=\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02594\ \}}
\DoxyCodeLine{02595\ }
\DoxyCodeLine{02596\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Handler,\ \textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1id__adapter}{id\_adapter}}\ \{}
\DoxyCodeLine{02597\ \ \ Handler\&\ handler;}
\DoxyCodeLine{02598\ \ \ \textcolor{keywordtype}{int}\ arg\_id;}
\DoxyCodeLine{02599\ }
\DoxyCodeLine{02600\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()()\ \{\ arg\_id\ =\ handler.on\_arg\_id();\ \}}
\DoxyCodeLine{02601\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ arg\_id\ =\ handler.on\_arg\_id(\textcolor{keywordtype}{id});\ \}}
\DoxyCodeLine{02602\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02603\ \ \ \ \ arg\_id\ =\ handler.on\_arg\_id(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02604\ \ \ \}}
\DoxyCodeLine{02605\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{}
\DoxyCodeLine{02606\ \ \ \ \ handler.on\_error(message);}
\DoxyCodeLine{02607\ \ \ \}}
\DoxyCodeLine{02608\ \};}
\DoxyCodeLine{02609\ }
\DoxyCodeLine{02610\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{02611\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ parse\_replacement\_field(\textcolor{keyword}{const}\ Char*\ begin,}
\DoxyCodeLine{02612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char*\ end,}
\DoxyCodeLine{02613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{02614\ \ \ ++begin;}
\DoxyCodeLine{02615\ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}invalid\ format\ string"{}}),\ end;}
\DoxyCodeLine{02616\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(*begin)\ ==\ \textcolor{charliteral}{'\}'})\ \{}
\DoxyCodeLine{02617\ \ \ \ \ handler.on\_replacement\_field(handler.on\_arg\_id(),\ begin);}
\DoxyCodeLine{02618\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (*begin\ ==\ \textcolor{charliteral}{'\{'})\ \{}
\DoxyCodeLine{02619\ \ \ \ \ handler.on\_text(begin,\ begin\ +\ 1);}
\DoxyCodeLine{02620\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02621\ \ \ \ \ \textcolor{keyword}{auto}\ adapter\ =\ id\_adapter<Handler,\ Char>\{handler,\ 0\};}
\DoxyCodeLine{02622\ \ \ \ \ begin\ =\ parse\_arg\_id(begin,\ end,\ adapter);}
\DoxyCodeLine{02623\ \ \ \ \ Char\ c\ =\ begin\ !=\ end\ ?\ *begin\ :\ Char();}
\DoxyCodeLine{02624\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\}'})\ \{}
\DoxyCodeLine{02625\ \ \ \ \ \ \ handler.on\_replacement\_field(adapter.arg\_id,\ begin);}
\DoxyCodeLine{02626\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{':'})\ \{}
\DoxyCodeLine{02627\ \ \ \ \ \ \ begin\ =\ handler.on\_format\_specs(adapter.arg\_id,\ begin\ +\ 1,\ end);}
\DoxyCodeLine{02628\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{02629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}unknown\ format\ specifier"{}}),\ end;}
\DoxyCodeLine{02630\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02631\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}missing\ '\}'\ in\ format\ string"{}}),\ end;}
\DoxyCodeLine{02632\ \ \ \ \ \}}
\DoxyCodeLine{02633\ \ \ \}}
\DoxyCodeLine{02634\ \ \ \textcolor{keywordflow}{return}\ begin\ +\ 1;}
\DoxyCodeLine{02635\ \}}
\DoxyCodeLine{02636\ }
\DoxyCodeLine{02637\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ IS\_CONSTEXPR,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Handler>}
\DoxyCodeLine{02638\ FMT\_CONSTEXPR\_DECL\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ parse\_format\_string(}
\DoxyCodeLine{02639\ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,\ Handler\&\&\ handler)\ \{}
\DoxyCodeLine{02640\ \ \ \textcolor{keyword}{auto}\ begin\ =\ format\_str.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}();}
\DoxyCodeLine{02641\ \ \ \textcolor{keyword}{auto}\ end\ =\ begin\ +\ format\_str.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}();}
\DoxyCodeLine{02642\ \ \ \textcolor{keywordflow}{if}\ (end\ -\/\ begin\ <\ 32)\ \{}
\DoxyCodeLine{02643\ \ \ \ \ \textcolor{comment}{//\ Use\ a\ simple\ loop\ instead\ of\ memchr\ for\ small\ strings.}}
\DoxyCodeLine{02644\ \ \ \ \ \textcolor{keyword}{const}\ Char*\ p\ =\ begin;}
\DoxyCodeLine{02645\ \ \ \ \ \textcolor{keywordflow}{while}\ (p\ !=\ end)\ \{}
\DoxyCodeLine{02646\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ c\ =\ *p++;}
\DoxyCodeLine{02647\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\{'})\ \{}
\DoxyCodeLine{02648\ \ \ \ \ \ \ \ \ handler.on\_text(begin,\ p\ -\/\ 1);}
\DoxyCodeLine{02649\ \ \ \ \ \ \ \ \ begin\ =\ p\ =\ parse\_replacement\_field(p\ -\/\ 1,\ end,\ handler);}
\DoxyCodeLine{02650\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (c\ ==\ \textcolor{charliteral}{'\}'})\ \{}
\DoxyCodeLine{02651\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ ==\ end\ ||\ *p\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{02652\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler.on\_error(\textcolor{stringliteral}{"{}unmatched\ '\}'\ in\ format\ string"{}});}
\DoxyCodeLine{02653\ \ \ \ \ \ \ \ \ handler.on\_text(begin,\ p);}
\DoxyCodeLine{02654\ \ \ \ \ \ \ \ \ begin\ =\ ++p;}
\DoxyCodeLine{02655\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02656\ \ \ \ \ \}}
\DoxyCodeLine{02657\ \ \ \ \ handler.on\_text(begin,\ end);}
\DoxyCodeLine{02658\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02659\ \ \ \}}
\DoxyCodeLine{02660\ \ \ \textcolor{keyword}{struct\ }writer\ \{}
\DoxyCodeLine{02661\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator()(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{02662\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02663\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{02664\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char*\ p\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02665\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!find<IS\_CONSTEXPR>(begin,\ end,\ \textcolor{charliteral}{'\}'},\ p))}
\DoxyCodeLine{02666\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler\_.on\_text(begin,\ end);}
\DoxyCodeLine{02667\ \ \ \ \ \ \ \ \ ++p;}
\DoxyCodeLine{02668\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ ==\ end\ ||\ *p\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{02669\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handler\_.on\_error(\textcolor{stringliteral}{"{}unmatched\ '\}'\ in\ format\ string"{}});}
\DoxyCodeLine{02670\ \ \ \ \ \ \ \ \ handler\_.on\_text(begin,\ p);}
\DoxyCodeLine{02671\ \ \ \ \ \ \ \ \ begin\ =\ p\ +\ 1;}
\DoxyCodeLine{02672\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02673\ \ \ \ \ \}}
\DoxyCodeLine{02674\ \ \ \ \ Handler\&\ handler\_;}
\DoxyCodeLine{02675\ \ \ \}\ write\{handler\};}
\DoxyCodeLine{02676\ \ \ \textcolor{keywordflow}{while}\ (begin\ !=\ end)\ \{}
\DoxyCodeLine{02677\ \ \ \ \ \textcolor{comment}{//\ Doing\ two\ passes\ with\ memchr\ (one\ for\ '\{'\ and\ another\ for\ '\}')\ is\ up\ to}}
\DoxyCodeLine{02678\ \ \ \ \ \textcolor{comment}{//\ 2.5x\ faster\ than\ the\ naive\ one-\/pass\ implementation\ on\ big\ format\ strings.}}
\DoxyCodeLine{02679\ \ \ \ \ \textcolor{keyword}{const}\ Char*\ p\ =\ begin;}
\DoxyCodeLine{02680\ \ \ \ \ \textcolor{keywordflow}{if}\ (*begin\ !=\ \textcolor{charliteral}{'\{'}\ \&\&\ !find<IS\_CONSTEXPR>(begin\ +\ 1,\ end,\ \textcolor{charliteral}{'\{'},\ p))}
\DoxyCodeLine{02681\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write(begin,\ end);}
\DoxyCodeLine{02682\ \ \ \ \ write(begin,\ p);}
\DoxyCodeLine{02683\ \ \ \ \ begin\ =\ parse\_replacement\_field(p,\ end,\ handler);}
\DoxyCodeLine{02684\ \ \ \}}
\DoxyCodeLine{02685\ \}}
\DoxyCodeLine{02686\ }
\DoxyCodeLine{02687\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{02688\ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ ParseContext::char\_type*\ parse\_format\_specs(}
\DoxyCodeLine{02689\ \ \ \ \ ParseContext\&\ ctx)\ \{}
\DoxyCodeLine{02690\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ \textcolor{keyword}{typename}\ ParseContext::char\_type;}
\DoxyCodeLine{02691\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<char\_type>}};}
\DoxyCodeLine{02692\ \ \ \textcolor{keyword}{using\ }mapped\_type\ =}
\DoxyCodeLine{02693\ \ \ \ \ \ \ conditional\_t<detail::mapped\_type\_constant<T,\ context>::value\ !=}
\DoxyCodeLine{02694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type::custom\_type,}
\DoxyCodeLine{02695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(arg\_mapper<context>().map(std::declval<T>())),\ T>;}
\DoxyCodeLine{02696\ \ \ \textcolor{keyword}{auto}\ f\ =\ conditional\_t<has\_formatter<mapped\_type,\ context>::value,}
\DoxyCodeLine{02697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformatter}{formatter<mapped\_type,\ char\_type>}},}
\DoxyCodeLine{02698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1fallback__formatter}{detail::fallback\_formatter<T,\ char\_type>}}>();}
\DoxyCodeLine{02699\ \ \ \textcolor{keywordflow}{return}\ f.parse(ctx);}
\DoxyCodeLine{02700\ \}}
\DoxyCodeLine{02701\ }
\DoxyCodeLine{02702\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ArgFormatter,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Context>}
\DoxyCodeLine{02703\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdetail_1_1format__handler}{format\_handler}}\ :\ \mbox{\hyperlink{structdetail_1_1error__handler}{detail::error\_handler}}\ \{}
\DoxyCodeLine{02704\ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_context;}
\DoxyCodeLine{02705\ \ \ Context\ context;}
\DoxyCodeLine{02706\ }
\DoxyCodeLine{02707\ \ \ \mbox{\hyperlink{structdetail_1_1format__handler}{format\_handler}}(\textcolor{keyword}{typename}\ ArgFormatter::iterator\ out,}
\DoxyCodeLine{02708\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str,}
\DoxyCodeLine{02709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<Context>}}\ \mbox{\hyperlink{structformat__args}{format\_args}},\ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}\ loc)}
\DoxyCodeLine{02710\ \ \ \ \ \ \ :\ parse\_context(str),\ context(out,\ \mbox{\hyperlink{structformat__args}{format\_args}},\ loc)\ \{\}}
\DoxyCodeLine{02711\ }
\DoxyCodeLine{02712\ \ \ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{02713\ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ to\_unsigned(end\ -\/\ begin);}
\DoxyCodeLine{02714\ \ \ \ \ \textcolor{keyword}{auto}\ out\ =\ context.out();}
\DoxyCodeLine{02715\ \ \ \ \ \textcolor{keyword}{auto}\&\&\ it\ =\ reserve(out,\ size);}
\DoxyCodeLine{02716\ \ \ \ \ it\ =\ std::copy\_n(begin,\ size,\ it);}
\DoxyCodeLine{02717\ \ \ \ \ context.advance\_to(out);}
\DoxyCodeLine{02718\ \ \ \}}
\DoxyCodeLine{02719\ }
\DoxyCodeLine{02720\ \ \ \textcolor{keywordtype}{int}\ on\_arg\_id()\ \{\ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a75c83556b48d6b5ee7b4866296888727}{next\_arg\_id}}();\ \}}
\DoxyCodeLine{02721\ \ \ \textcolor{keywordtype}{int}\ on\_arg\_id(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a7a548535000cbd315a9ac35996950eec}{check\_arg\_id}}(\textcolor{keywordtype}{id}),\ id;\ \}}
\DoxyCodeLine{02722\ \ \ \textcolor{keywordtype}{int}\ on\_arg\_id(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02723\ \ \ \ \ \textcolor{keywordtype}{int}\ arg\_id\ =\ context.arg\_id(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02724\ \ \ \ \ \textcolor{keywordflow}{if}\ (arg\_id\ <\ 0)\ on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{02725\ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_id;}
\DoxyCodeLine{02726\ \ \ \}}
\DoxyCodeLine{02727\ }
\DoxyCodeLine{02728\ \ \ FMT\_INLINE\ \textcolor{keywordtype}{void}\ on\_replacement\_field(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*)\ \{}
\DoxyCodeLine{02729\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(context,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{02730\ \ \ \ \ context.advance\_to(visit\_format\_arg(}
\DoxyCodeLine{02731\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1default__arg__formatter}{default\_arg\_formatter<typename\ ArgFormatter::iterator,\ Char>}}\{}
\DoxyCodeLine{02732\ \ \ \ \ \ \ \ \ \ \ \ \ context.out(),\ context.args(),\ context.locale()\},}
\DoxyCodeLine{02733\ \ \ \ \ \ \ \ \ arg));}
\DoxyCodeLine{02734\ \ \ \}}
\DoxyCodeLine{02735\ }
\DoxyCodeLine{02736\ \ \ \textcolor{keyword}{const}\ Char*\ on\_format\_specs(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{02737\ \ \ \ \ advance\_to(parse\_context,\ begin);}
\DoxyCodeLine{02738\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(context,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{02739\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1custom__formatter}{custom\_formatter<Context>}}\ f(parse\_context,\ context);}
\DoxyCodeLine{02740\ \ \ \ \ \textcolor{keywordflow}{if}\ (visit\_format\_arg(f,\ arg))\ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a3aedbd66520975bb680d427778f636a5}{begin}}();}
\DoxyCodeLine{02741\ \ \ \ \ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\ specs;}
\DoxyCodeLine{02742\ \ \ \ \ \textcolor{keyword}{using\ }parse\_context\_t\ =\ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}};}
\DoxyCodeLine{02743\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1specs__checker}{specs\_checker<specs\_handler<parse\_context\_t,\ Context>}}>\ handler(}
\DoxyCodeLine{02744\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1specs__handler}{specs\_handler<parse\_context\_t,\ Context>}}(specs,\ parse\_context,\ context),}
\DoxyCodeLine{02745\ \ \ \ \ \ \ \ \ arg.type());}
\DoxyCodeLine{02746\ \ \ \ \ begin\ =\ parse\_format\_specs(begin,\ end,\ handler);}
\DoxyCodeLine{02747\ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ !=\ \textcolor{charliteral}{'\}'})\ on\_error(\textcolor{stringliteral}{"{}missing\ '\}'\ in\ format\ string"{}});}
\DoxyCodeLine{02748\ \ \ \ \ advance\_to(parse\_context,\ begin);}
\DoxyCodeLine{02749\ \ \ \ \ context.advance\_to(}
\DoxyCodeLine{02750\ \ \ \ \ \ \ \ \ visit\_format\_arg(ArgFormatter(context,\ \&parse\_context,\ \&specs),\ arg));}
\DoxyCodeLine{02751\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{02752\ \ \ \}}
\DoxyCodeLine{02753\ \};}
\DoxyCodeLine{02754\ }
\DoxyCodeLine{02755\ \textcolor{comment}{//\ A\ parse\ context\ with\ extra\ argument\ id\ checks.\ It\ is\ only\ used\ at\ compile}}
\DoxyCodeLine{02756\ \textcolor{comment}{//\ time\ because\ adding\ checks\ at\ runtime\ would\ introduce\ substantial\ overhead}}
\DoxyCodeLine{02757\ \textcolor{comment}{//\ and\ would\ be\ redundant\ since\ argument\ ids\ are\ checked\ when\ arguments\ are}}
\DoxyCodeLine{02758\ \textcolor{comment}{//\ retrieved\ anyway.}}
\DoxyCodeLine{02759\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler\ =\ error\_handler>}
\DoxyCodeLine{02760\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1compile__parse__context}{compile\_parse\_context}}}
\DoxyCodeLine{02761\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context}}<Char,\ ErrorHandler>\ \{}
\DoxyCodeLine{02762\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02763\ \ \ \textcolor{keywordtype}{int}\ num\_args\_;}
\DoxyCodeLine{02764\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__parse__context}{base}}\ =\ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char,\ ErrorHandler>}};}
\DoxyCodeLine{02765\ }
\DoxyCodeLine{02766\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02767\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1compile__parse__context}{compile\_parse\_context}}(}
\DoxyCodeLine{02768\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,\ \textcolor{keywordtype}{int}\ num\_args\ =\ max\_value<int>(),}
\DoxyCodeLine{02769\ \ \ \ \ \ \ ErrorHandler\ eh\ =\ \{\})}
\DoxyCodeLine{02770\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classbasic__format__parse__context}{base}}(format\_str,\ eh),\ num\_args\_(num\_args)\ \{\}}
\DoxyCodeLine{02771\ }
\DoxyCodeLine{02772\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ next\_arg\_id()\ \{}
\DoxyCodeLine{02773\ \ \ \ \ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{classbasic__format__parse__context_a75c83556b48d6b5ee7b4866296888727}{base::next\_arg\_id}}();}
\DoxyCodeLine{02774\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ >=\ num\_args\_)\ this-\/>on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{02775\ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{02776\ \ \ \}}
\DoxyCodeLine{02777\ }
\DoxyCodeLine{02778\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ check\_arg\_id(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{02779\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context_a7a548535000cbd315a9ac35996950eec}{base::check\_arg\_id}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02780\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ >=\ num\_args\_)\ this-\/>on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{02781\ \ \ \}}
\DoxyCodeLine{02782\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__parse__context_a7a548535000cbd315a9ac35996950eec}{base::check\_arg\_id}};}
\DoxyCodeLine{02783\ \};}
\DoxyCodeLine{02784\ }
\DoxyCodeLine{02785\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{02786\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1format__string__checker}{format\_string\_checker}}\ \{}
\DoxyCodeLine{02787\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02788\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classdetail_1_1format__string__checker}{format\_string\_checker}}(}
\DoxyCodeLine{02789\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,\ ErrorHandler\ eh)}
\DoxyCodeLine{02790\ \ \ \ \ \ \ :\ context\_(format\_str,\ num\_args,\ eh),}
\DoxyCodeLine{02791\ \ \ \ \ \ \ \ \ parse\_funcs\_\{\&parse\_format\_specs<Args,\ parse\_context\_type>...\}\ \{\}}
\DoxyCodeLine{02792\ }
\DoxyCodeLine{02793\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ Char*,\ \textcolor{keyword}{const}\ Char*)\ \{\}}
\DoxyCodeLine{02794\ }
\DoxyCodeLine{02795\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ on\_arg\_id()\ \{\ \textcolor{keywordflow}{return}\ context\_.next\_arg\_id();\ \}}
\DoxyCodeLine{02796\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ on\_arg\_id(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ \textcolor{keywordflow}{return}\ context\_.check\_arg\_id(\textcolor{keywordtype}{id}),\ id;\ \}}
\DoxyCodeLine{02797\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{int}\ on\_arg\_id(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}})\ \{}
\DoxyCodeLine{02798\ \ \ \ \ on\_error(\textcolor{stringliteral}{"{}compile-\/time\ checks\ don't\ support\ named\ arguments"{}});}
\DoxyCodeLine{02799\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02800\ \ \ \}}
\DoxyCodeLine{02801\ }
\DoxyCodeLine{02802\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_replacement\_field(\textcolor{keywordtype}{int},\ \textcolor{keyword}{const}\ Char*)\ \{\}}
\DoxyCodeLine{02803\ }
\DoxyCodeLine{02804\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{const}\ Char*\ on\_format\_specs(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*\ begin,}
\DoxyCodeLine{02805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Char*)\ \{}
\DoxyCodeLine{02806\ \ \ \ \ advance\_to(context\_,\ begin);}
\DoxyCodeLine{02807\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{id}\ <\ num\_args\ ?\ parse\_funcs\_[id](context\_)\ :\ begin;}
\DoxyCodeLine{02808\ \ \ \}}
\DoxyCodeLine{02809\ }
\DoxyCodeLine{02810\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{}
\DoxyCodeLine{02811\ \ \ \ \ context\_.on\_error(message);}
\DoxyCodeLine{02812\ \ \ \}}
\DoxyCodeLine{02813\ }
\DoxyCodeLine{02814\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02815\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdetail_1_1compile__parse__context}{parse\_context\_type}}\ =\ \mbox{\hyperlink{classdetail_1_1compile__parse__context}{compile\_parse\_context<Char,\ ErrorHandler>}};}
\DoxyCodeLine{02816\ \ \ \textcolor{keyword}{enum}\ \{\ num\_args\ =\ \textcolor{keyword}{sizeof}...(Args)\ \};}
\DoxyCodeLine{02817\ }
\DoxyCodeLine{02818\ \ \ \textcolor{comment}{//\ Format\ specifier\ parsing\ function.}}
\DoxyCodeLine{02819\ \ \ \textcolor{keyword}{using\ }parse\_func\ =\ \textcolor{keyword}{const}\ Char*\ (*)(\mbox{\hyperlink{classdetail_1_1compile__parse__context}{parse\_context\_type}}\&);}
\DoxyCodeLine{02820\ }
\DoxyCodeLine{02821\ \ \ \mbox{\hyperlink{classdetail_1_1compile__parse__context}{parse\_context\_type}}\ context\_;}
\DoxyCodeLine{02822\ \ \ parse\_func\ parse\_funcs\_[num\_args\ >\ 0\ ?\ num\_args\ :\ 1];}
\DoxyCodeLine{02823\ \};}
\DoxyCodeLine{02824\ }
\DoxyCodeLine{02825\ \textcolor{comment}{//\ Converts\ string\ literals\ to\ basic\_string\_view.}}
\DoxyCodeLine{02826\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{02827\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ compile\_string\_to\_view(}
\DoxyCodeLine{02828\ \ \ \ \ \textcolor{keyword}{const}\ Char\ (\&s)[N])\ \{}
\DoxyCodeLine{02829\ \ \ \textcolor{comment}{//\ Remove\ trailing\ null\ character\ if\ needed.\ Won't\ be\ present\ if\ this\ is\ used}}
\DoxyCodeLine{02830\ \ \ \textcolor{comment}{//\ with\ raw\ character\ array\ (i.e.\ not\ defined\ as\ a\ string).}}
\DoxyCodeLine{02831\ \ \ \textcolor{keywordflow}{return}\ \{s,}
\DoxyCodeLine{02832\ \ \ \ \ \ \ \ \ \ \ N\ -\/\ ((std::char\_traits<Char>::to\_int\_type(s[N\ -\/\ 1])\ ==\ 0)\ ?\ 1\ :\ 0)\};}
\DoxyCodeLine{02833\ \}}
\DoxyCodeLine{02834\ }
\DoxyCodeLine{02835\ \textcolor{comment}{//\ Converts\ string\_view\ to\ basic\_string\_view.}}
\DoxyCodeLine{02836\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02837\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ compile\_string\_to\_view(}
\DoxyCodeLine{02838\ \ \ \ \ \textcolor{keyword}{const}\ std\_string\_view<Char>\&\ s)\ \{}
\DoxyCodeLine{02839\ \ \ \textcolor{keywordflow}{return}\ \{s.data(),\ s.size()\};}
\DoxyCodeLine{02840\ \}}
\DoxyCodeLine{02841\ }
\DoxyCodeLine{02842\ \textcolor{preprocessor}{\#define\ FMT\_STRING\_IMPL(s,\ base)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02843\ \textcolor{preprocessor}{\ \ []\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02844\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Use\ a\ macro-\/like\ name\ to\ avoid\ shadowing\ warnings.\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02845\ \textcolor{preprocessor}{\ \ \ \ struct\ FMT\_COMPILE\_STRING\ :\ base\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02846\ \textcolor{preprocessor}{\ \ \ \ \ \ using\ char\_type\ =\ fmt::remove\_cvref\_t<decltype(s[0])>;\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02847\ \textcolor{preprocessor}{\ \ \ \ \ \ FMT\_MAYBE\_UNUSED\ FMT\_CONSTEXPR\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02848\ \textcolor{preprocessor}{\ \ \ \ \ \ operator\ fmt::basic\_string\_view<char\_type>()\ const\ \{\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02849\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ fmt::detail::compile\_string\_to\_view<char\_type>(s);\ \(\backslash\)}}
\DoxyCodeLine{02850\ \textcolor{preprocessor}{\ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02851\ \textcolor{preprocessor}{\ \ \ \ \};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02852\ \textcolor{preprocessor}{\ \ \ \ return\ FMT\_COMPILE\_STRING();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02853\ \textcolor{preprocessor}{\ \ \}()}}
\DoxyCodeLine{02854\ }
\DoxyCodeLine{02865\ \textcolor{preprocessor}{\#define\ FMT\_STRING(s)\ FMT\_STRING\_IMPL(s,\ fmt::compile\_string)}}
\DoxyCodeLine{02866\ }
\DoxyCodeLine{02867\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args,\ \textcolor{keyword}{typename}\ S,}
\DoxyCodeLine{02868\ \ \ \ \ \ \ \ \ \ \ enable\_if\_t<(\mbox{\hyperlink{structis__compile__string}{is\_compile\_string<S>::value}}),\ \textcolor{keywordtype}{int}>>}
\DoxyCodeLine{02869\ \textcolor{keywordtype}{void}\ check\_format\_string(S\ format\_str)\ \{}
\DoxyCodeLine{02870\ \ \ FMT\_CONSTEXPR\_DECL\ \textcolor{keyword}{auto}\ s\ =\ to\_string\_view(format\_str);}
\DoxyCodeLine{02871\ \ \ \textcolor{keyword}{using\ }checker\ =\ format\_string\_checker<\textcolor{keyword}{typename}\ S::char\_type,\ error\_handler,}
\DoxyCodeLine{02872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remove\_cvref\_t<Args>...>;}
\DoxyCodeLine{02873\ \ \ FMT\_CONSTEXPR\_DECL\ \textcolor{keywordtype}{bool}\ invalid\_format\ =}
\DoxyCodeLine{02874\ \ \ \ \ \ \ (parse\_format\_string<true>(s,\ checker(s,\ \{\})),\ \textcolor{keyword}{true});}
\DoxyCodeLine{02875\ \ \ (void)invalid\_format;}
\DoxyCodeLine{02876\ \}}
\DoxyCodeLine{02877\ }
\DoxyCodeLine{02878\ \textcolor{keyword}{template}\ <\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}>\ \textcolor{keyword}{class\ }Handler,\ \textcolor{keyword}{typename}\ Context>}
\DoxyCodeLine{02879\ \textcolor{keywordtype}{void}\ handle\_dynamic\_spec(\textcolor{keywordtype}{int}\&\ value,\ arg\_ref<typename\ Context::char\_type>\ ref,}
\DoxyCodeLine{02880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Context\&\ ctx)\ \{}
\DoxyCodeLine{02881\ \ \ \textcolor{keywordflow}{switch}\ (ref.kind)\ \{}
\DoxyCodeLine{02882\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::none:}
\DoxyCodeLine{02883\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02884\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::index:}
\DoxyCodeLine{02885\ \ \ \ \ value\ =\ detail::get\_dynamic\_spec<Handler>(ctx.arg(ref.val.index),}
\DoxyCodeLine{02886\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx.error\_handler());}
\DoxyCodeLine{02887\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02888\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::name:}
\DoxyCodeLine{02889\ \ \ \ \ value\ =\ detail::get\_dynamic\_spec<Handler>(ctx.arg(ref.val.name),}
\DoxyCodeLine{02890\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx.error\_handler());}
\DoxyCodeLine{02891\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02892\ \ \ \}}
\DoxyCodeLine{02893\ \}}
\DoxyCodeLine{02894\ }
\DoxyCodeLine{02895\ \textcolor{keyword}{using\ }format\_func\ =\ void\ (*)(\mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<char>}}\&,\ int,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}});}
\DoxyCodeLine{02896\ }
\DoxyCodeLine{02897\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_error\_code(buffer<char>\&\ out,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}},}
\DoxyCodeLine{02898\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ FMT\_NOEXCEPT;}
\DoxyCodeLine{02899\ }
\DoxyCodeLine{02900\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_error(format\_func\ func,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}},}
\DoxyCodeLine{02901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ FMT\_NOEXCEPT;}
\DoxyCodeLine{02902\ }
\DoxyCodeLine{02904\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02905\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdetail_1_1arg__formatter}{arg\_formatter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base}}<OutputIt,\ Char>\ \{}
\DoxyCodeLine{02906\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02907\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ Char;}
\DoxyCodeLine{02908\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdetail_1_1arg__formatter__base}{base}}\ =\ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{arg\_formatter\_base<OutputIt,\ Char>}};}
\DoxyCodeLine{02909\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__context}{context\_type}}\ =\ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}};}
\DoxyCodeLine{02910\ }
\DoxyCodeLine{02911\ \ \ \mbox{\hyperlink{classbasic__format__context}{context\_type}}\&\ ctx\_;}
\DoxyCodeLine{02912\ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<char\_type>}}*\ parse\_ctx\_;}
\DoxyCodeLine{02913\ \ \ \textcolor{keyword}{const}\ Char*\ ptr\_;}
\DoxyCodeLine{02914\ }
\DoxyCodeLine{02915\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02916\ \ \ \textcolor{keyword}{using\ }iterator\ =\ \textcolor{keyword}{typename}\ base::iterator;}
\DoxyCodeLine{02917\ \ \ \textcolor{keyword}{using\ }format\_specs\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structbasic__format__specs}{base::format\_specs}};}
\DoxyCodeLine{02918\ }
\DoxyCodeLine{02926\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdetail_1_1arg__formatter_a5b8ddbd121a2302fe93e871eee909620}{arg\_formatter}}(}
\DoxyCodeLine{02927\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__context}{context\_type}}\&\ ctx,}
\DoxyCodeLine{02928\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<char\_type>}}*\ parse\_ctx\ =\ \textcolor{keyword}{nullptr},}
\DoxyCodeLine{02929\ \ \ \ \ \ \ format\_specs*\ specs\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{const}\ Char*\ ptr\ =\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{02930\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdetail_1_1arg__formatter__base}{base}}(ctx.out(),\ specs,\ ctx.locale()),}
\DoxyCodeLine{02931\ \ \ \ \ \ \ \ \ ctx\_(ctx),}
\DoxyCodeLine{02932\ \ \ \ \ \ \ \ \ parse\_ctx\_(parse\_ctx),}
\DoxyCodeLine{02933\ \ \ \ \ \ \ \ \ ptr\_(ptr)\ \{\}}
\DoxyCodeLine{02934\ }
\DoxyCodeLine{02935\ \ \ \textcolor{keyword}{using\ }base::operator();}
\DoxyCodeLine{02936\ }
\DoxyCodeLine{02938\ \ \ iterator\ \mbox{\hyperlink{classdetail_1_1arg__formatter_a97e9b6a655e16e2d1c1cb752ea848959}{operator()}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context\_type>::handle}}\ handle)\ \{}
\DoxyCodeLine{02939\ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr\_)\ advance\_to(*parse\_ctx\_,\ ptr\_);}
\DoxyCodeLine{02940\ \ \ \ \ handle.format(*parse\_ctx\_,\ ctx\_);}
\DoxyCodeLine{02941\ \ \ \ \ \textcolor{keywordflow}{return}\ ctx\_.out();}
\DoxyCodeLine{02942\ \ \ \}}
\DoxyCodeLine{02943\ \};}
\DoxyCodeLine{02944\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{02945\ }
\DoxyCodeLine{02946\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02947\ \textcolor{keyword}{using\ }arg\_formatter\ \mbox{\hyperlink{classdetail_1_1arg__formatter}{FMT\_DEPRECATED\_ALIAS}}\ =}
\DoxyCodeLine{02948\ \ \ \mbox{\hyperlink{classdetail_1_1arg__formatter}{detail::arg\_formatter<OutputIt,\ Char>}};}
\DoxyCodeLine{02949\ }
\DoxyCodeLine{02954\ FMT\_CLASS\_API}
\DoxyCodeLine{02955\ \textcolor{keyword}{class\ }FMT\_API\ \mbox{\hyperlink{classsystem__error}{system\_error}}\ :\ \textcolor{keyword}{public}\ std::runtime\_error\ \{}
\DoxyCodeLine{02956\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02957\ \ \ \textcolor{keywordtype}{void}\ init(\textcolor{keywordtype}{int}\ err\_code,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ format\_str,\ \mbox{\hyperlink{structformat__args}{format\_args}}\ args);}
\DoxyCodeLine{02958\ }
\DoxyCodeLine{02959\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02960\ \ \ \textcolor{keywordtype}{int}\ error\_code\_;}
\DoxyCodeLine{02961\ }
\DoxyCodeLine{02962\ \ \ \mbox{\hyperlink{classsystem__error}{system\_error}}()\ :\ std::runtime\_error(\textcolor{stringliteral}{"{}"{}}),\ error\_code\_(0)\ \{\}}
\DoxyCodeLine{02963\ }
\DoxyCodeLine{02964\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02983\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{02984\ \ \ \mbox{\hyperlink{classsystem__error_a6761fd4c8604a59a7c79f6bfdfaf25cb}{system\_error}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}},\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message,\ \textcolor{keyword}{const}\ Args\&...\ args)}
\DoxyCodeLine{02985\ \ \ \ \ \ \ :\ std::runtime\_error(\textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{02986\ \ \ \ \ init(\mbox{\hyperlink{classerror__code}{error\_code}},\ message,\ make\_format\_args(args...));}
\DoxyCodeLine{02987\ \ \ \}}
\DoxyCodeLine{02988\ \ \ \mbox{\hyperlink{classsystem__error}{system\_error}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsystem__error}{system\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{02989\ \ \ \mbox{\hyperlink{classsystem__error}{system\_error}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsystem__error}{system\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{02990\ \ \ \mbox{\hyperlink{classsystem__error}{system\_error}}(\mbox{\hyperlink{classsystem__error}{system\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{02991\ \ \ \mbox{\hyperlink{classsystem__error}{system\_error}}\&\ operator=(\mbox{\hyperlink{classsystem__error}{system\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{02992\ \ \ \mbox{\hyperlink{classsystem__error}{\string~system\_error}}()\ FMT\_NOEXCEPT\ FMT\_OVERRIDE;}
\DoxyCodeLine{02993\ }
\DoxyCodeLine{02994\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ error\_code\_;\ \}}
\DoxyCodeLine{02995\ \};}
\DoxyCodeLine{02996\ }
\DoxyCodeLine{03013\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_system\_error(\mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<char>}}\&\ out,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}},}
\DoxyCodeLine{03014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ FMT\_NOEXCEPT;}
\DoxyCodeLine{03015\ }
\DoxyCodeLine{03016\ \textcolor{comment}{//\ Reports\ a\ system\ error\ without\ throwing\ an\ exception.}}
\DoxyCodeLine{03017\ \textcolor{comment}{//\ Can\ be\ used\ to\ report\ errors\ from\ destructors.}}
\DoxyCodeLine{03018\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_system\_error(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classerror__code}{error\_code}},}
\DoxyCodeLine{03019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ FMT\_NOEXCEPT;}
\DoxyCodeLine{03020\ }
\DoxyCodeLine{03022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classformat__int}{format\_int}}\ \{}
\DoxyCodeLine{03023\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03024\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits10\ +\ 1),}}
\DoxyCodeLine{03025\ \ \ \textcolor{comment}{//\ a\ sign\ and\ a\ null\ character.}}
\DoxyCodeLine{03026\ \ \ \textcolor{keyword}{enum}\ \{\ buffer\_size\ =\ std::numeric\_limits<unsigned\ long\ long>::digits10\ +\ 3\ \};}
\DoxyCodeLine{03027\ \ \ \textcolor{keyword}{mutable}\ \textcolor{keywordtype}{char}\ buffer\_[buffer\_size];}
\DoxyCodeLine{03028\ \ \ \textcolor{keywordtype}{char}*\ str\_;}
\DoxyCodeLine{03029\ }
\DoxyCodeLine{03030\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>\ \textcolor{keywordtype}{char}*\ format\_unsigned(UInt\ value)\ \{}
\DoxyCodeLine{03031\ \ \ \ \ \textcolor{keyword}{auto}\ n\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<UInt>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{03032\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::format\_decimal(buffer\_,\ n,\ buffer\_size\ -\/\ 1).begin;}
\DoxyCodeLine{03033\ \ \ \}}
\DoxyCodeLine{03034\ }
\DoxyCodeLine{03035\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ \textcolor{keywordtype}{char}*\ format\_signed(Int\ value)\ \{}
\DoxyCodeLine{03036\ \ \ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<Int>\textcolor{keyword}{>}(value);}
\DoxyCodeLine{03037\ \ \ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ value\ <\ 0;}
\DoxyCodeLine{03038\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{03039\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ format\_unsigned(abs\_value);}
\DoxyCodeLine{03040\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ *-\/-\/begin\ =\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{03041\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{03042\ \ \ \}}
\DoxyCodeLine{03043\ }
\DoxyCodeLine{03044\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03045\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{int}\ value)\ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03046\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ value)\ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03047\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ value)\ :\ str\_(format\_signed(value))\ \{\}}
\DoxyCodeLine{03048\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ value)\ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03049\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ value)\ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03050\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ value)}
\DoxyCodeLine{03051\ \ \ \ \ \ \ :\ str\_(format\_unsigned(value))\ \{\}}
\DoxyCodeLine{03052\ }
\DoxyCodeLine{03054\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classformat__int_af8b6ce4916195c8c0d0f20496eaa3dc7}{size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03055\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::to\_unsigned(buffer\_\ -\/\ str\_\ +\ buffer\_size\ -\/\ 1);}
\DoxyCodeLine{03056\ \ \ \}}
\DoxyCodeLine{03057\ }
\DoxyCodeLine{03062\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classformat__int_aa29ffc91e940965375ce7c0f646282e8}{data}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ str\_;\ \}}
\DoxyCodeLine{03063\ }
\DoxyCodeLine{03068\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classformat__int_a82ba80fb78be4551245be3bb4623674d}{c\_str}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03069\ \ \ \ \ buffer\_[buffer\_size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{03070\ \ \ \ \ \textcolor{keywordflow}{return}\ str\_;}
\DoxyCodeLine{03071\ \ \ \}}
\DoxyCodeLine{03072\ }
\DoxyCodeLine{03078\ \ \ std::string\ \mbox{\hyperlink{classformat__int_ab14204962423d35a320f15e673b08e06}{str}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ std::string(str\_,\ size());\ \}}
\DoxyCodeLine{03079\ \};}
\DoxyCodeLine{03080\ }
\DoxyCodeLine{03081\ \textcolor{comment}{//\ A\ formatter\ specialization\ for\ the\ core\ types\ corresponding\ to\ detail::type}}
\DoxyCodeLine{03082\ \textcolor{comment}{//\ constants.}}
\DoxyCodeLine{03083\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03084\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<T,\ Char,}
\DoxyCodeLine{03085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enable\_if\_t<detail::type\_constant<T,\ Char>::value\ !=}
\DoxyCodeLine{03086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::custom\_type>>\ \{}
\DoxyCodeLine{03087\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structformatter}{formatter}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{03088\ }
\DoxyCodeLine{03089\ \ \ \textcolor{comment}{//\ Parses\ format\ specifiers\ stopping\ either\ at\ the\ end\ of\ the\ range\ or\ at\ the}}
\DoxyCodeLine{03090\ \ \ \textcolor{comment}{//\ terminating\ '\}'.}}
\DoxyCodeLine{03091\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03092\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03093\ \ \ \ \ \textcolor{keyword}{using\ }handler\_type\ =\ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{detail::dynamic\_specs\_handler<ParseContext>}};}
\DoxyCodeLine{03094\ \ \ \ \ \textcolor{keyword}{auto}\ type\ =\ \mbox{\hyperlink{structdetail_1_1type__constant}{detail::type\_constant<T,\ Char>::value}};}
\DoxyCodeLine{03095\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1specs__checker}{detail::specs\_checker<handler\_type>}}\ handler(handler\_type(specs\_,\ ctx),}
\DoxyCodeLine{03096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type);}
\DoxyCodeLine{03097\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03098\ \ \ \ \ \textcolor{keyword}{auto}\ eh\ =\ ctx.error\_handler();}
\DoxyCodeLine{03099\ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{03100\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::none\_type:}
\DoxyCodeLine{03101\ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}invalid\ argument\ type"{}});}
\DoxyCodeLine{03102\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03103\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::int\_type:}
\DoxyCodeLine{03104\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::uint\_type:}
\DoxyCodeLine{03105\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::long\_long\_type:}
\DoxyCodeLine{03106\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::ulong\_long\_type:}
\DoxyCodeLine{03107\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::int128\_type:}
\DoxyCodeLine{03108\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::uint128\_type:}
\DoxyCodeLine{03109\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::bool\_type:}
\DoxyCodeLine{03110\ \ \ \ \ \ \ handle\_int\_type\_spec(specs\_.type,}
\DoxyCodeLine{03111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1int__type__checker}{detail::int\_type\_checker}}<\textcolor{keyword}{decltype}(eh)>(eh));}
\DoxyCodeLine{03112\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03113\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::char\_type:}
\DoxyCodeLine{03114\ \ \ \ \ \ \ handle\_char\_specs(}
\DoxyCodeLine{03115\ \ \ \ \ \ \ \ \ \ \ \&specs\_,\ \mbox{\hyperlink{classdetail_1_1char__specs__checker}{detail::char\_specs\_checker}}<\textcolor{keyword}{decltype}(eh)>(specs\_.type,\ eh));}
\DoxyCodeLine{03116\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03117\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::float\_type:}
\DoxyCodeLine{03118\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::const\_check(FMT\_USE\_FLOAT))}
\DoxyCodeLine{03119\ \ \ \ \ \ \ \ \ detail::parse\_float\_type\_spec(specs\_,\ eh);}
\DoxyCodeLine{03120\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03121\ \ \ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}float\ support\ disabled"{}});}
\DoxyCodeLine{03122\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03123\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::double\_type:}
\DoxyCodeLine{03124\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::const\_check(FMT\_USE\_DOUBLE))}
\DoxyCodeLine{03125\ \ \ \ \ \ \ \ \ detail::parse\_float\_type\_spec(specs\_,\ eh);}
\DoxyCodeLine{03126\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03127\ \ \ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}double\ support\ disabled"{}});}
\DoxyCodeLine{03128\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03129\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::long\_double\_type:}
\DoxyCodeLine{03130\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::const\_check(FMT\_USE\_LONG\_DOUBLE))}
\DoxyCodeLine{03131\ \ \ \ \ \ \ \ \ detail::parse\_float\_type\_spec(specs\_,\ eh);}
\DoxyCodeLine{03132\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03133\ \ \ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}long\ double\ support\ disabled"{}});}
\DoxyCodeLine{03134\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03135\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::cstring\_type:}
\DoxyCodeLine{03136\ \ \ \ \ \ \ detail::handle\_cstring\_type\_spec(}
\DoxyCodeLine{03137\ \ \ \ \ \ \ \ \ \ \ specs\_.type,\ \mbox{\hyperlink{classdetail_1_1cstring__type__checker}{detail::cstring\_type\_checker}}<\textcolor{keyword}{decltype}(eh)>(eh));}
\DoxyCodeLine{03138\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03139\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::string\_type:}
\DoxyCodeLine{03140\ \ \ \ \ \ \ detail::check\_string\_type\_spec(specs\_.type,\ eh);}
\DoxyCodeLine{03141\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03142\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::pointer\_type:}
\DoxyCodeLine{03143\ \ \ \ \ \ \ detail::check\_pointer\_type\_spec(specs\_.type,\ eh);}
\DoxyCodeLine{03144\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03145\ \ \ \ \ \textcolor{keywordflow}{case}\ detail::type::custom\_type:}
\DoxyCodeLine{03146\ \ \ \ \ \ \ \textcolor{comment}{//\ Custom\ format\ specifiers\ should\ be\ checked\ in\ parse\ functions\ of}}
\DoxyCodeLine{03147\ \ \ \ \ \ \ \textcolor{comment}{//\ formatter\ specializations.}}
\DoxyCodeLine{03148\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03149\ \ \ \ \ \}}
\DoxyCodeLine{03150\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{03151\ \ \ \}}
\DoxyCodeLine{03152\ }
\DoxyCodeLine{03153\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03154\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ T\&\ val,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03155\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03157\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03158\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03159\ \ \ \ \ \textcolor{keyword}{using\ }af\ =\ \mbox{\hyperlink{classdetail_1_1arg__formatter}{detail::arg\_formatter}}<\textcolor{keyword}{typename}\ FormatContext::iterator,}
\DoxyCodeLine{03160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FormatContext::char\_type>;}
\DoxyCodeLine{03161\ \ \ \ \ \textcolor{keywordflow}{return}\ visit\_format\_arg(af(ctx,\ \textcolor{keyword}{nullptr},\ \&specs\_),}
\DoxyCodeLine{03162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_arg<FormatContext>(val));}
\DoxyCodeLine{03163\ \ \ \}}
\DoxyCodeLine{03164\ }
\DoxyCodeLine{03165\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03166\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<Char>}}\ specs\_;}
\DoxyCodeLine{03167\ \};}
\DoxyCodeLine{03168\ }
\DoxyCodeLine{03169\ \textcolor{preprocessor}{\#define\ FMT\_FORMAT\_AS(Type,\ Base)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03170\ \textcolor{preprocessor}{\ \ template\ <typename\ Char>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03171\ \textcolor{preprocessor}{\ \ struct\ formatter<Type,\ Char>\ :\ formatter<Base,\ Char>\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03172\ \textcolor{preprocessor}{\ \ \ \ template\ <typename\ FormatContext>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03173\ \textcolor{preprocessor}{\ \ \ \ auto\ format(Type\ const\&\ val,\ FormatContext\&\ ctx)\ -\/>\ decltype(ctx.out())\ \{\ \(\backslash\)}}
\DoxyCodeLine{03174\ \textcolor{preprocessor}{\ \ \ \ \ \ return\ formatter<Base,\ Char>::format(val,\ ctx);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03175\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03176\ \textcolor{preprocessor}{\ \ \}}}
\DoxyCodeLine{03177\ }
\DoxyCodeLine{03178\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char},\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{03179\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char},\ \textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{03180\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{short},\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{03181\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short},\ \textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{03182\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{long},\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{03183\ FMT\_FORMAT\_AS(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{03184\ FMT\_FORMAT\_AS(Char*,\ \textcolor{keyword}{const}\ Char*);}
\DoxyCodeLine{03185\ FMT\_FORMAT\_AS(std::basic\_string<Char>,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}});}
\DoxyCodeLine{03186\ FMT\_FORMAT\_AS(std::nullptr\_t,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{03187\ FMT\_FORMAT\_AS(\mbox{\hyperlink{structdetail_1_1std__string__view}{detail::std\_string\_view<Char>}},\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}});}
\DoxyCodeLine{03188\ }
\DoxyCodeLine{03189\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03190\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<void*,\ Char>\ :\ \mbox{\hyperlink{structformatter}{formatter<const\ void*,\ Char>}}\ \{}
\DoxyCodeLine{03191\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03192\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keywordtype}{void}*\ val,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03193\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<const\ void*,\ Char>::format}}(val,\ ctx);}
\DoxyCodeLine{03194\ \ \ \}}
\DoxyCodeLine{03195\ \};}
\DoxyCodeLine{03196\ }
\DoxyCodeLine{03197\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{03198\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<Char[N],\ Char>\ :\ \mbox{\hyperlink{structformatter}{formatter}}<basic\_string\_view<Char>,\ Char>\ \{}
\DoxyCodeLine{03199\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03200\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ Char*\ val,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03201\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<basic\_string\_view<Char>}},\ Char>::format(val,\ ctx);}
\DoxyCodeLine{03202\ \ \ \}}
\DoxyCodeLine{03203\ \};}
\DoxyCodeLine{03204\ }
\DoxyCodeLine{03205\ \textcolor{comment}{//\ A\ formatter\ for\ types\ known\ only\ at\ run\ time\ such\ as\ variant\ alternatives.}}
\DoxyCodeLine{03206\ \textcolor{comment}{//}}
\DoxyCodeLine{03207\ \textcolor{comment}{//\ Usage:}}
\DoxyCodeLine{03208\ \textcolor{comment}{//\ \ \ using\ variant\ =\ std::variant<int,\ std::string>;}}
\DoxyCodeLine{03209\ \textcolor{comment}{//\ \ \ template\ <>}}
\DoxyCodeLine{03210\ \textcolor{comment}{//\ \ \ struct\ formatter<variant>:\ dynamic\_formatter<>\ \{}}
\DoxyCodeLine{03211\ \textcolor{comment}{//\ \ \ \ \ void\ format(buffer\ \&buf,\ const\ variant\ \&v,\ context\ \&ctx)\ \{}}
\DoxyCodeLine{03212\ \textcolor{comment}{//\ \ \ \ \ \ \ visit([\&](const\ auto\ \&val)\ \{\ format(buf,\ val,\ ctx);\ \},\ v);}}
\DoxyCodeLine{03213\ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{03214\ \textcolor{comment}{//\ \ \ \};}}
\DoxyCodeLine{03215\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdynamic__formatter}{dynamic\_formatter}}\ \{}
\DoxyCodeLine{03216\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03217\ \ \ \textcolor{keyword}{struct\ }null\_handler\ :\ \mbox{\hyperlink{structdetail_1_1error__handler}{detail::error\_handler}}\ \{}
\DoxyCodeLine{03218\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_align(align\_t)\ \{\}}
\DoxyCodeLine{03219\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_plus()\ \{\}}
\DoxyCodeLine{03220\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_minus()\ \{\}}
\DoxyCodeLine{03221\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_space()\ \{\}}
\DoxyCodeLine{03222\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_hash()\ \{\}}
\DoxyCodeLine{03223\ \ \ \};}
\DoxyCodeLine{03224\ }
\DoxyCodeLine{03225\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03226\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03227\ \ \ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03228\ \ \ \ \ format\_str\_\ =\ ctx.begin();}
\DoxyCodeLine{03229\ \ \ \ \ \textcolor{comment}{//\ Checks\ are\ deferred\ to\ formatting\ time\ when\ the\ argument\ type\ is\ known.}}
\DoxyCodeLine{03230\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{detail::dynamic\_specs\_handler<ParseContext>}}\ handler(specs\_,\ ctx);}
\DoxyCodeLine{03231\ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03232\ \ \ \}}
\DoxyCodeLine{03233\ }
\DoxyCodeLine{03234\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03235\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ T\&\ val,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03236\ \ \ \ \ handle\_specs(ctx);}
\DoxyCodeLine{03237\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1specs__checker}{detail::specs\_checker<null\_handler>}}\ checker(}
\DoxyCodeLine{03238\ \ \ \ \ \ \ \ \ null\_handler(),\ \mbox{\hyperlink{structdetail_1_1type__constant}{detail::mapped\_type\_constant<T,\ FormatContext>::value}});}
\DoxyCodeLine{03239\ \ \ \ \ checker.on\_align(specs\_.align);}
\DoxyCodeLine{03240\ \ \ \ \ \textcolor{keywordflow}{switch}\ (specs\_.sign)\ \{}
\DoxyCodeLine{03241\ \ \ \ \ \textcolor{keywordflow}{case}\ sign::none:}
\DoxyCodeLine{03242\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03243\ \ \ \ \ \textcolor{keywordflow}{case}\ sign::plus:}
\DoxyCodeLine{03244\ \ \ \ \ \ \ checker.on\_plus();}
\DoxyCodeLine{03245\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03246\ \ \ \ \ \textcolor{keywordflow}{case}\ sign::minus:}
\DoxyCodeLine{03247\ \ \ \ \ \ \ checker.on\_minus();}
\DoxyCodeLine{03248\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03249\ \ \ \ \ \textcolor{keywordflow}{case}\ sign::space:}
\DoxyCodeLine{03250\ \ \ \ \ \ \ checker.on\_space();}
\DoxyCodeLine{03251\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03252\ \ \ \ \ \}}
\DoxyCodeLine{03253\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.alt)\ checker.on\_hash();}
\DoxyCodeLine{03254\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.precision\ >=\ 0)\ checker.end\_precision();}
\DoxyCodeLine{03255\ \ \ \ \ \textcolor{keyword}{using\ }af\ =\ \mbox{\hyperlink{classdetail_1_1arg__formatter}{detail::arg\_formatter}}<\textcolor{keyword}{typename}\ FormatContext::iterator,}
\DoxyCodeLine{03256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FormatContext::char\_type>;}
\DoxyCodeLine{03257\ \ \ \ \ visit\_format\_arg(af(ctx,\ \textcolor{keyword}{nullptr},\ \&specs\_),}
\DoxyCodeLine{03258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_arg<FormatContext>(val));}
\DoxyCodeLine{03259\ \ \ \ \ \textcolor{keywordflow}{return}\ ctx.out();}
\DoxyCodeLine{03260\ \ \ \}}
\DoxyCodeLine{03261\ }
\DoxyCodeLine{03262\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03263\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context>\ \textcolor{keywordtype}{void}\ handle\_specs(Context\&\ ctx)\ \{}
\DoxyCodeLine{03264\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03266\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03267\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03268\ \ \ \}}
\DoxyCodeLine{03269\ }
\DoxyCodeLine{03270\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<Char>}}\ specs\_;}
\DoxyCodeLine{03271\ \ \ \textcolor{keyword}{const}\ Char*\ format\_str\_;}
\DoxyCodeLine{03272\ \};}
\DoxyCodeLine{03273\ }
\DoxyCodeLine{03274\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{03275\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ advance\_to(}
\DoxyCodeLine{03276\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char,\ ErrorHandler>}}\&\ ctx,\ \textcolor{keyword}{const}\ Char*\ p)\ \{}
\DoxyCodeLine{03277\ \ \ ctx.\mbox{\hyperlink{classbasic__format__parse__context_ac123ab6c1c6e58db3ab0a917def4add8}{advance\_to}}(ctx.\mbox{\hyperlink{classbasic__format__parse__context_a3aedbd66520975bb680d427778f636a5}{begin}}()\ +\ (p\ -\/\ \&*ctx.\mbox{\hyperlink{classbasic__format__parse__context_a3aedbd66520975bb680d427778f636a5}{begin}}()));}
\DoxyCodeLine{03278\ \}}
\DoxyCodeLine{03279\ }
\DoxyCodeLine{03281\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ArgFormatter,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Context>}
\DoxyCodeLine{03282\ \textcolor{keyword}{typename}\ Context::iterator\ vformat\_to(}
\DoxyCodeLine{03283\ \ \ \ \ \textcolor{keyword}{typename}\ ArgFormatter::iterator\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03284\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<Context>}}\ args,}
\DoxyCodeLine{03285\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}\ loc\ =\ \mbox{\hyperlink{classdetail_1_1locale__ref}{detail::locale\_ref}}())\ \{}
\DoxyCodeLine{03286\ \ \ \textcolor{keywordflow}{if}\ (format\_str.\mbox{\hyperlink{classbasic__string__view_af8b4574d3a39883f409c858fc1006664}{size}}()\ ==\ 2\ \&\&\ detail::equal2(format\_str.\mbox{\hyperlink{classbasic__string__view_ab9c44ded9f2ac62ade97e01a1dae83fb}{data}}(),\ \textcolor{stringliteral}{"{}\{\}"{}}))\ \{}
\DoxyCodeLine{03287\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ args.\mbox{\hyperlink{classbasic__format__args_a1b8d2230711409b52799cf4b4c3327fe}{get}}(0);}
\DoxyCodeLine{03288\ \ \ \ \ \textcolor{keywordflow}{if}\ (!arg)\ \mbox{\hyperlink{structdetail_1_1error__handler}{detail::error\_handler}}().on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{03289\ \ \ \ \ \textcolor{keyword}{using\ }iterator\ =\ \textcolor{keyword}{typename}\ ArgFormatter::iterator;}
\DoxyCodeLine{03290\ \ \ \ \ \textcolor{keywordflow}{return}\ visit\_format\_arg(}
\DoxyCodeLine{03291\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1default__arg__formatter}{detail::default\_arg\_formatter<iterator,\ Char>}}\{out,\ args,\ loc\},\ arg);}
\DoxyCodeLine{03292\ \ \ \}}
\DoxyCodeLine{03293\ \ \ \mbox{\hyperlink{structdetail_1_1format__handler}{detail::format\_handler<ArgFormatter,\ Char,\ Context>}}\ h(out,\ format\_str,\ args,}
\DoxyCodeLine{03294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc);}
\DoxyCodeLine{03295\ \ \ detail::parse\_format\_string<false>(format\_str,\ h);}
\DoxyCodeLine{03296\ \ \ \textcolor{keywordflow}{return}\ h.context.out();}
\DoxyCodeLine{03297\ \}}
\DoxyCodeLine{03298\ }
\DoxyCodeLine{03299\ \textcolor{comment}{//\ Casts\ \`{}\`{}p``\ to\ \`{}\`{}const\ void*``\ for\ pointer\ formatting.}}
\DoxyCodeLine{03300\ \textcolor{comment}{//\ Example:}}
\DoxyCodeLine{03301\ \textcolor{comment}{//\ \ \ auto\ s\ =\ format("{}\{\}"{},\ ptr(p));}}
\DoxyCodeLine{03302\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ ptr(\textcolor{keyword}{const}\ T*\ p)\ \{\ \textcolor{keywordflow}{return}\ p;\ \}}
\DoxyCodeLine{03303\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ ptr(\textcolor{keyword}{const}\ std::unique\_ptr<T>\&\ p)\ \{}
\DoxyCodeLine{03304\ \ \ \textcolor{keywordflow}{return}\ p.get();}
\DoxyCodeLine{03305\ \}}
\DoxyCodeLine{03306\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ ptr(\textcolor{keyword}{const}\ std::shared\_ptr<T>\&\ p)\ \{}
\DoxyCodeLine{03307\ \ \ \textcolor{keywordflow}{return}\ p.get();}
\DoxyCodeLine{03308\ \}}
\DoxyCodeLine{03309\ }
\DoxyCodeLine{03310\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{03311\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03312\ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ data\_;}
\DoxyCodeLine{03313\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>;}
\DoxyCodeLine{03314\ }
\DoxyCodeLine{03315\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03316\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbytes}{bytes}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ data)\ :\ data\_(data)\ \{\}}
\DoxyCodeLine{03317\ \};}
\DoxyCodeLine{03318\ }
\DoxyCodeLine{03319\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>\ \{}
\DoxyCodeLine{03320\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03321\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03322\ \ \ \ \ \textcolor{keyword}{using\ }handler\_type\ =\ \mbox{\hyperlink{classdetail_1_1dynamic__specs__handler}{detail::dynamic\_specs\_handler<ParseContext>}};}
\DoxyCodeLine{03323\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1specs__checker}{detail::specs\_checker<handler\_type>}}\ handler(handler\_type(specs\_,\ ctx),}
\DoxyCodeLine{03324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::string\_type);}
\DoxyCodeLine{03325\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03326\ \ \ \ \ detail::check\_string\_type\_spec(specs\_.type,\ ctx.error\_handler());}
\DoxyCodeLine{03327\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{03328\ \ \ \}}
\DoxyCodeLine{03329\ }
\DoxyCodeLine{03330\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03331\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{classbytes}{bytes}}\ b,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03332\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03334\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03335\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03336\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write\_bytes(ctx.out(),\ b.data\_,\ specs\_);}
\DoxyCodeLine{03337\ \ \ \}}
\DoxyCodeLine{03338\ }
\DoxyCodeLine{03339\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03340\ \ \ \mbox{\hyperlink{structdetail_1_1dynamic__format__specs}{detail::dynamic\_format\_specs<char>}}\ specs\_;}
\DoxyCodeLine{03341\ \};}
\DoxyCodeLine{03342\ }
\DoxyCodeLine{03343\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03344\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structarg__join}{arg\_join}}\ :\ \mbox{\hyperlink{structdetail_1_1view}{detail::view}}\ \{}
\DoxyCodeLine{03345\ \ \ It\ begin;}
\DoxyCodeLine{03346\ \ \ Sentinel\ end;}
\DoxyCodeLine{03347\ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ sep;}
\DoxyCodeLine{03348\ }
\DoxyCodeLine{03349\ \ \ \mbox{\hyperlink{structarg__join}{arg\_join}}(It\ b,\ Sentinel\ e,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)}
\DoxyCodeLine{03350\ \ \ \ \ \ \ :\ begin(b),\ end(e),\ sep(s)\ \{\}}
\DoxyCodeLine{03351\ \};}
\DoxyCodeLine{03352\ }
\DoxyCodeLine{03353\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03354\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{structarg__join}{arg\_join}}<It,\ Sentinel,\ Char>,\ Char>}
\DoxyCodeLine{03355\ \ \ \ \ :\ \mbox{\hyperlink{structformatter}{formatter}}<typename\ std::iterator\_traits<It>::value\_type,\ Char>\ \{}
\DoxyCodeLine{03356\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03357\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ \mbox{\hyperlink{structarg__join}{arg\_join<It,\ Sentinel,\ Char>}}\&\ value,\ FormatContext\&\ ctx)}
\DoxyCodeLine{03358\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03359\ \ \ \ \ \textcolor{keyword}{using\ }base\ =\ \mbox{\hyperlink{structformatter}{formatter<typename\ std::iterator\_traits<It>::value\_type}},\ Char>;}
\DoxyCodeLine{03360\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ value.begin;}
\DoxyCodeLine{03361\ \ \ \ \ \textcolor{keyword}{auto}\ out\ =\ ctx.out();}
\DoxyCodeLine{03362\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ value.end)\ \{}
\DoxyCodeLine{03363\ \ \ \ \ \ \ out\ =\ base::format(*it++,\ ctx);}
\DoxyCodeLine{03364\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ value.end)\ \{}
\DoxyCodeLine{03365\ \ \ \ \ \ \ \ \ out\ =\ std::copy(value.sep.begin(),\ value.sep.end(),\ out);}
\DoxyCodeLine{03366\ \ \ \ \ \ \ \ \ ctx.advance\_to(out);}
\DoxyCodeLine{03367\ \ \ \ \ \ \ \ \ out\ =\ base::format(*it++,\ ctx);}
\DoxyCodeLine{03368\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03369\ \ \ \ \ \}}
\DoxyCodeLine{03370\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03371\ \ \ \}}
\DoxyCodeLine{03372\ \};}
\DoxyCodeLine{03373\ }
\DoxyCodeLine{03378\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel>}
\DoxyCodeLine{03379\ \mbox{\hyperlink{structarg__join}{arg\_join<It,\ Sentinel,\ char>}}\ join(It\ begin,\ Sentinel\ end,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sep)\ \{}
\DoxyCodeLine{03380\ \ \ \textcolor{keywordflow}{return}\ \{begin,\ end,\ sep\};}
\DoxyCodeLine{03381\ \}}
\DoxyCodeLine{03382\ }
\DoxyCodeLine{03383\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel>}
\DoxyCodeLine{03384\ \mbox{\hyperlink{structarg__join}{arg\_join<It,\ Sentinel,\ wchar\_t>}}\ join(It\ begin,\ Sentinel\ end,\ \mbox{\hyperlink{classbasic__string__view}{wstring\_view}}\ sep)\ \{}
\DoxyCodeLine{03385\ \ \ \textcolor{keywordflow}{return}\ \{begin,\ end,\ sep\};}
\DoxyCodeLine{03386\ \}}
\DoxyCodeLine{03387\ }
\DoxyCodeLine{03404\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Range>}
\DoxyCodeLine{03405\ \mbox{\hyperlink{structarg__join}{arg\_join<detail::iterator\_t<const\ Range>}},\ detail::sentinel\_t<const\ Range>,\ \textcolor{keywordtype}{char}>}
\DoxyCodeLine{03406\ join(\textcolor{keyword}{const}\ Range\&\ range,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sep)\ \{}
\DoxyCodeLine{03407\ \ \ \textcolor{keywordflow}{return}\ join(std::begin(range),\ std::end(range),\ sep);}
\DoxyCodeLine{03408\ \}}
\DoxyCodeLine{03409\ }
\DoxyCodeLine{03410\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Range>}
\DoxyCodeLine{03411\ \mbox{\hyperlink{structarg__join}{arg\_join<detail::iterator\_t<const\ Range>}},\ detail::sentinel\_t<const\ Range>,}
\DoxyCodeLine{03412\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}>}
\DoxyCodeLine{03413\ join(\textcolor{keyword}{const}\ Range\&\ range,\ \mbox{\hyperlink{classbasic__string__view}{wstring\_view}}\ sep)\ \{}
\DoxyCodeLine{03414\ \ \ \textcolor{keywordflow}{return}\ join(std::begin(range),\ std::end(range),\ sep);}
\DoxyCodeLine{03415\ \}}
\DoxyCodeLine{03416\ }
\DoxyCodeLine{03428\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{03429\ \textcolor{keyword}{inline}\ std::string\ to\_string(\textcolor{keyword}{const}\ T\&\ value)\ \{}
\DoxyCodeLine{03430\ \ \ std::string\ result;}
\DoxyCodeLine{03431\ \ \ detail::write<char>(std::back\_inserter(result),\ value);}
\DoxyCodeLine{03432\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03433\ \}}
\DoxyCodeLine{03434\ }
\DoxyCodeLine{03435\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{03436\ \textcolor{keyword}{inline}\ std::string\ to\_string(T\ value)\ \{}
\DoxyCodeLine{03437\ \ \ \textcolor{comment}{//\ The\ buffer\ should\ be\ large\ enough\ to\ store\ the\ number\ including\ the\ sign\ or}}
\DoxyCodeLine{03438\ \ \ \textcolor{comment}{//\ "{}false"{}\ for\ bool.}}
\DoxyCodeLine{03439\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ max\_size\ =\ detail::digits10<T>()\ +\ 2;}
\DoxyCodeLine{03440\ \ \ \textcolor{keywordtype}{char}\ buffer[max\_size\ >\ 5\ ?\ max\_size\ :\ 5];}
\DoxyCodeLine{03441\ \ \ \textcolor{keywordtype}{char}*\ begin\ =\ buffer;}
\DoxyCodeLine{03442\ \ \ \textcolor{keywordflow}{return}\ std::string(begin,\ detail::write<char>(begin,\ value));}
\DoxyCodeLine{03443\ \}}
\DoxyCodeLine{03444\ }
\DoxyCodeLine{03448\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{inline}\ std::wstring\ to\_wstring(\textcolor{keyword}{const}\ T\&\ value)\ \{}
\DoxyCodeLine{03449\ \ \ \textcolor{keywordflow}{return}\ format(L\textcolor{stringliteral}{"{}\{\}"{}},\ value);}
\DoxyCodeLine{03450\ \}}
\DoxyCodeLine{03451\ }
\DoxyCodeLine{03452\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ SIZE>}
\DoxyCodeLine{03453\ std::basic\_string<Char>\ to\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char,\ SIZE>}}\&\ buf)\ \{}
\DoxyCodeLine{03454\ \ \ \textcolor{keyword}{auto}\ size\ =\ buf.\mbox{\hyperlink{classdetail_1_1buffer_ac72e23b3cef99b3e4b6a13f7cf86a421}{size}}();}
\DoxyCodeLine{03455\ \ \ detail::assume(size\ <\ std::basic\_string<Char>().max\_size());}
\DoxyCodeLine{03456\ \ \ \textcolor{keywordflow}{return}\ std::basic\_string<Char>(buf.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}(),\ size);}
\DoxyCodeLine{03457\ \}}
\DoxyCodeLine{03458\ }
\DoxyCodeLine{03459\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03460\ \textcolor{keyword}{typename}\ buffer\_context<Char>::iterator\ detail::vformat\_to(}
\DoxyCodeLine{03461\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<Char>}}\&\ buf,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03462\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<\mbox{\hyperlink{classbasic__format__context}{buffer\_context}}<type\_identity\_t<Char>>>\ args)\ \{}
\DoxyCodeLine{03463\ \ \ \textcolor{keyword}{using\ }af\ =\ arg\_formatter<typename\ buffer\_context<Char>::iterator,\ Char>;}
\DoxyCodeLine{03464\ \ \ \textcolor{keywordflow}{return}\ vformat\_to<af>(std::back\_inserter(buf),\ to\_string\_view(format\_str),}
\DoxyCodeLine{03465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ args);}
\DoxyCodeLine{03466\ \}}
\DoxyCodeLine{03467\ }
\DoxyCodeLine{03468\ \textcolor{preprocessor}{\#ifndef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{03469\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ format\_context::iterator\ detail::vformat\_to(}
\DoxyCodeLine{03470\ \ \ \ \ \mbox{\hyperlink{classdetail_1_1buffer}{detail::buffer<char>}}\&,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}},\ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<format\_context>}});}
\DoxyCodeLine{03471\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{03472\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ std::string\ grouping\_impl<char>(locale\_ref\ loc);}
\DoxyCodeLine{03473\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ std::string\ grouping\_impl<wchar\_t>(locale\_ref\ loc);}
\DoxyCodeLine{03474\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keywordtype}{char}\ thousands\_sep\_impl<char>(locale\_ref\ loc);}
\DoxyCodeLine{03475\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keywordtype}{wchar\_t}\ thousands\_sep\_impl<wchar\_t>(locale\_ref\ loc);}
\DoxyCodeLine{03476\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keywordtype}{char}\ decimal\_point\_impl(locale\_ref\ loc);}
\DoxyCodeLine{03477\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keywordtype}{wchar\_t}\ decimal\_point\_impl(locale\_ref\ loc);}
\DoxyCodeLine{03478\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ \textcolor{keywordtype}{int}\ format\_float<double>(\textcolor{keywordtype}{double}\ value,\ \textcolor{keywordtype}{int}\ precision,}
\DoxyCodeLine{03479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float\_specs\ specs,\ buffer<char>\&\ buf);}
\DoxyCodeLine{03480\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ \textcolor{keywordtype}{int}\ format\_float<long\ double>(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ value,\ \textcolor{keywordtype}{int}\ precision,}
\DoxyCodeLine{03481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float\_specs\ specs,}
\DoxyCodeLine{03482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf);}
\DoxyCodeLine{03483\ \textcolor{keywordtype}{int}\ snprintf\_float(\textcolor{keywordtype}{float}\ value,\ \textcolor{keywordtype}{int}\ precision,\ float\_specs\ specs,}
\DoxyCodeLine{03484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{03485\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ \textcolor{keywordtype}{int}\ snprintf\_float<double>(\textcolor{keywordtype}{double}\ value,\ \textcolor{keywordtype}{int}\ precision,}
\DoxyCodeLine{03486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float\_specs\ specs,}
\DoxyCodeLine{03487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf);}
\DoxyCodeLine{03488\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ \textcolor{keywordtype}{int}\ snprintf\_float<long\ double>(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ value,}
\DoxyCodeLine{03489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ precision,}
\DoxyCodeLine{03490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float\_specs\ specs,}
\DoxyCodeLine{03491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer<char>\&\ buf);}
\DoxyCodeLine{03492\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{03493\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03494\ }
\DoxyCodeLine{03495\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}\_t<S>,}
\DoxyCodeLine{03496\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_\textcolor{keywordtype}{string}<S>::value)>}
\DoxyCodeLine{03497\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ FMT\_BUFFER\_CONTEXT(Char)::iterator\ vformat\_to(}
\DoxyCodeLine{03498\ \ \ \ \ detail::buffer<Char>\&\ buf,\ const\ S\&\ format\_str,}
\DoxyCodeLine{03499\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<FMT\_BUFFER\_CONTEXT(type\_identity\_t<Char>)>\ args)\ \{}
\DoxyCodeLine{03500\ \ \ \textcolor{keywordflow}{return}\ detail::vformat\_to(buf,\ to\_string\_view(format\_str),\ args);}
\DoxyCodeLine{03501\ \}}
\DoxyCodeLine{03502\ }
\DoxyCodeLine{03503\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}...\ Args,\ \textcolor{keywordtype}{size\_t}\ SIZE\ =\ inline\_buffer\_size,}
\DoxyCodeLine{03504\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Char\ =\ enable\_if\_t<detail::is\_string<S>::value,\ char\_t<S>>>}
\DoxyCodeLine{03505\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ buffer\_context<Char>::iterator\ format\_to(}
\DoxyCodeLine{03506\ \ \ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char,\ SIZE>}}\&\ buf,\ \textcolor{keyword}{const}\ S\&\ format\_str,\ Args\&\&...\ args)\ \{}
\DoxyCodeLine{03507\ \ \ detail::check\_format\_string<Args...>(format\_str);}
\DoxyCodeLine{03508\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}};}
\DoxyCodeLine{03509\ \ \ \textcolor{keywordflow}{return}\ detail::vformat\_to(buf,\ to\_string\_view(format\_str),}
\DoxyCodeLine{03510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ make\_format\_args<context>(args...));}
\DoxyCodeLine{03511\ \}}
\DoxyCodeLine{03512\ }
\DoxyCodeLine{03513\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>}
\DoxyCodeLine{03514\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__context}{format\_context\_t}}\ =\ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}};}
\DoxyCodeLine{03515\ }
\DoxyCodeLine{03516\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>}
\DoxyCodeLine{03517\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__args}{format\_args\_t}}\ =\ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<format\_context\_t<OutputIt,\ Char>}}>;}
\DoxyCodeLine{03518\ }
\DoxyCodeLine{03519\ \textcolor{keyword}{template}\ <}
\DoxyCodeLine{03520\ \ \ \ \ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}...\ Args,}
\DoxyCodeLine{03521\ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{classdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt>::value}}\ \&\&}
\DoxyCodeLine{03522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !\mbox{\hyperlink{structdetail_1_1is__contiguous__back__insert__iterator}{detail::is\_contiguous\_back\_insert\_iterator<OutputIt>::value}})>}
\DoxyCodeLine{03523\ \textcolor{keyword}{inline}\ OutputIt\ vformat\_to(}
\DoxyCodeLine{03524\ \ \ \ \ OutputIt\ out,\ \textcolor{keyword}{const}\ S\&\ format\_str,}
\DoxyCodeLine{03525\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_args\_t}}<type\_identity\_t<OutputIt>,\ char\_t<S>>\ args)\ \{}
\DoxyCodeLine{03526\ \ \ \textcolor{keyword}{using\ }af\ =\ \mbox{\hyperlink{classdetail_1_1arg__formatter}{detail::arg\_formatter<OutputIt,\ char\_t<S>}}>;}
\DoxyCodeLine{03527\ \ \ \textcolor{keywordflow}{return}\ vformat\_to<af>(out,\ to\_string\_view(format\_str),\ args);}
\DoxyCodeLine{03528\ \}}
\DoxyCodeLine{03529\ }
\DoxyCodeLine{03541\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}...\ Args,}
\DoxyCodeLine{03542\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(}
\DoxyCodeLine{03543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt>::value}}\ \&\&}
\DoxyCodeLine{03544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !\mbox{\hyperlink{structdetail_1_1is__contiguous__back__insert__iterator}{detail::is\_contiguous\_back\_insert\_iterator<OutputIt>::value}}\ \&\&}
\DoxyCodeLine{03545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdetail_1_1is__string}{detail::is\_string<S>::value}})>}
\DoxyCodeLine{03546\ \textcolor{keyword}{inline}\ OutputIt\ format\_to(OutputIt\ out,\ \textcolor{keyword}{const}\ S\&\ format\_str,\ Args\&\&...\ args)\ \{}
\DoxyCodeLine{03547\ \ \ detail::check\_format\_string<Args...>(format\_str);}
\DoxyCodeLine{03548\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{format\_context\_t<OutputIt,\ char\_t<S>}}>;}
\DoxyCodeLine{03549\ \ \ \textcolor{keywordflow}{return}\ vformat\_to(out,\ to\_string\_view(format\_str),}
\DoxyCodeLine{03550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ make\_format\_args<context>(args...));}
\DoxyCodeLine{03551\ \}}
\DoxyCodeLine{03552\ }
\DoxyCodeLine{03553\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformat__to__n__result}{format\_to\_n\_result}}\ \{}
\DoxyCodeLine{03555\ \ \ OutputIt\ \mbox{\hyperlink{structformat__to__n__result_a90597c6c1d23c7301aef16e756c6263b}{out}};}
\DoxyCodeLine{03557\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structformat__to__n__result_ab1c815078e1a78716bb07b9ed8c7023b}{size}};}
\DoxyCodeLine{03558\ \};}
\DoxyCodeLine{03559\ }
\DoxyCodeLine{03560\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keyword}{typename}\ OutputIt::value\_type>}
\DoxyCodeLine{03561\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__context}{format\_to\_n\_context}}\ =}
\DoxyCodeLine{03562\ \ \ \ \ \mbox{\hyperlink{classbasic__format__context}{format\_context\_t<detail::truncating\_iterator<OutputIt>}},\ Char>;}
\DoxyCodeLine{03563\ }
\DoxyCodeLine{03564\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keyword}{typename}\ OutputIt::value\_type>}
\DoxyCodeLine{03565\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__format__args}{format\_to\_n\_args}}\ =\ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<format\_to\_n\_context<OutputIt,\ Char>}}>;}
\DoxyCodeLine{03566\ }
\DoxyCodeLine{03567\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{03568\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classformat__arg__store}{format\_arg\_store<format\_to\_n\_context<OutputIt,\ Char>}},\ Args...>}
\DoxyCodeLine{03569\ make\_format\_to\_n\_args(\textcolor{keyword}{const}\ Args\&...\ args)\ \{}
\DoxyCodeLine{03570\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classformat__arg__store}{format\_arg\_store<format\_to\_n\_context<OutputIt,\ Char>}},\ Args...>(}
\DoxyCodeLine{03571\ \ \ \ \ \ \ args...);}
\DoxyCodeLine{03572\ \}}
\DoxyCodeLine{03573\ }
\DoxyCodeLine{03574\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}...\ Args,}
\DoxyCodeLine{03575\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{classdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt>::value}})>}
\DoxyCodeLine{03576\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structformat__to__n__result}{format\_to\_n\_result<OutputIt>}}\ vformat\_to\_n(}
\DoxyCodeLine{03577\ \ \ \ \ OutputIt\ out,\ \textcolor{keywordtype}{size\_t}\ n,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03578\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_to\_n\_args}}<type\_identity\_t<OutputIt>,\ type\_identity\_t<Char>>\ args)\ \{}
\DoxyCodeLine{03579\ \ \ \textcolor{keyword}{auto}\ it\ =\ vformat\_to(\mbox{\hyperlink{classdetail_1_1truncating__iterator}{detail::truncating\_iterator<OutputIt>}}(out,\ n),}
\DoxyCodeLine{03580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_str,\ args);}
\DoxyCodeLine{03581\ \ \ \textcolor{keywordflow}{return}\ \{it.base(),\ it.count()\};}
\DoxyCodeLine{03582\ \}}
\DoxyCodeLine{03583\ }
\DoxyCodeLine{03591\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}...\ Args,}
\DoxyCodeLine{03592\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structdetail_1_1is__string}{detail::is\_string<S>::value}}\&\&}
\DoxyCodeLine{03593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdetail_1_1is__output__iterator}{detail::is\_output\_iterator<OutputIt>::value}})>}
\DoxyCodeLine{03594\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structformat__to__n__result}{format\_to\_n\_result<OutputIt>}}\ format\_to\_n(OutputIt\ out,\ \textcolor{keywordtype}{size\_t}\ n,}
\DoxyCodeLine{03595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ S\&\ format\_str,}
\DoxyCodeLine{03596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Args\&...\ args)\ \{}
\DoxyCodeLine{03597\ \ \ detail::check\_format\_string<Args...>(format\_str);}
\DoxyCodeLine{03598\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{format\_to\_n\_context<OutputIt,\ char\_t<S>}}>;}
\DoxyCodeLine{03599\ \ \ \textcolor{keywordflow}{return}\ vformat\_to\_n(out,\ n,\ to\_string\_view(format\_str),}
\DoxyCodeLine{03600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ make\_format\_args<context>(args...));}
\DoxyCodeLine{03601\ \}}
\DoxyCodeLine{03602\ }
\DoxyCodeLine{03603\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ enable\_if\_t<(!std::is\_same<Char,\ \textcolor{keywordtype}{char}>::value),\ \textcolor{keywordtype}{int}>>}
\DoxyCodeLine{03604\ std::basic\_string<Char>\ detail::vformat(}
\DoxyCodeLine{03605\ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03606\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<\mbox{\hyperlink{classbasic__format__context}{buffer\_context}}<type\_identity\_t<Char>>>\ args)\ \{}
\DoxyCodeLine{03607\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}\ buffer;}
\DoxyCodeLine{03608\ \ \ detail::vformat\_to(buffer,\ format\_str,\ args);}
\DoxyCodeLine{03609\ \ \ \textcolor{keywordflow}{return}\ to\_string(buffer);}
\DoxyCodeLine{03610\ \}}
\DoxyCodeLine{03611\ }
\DoxyCodeLine{03616\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{03617\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ formatted\_size(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ format\_str,\ \textcolor{keyword}{const}\ Args\&...\ args)\ \{}
\DoxyCodeLine{03618\ \ \ \textcolor{keywordflow}{return}\ format\_to(\mbox{\hyperlink{classdetail_1_1counting__iterator}{detail::counting\_iterator}}(),\ format\_str,\ args...).count();}
\DoxyCodeLine{03619\ \}}
\DoxyCodeLine{03620\ }
\DoxyCodeLine{03621\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ FMT\_ENABLE\_IF(std::is\_same<Char,\ \textcolor{keywordtype}{wchar\_t}>::value)>}
\DoxyCodeLine{03622\ \textcolor{keywordtype}{void}\ vprint(std::FILE*\ f,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03623\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structwformat__args}{wformat\_args}}\ args)\ \{}
\DoxyCodeLine{03624\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{wmemory\_buffer}}\ buffer;}
\DoxyCodeLine{03625\ \ \ detail::vformat\_to(buffer,\ format\_str,\ args);}
\DoxyCodeLine{03626\ \ \ buffer.push\_back(L\textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{03627\ \ \ \textcolor{keywordflow}{if}\ (std::fputws(buffer.\mbox{\hyperlink{classdetail_1_1buffer_aef7a86b3f9daa50192f019df16469065}{data}}(),\ f)\ ==\ -\/1)}
\DoxyCodeLine{03628\ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classsystem__error}{system\_error}}(errno,\ \textcolor{stringliteral}{"{}cannot\ write\ to\ file"{}}));}
\DoxyCodeLine{03629\ \}}
\DoxyCodeLine{03630\ }
\DoxyCodeLine{03631\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ FMT\_ENABLE\_IF(std::is\_same<Char,\ \textcolor{keywordtype}{wchar\_t}>::value)>}
\DoxyCodeLine{03632\ \textcolor{keywordtype}{void}\ vprint(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,\ \mbox{\hyperlink{structwformat__args}{wformat\_args}}\ args)\ \{}
\DoxyCodeLine{03633\ \ \ vprint(stdout,\ format\_str,\ args);}
\DoxyCodeLine{03634\ \}}
\DoxyCodeLine{03635\ }
\DoxyCodeLine{03636\ \textcolor{preprocessor}{\#if\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03637\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{03638\ }
\DoxyCodeLine{03639\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_UDL\_TEMPLATE}}
\DoxyCodeLine{03640\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ Char...\ CHARS>\ \textcolor{keyword}{class\ }udl\_formatter\ \{}
\DoxyCodeLine{03641\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03642\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{03643\ \ \ std::basic\_string<Char>\ operator()(Args\&\&...\ args)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03644\ \ \ \ \ \textcolor{keyword}{static}\ FMT\_CONSTEXPR\_DECL\ Char\ s[]\ =\ \{CHARS...,\ \textcolor{charliteral}{'\(\backslash\)0'}\};}
\DoxyCodeLine{03645\ \ \ \ \ check\_format\_string<remove\_cvref\_t<Args>...>(FMT\_STRING(s));}
\DoxyCodeLine{03646\ \ \ \ \ \textcolor{keywordflow}{return}\ format(s,\ std::forward<Args>(args)...);}
\DoxyCodeLine{03647\ \ \ \}}
\DoxyCodeLine{03648\ \};}
\DoxyCodeLine{03649\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{03650\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }udl\_formatter\ \{}
\DoxyCodeLine{03651\ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str;}
\DoxyCodeLine{03652\ }
\DoxyCodeLine{03653\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{03654\ \ \ std::basic\_string<Char>\ operator()(Args\&\&...\ args)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03655\ \ \ \ \ \textcolor{keywordflow}{return}\ format(str,\ std::forward<Args>(args)...);}
\DoxyCodeLine{03656\ \ \ \}}
\DoxyCodeLine{03657\ \};}
\DoxyCodeLine{03658\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ FMT\_USE\_UDL\_TEMPLATE}}
\DoxyCodeLine{03659\ }
\DoxyCodeLine{03660\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }udl\_arg\ \{}
\DoxyCodeLine{03661\ \ \ \textcolor{keyword}{const}\ Char*\ str;}
\DoxyCodeLine{03662\ }
\DoxyCodeLine{03663\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ named\_arg<Char,\ T>\ operator=(T\&\&\ value)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03664\ \ \ \ \ \textcolor{keywordflow}{return}\ \{str,\ std::forward<T>(value)\};}
\DoxyCodeLine{03665\ \ \ \}}
\DoxyCodeLine{03666\ \};}
\DoxyCodeLine{03667\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{03668\ }
\DoxyCodeLine{03669\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }literals\ \{}
\DoxyCodeLine{03670\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_UDL\_TEMPLATE}}
\DoxyCodeLine{03671\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{03672\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wpedantic"{}}}
\DoxyCodeLine{03673\ \textcolor{preprocessor}{\#\ \ \ \ if\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{03674\ \textcolor{preprocessor}{\#\ \ \ \ \ \ pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wgnu-\/string-\/literal-\/operator-\/template"{}}}
\DoxyCodeLine{03675\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{03676\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ Char...\ CHARS>}
\DoxyCodeLine{03677\ FMT\_CONSTEXPR\ detail::udl\_formatter<Char,\ CHARS...>\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\_format()\ \{}
\DoxyCodeLine{03678\ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{03679\ \}}
\DoxyCodeLine{03680\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{03681\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{03692\ FMT\_CONSTEXPR\ detail::udl\_formatter<char>\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\ \_format(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,}
\DoxyCodeLine{03693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{03694\ \ \ \textcolor{keywordflow}{return}\ \{\{s,\ n\}\};}
\DoxyCodeLine{03695\ \}}
\DoxyCodeLine{03696\ FMT\_CONSTEXPR\ detail::udl\_formatter<wchar\_t>\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\ \_format(}
\DoxyCodeLine{03697\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{03698\ \ \ \textcolor{keywordflow}{return}\ \{\{s,\ n\}\};}
\DoxyCodeLine{03699\ \}}
\DoxyCodeLine{03700\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ FMT\_USE\_UDL\_TEMPLATE}}
\DoxyCodeLine{03701\ }
\DoxyCodeLine{03712\ FMT\_CONSTEXPR\ detail::udl\_arg<char>\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\ \_a(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ \textcolor{keywordtype}{size\_t})\ \{}
\DoxyCodeLine{03713\ \ \ \textcolor{keywordflow}{return}\ \{s\};}
\DoxyCodeLine{03714\ \}}
\DoxyCodeLine{03715\ FMT\_CONSTEXPR\ detail::udl\_arg<wchar\_t>\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\ \_a(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ s,\ \textcolor{keywordtype}{size\_t})\ \{}
\DoxyCodeLine{03716\ \ \ \textcolor{keywordflow}{return}\ \{s\};}
\DoxyCodeLine{03717\ \}}
\DoxyCodeLine{03718\ \}\ \ \textcolor{comment}{//\ namespace\ literals}}
\DoxyCodeLine{03719\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03720\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{03721\ }
\DoxyCodeLine{03722\ \textcolor{preprocessor}{\#ifdef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{03723\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC\ inline}}
\DoxyCodeLine{03724\ \textcolor{preprocessor}{\#\ \ include\ "{}format-\/inl.h"{}}}
\DoxyCodeLine{03725\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{03726\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC}}
\DoxyCodeLine{03727\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03728\ }
\DoxyCodeLine{03729\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_FORMAT\_H\_}}

\end{DoxyCode}
