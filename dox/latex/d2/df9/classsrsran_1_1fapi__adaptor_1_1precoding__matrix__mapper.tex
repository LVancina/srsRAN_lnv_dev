\doxysection{srsran\+::fapi\+\_\+adaptor\+::precoding\+\_\+matrix\+\_\+mapper Class Reference}
\hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper}{}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper}\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}


Precoding matrix mapper.  




{\ttfamily \#include $<$precoding\+\_\+matrix\+\_\+mapper.\+h$>$}



Collaboration diagram for srsran\+::fapi\+\_\+adaptor\+::precoding\+\_\+matrix\+\_\+mapper\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=237pt]{d3/d1d/classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa99ad1f11e8f099d6662ca1d61b9f9b4}{precoding\+\_\+matrix\+\_\+mapper}} (\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+ports\+\_\+}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration}{precoding\+\_\+matrix\+\_\+mapper\+\_\+codebook\+\_\+offset\+\_\+configuration}} \&config)
\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa164c7f7cc928c4df562c941e28b2ee0}{map}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__pdsch__precoding__info}{mac\+\_\+pdsch\+\_\+precoding\+\_\+info}} \&precoding\+\_\+info, \mbox{\hyperlink{classunsigned}{unsigned}} nof\+\_\+layers) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Maps the given MAC precoding information into a precoding matrix index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a66a7a88bdb0c1136d663ed6c4da51a3e}{map}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__pdcch__precoding__info}{mac\+\_\+pdcch\+\_\+precoding\+\_\+info}} \&precoding\+\_\+info) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Maps the given MAC precoding information into a precoding matrix index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a00bf8119a15d3b513d04231e8e71c08a}{map}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__csi__rs__precoding__info}{mac\+\_\+csi\+\_\+rs\+\_\+precoding\+\_\+info}} \&precoding\+\_\+info) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Maps the given MAC precoding information into a precoding matrix index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_af3fe3a2ec33e15f4a40a386de9d44eb2}{map}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ssb__precoding__info}{mac\+\_\+ssb\+\_\+precoding\+\_\+info}} \&precoding\+\_\+info) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Maps the given MAC precoding information into a precoding matrix index. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Precoding matrix mapper. 

Maps the given arguments to a precoding matrix index. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa99ad1f11e8f099d6662ca1d61b9f9b4}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa99ad1f11e8f099d6662ca1d61b9f9b4} 
\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}!precoding\_matrix\_mapper@{precoding\_matrix\_mapper}}
\index{precoding\_matrix\_mapper@{precoding\_matrix\_mapper}!srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}
\doxysubsubsection{\texorpdfstring{precoding\_matrix\_mapper()}{precoding\_matrix\_mapper()}}
{\footnotesize\ttfamily precoding\+\_\+matrix\+\_\+mapper\+::precoding\+\_\+matrix\+\_\+mapper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+ports\+\_\+,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration}{precoding\+\_\+matrix\+\_\+mapper\+\_\+codebook\+\_\+offset\+\_\+configuration}} \&}]{config }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00032\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}FAPI"{}})),}
\DoxyCodeLine{00033\ \ \ nof\_ports(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_ports\_}}),}
\DoxyCodeLine{00034\ \ \ pdsch\_omni\_offset(config.\mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration_ae65769aa2930e37cea46ab4ad745ccd8}{pdsch\_omni\_offset}}),}
\DoxyCodeLine{00035\ \ \ ssb\_codebook\_offsets(config.\mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration_a27176da7ee8431d96d522fce1bc0aa07}{ssb\_codebook\_offsets}}),}
\DoxyCodeLine{00036\ \ \ pdsch\_codebook\_offsets(config.\mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration_a8700ed3baf41a8f15a46778dcd526a46}{pdsch\_codebook\_offsets}}),}
\DoxyCodeLine{00037\ \ \ pdcch\_codebook\_offsets(config.\mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration_af996b2cdf267e8e4a7488888c9e8ca34}{pdcch\_codebook\_offsets}}),}
\DoxyCodeLine{00038\ \ \ csi\_rs\_codebook\_offsets(config.\mbox{\hyperlink{structsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper__codebook__offset__configuration_aa3d78fbe252a250bc61543bcb2e57c17}{csi\_rs\_codebook\_offsets}})}
\DoxyCodeLine{00039\ \{}
\DoxyCodeLine{00040\ \ \ srsran\_assert(!ssb\_codebook\_offsets.empty(),\ \textcolor{stringliteral}{"{}Invalid\ offset\ configuration"{}});}
\DoxyCodeLine{00041\ \ \ srsran\_assert(!pdsch\_codebook\_offsets.empty(),\ \textcolor{stringliteral}{"{}Invalid\ offset\ configuration"{}});}
\DoxyCodeLine{00042\ \ \ srsran\_assert(!pdcch\_codebook\_offsets.empty(),\ \textcolor{stringliteral}{"{}Invalid\ offset\ configuration"{}});}
\DoxyCodeLine{00043\ \ \ srsran\_assert(!csi\_rs\_codebook\_offsets.empty(),\ \textcolor{stringliteral}{"{}Invalid\ offset\ configuration"{}});}
\DoxyCodeLine{00044\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a00bf8119a15d3b513d04231e8e71c08a}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a00bf8119a15d3b513d04231e8e71c08a} 
\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}!map@{map}}
\index{map@{map}!srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}
\doxysubsubsection{\texorpdfstring{map()}{map()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} precoding\+\_\+matrix\+\_\+mapper\+::map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__csi__rs__precoding__info}{mac\+\_\+csi\+\_\+rs\+\_\+precoding\+\_\+info}} \&}]{precoding\+\_\+info }\end{DoxyParamCaption}) const}



Maps the given MAC precoding information into a precoding matrix index. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{return}\ csi\_rs\_codebook\_offsets[0]\ +\ get\_csi\_rs\_precoding\_matrix\_index();}
\DoxyCodeLine{00049\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a66a7a88bdb0c1136d663ed6c4da51a3e}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_a66a7a88bdb0c1136d663ed6c4da51a3e} 
\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}!map@{map}}
\index{map@{map}!srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}
\doxysubsubsection{\texorpdfstring{map()}{map()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} precoding\+\_\+matrix\+\_\+mapper\+::map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__pdcch__precoding__info}{mac\+\_\+pdcch\+\_\+precoding\+\_\+info}} \&}]{precoding\+\_\+info }\end{DoxyParamCaption}) const}



Maps the given MAC precoding information into a precoding matrix index. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \{}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{return}\ pdcch\_codebook\_offsets[0]\ +\ get\_pdcch\_precoding\_matrix\_index();}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa164c7f7cc928c4df562c941e28b2ee0}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_aa164c7f7cc928c4df562c941e28b2ee0} 
\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}!map@{map}}
\index{map@{map}!srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}
\doxysubsubsection{\texorpdfstring{map()}{map()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} precoding\+\_\+matrix\+\_\+mapper\+::map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__pdsch__precoding__info}{mac\+\_\+pdsch\+\_\+precoding\+\_\+info}} \&}]{precoding\+\_\+info,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{nof\+\_\+layers }\end{DoxyParamCaption}) const}



Maps the given MAC precoding information into a precoding matrix index. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00105\ \{}
\DoxyCodeLine{00106\ \ \ srsran\_assert(nof\_layers\ >\ 0,\ \textcolor{stringliteral}{"{}Invalid\ number\ of\ layers=\{\}"{}},\ nof\_layers);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{if}\ (!precoding\_info.\mbox{\hyperlink{structsrsran_1_1mac__pdsch__precoding__info_abd7b11cad325fab761e98bfe9d6724a6}{report}})\ \{}
\DoxyCodeLine{00109\ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Omnidirectional\ PDSCH\ precoding\ matrix,\ nof\_layers=\{\}"{}},\ nof\_layers);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ pdsch\_omni\_offset\ +\ get\_pdsch\_omnidirectional\_precoding\_matrix\_index();}
\DoxyCodeLine{00112\ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{layer\_index}}\ =\ nof\_layers\ -\/\ 1U;}
\DoxyCodeLine{00115\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{layer\_index}}\ <\ pdsch\_codebook\_offsets.size(),\ \textcolor{stringliteral}{"{}Invalid\ layer\ index\ value\ \{\}"{}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{layer\_index}});}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{keywordflow}{return}\ get\_pdsch\_precoding\_matrix\_index(}
\DoxyCodeLine{00118\ \ \ \ \ \ \ pdsch\_codebook\_offsets[\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{layer\_index}}],\ *precoding\_info.\mbox{\hyperlink{structsrsran_1_1mac__pdsch__precoding__info_abd7b11cad325fab761e98bfe9d6724a6}{report}},\ nof\_ports,\ nof\_layers,\ logger);}
\DoxyCodeLine{00119\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_af3fe3a2ec33e15f4a40a386de9d44eb2}\label{classsrsran_1_1fapi__adaptor_1_1precoding__matrix__mapper_af3fe3a2ec33e15f4a40a386de9d44eb2} 
\index{srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}!map@{map}}
\index{map@{map}!srsran::fapi\_adaptor::precoding\_matrix\_mapper@{srsran::fapi\_adaptor::precoding\_matrix\_mapper}}
\doxysubsubsection{\texorpdfstring{map()}{map()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} precoding\+\_\+matrix\+\_\+mapper\+::map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1mac__ssb__precoding__info}{mac\+\_\+ssb\+\_\+precoding\+\_\+info}} \&}]{precoding\+\_\+info }\end{DoxyParamCaption}) const}



Maps the given MAC precoding information into a precoding matrix index. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{return}\ ssb\_codebook\_offsets[0]\ +\ get\_ssb\_precoding\_matrix\_index();}
\DoxyCodeLine{00054\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/srsran/fapi\+\_\+adaptor/precoding\+\_\+matrix\+\_\+mapper.\+h\item 
lib/fapi\+\_\+adaptor/precoding\+\_\+matrix\+\_\+mapper.\+cpp\end{DoxyCompactItemize}
