\doxysection{srsran\+::psup\+\_\+packing Class Reference}
\hypertarget{classsrsran_1_1psup__packing}{}\label{classsrsran_1_1psup__packing}\index{srsran::psup\_packing@{srsran::psup\_packing}}


{\ttfamily \#include $<$psup\+\_\+packing.\+h$>$}



Collaboration diagram for srsran\+::psup\+\_\+packing\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{dc/d78/classsrsran_1_1psup__packing__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1psup__packing_a7a9a3e989af295d2bd76fc54990bdfbc}{psup\+\_\+packing}} (\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1psup__packing_a7375c446a2941067c26b56a7bf73ba5c}{unpack}} (\mbox{\hyperlink{structsrsran_1_1psup__dl__pdu__session__information}{psup\+\_\+dl\+\_\+pdu\+\_\+session\+\_\+information}} \&dl\+\_\+pdu\+\_\+session\+\_\+information, \mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\+\_\+buffer\+\_\+view}} container) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1psup__packing_ab883b9d833eb25326d4442a5ff119e8a}{pack}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\+\_\+buf}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1psup__dl__pdu__session__information}{psup\+\_\+dl\+\_\+pdu\+\_\+session\+\_\+information}} \&dl\+\_\+pdu\+\_\+session\+\_\+information) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Packing and unpacking of PDU Session Container

Ref\+: TS 38.\+415 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1psup__packing_a7a9a3e989af295d2bd76fc54990bdfbc}\label{classsrsran_1_1psup__packing_a7a9a3e989af295d2bd76fc54990bdfbc} 
\index{srsran::psup\_packing@{srsran::psup\_packing}!psup\_packing@{psup\_packing}}
\index{psup\_packing@{psup\_packing}!srsran::psup\_packing@{srsran::psup\_packing}}
\doxysubsubsection{\texorpdfstring{psup\_packing()}{psup\_packing()}}
{\footnotesize\ttfamily srsran\+::psup\+\_\+packing\+::psup\+\_\+packing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrslog_1_1detail_1_1logger__impl}{srslog\+::basic\+\_\+logger}} \&}]{logger\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ :\ logger(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{logger\_}})\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1psup__packing_ab883b9d833eb25326d4442a5ff119e8a}\label{classsrsran_1_1psup__packing_ab883b9d833eb25326d4442a5ff119e8a} 
\index{srsran::psup\_packing@{srsran::psup\_packing}!pack@{pack}}
\index{pack@{pack}!srsran::psup\_packing@{srsran::psup\_packing}}
\doxysubsubsection{\texorpdfstring{pack()}{pack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::psup\+\_\+packing\+::pack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} \&}]{out\+\_\+buf,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1psup__dl__pdu__session__information}{psup\+\_\+dl\+\_\+pdu\+\_\+session\+\_\+information}} \&}]{dl\+\_\+pdu\+\_\+session\+\_\+information }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103\ \{}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\_len}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_buf}}.length();}
\DoxyCodeLine{00105\ \ \ bit\_encoder\ encoder\{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_buf}}\};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ PDU\ Type}}
\DoxyCodeLine{00108\ \ \ encoder.pack(\mbox{\hyperlink{namespacesrsran_a8955ab8bb87a3ed947717cecb003d58a}{psup\_pdu\_type\_to\_uint}}(dl\_pdu\_session\_information.pdu\_type),\ 4);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{//\ QMP}}
\DoxyCodeLine{00111\ \ \ encoder.pack(dl\_pdu\_session\_information.dl\_sending\_time\_stamp.has\_value(),\ 1);}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{//\ SNP}}
\DoxyCodeLine{00114\ \ \ encoder.pack(dl\_pdu\_session\_information.dl\_qfi\_sn.has\_value(),\ 1);}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ Spare}}
\DoxyCodeLine{00117\ \ \ encoder.pack(0,\ 2);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \textcolor{comment}{//\ PPP}}
\DoxyCodeLine{00120\ \ \ encoder.pack(dl\_pdu\_session\_information.ppi.has\_value(),\ 1);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//\ RQI}}
\DoxyCodeLine{00123\ \ \ encoder.pack(dl\_pdu\_session\_information.rqi,\ 1);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{//\ QoS\ Flow\ Identifier}}
\DoxyCodeLine{00126\ \ \ encoder.pack(\mbox{\hyperlink{namespacesrsran_a48b1287bbb0da3e8c545174a7483b7a7}{qos\_flow\_id\_to\_uint}}(dl\_pdu\_session\_information.qos\_flow\_id),\ 6);}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \textcolor{keywordflow}{if}\ (dl\_pdu\_session\_information.ppi.has\_value())\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ PPI}}
\DoxyCodeLine{00130\ \ \ \ \ encoder.pack(\mbox{\hyperlink{namespacesrsran_a677830b953c043b4a57a1f5f7de704f8}{psup\_ppi\_to\_uint}}(dl\_pdu\_session\_information.ppi.value()),\ 3);}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{comment}{//\ Spare}}
\DoxyCodeLine{00132\ \ \ \ \ encoder.pack(0,\ 5);}
\DoxyCodeLine{00133\ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{if}\ (dl\_pdu\_session\_information.dl\_sending\_time\_stamp.has\_value())\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ DL\ Sending\ Time\ Stamp}}
\DoxyCodeLine{00137\ \ \ \ \ encoder.pack(dl\_pdu\_session\_information.dl\_sending\_time\_stamp.value(),\ 64);}
\DoxyCodeLine{00138\ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \textcolor{keywordflow}{if}\ (dl\_pdu\_session\_information.dl\_qfi\_sn.has\_value())\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ DL\ QFI\ Sequence\ Number}}
\DoxyCodeLine{00142\ \ \ \ \ encoder.pack(dl\_pdu\_session\_information.dl\_qfi\_sn.value(),\ 24);}
\DoxyCodeLine{00143\ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{comment}{//\ Add\ padding\ such\ that\ length\ is\ (n*4-\/2)\ octets,\ where\ n\ is\ a\ positive\ integer.}}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{while}\ (((\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_buf}}.length()\ -\/\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{start\_len}})\ +\ 2)\ \%\ 4)\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{out\_buf}}.append(0x0))\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00149\ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \}}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00152\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1psup__packing_a7375c446a2941067c26b56a7bf73ba5c}\label{classsrsran_1_1psup__packing_a7375c446a2941067c26b56a7bf73ba5c} 
\index{srsran::psup\_packing@{srsran::psup\_packing}!unpack@{unpack}}
\index{unpack@{unpack}!srsran::psup\_packing@{srsran::psup\_packing}}
\doxysubsubsection{\texorpdfstring{unpack()}{unpack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::psup\+\_\+packing\+::unpack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1psup__dl__pdu__session__information}{psup\+\_\+dl\+\_\+pdu\+\_\+session\+\_\+information}} \&}]{dl\+\_\+pdu\+\_\+session\+\_\+information,  }\item[{\mbox{\hyperlink{classsrsran_1_1byte__buffer__view}{byte\+\_\+buffer\+\_\+view}}}]{container }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ bit\_decoder\ decoder\{container\};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ PDU\ Type}}
\DoxyCodeLine{00033\ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ pdu\_type\ =\ 0;}
\DoxyCodeLine{00034\ \ \ decoder.unpack(pdu\_type,\ 4);}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a360c60af32a4e090ec6d4104985ca5d5}{uint\_to\_psup\_pdu\_type}}(pdu\_type)\ !=\ dl\_pdu\_session\_information.pdu\_type)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Invalid\ PDU\ type.\ unpacked=\{\}\ expected=\{\}"{}},}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a360c60af32a4e090ec6d4104985ca5d5}{uint\_to\_psup\_pdu\_type}}(pdu\_type),}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dl\_pdu\_session\_information.pdu\_type);}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00040\ \ \ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{//\ QMP}}
\DoxyCodeLine{00043\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qmp}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00044\ \ \ decoder.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qmp}},\ 1);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ SNP}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snp}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00048\ \ \ decoder.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snp}},\ 1);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ Spare}}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ spare\ =\ 0;}
\DoxyCodeLine{00052\ \ \ decoder.unpack(spare,\ 2);}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}\ (spare\ !=\ 0)\ \{}
\DoxyCodeLine{00054\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Spare\ bits\ set\ in\ first\ octet.\ value=\{:\#x\}"{}},\ spare);}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{//\ TS\ 38.415\ Sec.\ 5.5.1}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{//\ 'Spare\ bits\ should\ be\ set\ to\ "{}0"{}\ by\ the\ sender\ and\ should\ not\ be\ checked\ by\ the\ receiver.'}}
\DoxyCodeLine{00057\ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ PPP}}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ppp}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00061\ \ \ decoder.unpack(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ppp}},\ 1);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ RQI}}
\DoxyCodeLine{00064\ \ \ decoder.unpack(dl\_pdu\_session\_information.rqi,\ 1);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{//\ QoS\ Flow\ Identifier}}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ qos\_flow\_id\ =\ 0;}
\DoxyCodeLine{00068\ \ \ decoder.unpack(qos\_flow\_id,\ 6);}
\DoxyCodeLine{00069\ \ \ dl\_pdu\_session\_information.qos\_flow\_id\ =\ \mbox{\hyperlink{namespacesrsran_a95c3d401b19b2f13c1635740d6737492}{uint\_to\_qos\_flow\_id}}(qos\_flow\_id);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ppp}})\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ PPI}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classuint8__t}{uint8\_t}}\ ppi\ =\ 0;}
\DoxyCodeLine{00074\ \ \ \ \ decoder.unpack(ppi,\ 3);}
\DoxyCodeLine{00075\ \ \ \ \ dl\_pdu\_session\_information.ppi\ =\ \mbox{\hyperlink{namespacesrsran_a34ed3c357baa4607cec767b0cc42ff5b}{uint\_to\_psup\_ppi}}(ppi);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ Spare}}
\DoxyCodeLine{00078\ \ \ \ \ spare\ =\ 0;}
\DoxyCodeLine{00079\ \ \ \ \ decoder.unpack(spare,\ 5);}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{if}\ (spare\ !=\ 0)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Spare\ bits\ set\ in\ third\ octet.\ value=\{:\#x\}"{}},\ spare);}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \textcolor{comment}{//\ TS\ 38.415\ Sec.\ 5.5.1}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \textcolor{comment}{//\ 'Spare\ bits\ should\ be\ set\ to\ "{}0"{}\ by\ the\ sender\ and\ should\ not\ be\ checked\ by\ the\ receiver.'}}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{qmp}})\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ DL\ Sending\ Time\ Stamp}}
\DoxyCodeLine{00089\ \ \ \ \ dl\_pdu\_session\_information.dl\_sending\_time\_stamp\ =\ 0;}
\DoxyCodeLine{00090\ \ \ \ \ decoder.unpack(dl\_pdu\_session\_information.dl\_sending\_time\_stamp.value(),\ 64);}
\DoxyCodeLine{00091\ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{snp}})\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ DL\ QFI\ Sequence\ Number}}
\DoxyCodeLine{00095\ \ \ \ \ dl\_pdu\_session\_information.dl\_qfi\_sn\ =\ 0;}
\DoxyCodeLine{00096\ \ \ \ \ decoder.unpack(dl\_pdu\_session\_information.dl\_qfi\_sn.value(),\ 24);}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00100\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/srsran/psup/psup\+\_\+packing.\+h\item 
lib/psup/psup\+\_\+packing.\+cpp\end{DoxyCompactItemize}
