\doxysection{srsran\+::ul\+\_\+harq\+\_\+process Class Reference}
\hypertarget{classsrsran_1_1ul__harq__process}{}\label{classsrsran_1_1ul__harq__process}\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}


Inheritance diagram for srsran\+::ul\+\_\+harq\+\_\+process\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d0/da4/classsrsran_1_1ul__harq__process__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::ul\+\_\+harq\+\_\+process\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d3a/classsrsran_1_1ul__harq__process__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsrsran_1_1ul__harq__process_1_1alloc__params}{alloc\+\_\+params}}
\begin{DoxyCompactList}\small\item\em Parameters relative to the last allocated PUSCH PDU for this HARQ process. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_afa4105f0bb26b34adc92b1ff248647f9}{empty}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether the HARQ process is inactive. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a24118a819c4b3bf092f55ed3491f8c71}{has\+\_\+pending\+\_\+retx}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether the UL HARQ process has a pending new\+\_\+retx. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a3e781dd7605b5a4d14dbf9035915b61f}{is\+\_\+waiting\+\_\+ack}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Checks whether the UL HARQ process is busy but waiting for an ACK. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_aab73be1ff6619c2bffbf13c4930c03b1}{max\+\_\+nof\+\_\+harq\+\_\+retxs}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Gets the maximum number of HARQ retxs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} transport\+\_\+block \& \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a934e1662f1c2c9443c817ebad17715a3}{tb}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Getter of TB params. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__harq__process_1_1alloc__params}{alloc\+\_\+params}} \& \mbox{\hyperlink{classsrsran_1_1ul__harq__process_af1871f29af526e12658a7dc8c9650af1}{last\+\_\+tx\+\_\+params}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Getter of the PDCCH/\+PDSCH parameters used in the last Tx. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_afffd0731c33f00ed16485aefa3ae8cdc}{crc\+\_\+info}} (\mbox{\hyperlink{classbool}{bool}} ack)
\begin{DoxyCompactList}\small\item\em Processes CRC info for the UL HARQ process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_aa4da3e01b3a3538afbf9084f4fa612c1}{new\+\_\+tx}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+slot}}, \mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\+\_\+harq\+\_\+retxs}})
\begin{DoxyCompactList}\small\item\em Called on every new transmission. It marks this HARQ process as busy and stores respective TB information. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a938725379dca0eaf839fee11d6515487}{new\+\_\+retx}} (\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\+\_\+slot}})
\begin{DoxyCompactList}\small\item\em Called on every TB retransmission. This function assumes that the HARQ TB is in pending new\+\_\+retx state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a5761b078713823b073b23accc64a976a}{save\+\_\+alloc\+\_\+params}} (\mbox{\hyperlink{namespacesrsran_a635cecd3b3b6716ab9f4b6043d603f9f}{dci\+\_\+ul\+\_\+rnti\+\_\+config\+\_\+type}} dci\+\_\+cfg\+\_\+type, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pusch__information}{pusch\+\_\+information}} \&pusch)
\begin{DoxyCompactList}\small\item\em Stores grant parameters that are associated with the HARQ allocation (e.\+g. DCI format, PRBs, MCS) so that they can be later fetched and optionally reused. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a3fe3a8cc557ede35f6657212c6c369ef}{cancel\+\_\+harq\+\_\+retxs}} ()
\begin{DoxyCompactList}\small\item\em Cancels the HARQ and stops retransmitting the specified TB until the next new transmission. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classsrsran_1_1ul__harq__process_a99d1a437fc17193d118f8e75f9b55445}{get\+\_\+tbs\+\_\+bytes}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Getter of the number of bytes of the last transmitted TB. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1ul__harq__process_a3fe3a8cc557ede35f6657212c6c369ef}\label{classsrsran_1_1ul__harq__process_a3fe3a8cc557ede35f6657212c6c369ef} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!cancel\_harq\_retxs@{cancel\_harq\_retxs}}
\index{cancel\_harq\_retxs@{cancel\_harq\_retxs}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{cancel\_harq\_retxs()}{cancel\_harq\_retxs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ul\+\_\+harq\+\_\+process\+::cancel\+\_\+harq\+\_\+retxs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Cancels the HARQ and stops retransmitting the specified TB until the next new transmission. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00363\ \{}
\DoxyCodeLine{00364\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a84f47c48eb4e8cebbacec9570c38d20b}{base\_type::cancel\_harq\_retxs}}(0);}
\DoxyCodeLine{00365\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_afffd0731c33f00ed16485aefa3ae8cdc}\label{classsrsran_1_1ul__harq__process_afffd0731c33f00ed16485aefa3ae8cdc} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!crc\_info@{crc\_info}}
\index{crc\_info@{crc\_info}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{crc\_info()}{crc\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} ul\+\_\+harq\+\_\+process\+::crc\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbool}{bool}}}]{ack }\end{DoxyParamCaption})}



Processes CRC info for the UL HARQ process. 

\begin{DoxyReturn}{Returns}
The number of bytes of the TB in case of ack==true, zero in case ack==false, and -\/1 if HARQ is inactive. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00330\ \{}
\DoxyCodeLine{00331\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a5ce6a0d9d0f9beb8f6ab3110754aa4f2}{base\_type::ack\_info\_common}}(0,\ ack))\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keywordflow}{if}\ (ack)\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})prev\_tx\_params.tbs\_bytes;}
\DoxyCodeLine{00334\ \ \ \ \ \}}
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classsrsran_1_1ul__harq__process_afa4105f0bb26b34adc92b1ff248647f9}{empty}}())\ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_ad7e0f4d9da7d133212dda53c348404fb}{logger}}.info(\textcolor{keywordtype}{id},}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Discarding\ HARQ\ with\ tbs=\{\}.\ Cause:\ Maximum\ number\ of\ reTxs\ \{\}\ exceeded"{}},}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\_tx\_params.tbs\_bytes,}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1ul__harq__process_aab73be1ff6619c2bffbf13c4930c03b1}{max\_nof\_harq\_retxs}}());}
\DoxyCodeLine{00340\ \ \ \ \ \}}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00342\ \ \ \}}
\DoxyCodeLine{00343\ \ \ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_ad7e0f4d9da7d133212dda53c348404fb}{logger}}.warning(\textcolor{keywordtype}{id},\ \textcolor{stringliteral}{"{}CRC\ arrived\ for\ inactive\ HARQ"{}});}
\DoxyCodeLine{00344\ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00345\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_afa4105f0bb26b34adc92b1ff248647f9}\label{classsrsran_1_1ul__harq__process_afa4105f0bb26b34adc92b1ff248647f9} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!empty@{empty}}
\index{empty@{empty}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ul\+\_\+harq\+\_\+process\+::empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether the HARQ process is inactive. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00385\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a7bacbfff919533bb0e77bac0b634b573}{base\_type::empty}}(0);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a99d1a437fc17193d118f8e75f9b55445}\label{classsrsran_1_1ul__harq__process_a99d1a437fc17193d118f8e75f9b55445} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!get\_tbs\_bytes@{get\_tbs\_bytes}}
\index{get\_tbs\_bytes@{get\_tbs\_bytes}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{get\_tbs\_bytes()}{get\_tbs\_bytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} srsran\+::ul\+\_\+harq\+\_\+process\+::get\+\_\+tbs\+\_\+bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Getter of the number of bytes of the last transmitted TB. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00420\ \{\ \textcolor{keywordflow}{return}\ prev\_tx\_params.tbs\_bytes;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a24118a819c4b3bf092f55ed3491f8c71}\label{classsrsran_1_1ul__harq__process_a24118a819c4b3bf092f55ed3491f8c71} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!has\_pending\_retx@{has\_pending\_retx}}
\index{has\_pending\_retx@{has\_pending\_retx}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{has\_pending\_retx()}{has\_pending\_retx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ul\+\_\+harq\+\_\+process\+::has\+\_\+pending\+\_\+retx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether the UL HARQ process has a pending new\+\_\+retx. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00388\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a9cb73980ed9d17579518de736c86210d}{base\_type::has\_pending\_retx}}(0);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a3e781dd7605b5a4d14dbf9035915b61f}\label{classsrsran_1_1ul__harq__process_a3e781dd7605b5a4d14dbf9035915b61f} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!is\_waiting\_ack@{is\_waiting\_ack}}
\index{is\_waiting\_ack@{is\_waiting\_ack}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{is\_waiting\_ack()}{is\_waiting\_ack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} srsran\+::ul\+\_\+harq\+\_\+process\+::is\+\_\+waiting\+\_\+ack (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks whether the UL HARQ process is busy but waiting for an ACK. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00391\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_a22fe37de33da5a82210f32c40e44f51b}{base\_type::is\_waiting\_ack}}(0);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_af1871f29af526e12658a7dc8c9650af1}\label{classsrsran_1_1ul__harq__process_af1871f29af526e12658a7dc8c9650af1} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!last\_tx\_params@{last\_tx\_params}}
\index{last\_tx\_params@{last\_tx\_params}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{last\_tx\_params()}{last\_tx\_params()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1ul__harq__process_1_1alloc__params}{alloc\+\_\+params}} \& srsran\+::ul\+\_\+harq\+\_\+process\+::last\+\_\+tx\+\_\+params (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Getter of the PDCCH/\+PDSCH parameters used in the last Tx. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00400\ \{\ \textcolor{keywordflow}{return}\ prev\_tx\_params;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_aab73be1ff6619c2bffbf13c4930c03b1}\label{classsrsran_1_1ul__harq__process_aab73be1ff6619c2bffbf13c4930c03b1} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!max\_nof\_harq\_retxs@{max\_nof\_harq\_retxs}}
\index{max\_nof\_harq\_retxs@{max\_nof\_harq\_retxs}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{max\_nof\_harq\_retxs()}{max\_nof\_harq\_retxs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} srsran\+::ul\+\_\+harq\+\_\+process\+::max\+\_\+nof\+\_\+harq\+\_\+retxs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the maximum number of HARQ retxs. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00394\ \{\ \textcolor{keywordflow}{return}\ base\_type::max\_nof\_harq\_retxs(0);\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a938725379dca0eaf839fee11d6515487}\label{classsrsran_1_1ul__harq__process_a938725379dca0eaf839fee11d6515487} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!new\_retx@{new\_retx}}
\index{new\_retx@{new\_retx}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{new\_retx()}{new\_retx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ul\+\_\+harq\+\_\+process\+::new\+\_\+retx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{pusch\+\_\+slot }\end{DoxyParamCaption})}



Called on every TB retransmission. This function assumes that the HARQ TB is in pending new\+\_\+retx state. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00323\ \{}
\DoxyCodeLine{00324\ \ \ harq\_process::tx\_common(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}});}
\DoxyCodeLine{00325\ \ \ \textcolor{comment}{//\ Note:\ For\ UL,\ DAI\ is\ not\ used,\ so\ we\ set\ it\ to\ zero.}}
\DoxyCodeLine{00326\ \ \ base\_type::new\_retx\_tb\_common(0,\ 0);}
\DoxyCodeLine{00327\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_aa4da3e01b3a3538afbf9084f4fa612c1}\label{classsrsran_1_1ul__harq__process_aa4da3e01b3a3538afbf9084f4fa612c1} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!new\_tx@{new\_tx}}
\index{new\_tx@{new\_tx}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{new\_tx()}{new\_tx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ul\+\_\+harq\+\_\+process\+::new\+\_\+tx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1slot__point}{slot\+\_\+point}}}]{pusch\+\_\+slot,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{max\+\_\+harq\+\_\+retxs }\end{DoxyParamCaption})}



Called on every new transmission. It marks this HARQ process as busy and stores respective TB information. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00315\ \{}
\DoxyCodeLine{00316\ \ \ harq\_process::tx\_common(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{pusch\_slot}});}
\DoxyCodeLine{00317\ \ \ \textcolor{comment}{//\ Note:\ For\ UL,\ DAI\ is\ not\ used,\ so\ we\ set\ it\ to\ zero.}}
\DoxyCodeLine{00318\ \ \ base\_type::new\_tx\_tb\_common(0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{max\_harq\_retxs}},\ 0);}
\DoxyCodeLine{00319\ \ \ prev\_tx\_params\ =\ \{\};}
\DoxyCodeLine{00320\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a5761b078713823b073b23accc64a976a}\label{classsrsran_1_1ul__harq__process_a5761b078713823b073b23accc64a976a} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!save\_alloc\_params@{save\_alloc\_params}}
\index{save\_alloc\_params@{save\_alloc\_params}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{save\_alloc\_params()}{save\_alloc\_params()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} ul\+\_\+harq\+\_\+process\+::save\+\_\+alloc\+\_\+params (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a635cecd3b3b6716ab9f4b6043d603f9f}{dci\+\_\+ul\+\_\+rnti\+\_\+config\+\_\+type}}}]{dci\+\_\+cfg\+\_\+type,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1pusch__information}{pusch\+\_\+information}} \&}]{pusch }\end{DoxyParamCaption})}



Stores grant parameters that are associated with the HARQ allocation (e.\+g. DCI format, PRBs, MCS) so that they can be later fetched and optionally reused. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00348\ \{}
\DoxyCodeLine{00349\ \ \ srsran\_assert(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ \mbox{\hyperlink{classsrsran_1_1ul__harq__process_afa4105f0bb26b34adc92b1ff248647f9}{empty}}(),\ \textcolor{stringliteral}{"{}Setting\ allocation\ parameters\ for\ empty\ DL\ HARQ\ process\ id=\{\}\ TB"{}},\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00350\ \ \ srsran\_assert(\mbox{\hyperlink{classsrsran_1_1ul__harq__process_a934e1662f1c2c9443c817ebad17715a3}{tb}}().nof\_retxs\ ==\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ dci\_cfg\_type\ ==\ prev\_tx\_params.dci\_cfg\_type,}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}DCI\ format\ and\ RNTI\ type\ cannot\ change\ during\ DL\ HARQ\ retxs"{}});}
\DoxyCodeLine{00352\ \ \ srsran\_assert(\mbox{\hyperlink{classsrsran_1_1ul__harq__process_a934e1662f1c2c9443c817ebad17715a3}{tb}}().nof\_retxs\ ==\ 0\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{or}}\ prev\_tx\_params.tbs\_bytes\ ==\ pusch.\mbox{\hyperlink{structsrsran_1_1pusch__information_a04b6afd9ed18e7f4bfa8d426bff71e98}{tb\_size\_bytes}},}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}TBS\ cannot\ change\ during\ DL\ HARQ\ retxs"{}});}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \ \ prev\_tx\_params.mcs\_table\ \ \ \ =\ pusch.\mbox{\hyperlink{structsrsran_1_1pusch__information_aa7401c5d1e2dd91a70b94c2a8722d9f0}{mcs\_table}};}
\DoxyCodeLine{00356\ \ \ prev\_tx\_params.mcs\ \ \ \ \ \ \ \ \ \ =\ pusch.\mbox{\hyperlink{structsrsran_1_1pusch__information_a09d36f3977f5358eb20f7859cde80637}{mcs\_index}};}
\DoxyCodeLine{00357\ \ \ prev\_tx\_params.tbs\_bytes\ \ \ \ =\ pusch.\mbox{\hyperlink{structsrsran_1_1pusch__information_a04b6afd9ed18e7f4bfa8d426bff71e98}{tb\_size\_bytes}};}
\DoxyCodeLine{00358\ \ \ prev\_tx\_params.dci\_cfg\_type\ =\ dci\_cfg\_type;}
\DoxyCodeLine{00359\ \ \ prev\_tx\_params.rbs\ \ \ \ \ \ \ \ \ \ =\ pusch.rbs;}
\DoxyCodeLine{00360\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1ul__harq__process_a934e1662f1c2c9443c817ebad17715a3}\label{classsrsran_1_1ul__harq__process_a934e1662f1c2c9443c817ebad17715a3} 
\index{srsran::ul\_harq\_process@{srsran::ul\_harq\_process}!tb@{tb}}
\index{tb@{tb}!srsran::ul\_harq\_process@{srsran::ul\_harq\_process}}
\doxysubsubsection{\texorpdfstring{tb()}{tb()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} transport\+\_\+block \& srsran\+::ul\+\_\+harq\+\_\+process\+::tb (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Getter of TB params. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00397\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1detail_1_1harq__process_ab9e3038edccbdcf995a2e202286c2b0e}{base\_type::tb}}(0);\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+h\item 
lib/scheduler/ue\+\_\+scheduling/harq\+\_\+process.\+cpp\end{DoxyCompactItemize}
