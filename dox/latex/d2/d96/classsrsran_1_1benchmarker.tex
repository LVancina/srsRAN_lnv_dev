\doxysection{srsran\+::benchmarker Class Reference}
\hypertarget{classsrsran_1_1benchmarker}{}\label{classsrsran_1_1benchmarker}\index{srsran::benchmarker@{srsran::benchmarker}}


Describes a class for performing benchmarks.  




{\ttfamily \#include $<$benchmark\+\_\+utils.\+h$>$}



Collaboration diagram for srsran\+::benchmarker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{df/df9/classsrsran_1_1benchmarker__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1benchmarker_ad40667f57b56cb16484985be9c7d7fd6}{benchmarker}} (std\+::string \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{title\+\_\+}}, uint64\+\_\+t \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\+\_\+repetitions\+\_\+}})
\begin{DoxyCompactList}\small\item\em Creates a bench marker. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1benchmarker_a9e94d5aa76027c744cf6ba0ffdf41ffe}{print\+\_\+percentiles\+\_\+time}} (std\+::string units="{}nanoseconds"{}, \mbox{\hyperlink{classdouble}{double}} scaling=1.\+0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Prints the time execution measurements in nanoseconds. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1benchmarker_a8504fb3746bc87faeffec455eed038d1}{print\+\_\+percentiles\+\_\+throughput}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&units, \mbox{\hyperlink{classdouble}{double}} scaling=1.\+0) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Prints the throughput measurements in millions of elements per seconds. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Post\+Func}}  = do\+\_\+nothing\+\_\+functor$>$ }\\\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1benchmarker_a8fbaf61d7599c8273919ef92f135f39f}{new\+\_\+measure}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&description, uint64\+\_\+t size, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} \&\&function, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Post\+Func}} \&\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{post\+\_\+func}}=do\+\_\+nothing\+\_\+functor\{\})
\begin{DoxyCompactList}\small\item\em Performs a new performance measurement. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} Context , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} $>$ }\\\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1benchmarker_a06dc6628baeda5b4984d987472c736c8}{new\+\_\+measure\+\_\+with\+\_\+context}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&description, uint64\+\_\+t size, Context \&\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{context\+\_\+function}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} \&\&function)
\begin{DoxyCompactList}\small\item\em Performs a new performance measurement with some context setup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Describes a class for performing benchmarks. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1benchmarker_ad40667f57b56cb16484985be9c7d7fd6}\label{classsrsran_1_1benchmarker_ad40667f57b56cb16484985be9c7d7fd6} 
\index{srsran::benchmarker@{srsran::benchmarker}!benchmarker@{benchmarker}}
\index{benchmarker@{benchmarker}!srsran::benchmarker@{srsran::benchmarker}}
\doxysubsubsection{\texorpdfstring{benchmarker()}{benchmarker()}}
{\footnotesize\ttfamily srsran\+::benchmarker\+::benchmarker (\begin{DoxyParamCaption}\item[{std\+::string}]{title\+\_\+,  }\item[{uint64\+\_\+t}]{nof\+\_\+repetitions\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a bench marker. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em title\+\_\+} & Indicates the benchmark title for the percentile report. \\
\hline
\mbox{\texttt{ in}}  & {\em nof\+\_\+repetitions\+\_\+} & Indicates the number of repetitions of the function to measure the performance. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00178\ \ \ \ \ title(std::move(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{title\_}})),\ nof\_repetitions(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nof\_repetitions\_}})}
\DoxyCodeLine{00179\ \ \ \{}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#if\ ASSERTS\_ENABLED}}
\DoxyCodeLine{00181\ \ \ \ \ fmt::print(stderr,\ \textcolor{stringliteral}{"{}Warning:\ Assertions\ are\ enabled.\ Performance\ might\ be\ negatively\ affected.\(\backslash\)n"{}});}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00183\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1benchmarker_a8fbaf61d7599c8273919ef92f135f39f}\label{classsrsran_1_1benchmarker_a8fbaf61d7599c8273919ef92f135f39f} 
\index{srsran::benchmarker@{srsran::benchmarker}!new\_measure@{new\_measure}}
\index{new\_measure@{new\_measure}!srsran::benchmarker@{srsran::benchmarker}}
\doxysubsubsection{\texorpdfstring{new\_measure()}{new\_measure()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Post\+Func}}  = do\+\_\+nothing\+\_\+functor$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::benchmarker\+::new\+\_\+measure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&}]{description,  }\item[{uint64\+\_\+t}]{size,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} \&\&}]{function,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Post\+Func}} \&\&}]{post\+\_\+func = {\ttfamily do\+\_\+nothing\+\_\+functor\{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Performs a new performance measurement. 


\begin{DoxyTemplParams}{Template Parameters}
{\em Func} & Lambda type to perform the benchmark. \\
\hline
{\em Post\+Func} & Lambda type to call after each Func call. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em description} & Measurement description for later reporting. \\
\hline
\mbox{\texttt{ in}}  & {\em size} & Number of elements processed in the measurement. \\
\hline
\mbox{\texttt{ in}}  & {\em function} & Lambda function to call repeatedly. \\
\hline
\mbox{\texttt{ in}}  & {\em post\+\_\+func} & Lambda function to call repeatedly, after {\ttfamily function}, but without being accounted for in the benchmark results. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\})}
\DoxyCodeLine{00270\ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ benchmark\_result\ result;}
\DoxyCodeLine{00272\ \ \ \ \ result.description\ =\ description;}
\DoxyCodeLine{00273\ \ \ \ \ result.size\ \ \ \ \ \ \ \ =\ size;}
\DoxyCodeLine{00274\ \ \ \ \ result.measurements.reserve(nof\_repetitions);}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint64\_t\ rep\ =\ 0;\ rep\ !=\ nof\_repetitions;\ ++rep)\ \{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{00278\ \ \ \ \ \ \ function();}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{00280\ \ \ \ \ \ \ result.measurements.push\_back(std::chrono::duration\_cast<std::chrono::nanoseconds>(end\ -\/\ start).count());}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{post\_func}}();}
\DoxyCodeLine{00282\ \ \ \ \ \}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ std::sort(result.measurements.begin(),\ result.measurements.end());}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \ \ benchmark\_results.push\_back(std::move(result));}
\DoxyCodeLine{00287\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1benchmarker_a06dc6628baeda5b4984d987472c736c8}\label{classsrsran_1_1benchmarker_a06dc6628baeda5b4984d987472c736c8} 
\index{srsran::benchmarker@{srsran::benchmarker}!new\_measure\_with\_context@{new\_measure\_with\_context}}
\index{new\_measure\_with\_context@{new\_measure\_with\_context}!srsran::benchmarker@{srsran::benchmarker}}
\doxysubsubsection{\texorpdfstring{new\_measure\_with\_context()}{new\_measure\_with\_context()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} Context , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} $>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::benchmarker\+::new\+\_\+measure\+\_\+with\+\_\+context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&}]{description,  }\item[{uint64\+\_\+t}]{size,  }\item[{Context \&\&}]{context\+\_\+function,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Func}} \&\&}]{function }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Performs a new performance measurement with some context setup. 


\begin{DoxyTemplParams}{Template Parameters}
{\em Func} & Lambda type to perform the benchmark. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em description} & Measurement description for later reporting. \\
\hline
\mbox{\texttt{ in}}  & {\em size} & Number of elements processed in the measurement. \\
\hline
\mbox{\texttt{ in}}  & {\em function} & Lambda function to call repeatedly. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00297\ \ \ \{}
\DoxyCodeLine{00298\ \ \ \ \ benchmark\_result\ result;}
\DoxyCodeLine{00299\ \ \ \ \ result.description\ =\ description;}
\DoxyCodeLine{00300\ \ \ \ \ result.size\ \ \ \ \ \ \ \ =\ size;}
\DoxyCodeLine{00301\ \ \ \ \ result.measurements.reserve(nof\_repetitions);}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint64\_t\ rep\ =\ 0;\ rep\ !=\ nof\_repetitions;\ ++rep)\ \{}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{context\_function}}();}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{00306\ \ \ \ \ \ \ function();}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{00308\ \ \ \ \ \ \ result.measurements.push\_back(std::chrono::duration\_cast<std::chrono::nanoseconds>(end\ -\/\ start).count());}
\DoxyCodeLine{00309\ \ \ \ \ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ std::sort(result.measurements.begin(),\ result.measurements.end());}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ benchmark\_results.push\_back(std::move(result));}
\DoxyCodeLine{00314\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1benchmarker_a8504fb3746bc87faeffec455eed038d1}\label{classsrsran_1_1benchmarker_a8504fb3746bc87faeffec455eed038d1} 
\index{srsran::benchmarker@{srsran::benchmarker}!print\_percentiles\_throughput@{print\_percentiles\_throughput}}
\index{print\_percentiles\_throughput@{print\_percentiles\_throughput}!srsran::benchmarker@{srsran::benchmarker}}
\doxysubsubsection{\texorpdfstring{print\_percentiles\_throughput()}{print\_percentiles\_throughput()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::benchmarker\+::print\+\_\+percentiles\+\_\+throughput (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::string \&}]{units,  }\item[{\mbox{\hyperlink{classdouble}{double}}}]{scaling = {\ttfamily 1.0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Prints the throughput measurements in millions of elements per seconds. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em units} & Units counted in the throughput (ie. bits, symbols, etc.). \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00221\ \ \ \{}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordflow}{if}\ (benchmark\_results.empty())\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}No\ benchmark\ results\ for\ \{\}.\(\backslash\)n"{}},\ title);}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00225\ \ \ \ \ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}}\ =\ get\_percentile\_width\_throughput(scaling);}
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}}\ \ \ \ \ \ =\ get\_description\_width();}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ print\_percentile\_header(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},\ \textcolor{stringliteral}{"{}mega"{}}\ +\ units\ +\ \textcolor{stringliteral}{"{}\ per\ second"{}});}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ benchmark\_result\&\ result\ :\ benchmark\_results)\ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ fmt::print(}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \{:\{\}\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\(\backslash\)n"{}},}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ result.description,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}},}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.5)],\ result.size)\ *\ scaling,}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.75)],\ result.size)\ *}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scaling,}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.9)],\ result.size)\ *\ scaling,}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.99)],\ result.size)\ *}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scaling,}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.999)],\ result.size)\ *}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scaling,}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.9999)],\ result.size)\ *}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scaling,}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ convert\_to\_throughput(result.measurements.back(),\ result.size)\ *\ scaling,}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}});}
\DoxyCodeLine{00254\ \ \ \ \ \}}
\DoxyCodeLine{00255\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1benchmarker_a9e94d5aa76027c744cf6ba0ffdf41ffe}\label{classsrsran_1_1benchmarker_a9e94d5aa76027c744cf6ba0ffdf41ffe} 
\index{srsran::benchmarker@{srsran::benchmarker}!print\_percentiles\_time@{print\_percentiles\_time}}
\index{print\_percentiles\_time@{print\_percentiles\_time}!srsran::benchmarker@{srsran::benchmarker}}
\doxysubsubsection{\texorpdfstring{print\_percentiles\_time()}{print\_percentiles\_time()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::benchmarker\+::print\+\_\+percentiles\+\_\+time (\begin{DoxyParamCaption}\item[{std\+::string}]{units = {\ttfamily "{}nanoseconds"{}},  }\item[{\mbox{\hyperlink{classdouble}{double}}}]{scaling = {\ttfamily 1.0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Prints the time execution measurements in nanoseconds. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00187\ \ \ \{}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{if}\ (benchmark\_results.empty())\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{comment}{//\ Get\ width\ plus\ 2\ characters\ for\ 1\ decimal\ position.}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}}\ =\ get\_percentile\_width\_time(scaling);}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}}\ \ \ \ \ \ =\ get\_description\_width();}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ print\_percentile\_header(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},\ units);}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ benchmark\_result\&\ result\ :\ benchmark\_results)\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ fmt::print(\textcolor{stringliteral}{"{}\ \{:\{\}\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\{:\{\}.1f\}|\(\backslash\)n"{}},}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.description,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{descr\_width}},}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.5)]\ *\ scaling,}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.75)]\ *\ scaling,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.9)]\ *\ scaling,}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.99)]\ *\ scaling,}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.999)]\ *\ scaling,}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(nof\_repetitions\ *\ 0.9999)]\ *\ scaling,}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}},}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.measurements.back()\ *\ scaling,}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{percentile\_width}});}
\DoxyCodeLine{00215\ \ \ \ \ \}}
\DoxyCodeLine{00216\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/benchmark\+\_\+utils.\+h\end{DoxyCompactItemize}
