\doxysection{srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1rx__buffer__pool__impl}{}\label{classsrsran_1_1rx__buffer__pool__impl}\index{srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}}


Implements a PUSCH rate matcher buffer pool.  




{\ttfamily \#include $<$rx\+\_\+buffer\+\_\+pool\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/dce/classsrsran_1_1rx__buffer__pool__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d3b/classsrsran_1_1rx__buffer__pool__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__impl_a33e98201fd515b168a5221fcf0cf94fc}{rx\+\_\+buffer\+\_\+pool\+\_\+impl}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rx__buffer__pool__config}{rx\+\_\+buffer\+\_\+pool\+\_\+config}} \&config)
\begin{DoxyCompactList}\small\item\em Creates a generic receiver buffer pool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1rx__buffer__pool}{rx\+\_\+buffer\+\_\+pool}} \& \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__impl_a1ab2a0093ad639228145f4aeee2522d6}{get\+\_\+pool}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Gets the actual buffer pool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__impl_a0c8f046a64e88e69bc64e98d754f8dd2}{stop}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Stops the buffer pool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__controller}{srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+controller}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{virtual}} \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__controller_a1a66ef37e5e31bcfa50234688804cf15}{\texorpdfstring{$\sim$}{\string~}rx\+\_\+buffer\+\_\+pool\+\_\+controller}} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements a PUSCH rate matcher buffer pool. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1rx__buffer__pool__impl_a33e98201fd515b168a5221fcf0cf94fc}\label{classsrsran_1_1rx__buffer__pool__impl_a33e98201fd515b168a5221fcf0cf94fc} 
\index{srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}!rx\_buffer\_pool\_impl@{rx\_buffer\_pool\_impl}}
\index{rx\_buffer\_pool\_impl@{rx\_buffer\_pool\_impl}!srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}}
\doxysubsubsection{\texorpdfstring{rx\_buffer\_pool\_impl()}{rx\_buffer\_pool\_impl()}}
{\footnotesize\ttfamily srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1rx__buffer__pool__config}{rx\+\_\+buffer\+\_\+pool\+\_\+config}} \&}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates a generic receiver buffer pool. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & Provides the pool required parameters. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00075\ \ \ \ \ codeblock\_pool(config.nof\_codeblocks,\ config.max\_codeblock\_size,\ config.external\_soft\_bits),}
\DoxyCodeLine{00076\ \ \ \ \ buffers(config.nof\_buffers,\ rx\_buffer\_impl(codeblock\_pool)),}
\DoxyCodeLine{00077\ \ \ \ \ identifiers(config.nof\_buffers,\ \mbox{\hyperlink{classsrsran_1_1trx__buffer__identifier_aefd8456f2c1c6d05d1d868f27d5fb1df}{trx\_buffer\_identifier::invalid}}()),}
\DoxyCodeLine{00078\ \ \ \ \ expirations(config.nof\_buffers,\ null\_expiration),}
\DoxyCodeLine{00079\ \ \ \ \ expire\_timeout\_slots(config.expire\_timeout\_slots),}
\DoxyCodeLine{00080\ \ \ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}PHY"{}},\ \textcolor{keyword}{true}))}
\DoxyCodeLine{00081\ \ \ \{}
\DoxyCodeLine{00082\ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__pool__impl_a30f349ba253f5f3841f80b3b2195d856}\label{classsrsran_1_1rx__buffer__pool__impl_a30f349ba253f5f3841f80b3b2195d856} 
\index{srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}!````~rx\_buffer\_pool\_impl@{\texorpdfstring{$\sim$}{\string~}rx\_buffer\_pool\_impl}}
\index{````~rx\_buffer\_pool\_impl@{\texorpdfstring{$\sim$}{\string~}rx\_buffer\_pool\_impl}!srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}rx\_buffer\_pool\_impl()}{\string~rx\_buffer\_pool\_impl()}}
{\footnotesize\ttfamily srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+impl\+::\texorpdfstring{$\sim$}{\string~}rx\+\_\+buffer\+\_\+pool\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ srsran\_assert(std::none\_of(buffers.begin(),\ buffers.end(),\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ buffer)\ \{\ return\ buffer.is\_locked();\ \}),}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}A\ buffer\ is\ still\ locked."{}});}
\DoxyCodeLine{00089\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1rx__buffer__pool__impl_a1ab2a0093ad639228145f4aeee2522d6}\label{classsrsran_1_1rx__buffer__pool__impl_a1ab2a0093ad639228145f4aeee2522d6} 
\index{srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}!get\_pool@{get\_pool}}
\index{get\_pool@{get\_pool}!srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}}
\doxysubsubsection{\texorpdfstring{get\_pool()}{get\_pool()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool}{rx\+\_\+buffer\+\_\+pool}} \& rx\+\_\+buffer\+\_\+pool\+\_\+impl\+::get\+\_\+pool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Gets the actual buffer pool. 



Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__controller_aa88833f0915d05dc714a4ea7e46947a3}{srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+controller}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00145\ \{}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00147\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1rx__buffer__pool__impl_a0c8f046a64e88e69bc64e98d754f8dd2}\label{classsrsran_1_1rx__buffer__pool__impl_a0c8f046a64e88e69bc64e98d754f8dd2} 
\index{srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}!stop@{stop}}
\index{stop@{stop}!srsran::rx\_buffer\_pool\_impl@{srsran::rx\_buffer\_pool\_impl}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} rx\+\_\+buffer\+\_\+pool\+\_\+impl\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Stops the buffer pool. 

It waits for all buffers to be unlocked. 

Implements \mbox{\hyperlink{classsrsran_1_1rx__buffer__pool__controller_a17c629cca32b3cc687f2ea802434b78b}{srsran\+::rx\+\_\+buffer\+\_\+pool\+\_\+controller}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \{}
\DoxyCodeLine{00151\ \ \ \textcolor{comment}{//\ Signals\ the\ stop\ of\ the\ pool.\ No\ more\ reservation\ are\ allowed\ after\ this\ point.}}
\DoxyCodeLine{00152\ \ \ stopped.store(\textcolor{keyword}{true},\ std::memory\_order\_release);}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \textcolor{comment}{//\ Makes\ sure\ all\ buffers\ are\ unlocked.}}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ buffer\ :\ buffers)\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{while}\ (buffer.is\_locked())\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ std::this\_thread::sleep\_for(std::chrono::microseconds(10));}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \}}
\DoxyCodeLine{00160\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/rx\+\_\+buffer\+\_\+pool\+\_\+impl.\+h\item 
lib/phy/upper/rx\+\_\+buffer\+\_\+pool\+\_\+impl.\+cpp\end{DoxyCompactItemize}
