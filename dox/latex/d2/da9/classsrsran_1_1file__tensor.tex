\doxysection{srsran\+::file\+\_\+tensor\texorpdfstring{$<$}{<} NDIMS, T, Index\+\_\+type \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classsrsran_1_1file__tensor}{}\label{classsrsran_1_1file__tensor}\index{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}}


Binary file input interface for data with multiple dimensions.  




{\ttfamily \#include $<$file\+\_\+tensor.\+h$>$}



Collaboration diagram for srsran\+::file\+\_\+tensor\texorpdfstring{$<$}{<} NDIMS, T, Index\+\_\+type \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{d9/d89/classsrsran_1_1file__tensor__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1file__tensor_aaf88c81941d7f7f29ff0f5990ee96026}{file\+\_\+tensor}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*}filename, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::array$<$ \mbox{\hyperlink{classunsigned}{unsigned}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}} $>$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dim\+\_\+sizes}}, \mbox{\hyperlink{namespacesrsran_affd14c65e81360074c4f5d7c48221ad8}{openmode}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\+\_\+}}=\mbox{\hyperlink{namespacesrsran_affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe}{openmode\+::read\+\_\+only}})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1file__tensor_a9791ea3163c4e0869035111714b722d5}{get\+\_\+file\+\_\+name}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Returns the file name. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1dynamic__tensor}{dynamic\+\_\+tensor}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}}, T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} $>$ \mbox{\hyperlink{classsrsran_1_1file__tensor_a9c28a66bb0baea1b4dafe52d36d98709}{read}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}}
\begin{DoxyCompactList}\small\item\em Reads the file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$\mbox{\hyperlink{classunsigned}{unsigned}} NDIMS, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} = unsigned$>$\newline
class srsran\+::file\+\_\+tensor$<$ NDIMS, T, Index\+\_\+type $>$}
Binary file input interface for data with multiple dimensions. 

Allows reading values of type {\ttfamily T} with {\ttfamily NDIMS} dimensions from a binary file.


\begin{DoxyTemplParams}{Template Parameters}
{\em NDIMS} & Number of dimensions of the data. \\
\hline
{\em T} & Data type. \\
\hline
{\em Index\+\_\+type} & Data type used for representing dimension indexes. \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1file__tensor_aaf88c81941d7f7f29ff0f5990ee96026}\label{classsrsran_1_1file__tensor_aaf88c81941d7f7f29ff0f5990ee96026} 
\index{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}!file\_tensor@{file\_tensor}}
\index{file\_tensor@{file\_tensor}!srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}}
\doxysubsubsection{\texorpdfstring{file\_tensor()}{file\_tensor()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classunsigned}{unsigned}} NDIMS, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}}  = unsigned$>$ \\
\mbox{\hyperlink{classsrsran_1_1file__tensor}{srsran\+::file\+\_\+tensor}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}}, T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} $>$\+::file\+\_\+tensor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*}}]{filename,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} std\+::array$<$ \mbox{\hyperlink{classunsigned}{unsigned}}, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}} $>$}]{dim\+\_\+sizes,  }\item[{\mbox{\hyperlink{namespacesrsran_affd14c65e81360074c4f5d7c48221ad8}{openmode}}}]{op\+\_\+ = {\ttfamily \mbox{\hyperlink{namespacesrsran_affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe}{openmode\+::read\+\_\+only}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. 

Sets the name and the mode (default is {\itshape read-\/only}) of the binary file, as well as the data dimensions. No operations are performed on the file.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em filename} & Input file name. \\
\hline
\mbox{\texttt{ in}}  & {\em dim\+\_\+sizes} & Array describing the data dimensions. \\
\hline
\mbox{\texttt{ in}}  & {\em op\+\_\+} & File opening mode. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00054\ \ \ \ \ file\_name(filename),\ dimension\_sizes(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dim\_sizes}}),\ op(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{op\_}})}
\DoxyCodeLine{00055\ \ \ \{}
\DoxyCodeLine{00056\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1file__tensor_a9791ea3163c4e0869035111714b722d5}\label{classsrsran_1_1file__tensor_a9791ea3163c4e0869035111714b722d5} 
\index{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}!get\_file\_name@{get\_file\_name}}
\index{get\_file\_name@{get\_file\_name}!srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}}
\doxysubsubsection{\texorpdfstring{get\_file\_name()}{get\_file\_name()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classunsigned}{unsigned}} NDIMS, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}}  = unsigned$>$ \\
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classchar}{char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsrsran_1_1file__tensor}{srsran\+::file\+\_\+tensor}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}}, T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} $>$\+::get\+\_\+file\+\_\+name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the file name. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00059\ \{\ \textcolor{keywordflow}{return}\ file\_name;\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1file__tensor_a9c28a66bb0baea1b4dafe52d36d98709}\label{classsrsran_1_1file__tensor_a9c28a66bb0baea1b4dafe52d36d98709} 
\index{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}!read@{read}}
\index{read@{read}!srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$@{srsran::file\_tensor$<$ NDIMS, T, Index\_type $>$}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily template$<$\mbox{\hyperlink{classunsigned}{unsigned}} NDIMS, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} T , \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{typename}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}}  = unsigned$>$ \\
\mbox{\hyperlink{classsrsran_1_1dynamic__tensor}{dynamic\+\_\+tensor}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}}, T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} $>$ \mbox{\hyperlink{classsrsran_1_1file__tensor}{srsran\+::file\+\_\+tensor}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{NDIMS}}, T, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{Index\+\_\+type}} $>$\+::read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Reads the file. 

The contents of the file are dumped to a {\ttfamily \doxylink{classsrsran_1_1dynamic__tensor}{dynamic\+\_\+tensor}} using the dimensions set during construction. The file is closed when the operation is completed. \begin{DoxyWarning}{Warning}
An exception arises if the file cannot be opened or if the write-\/only open mode was specified at creation. 
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ report\_fatal\_error\_if\_not(op\ !=\ \mbox{\hyperlink{namespacesrsran_affd14c65e81360074c4f5d7c48221ad8a2629564984b808cf7e6cfc61a0286d69}{openmode::write\_only}},\ \textcolor{stringliteral}{"{}The\ file\_vector\ was\ created\ with\ write-\/only\ permissions."{}});}
\DoxyCodeLine{00069\ \ \ \ \ std::ifstream\ binary\_file(file\_name,\ std::ios::in\ |\ std::ios::binary);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ report\_fatal\_error\_if\_not(binary\_file.is\_open(),\ \textcolor{stringliteral}{"{}Error\ opening\ file\ '\{\}'.\ \{\}."{}},\ file\_name,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{strerror}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{errno}}));}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{dynamic\_tensor<NDIMS,\ T,\ Index\_type>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_data}}(dimension\_sizes);}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<T>}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_data}}.get\_data());}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ T\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_value}};}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{while}\ (binary\_file.read(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_value}}),\ \textcolor{keyword}{sizeof}(T)))\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}.front()\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_value}};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}\ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}.last(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}.size()\ -\/\ 1);}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ report\_fatal\_error\_if\_not(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{flat\_tensor\_view}}.size()\ ==\ 0,\ \textcolor{stringliteral}{"{}Not\ all\ tensor\ elements\ have\ been\ filled."{}});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{read\_data}};}
\DoxyCodeLine{00085\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/srsran/support/file\+\_\+tensor.\+h\end{DoxyCompactItemize}
