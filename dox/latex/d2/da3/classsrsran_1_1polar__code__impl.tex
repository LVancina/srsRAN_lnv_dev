\doxysection{srsran\+::polar\+\_\+code\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1polar__code__impl}{}\label{classsrsran_1_1polar__code__impl}\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}


Implementation of the polar code interface based on look-\/up tables.  




{\ttfamily \#include $<$polar\+\_\+code\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::polar\+\_\+code\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{db/d1b/classsrsran_1_1polar__code__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::polar\+\_\+code\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d6/dba/classsrsran_1_1polar__code__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1polar__code__impl_afffac099145c45858e18a6be9a8b5eab}{polar\+\_\+code\+\_\+impl}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\Hypertarget{classsrsran_1_1polar__code__impl_a7e820037cfc21fc4474b8e697bf9dc55}\label{classsrsran_1_1polar__code__impl_a7e820037cfc21fc4474b8e697bf9dc55} 
{\bfseries \texorpdfstring{$\sim$}{\string~}polar\+\_\+code\+\_\+impl} ()=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{default}}
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a3c50a0e4eb28e933f4f9946670452b6a}{get\+\_\+n}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the base-\/2 logarithm of the codeword length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a28b42b3bf67bc92283f3c84bf3b96f31}{get\+\_\+N}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the codeword length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a018959f429e9778c72354a09fe553456}{get\+\_\+K}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the message (data bits and CRC) length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_adedcd20d051e0e6e1b87288d3c933fde}{get\+\_\+E}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the codeword length after rate matching. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classunsigned}{unsigned}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a14673d83d2f68e466bffe83c0a8db528}{get\+\_\+n\+PC}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the number of parity check bits. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ \mbox{\hyperlink{classsrsran_1_1polar__code_ad5945de0e497b8e45b4336e8352575dc}{NMAX}} $>$ \& \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a0a00bd4006ad64d7ff1c133c701e8785}{get\+\_\+\+K\+\_\+set}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the message set. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a5a96b2ccc5378e5353e127168f43c87d}{get\+\_\+\+PC\+\_\+set}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the parity-\/check set. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ \mbox{\hyperlink{classsrsran_1_1polar__code_ad5945de0e497b8e45b4336e8352575dc}{NMAX}} $>$ \& \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a639714fee029567dc56b8cdf5dda1753}{get\+\_\+\+F\+\_\+set}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the frozen set. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a623391af15059cf64337900db26753f1}{get\+\_\+blk\+\_\+interleaver}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the permutation describing the block interleaver. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dc}{polar\+\_\+code\+\_\+ibil}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a2839065f7c0fc9b929179bcf54d7a236}{get\+\_\+ibil}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Returns the internal bit interleaver state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a2f34be802ab78bd627da37c8b7296e69}{set}} (\mbox{\hyperlink{classunsigned}{unsigned}} K, \mbox{\hyperlink{classunsigned}{unsigned}} E, \mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{n\+Max}}, \mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dc}{polar\+\_\+code\+\_\+ibil}} ibil) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initializes the different index sets as needed by the subchannel allocation block and/or by the polar decoder. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Attributes inherited from \mbox{\hyperlink{classsrsran_1_1polar__code}{srsran\+::polar\+\_\+code}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries EMAX} = 8192
\begin{DoxyCompactList}\small\item\em Maximum rate-\/matched codeword length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries NMAX} = 1024
\begin{DoxyCompactList}\small\item\em Maximum codeword length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries NMAX\+\_\+\+LOG} = 10U
\begin{DoxyCompactList}\small\item\em Base-\/2 logarithm of the maximum codeword length. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{static}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classunsigned}{unsigned}} {\bfseries e\+MAX} = 13
\begin{DoxyCompactList}\small\item\em Base-\/2 logarithm of the maximum rate-\/matched codeword length. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the polar code interface based on look-\/up tables. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1polar__code__impl_afffac099145c45858e18a6be9a8b5eab}\label{classsrsran_1_1polar__code__impl_afffac099145c45858e18a6be9a8b5eab} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!polar\_code\_impl@{polar\_code\_impl}}
\index{polar\_code\_impl@{polar\_code\_impl}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{polar\_code\_impl()}{polar\_code\_impl()}}
{\footnotesize\ttfamily srsran\+::polar\+\_\+code\+\_\+impl\+::polar\+\_\+code\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Default constructor. 

\begin{DoxyWarning}{Warning}
The default configuration resulting from the constructor is invalid. The user must use the \doxylink{classsrsran_1_1polar__code__impl_a2f34be802ab78bd627da37c8b7296e69}{set()} method to provide a valid code configuration. 
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{00411\ \{}
\DoxyCodeLine{00412\ \ \ \textcolor{comment}{//\ Do\ nothing}}
\DoxyCodeLine{00413\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1polar__code__impl_a623391af15059cf64337900db26753f1}\label{classsrsran_1_1polar__code__impl_a623391af15059cf64337900db26753f1} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_blk\_interleaver@{get\_blk\_interleaver}}
\index{get\_blk\_interleaver@{get\_blk\_interleaver}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_blk\_interleaver()}{get\_blk\_interleaver()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ polar\+\_\+code\+\_\+impl\+::get\+\_\+blk\+\_\+interleaver (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the permutation describing the block interleaver. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_a3025c6224256d8ca6809cde2559faa13}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00533\ \{}
\DoxyCodeLine{00534\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a623391af15059cf64337900db26753f1}{get\_blk\_interleaver}}(n);}
\DoxyCodeLine{00535\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_adedcd20d051e0e6e1b87288d3c933fde}\label{classsrsran_1_1polar__code__impl_adedcd20d051e0e6e1b87288d3c933fde} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_E@{get\_E}}
\index{get\_E@{get\_E}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_E()}{get\_E()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} polar\+\_\+code\+\_\+impl\+::get\+\_\+E (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the codeword length after rate matching. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_ae781c9ac7a2a2d819b1176c0254ecd13}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00508\ \{}
\DoxyCodeLine{00509\ \ \ \textcolor{keywordflow}{return}\ E;}
\DoxyCodeLine{00510\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a639714fee029567dc56b8cdf5dda1753}\label{classsrsran_1_1polar__code__impl_a639714fee029567dc56b8cdf5dda1753} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_F\_set@{get\_F\_set}}
\index{get\_F\_set@{get\_F\_set}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_F\_set()}{get\_F\_set()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ \mbox{\hyperlink{classsrsran_1_1polar__code_ad5945de0e497b8e45b4336e8352575dc}{polar\+\_\+code\+::\+NMAX}} $>$ \& polar\+\_\+code\+\_\+impl\+::get\+\_\+\+F\+\_\+set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the frozen set. 

The frozen set is the set of indices corresponding to the frozen bits at the encoder input. 

Implements \mbox{\hyperlink{classsrsran_1_1polar__code_a4a0784a089c38e53dd3042d232b5af8b}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00528\ \{}
\DoxyCodeLine{00529\ \ \ \textcolor{keywordflow}{return}\ F\_set\_mask;}
\DoxyCodeLine{00530\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a2839065f7c0fc9b929179bcf54d7a236}\label{classsrsran_1_1polar__code__impl_a2839065f7c0fc9b929179bcf54d7a236} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_ibil@{get\_ibil}}
\index{get\_ibil@{get\_ibil}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_ibil()}{get\_ibil()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dc}{polar\+\_\+code\+\_\+ibil}} polar\+\_\+code\+\_\+impl\+::get\+\_\+ibil (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the internal bit interleaver state. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_af950ae6e27a0e27d537fce0015e714c4}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00538\ \{}
\DoxyCodeLine{00539\ \ \ \textcolor{keywordflow}{return}\ ibil;}
\DoxyCodeLine{00540\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a018959f429e9778c72354a09fe553456}\label{classsrsran_1_1polar__code__impl_a018959f429e9778c72354a09fe553456} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_K@{get\_K}}
\index{get\_K@{get\_K}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_K()}{get\_K()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} polar\+\_\+code\+\_\+impl\+::get\+\_\+K (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the message (data bits and CRC) length. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_af501f57112d7352251a40a1f5bb1f3c6}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00503\ \{}
\DoxyCodeLine{00504\ \ \ \textcolor{keywordflow}{return}\ K;}
\DoxyCodeLine{00505\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a0a00bd4006ad64d7ff1c133c701e8785}\label{classsrsran_1_1polar__code__impl_a0a00bd4006ad64d7ff1c133c701e8785} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_K\_set@{get\_K\_set}}
\index{get\_K\_set@{get\_K\_set}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_K\_set()}{get\_K\_set()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1bounded__bitset}{bounded\+\_\+bitset}}$<$ \mbox{\hyperlink{classsrsran_1_1polar__code_ad5945de0e497b8e45b4336e8352575dc}{polar\+\_\+code\+::\+NMAX}} $>$ \& polar\+\_\+code\+\_\+impl\+::get\+\_\+\+K\+\_\+set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the message set. 

The message set is the set of indices corresponding to the position of message bits (data and CRC) at the encoder input. 

Implements \mbox{\hyperlink{classsrsran_1_1polar__code_a6ca25ce71e9dd0285aae905fb227faaa}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00518\ \{}
\DoxyCodeLine{00519\ \ \ \textcolor{keywordflow}{return}\ K\_set\_mask;}
\DoxyCodeLine{00520\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a3c50a0e4eb28e933f4f9946670452b6a}\label{classsrsran_1_1polar__code__impl_a3c50a0e4eb28e933f4f9946670452b6a} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_n@{get\_n}}
\index{get\_n@{get\_n}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_n()}{get\_n()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} polar\+\_\+code\+\_\+impl\+::get\+\_\+n (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the base-\/2 logarithm of the codeword length. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_aae2a4a7185658a3192c4ebc07b8a3c57}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00493\ \{}
\DoxyCodeLine{00494\ \ \ \textcolor{keywordflow}{return}\ n;}
\DoxyCodeLine{00495\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a28b42b3bf67bc92283f3c84bf3b96f31}\label{classsrsran_1_1polar__code__impl_a28b42b3bf67bc92283f3c84bf3b96f31} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_N@{get\_N}}
\index{get\_N@{get\_N}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_N()}{get\_N()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} polar\+\_\+code\+\_\+impl\+::get\+\_\+N (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the codeword length. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_ac1dcd52e048de4c16623eaea4d728780}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00498\ \{}
\DoxyCodeLine{00499\ \ \ \textcolor{keywordflow}{return}\ N;}
\DoxyCodeLine{00500\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a14673d83d2f68e466bffe83c0a8db528}\label{classsrsran_1_1polar__code__impl_a14673d83d2f68e466bffe83c0a8db528} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_nPC@{get\_nPC}}
\index{get\_nPC@{get\_nPC}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_nPC()}{get\_nPC()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classunsigned}{unsigned}} polar\+\_\+code\+\_\+impl\+::get\+\_\+n\+PC (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the number of parity check bits. 



Implements \mbox{\hyperlink{classsrsran_1_1polar__code_a850bf76d52c2cb488fd2c06314ac0d8e}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00513\ \{}
\DoxyCodeLine{00514\ \ \ \textcolor{keywordflow}{return}\ nPC;}
\DoxyCodeLine{00515\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a5a96b2ccc5378e5353e127168f43c87d}\label{classsrsran_1_1polar__code__impl_a5a96b2ccc5378e5353e127168f43c87d} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!get\_PC\_set@{get\_PC\_set}}
\index{get\_PC\_set@{get\_PC\_set}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{get\_PC\_set()}{get\_PC\_set()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1span}{span}}$<$ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} uint16\+\_\+t $>$ polar\+\_\+code\+\_\+impl\+::get\+\_\+\+PC\+\_\+set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the parity-\/check set. 

The parity-\/check set is the set of indices corresponding to the position of parity-\/check bits at the encoder input. 

Implements \mbox{\hyperlink{classsrsran_1_1polar__code_acacfdb9e7e6482912f7726fd9f9f1ec2}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00523\ \{}
\DoxyCodeLine{00524\ \ \ \textcolor{keywordflow}{return}\ PC\_set;}
\DoxyCodeLine{00525\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1polar__code__impl_a2f34be802ab78bd627da37c8b7296e69}\label{classsrsran_1_1polar__code__impl_a2f34be802ab78bd627da37c8b7296e69} 
\index{srsran::polar\_code\_impl@{srsran::polar\_code\_impl}!set@{set}}
\index{set@{set}!srsran::polar\_code\_impl@{srsran::polar\_code\_impl}}
\doxysubsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::polar\+\_\+code\+\_\+impl\+::set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{K,  }\item[{\mbox{\hyperlink{classunsigned}{unsigned}}}]{E,  }\item[{\mbox{\hyperlink{classuint8__t}{uint8\+\_\+t}}}]{n\+Max,  }\item[{\mbox{\hyperlink{namespacesrsran_aee717d2fc3dd2ca0b37b346129af00dc}{polar\+\_\+code\+\_\+ibil}}}]{ibil }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initializes the different index sets as needed by the subchannel allocation block and/or by the polar decoder. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em K} & Number of data + CRC bits. \\
\hline
\mbox{\texttt{ in}}  & {\em E} & Number of bits of the codeword after rate matching. \\
\hline
\mbox{\texttt{ in}}  & {\em n\+Max} & Base-\/2 logarithm of the maximum codeword length before rate matching. Possible values are 9 (for downlink) and 10 (for uplink). \\
\hline
\mbox{\texttt{ in}}  & {\em ibil} & Bit interleaver (set to not\+\_\+present to disable). \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1polar__code_a729913ab8c03817177e830d055a4b382}{srsran\+::polar\+\_\+code}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00422\ \{}
\DoxyCodeLine{00423\ \ \ \textcolor{comment}{//\ Check\ polar\ code\ parameters.}}
\DoxyCodeLine{00424\ \ \ set\_code\_params(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{E\_}},\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{nMax}});}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint16\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{blk\_interleaver}}\ =\ \mbox{\hyperlink{classsrsran_1_1polar__code__impl_a623391af15059cf64337900db26753f1}{get\_blk\_interleaver}}(n);}
\DoxyCodeLine{00427\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint16\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mother\_code}}\ \ \ \ \ =\ get\_mother\_code(n);}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \ \ ibil\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{ibil\_}};}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \textcolor{comment}{//\ Select\ only\ the\ most\ reliable\ (message\ and\ parity).}}
\DoxyCodeLine{00432\ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<const\ uint16\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_set}}\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mother\_code}}.\mbox{\hyperlink{classsrsran_1_1span_afa8aa6b2df95cc96ece6e86cf47068e2}{last}}(K\ +\ nPC);}
\DoxyCodeLine{00433\ \ \ \textcolor{keywordflow}{if}\ (N\ >\ E)\ \{}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{comment}{//\ Frozen\ bits\ due\ to\ Puncturing\ and\ Shortening.}}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ T\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}}\ =\ N\ -\/\ E;}
\DoxyCodeLine{00437\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_th}}\ \ \ \ \ \ \ \ \ \ \ =\ 3\ *\ N\ /\ 4;}
\DoxyCodeLine{00438\ \ \ \ \ \mbox{\hyperlink{classsrsran_1_1span}{span<uint16\_t>}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{F\_set}}\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{classsrsran_1_1span}{span<uint16\_t>}}(tmp\_F\_set);}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordflow}{if}\ (16\ *\ K\ <=\ 7\ *\ E)\ \{\ \textcolor{comment}{//\ Puncturing}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (E\ >=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_th}})\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ T\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{N\_th}}\ -\/\ (E\ >>\ 1U)\ -\/\ 1;}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ T\ =\ 9\ *\ N\ /\ 16\ -\/\ (E\ >>\ 2U);}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ srsvec::copy(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{F\_set}}.first(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}}),}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{blk\_interleaver}}.first(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}}));\ \textcolor{comment}{//\ The\ first\ (less\ reliable)\ after\ interleaving}}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ Shortening}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ srsvec::copy(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{F\_set}}.first(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}}),}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{blk\_interleaver}}.subspan(E,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}}));\ \textcolor{comment}{//\ The\ first\ (less\ reliable)\ after\ interleaving}}
\DoxyCodeLine{00452\ \ \ \ \ \}}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_K}}\ =\ setdiff\_stable(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{mother\_code}}.data(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{F\_set}}.data(),\ tmp\_K\_set.data(),\ T,\ N,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_F\_set\_size}});}
\DoxyCodeLine{00455\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_set}}\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{span<const\ uint16\_t>}}(tmp\_K\_set).subspan(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tmp\_K}}\ -\/\ K\ -\/\ nPC,\ K\ +\ nPC);}
\DoxyCodeLine{00456\ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \textcolor{comment}{//\ Take\ the\ nPC\ -\/\ nWmPC\ less\ reliable.}}
\DoxyCodeLine{00459\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0,\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_end}}\ =\ (nPC\ >\ nWmPC)\ ?\ (nPC\ -\/\ nWmPC)\ :\ 0;\ i\ !=\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{i\_end}};\ ++i)\ \{}
\DoxyCodeLine{00460\ \ \ \ \ PC\_set[i]\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_set}}[i];}
\DoxyCodeLine{00461\ \ \ \}}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \textcolor{comment}{//\ This\ only\ happens\ if\ K=18:25\ and\ E=E+189+1:8192.}}
\DoxyCodeLine{00464\ \ \ \textcolor{comment}{//\ In\ these\ cases,\ there\ is\ no\ puncturing\ or\ shortening.}}
\DoxyCodeLine{00465\ \ \ \textcolor{keywordflow}{if}\ (nWmPC\ ==\ 1)\ \{}
\DoxyCodeLine{00466\ \ \ \ \ \textcolor{keywordflow}{if}\ (K\ <=\ 21)\ \{}
\DoxyCodeLine{00467\ \ \ \ \ \ \ PC\_set[nPC\ -\/\ 1]\ =\ 252;}
\DoxyCodeLine{00468\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \ \ PC\_set[nPC\ -\/\ 1]\ =\ 248;}
\DoxyCodeLine{00470\ \ \ \ \ \}}
\DoxyCodeLine{00471\ \ \ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \textcolor{comment}{//\ Sort\ K\_set\ (includes\ parity\ bits)\ using\ a\ mask.}}
\DoxyCodeLine{00474\ \ \ K\_set\_mask.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_affcaf4b2d9be2c09261eb04de6fa67b3}{resize}}(N);}
\DoxyCodeLine{00475\ \ \ K\_set\_mask.\mbox{\hyperlink{classsrsran_1_1bounded__bitset_a3807138159ac9d71f10a2514eecbdaab}{fill}}(0,\ N,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \textcolor{comment}{//\ Write\ the\ K\_set\ in\ a\ mask.}}
\DoxyCodeLine{00478\ \ \ std::for\_each(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_set}}.begin(),\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{K\_set}}.end(),\ [\textcolor{keyword}{this}](\textcolor{keywordtype}{unsigned}\ index)\ \{\ K\_set\_mask.set(index);\ \});}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \textcolor{comment}{//\ Create\ the\ frozen\ set\ F\_set\ as\ the\ complement\ of\ sorted\ K\_set.}}
\DoxyCodeLine{00481\ \ \ F\_set\_mask\ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{\string~K\_set\_mask}};}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \ \ \textcolor{comment}{//\ Sorted\ PC\_set.}}
\DoxyCodeLine{00484\ \ \ \textcolor{keywordflow}{if}\ (nPC\ >\ 0)\ \{}
\DoxyCodeLine{00485\ \ \ \ \ std::sort(PC\_set.begin(),\ PC\_set.begin()\ +\ nPC,\ cmpfunc);}
\DoxyCodeLine{00486\ \ \ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \textcolor{comment}{//\ Mark\ the\ end\ of\ the\ sets\ (useful\ at\ subchannel\ allocation).}}
\DoxyCodeLine{00489\ \ \ PC\_set[nPC]\ =\ \mbox{\hyperlink{classsrsran_1_1polar__code_ad5945de0e497b8e45b4336e8352575dc}{NMAX}};}
\DoxyCodeLine{00490\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/phy/upper/channel\+\_\+coding/polar/\mbox{\hyperlink{polar__code__impl_8h}{polar\+\_\+code\+\_\+impl.\+h}}\item 
lib/phy/upper/channel\+\_\+coding/polar/polar\+\_\+code\+\_\+impl.\+cpp\end{DoxyCompactItemize}
