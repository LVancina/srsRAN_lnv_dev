\doxysection{srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl Class Reference}
\hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl}{}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl}\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}


Inheritance diagram for srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d91/classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/df0/classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a9d9601337225af452b347a7b77ada7b8}{e1ap\+\_\+cu\+\_\+up\+\_\+impl}} (\mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__connection__client}{e1ap\+\_\+connection\+\_\+client}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\+\_\+client\+\_\+handler\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__notifier}{e1ap\+\_\+cu\+\_\+up\+\_\+notifier}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+up\+\_\+notifier\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\+\_\+manager}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timers\+\_\+}}, \mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\+\_\+up\+\_\+exec\+\_\+}})
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a799bbf9a75eec25382c79a3f211436cb}{connect\+\_\+to\+\_\+cu\+\_\+cp}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Connect the CU-\/\+UP to CU-\/\+CP via E1\+AP interface. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response}} $>$ \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_ab30e97b2268f498bc737832fad935750}{handle\+\_\+cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+request}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__request}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+request}} \&request) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the E1 Setup procedure as per TS 38.\+463, Section 8.\+2.\+3. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a0a7390b736b7c4b6fb08176b642992e8}{handle\+\_\+message}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\+\_\+message}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Handle the incoming E1\+AP message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a5f2d7fc767f1061fda45696a22fe243f}{handle\+\_\+bearer\+\_\+context\+\_\+inactivity\+\_\+notification}} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__up_1_1e1ap__bearer__context__inactivity__notification}{e1ap\+\_\+bearer\+\_\+context\+\_\+inactivity\+\_\+notification}} \&msg) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Initiates the Bearer Context Inactivity Notification procedure as defined in TS 38.\+463 section 8.\+6.\+3. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a520528b6ee054ae5e2df6195c1822e40}{handle\+\_\+connection\+\_\+loss}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\item 
size\+\_\+t \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a142b7f32501d12f14f5b327b7398f96b}{get\+\_\+nof\+\_\+ues}} () \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{override}}
\begin{DoxyCompactList}\small\item\em Get the number of UEs registered at the E1\+AP. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a9d9601337225af452b347a7b77ada7b8}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a9d9601337225af452b347a7b77ada7b8} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!e1ap\_cu\_up\_impl@{e1ap\_cu\_up\_impl}}
\index{e1ap\_cu\_up\_impl@{e1ap\_cu\_up\_impl}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{e1ap\_cu\_up\_impl()}{e1ap\_cu\_up\_impl()}}
{\footnotesize\ttfamily e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__connection__client}{e1ap\+\_\+connection\+\_\+client}} \&}]{e1ap\+\_\+client\+\_\+handler\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__notifier}{e1ap\+\_\+cu\+\_\+up\+\_\+notifier}} \&}]{cu\+\_\+up\+\_\+notifier\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1timer__manager}{timer\+\_\+manager}} \&}]{timers\+\_\+,  }\item[{\mbox{\hyperlink{classsrsran_1_1task__executor}{task\+\_\+executor}} \&}]{cu\+\_\+up\+\_\+exec\+\_\+ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00058\ \ \ logger(srslog::fetch\_basic\_logger(\textcolor{stringliteral}{"{}CU-\/UP-\/E1"{}})),}
\DoxyCodeLine{00059\ \ \ cu\_up\_notifier(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_up\_notifier\_}}),}
\DoxyCodeLine{00060\ \ \ timers(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{timers\_}}),}
\DoxyCodeLine{00061\ \ \ cu\_up\_exec(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{cu\_up\_exec\_}}),}
\DoxyCodeLine{00062\ \ \ connection\_handler(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_client\_handler\_}},\ *\textcolor{keyword}{this}),}
\DoxyCodeLine{00063\ \ \ ue\_ctxt\_list(logger),}
\DoxyCodeLine{00064\ \ \ ev\_mng(std::make\_unique<e1ap\_event\_manager>(\mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{timers,\ cu\_up\_exec\}))}
\DoxyCodeLine{00065\ \{}
\DoxyCodeLine{00066\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a5339fafd9738febedca130d6c7865659}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a5339fafd9738febedca130d6c7865659} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!````~e1ap\_cu\_up\_impl@{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_up\_impl}}
\index{````~e1ap\_cu\_up\_impl@{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_up\_impl}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}e1ap\_cu\_up\_impl()}{\string~e1ap\_cu\_up\_impl()}}
{\footnotesize\ttfamily e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::\texorpdfstring{$\sim$}{\string~}e1ap\+\_\+cu\+\_\+up\+\_\+impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a799bbf9a75eec25382c79a3f211436cb}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a799bbf9a75eec25382c79a3f211436cb} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!connect\_to\_cu\_cp@{connect\_to\_cu\_cp}}
\index{connect\_to\_cu\_cp@{connect\_to\_cu\_cp}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{connect\_to\_cu\_cp()}{connect\_to\_cu\_cp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::connect\+\_\+to\+\_\+cu\+\_\+cp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Connect the CU-\/\+UP to CU-\/\+CP via E1\+AP interface. 



Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__connection__manager_a1e268d5846669b70489437f5b6d7b053}{srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+connection\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ \{}
\DoxyCodeLine{00073\ \ \ \textcolor{keywordflow}{return}\ connection\_handler.connect\_to\_cu\_cp();}
\DoxyCodeLine{00074\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a142b7f32501d12f14f5b327b7398f96b}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a142b7f32501d12f14f5b327b7398f96b} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!get\_nof\_ues@{get\_nof\_ues}}
\index{get\_nof\_ues@{get\_nof\_ues}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{get\_nof\_ues()}{get\_nof\_ues()}}
{\footnotesize\ttfamily size\+\_\+t srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::get\+\_\+nof\+\_\+ues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Get the number of UEs registered at the E1\+AP. 

\begin{DoxyReturn}{Returns}
The number of UEs. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__statistics__handler_a27de43226e9fcf18828f6872eab19f5e}{srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+statistics\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \{\ \textcolor{keywordflow}{return}\ ue\_ctxt\_list.size();\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a5f2d7fc767f1061fda45696a22fe243f}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a5f2d7fc767f1061fda45696a22fe243f} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!handle\_bearer\_context\_inactivity\_notification@{handle\_bearer\_context\_inactivity\_notification}}
\index{handle\_bearer\_context\_inactivity\_notification@{handle\_bearer\_context\_inactivity\_notification}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_bearer\_context\_inactivity\_notification()}{handle\_bearer\_context\_inactivity\_notification()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::handle\+\_\+bearer\+\_\+context\+\_\+inactivity\+\_\+notification (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1srs__cu__up_1_1e1ap__bearer__context__inactivity__notification}{e1ap\+\_\+bearer\+\_\+context\+\_\+inactivity\+\_\+notification}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the Bearer Context Inactivity Notification procedure as defined in TS 38.\+463 section 8.\+6.\+3. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & The common type bearer context inactivity notification message to convert and forward to the CU-\/\+CP. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__control__message__handler_a379800c26bb52d5992277307c6a56909}{srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+control\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \{}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{if}\ (!ue\_ctxt\_list.contains(msg.ue\_index))\ \{}
\DoxyCodeLine{00087\ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}ue=\{\}:\ Dropping\ BearerContextInactivityNotification.\ UE\ does\ not\ exist"{}},\ msg.ue\_index);}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ Get\ UE\ context}}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{structsrsran_1_1srs__cu__up_1_1e1ap__ue__context}{e1ap\_ue\_context}}\&\ ue\_ctxt\ =\ ue\_ctxt\_list[msg.ue\_index];}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\_message}}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}};}
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.set\_init\_msg();}
\DoxyCodeLine{00096\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().load\_info\_obj(ASN1\_E1AP\_ID\_BEARER\_CONTEXT\_INACTIVITY\_NOTIF);}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inactivity\_notification}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}}.pdu.init\_msg().value.bearer\_context\_inactivity\_notif();}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inactivity\_notification}}-\/>gnb\_cu\_cp\_ue\_e1ap\_id\ =\ gnb\_cu\_cp\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_cp\_ue\_e1ap\_id);}
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inactivity\_notification}}-\/>gnb\_cu\_up\_ue\_e1ap\_id\ =\ gnb\_cu\_up\_ue\_e1ap\_id\_to\_uint(ue\_ctxt.ue\_ids.cu\_up\_ue\_e1ap\_id);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \textcolor{keywordflow}{if}\ (ue\_ctxt.activity\_notification\_level\ ==\ activity\_notification\_level\_t::ue)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inactivity\_notification}}-\/>activity\_info.set\_ue\_activity();}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{inactivity\_notification}}-\/>activity\_info.ue\_activity()\ =\ asn1::e1ap::ue\_activity\_opts::options::not\_active;}
\DoxyCodeLine{00104\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (ue\_ctxt.activity\_notification\_level\ ==\ activity\_notification\_level\_t::pdu\_session)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ ue\_ctxt.logger.log\_warning(\textcolor{stringliteral}{"{}PDU\ session\ level\ activity\ notifications\ not\ supported"{}});}
\DoxyCodeLine{00106\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (ue\_ctxt.activity\_notification\_level\ ==\ activity\_notification\_level\_t::drb)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ ue\_ctxt.logger.log\_warning(\textcolor{stringliteral}{"{}DRB\ level\ activity\ notifications\ not\ supported"{}});}
\DoxyCodeLine{00108\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00109\ \ \ \ \ ue\_ctxt.logger.log\_error(\textcolor{stringliteral}{"{}Unsupported\ activity\ notification\ level"{}});}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ Send\ inactivity\ notification.}}
\DoxyCodeLine{00113\ \ \ ue\_ctxt.logger.log\_debug(\textcolor{stringliteral}{"{}Sending\ BearerContextInactivityNotification"{}});}
\DoxyCodeLine{00114\ \ \ connection\_handler.\mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__connection__handler_a7b5bc2b19dda772614fe104a7d38465d}{on\_new\_message}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{e1ap\_msg}});}
\DoxyCodeLine{00115\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a520528b6ee054ae5e2df6195c1822e40}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a520528b6ee054ae5e2df6195c1822e40} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!handle\_connection\_loss@{handle\_connection\_loss}}
\index{handle\_connection\_loss@{handle\_connection\_loss}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_connection\_loss()}{handle\_connection\_loss()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::handle\+\_\+connection\+\_\+loss (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1e1ap__event__handler}{srsran\+::e1ap\+\_\+event\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00061\ \{\}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_ab30e97b2268f498bc737832fad935750}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_ab30e97b2268f498bc737832fad935750} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!handle\_cu\_up\_e1\_setup\_request@{handle\_cu\_up\_e1\_setup\_request}}
\index{handle\_cu\_up\_e1\_setup\_request@{handle\_cu\_up\_e1\_setup\_request}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_cu\_up\_e1\_setup\_request()}{handle\_cu\_up\_e1\_setup\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsrsran_1_1async__task}{async\+\_\+task}}$<$ \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response}} $>$ e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::handle\+\_\+cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1cu__up__e1__setup__request}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+request}} \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Initiates the E1 Setup procedure as per TS 38.\+463, Section 8.\+2.\+3. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em request} & The E1\+Setup\+Request message to transmit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a \doxylink{structsrsran_1_1cu__up__e1__setup__response}{cu\+\_\+up\+\_\+e1\+\_\+setup\+\_\+response} struct with the success member set to \textquotesingle{}true\textquotesingle{} in case of a successful outcome, \textquotesingle{}false\textquotesingle{} otherwise. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The CU-\/\+UP transmits the E1\+Setup\+Request as per TS 38.\+463 section 8.\+2.\+3 and awaits the response. If a E1\+Setup\+Failure is received the E1\+AP will handle the failure. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classsrsran_1_1srs__cu__up_1_1e1ap__connection__manager_a7662ab887de4c1d3a2502d9dfaddd24b}{srsran\+::srs\+\_\+cu\+\_\+up\+::e1ap\+\_\+connection\+\_\+manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00078\ \{}
\DoxyCodeLine{00079\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{launch\_async<e1ap\_cu\_up\_setup\_procedure>}}(}
\DoxyCodeLine{00080\ \ \ \ \ \ \ request,\ connection\_handler,\ *ev\_mng,\ \mbox{\hyperlink{classsrsran_1_1timer__factory}{timer\_factory}}\{timers,\ cu\_up\_exec\},\ logger);}
\DoxyCodeLine{00081\ \}}

\end{DoxyCode}
\Hypertarget{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a0a7390b736b7c4b6fb08176b642992e8}\label{classsrsran_1_1srs__cu__up_1_1e1ap__cu__up__impl_a0a7390b736b7c4b6fb08176b642992e8} 
\index{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}!handle\_message@{handle\_message}}
\index{handle\_message@{handle\_message}!srsran::srs\_cu\_up::e1ap\_cu\_up\_impl@{srsran::srs\_cu\_up::e1ap\_cu\_up\_impl}}
\doxysubsubsection{\texorpdfstring{handle\_message()}{handle\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} e1ap\+\_\+cu\+\_\+up\+\_\+impl\+::handle\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{structsrsran_1_1e1ap__message}{e1ap\+\_\+message}} \&}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Handle the incoming E1\+AP message. 



Implements \mbox{\hyperlink{classsrsran_1_1e1ap__message__handler_a86caecb24315c3e234fd382cc19080c5}{srsran\+::e1ap\+\_\+message\+\_\+handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \{}
\DoxyCodeLine{00119\ \ \ \textcolor{comment}{//\ Run\ E1AP\ protocols\ in\ CU-\/UP\ executor.}}
\DoxyCodeLine{00120\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{not}}\ cu\_up\_exec.\mbox{\hyperlink{classsrsran_1_1task__executor_a7ce182401ef2d2b419bfbed5b5e488f7}{execute}}([\textcolor{keyword}{this},\ msg]()\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Handling\ PDU\ of\ type\ \{\}"{}},\ msg.pdu.type().to\_string());}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Log\ message.}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ expected<gnb\_cu\_up\_ue\_e1ap\_id\_t>\ gnb\_cu\_up\_ue\_e1ap\_id\ =\ get\_gnb\_cu\_up\_ue\_e1ap\_id(msg.pdu);}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ expected<uint8\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction\_id\ \ \ \ \ \ \ =\ get\_transaction\_id(msg.pdu);}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ if\ (transaction\_id.has\_value())\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}\ transaction\ id=\{\}"{}},}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.pdu.type().to\_string(),}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_message\_type\_str(msg.pdu),}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction\_id.value());}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ if\ (gnb\_cu\_up\_ue\_e1ap\_id.has\_value())\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}\ GNB-\/CU-\/UP-\/UE-\/E1AP-\/ID=\{\}"{}},}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg.pdu.type().to\_string(),}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_message\_type\_str(msg.pdu),}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gnb\_cu\_up\_ue\_e1ap\_id.value());}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}SDU\ \(\backslash\)"{}\{\}.\{\}\(\backslash\)"{}"{}},\ msg.pdu.type().to\_string(),\ get\_message\_type\_str(msg.pdu));}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ if\ (logger.debug.enabled())\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ asn1::json\_writer\ js;}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ msg.pdu.to\_json(js);}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{"{}Rx\ E1AP\ SDU:\ \{\}"{}},\ js.to\_string());}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{switch}}\ (msg.pdu.type().value)\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::init\_msg:}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_initiating\_message(msg.pdu.init\_msg());}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::successful\_outcome:}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_successful\_outcome(msg.pdu.successful\_outcome());}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ case\ asn1::e1ap::e1ap\_pdu\_c::types\_opts::unsuccessful\_outcome:}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ handle\_unsuccessful\_outcome(msg.pdu.unsuccessful\_outcome());}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ default:}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}Invalid\ PDU\ type"{}});}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ break;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \}))\ \{}
\DoxyCodeLine{00161\ \ \ \ \ logger.warning(\textcolor{stringliteral}{"{}Discarding\ E1AP\ PDU.\ Cause:\ CU-\/UP\ task\ queue\ is\ full"{}});}
\DoxyCodeLine{00162\ \ \ \}}
\DoxyCodeLine{00163\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/e1ap/cu\+\_\+up/e1ap\+\_\+cu\+\_\+up\+\_\+impl.\+h\item 
lib/e1ap/cu\+\_\+up/e1ap\+\_\+cu\+\_\+up\+\_\+impl.\+cpp\end{DoxyCompactItemize}
