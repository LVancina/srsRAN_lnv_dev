\doxysection{srsran\+::gtpu\+\_\+echo\+\_\+rx Class Reference}
\hypertarget{classsrsran_1_1gtpu__echo__rx}{}\label{classsrsran_1_1gtpu__echo__rx}\index{srsran::gtpu\_echo\_rx@{srsran::gtpu\_echo\_rx}}


Class used for reception of GTP-\/U path management messages.  




{\ttfamily \#include $<$gtpu\+\_\+echo\+\_\+rx\+\_\+impl.\+h$>$}



Inheritance diagram for srsran\+::gtpu\+\_\+echo\+\_\+rx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d8/d43/classsrsran_1_1gtpu__echo__rx__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for srsran\+::gtpu\+\_\+echo\+\_\+rx\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d3/d40/classsrsran_1_1gtpu__echo__rx__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__echo__rx_af7d6e1183253c6d7ab0d64a40111023d}{gtpu\+\_\+echo\+\_\+rx}} (\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tx\+\_\+}})
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__rx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+rx}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__rx_ab5b3f4bbb5459211947903d34ddf3a8b}{gtpu\+\_\+tunnel\+\_\+base\+\_\+rx}} (\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__log__prefix}{gtpu\+\_\+tunnel\+\_\+log\+\_\+prefix}} \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{log\+\_\+prefix}})
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__rx_a2067cfa8242da9ed57cd47a59f69e2a7}{handle\+\_\+pdu}} (\mbox{\hyperlink{classsrsran_1_1byte__buffer}{byte\+\_\+buffer}} buf, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{src\+\_\+addr}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\begin{DoxyCompactList}\small\item\em Interface for the IO gateway to pass PDUs into the GTP-\/U. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{srsran\+::gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
{\bfseries gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\item 
\mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \& {\bfseries operator=} (\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__rx__upper__layer__interface}{gtpu\+\_\+tunnel\+\_\+rx\+\_\+upper\+\_\+layer\+\_\+interface}} \&\&)=\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{delete}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} \mbox{\hyperlink{classsrsran_1_1gtpu__echo__rx_ac70276c45eab127bcd17d4bc4a51778c}{handle\+\_\+pdu}} (\mbox{\hyperlink{structsrsran_1_1gtpu__dissected__pdu}{gtpu\+\_\+dissected\+\_\+pdu}} \&\&pdu, \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{src\+\_\+addr}}) \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{final}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__rx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+rx}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsrsran_1_1prefixed__logger}{gtpu\+\_\+tunnel\+\_\+logger}} {\bfseries logger}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class used for reception of GTP-\/U path management messages. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsrsran_1_1gtpu__echo__rx_af7d6e1183253c6d7ab0d64a40111023d}\label{classsrsran_1_1gtpu__echo__rx_af7d6e1183253c6d7ab0d64a40111023d} 
\index{srsran::gtpu\_echo\_rx@{srsran::gtpu\_echo\_rx}!gtpu\_echo\_rx@{gtpu\_echo\_rx}}
\index{gtpu\_echo\_rx@{gtpu\_echo\_rx}!srsran::gtpu\_echo\_rx@{srsran::gtpu\_echo\_rx}}
\doxysubsubsection{\texorpdfstring{gtpu\_echo\_rx()}{gtpu\_echo\_rx()}}
{\footnotesize\ttfamily srsran\+::gtpu\+\_\+echo\+\_\+rx\+::gtpu\+\_\+echo\+\_\+rx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface}{gtpu\+\_\+echo\+\_\+tx\+\_\+interface}} \&}]{tx\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00036\ \ \ \ \ gtpu\_tunnel\_base\_rx(gtpu\_tunnel\_log\_prefix\{\{\},\ \mbox{\hyperlink{namespacesrsran_ae66ebdfbccf6edcfe04b5d33772b58a7}{GTPU\_PATH\_MANAGEMENT\_TEID}},\ \textcolor{stringliteral}{"{}DL"{}}\}),}
\DoxyCodeLine{00037\ \ \ \ \ tx(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{tx\_}}),}
\DoxyCodeLine{00038\ \ \ \ \ psup\_packer(logger.get\_basic\_logger())}
\DoxyCodeLine{00039\ \ \ \{}
\DoxyCodeLine{00040\ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsrsran_1_1gtpu__echo__rx_ac70276c45eab127bcd17d4bc4a51778c}\label{classsrsran_1_1gtpu__echo__rx_ac70276c45eab127bcd17d4bc4a51778c} 
\index{srsran::gtpu\_echo\_rx@{srsran::gtpu\_echo\_rx}!handle\_pdu@{handle\_pdu}}
\index{handle\_pdu@{handle\_pdu}!srsran::gtpu\_echo\_rx@{srsran::gtpu\_echo\_rx}}
\doxysubsubsection{\texorpdfstring{handle\_pdu()}{handle\_pdu()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{void}} srsran\+::gtpu\+\_\+echo\+\_\+rx\+::handle\+\_\+pdu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsrsran_1_1gtpu__dissected__pdu}{gtpu\+\_\+dissected\+\_\+pdu}} \&\&}]{pdu,  }\item[{\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{const}} sockaddr\+\_\+storage \&}]{src\+\_\+addr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsrsran_1_1gtpu__tunnel__base__rx}{srsran\+::gtpu\+\_\+tunnel\+\_\+base\+\_\+rx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ TEID\ sanity\ check}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (pdu.hdr.teid\ !=\ \mbox{\hyperlink{namespacesrsran_ae66ebdfbccf6edcfe04b5d33772b58a7}{GTPU\_PATH\_MANAGEMENT\_TEID}})\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Discarded\ PDU.\ Cause:\ Invalid\ TEID\ for\ path\ management\ message.\ teid=\{\}\ msg\_type=\{:\#x\}"{}},}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.teid,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.message\_type);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00053\ \ \ \ \ \}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ SN\ sanity\ check}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pdu.hdr.flags.seq\_number)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ logger.log\_error(\textcolor{stringliteral}{"{}Discarded\ PDU.\ Cause:\ Missing\ sequence\ number\ in\ path\ management\ message.\ msg\_type=\{:\#x\}"{}},}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.message\_type);}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{switch}\ (pdu.hdr.message\_type)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ GTPU\_MSG\_ECHO\_REQUEST:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}Rx\ echo\ request.\ sn=\{\}"{}},\ pdu.hdr.seq\_number);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ tx.\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface_a416485d198a96d6f7ea4b1953538eb53}{send\_echo\_response}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{src\_addr}},\ pdu.hdr.seq\_number);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ GTPU\_MSG\_ECHO\_RESPONSE:}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ logger.log\_info(\textcolor{stringliteral}{"{}Rx\ echo\ response.\ sn=\{\}"{}},\ pdu.hdr.seq\_number);}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ tx.\mbox{\hyperlink{classsrsran_1_1gtpu__echo__tx__interface_aeba34eb9135ace9dda91b0331ae76519}{handle\_echo\_response}}(\mbox{\hyperlink{namespacesrsran_a58e7c9f2c51a9ad6a0899b46d5315723}{src\_addr}},\ pdu.hdr.seq\_number);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ GTPU\_MSG\_SUPPORTED\_EXTENSION\_HEADERS\_NOTIFICATION:}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}Discarded\ PDU.\ Cause:\ 'Supported\ extension\ headers\ notification'\ not\ supported.\ sn=\{\}"{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.seq\_number);}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TS\ 29.281\ Sec.\ 5.1:}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ Supported\ Extension\ Headers\ Notification\ [...],\ the\ Sequence\ Number\ shall\ be\ ignored\ by\ the\ receiver,}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ even\ though\ the\ S\ flag\ is\ set\ to\ '1'.}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ GTPU\_MSG\_ERROR\_INDICATION:}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ unpack\ and\ print\ information\ elements;\ add\ handling}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ logger.log\_error(pdu.buf.begin(),\ pdu.buf.end(),\ \textcolor{stringliteral}{"{}Received\ error\ indication\ from\ peer"{}});}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TS\ 29.281\ Sec.\ 7.3.1:\ Error\ Indication}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ When\ a\ GTP-\/U\ node\ receives\ a\ G-\/PDU\ for\ which\ no\ EPS\ Bearer\ context,\ PDP\ context,\ PDU\ Session,\ MBMS\ Bearer}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ context,\ or\ RAB\ exists,\ the\ GTP-\/U\ node\ shall\ discard\ the\ G\ -\/\ PDU.If\ the\ TEID\ of\ the\ incoming\ G-\/PDU\ is}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ different\ from\ the\ value\ 'all\ zeros'\ the\ GTP-\/U\ node\ shall\ also\ return\ a\ GTP\ error\ indication\ to\ the}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ originating\ node.}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ GTPU\_MSG\_END\_MARKER:}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ unpack\ and\ print\ information\ elements;\ add\ handling}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ logger.log\_warning(\textcolor{stringliteral}{"{}Discarded\ PDU.\ Cause:\ 'End\ marker'\ not\ supported"{}});}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ logger.log\_error(}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Discarded\ PDU.\ Cause:\ Invalid\ message\ type\ for\ path\ or\ tunnel\ management\ message.\ teid=\{\}\ msg\_type=\{:\#x\}"{}},}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.teid,}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ pdu.hdr.message\_type);}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib/gtpu/gtpu\+\_\+echo\+\_\+rx\+\_\+impl.\+h\end{DoxyCompactItemize}
