<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::rlc_tx_am_entity Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../d6/d5d/classsrsran_1_1rlc__tx__am__entity.html">rlc_tx_am_entity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../df/d65/classsrsran_1_1rlc__tx__am__entity-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::rlc_tx_am_entity Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for srsran::rlc_tx_am_entity:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d54/classsrsran_1_1rlc__tx__am__entity__inherit__graph.png" border="0" usemap="#asrsran_1_1rlc__tx__am__entity_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1rlc__tx__am__entity_inherit__map" id="asrsran_1_1rlc__tx__am__entity_inherit__map">
<area shape="rect" title=" " alt="" coords="369,632,578,912"/>
<area shape="rect" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html" title=" " alt="" coords="198,379,341,584"/>
<area shape="poly" title=" " alt="" coords="351,593,377,630,373,633,346,596"/>
<area shape="rect" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html" title=" " alt="" coords="5,29,165,307"/>
<area shape="poly" title=" " alt="" coords="173,318,180,329,209,377,204,380,175,332,168,321"/>
<area shape="rect" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html" title=" " alt="" coords="190,29,349,307"/>
<area shape="poly" title=" " alt="" coords="272,321,272,378,267,378,267,321"/>
<area shape="rect" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html" title=" " alt="" coords="373,5,625,331"/>
<area shape="poly" title=" " alt="" coords="373,343,343,385,339,382,369,340"/>
<area shape="rect" href="../../d6/db7/classsrsran_1_1rlc__tx__am__status__handler.html" title=" " alt="" coords="365,431,582,531"/>
<area shape="poly" title=" " alt="" coords="476,545,476,631,471,631,471,545"/>
<area shape="rect" href="../../de/ddd/classsrsran_1_1rlc__tx__am__status__notifier.html" title=" " alt="" coords="607,431,820,531"/>
<area shape="poly" title=" " alt="" coords="666,544,580,646,576,643,662,540"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::rlc_tx_am_entity:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/db2/classsrsran_1_1rlc__tx__am__entity__coll__graph.png" border="0" usemap="#asrsran_1_1rlc__tx__am__entity_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1rlc__tx__am__entity_coll__map" id="asrsran_1_1rlc__tx__am__entity_coll__map">
<area shape="rect" title=" " alt="" coords="1298,1120,1508,1400"/>
<area shape="rect" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html" title=" " alt="" coords="1128,965,1270,1071"/>
<area shape="poly" title=" " alt="" coords="1254,1079,1300,1134,1296,1137,1249,1083"/>
<area shape="rect" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html" title=" " alt="" coords="335,601,495,880"/>
<area shape="poly" title=" " alt="" coords="493,888,508,900,557,924,625,945,706,963,796,977,979,998,1128,1010,1127,1015,978,1004,796,982,706,968,623,950,555,929,506,905,489,892"/>
<area shape="rect" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html" title=" " alt="" coords="520,601,678,880"/>
<area shape="poly" title=" " alt="" coords="678,888,693,900,726,919,772,936,890,966,1018,989,1128,1005,1127,1010,1017,994,888,971,770,941,723,924,690,905,674,892"/>
<area shape="rect" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html" title=" " alt="" coords="703,708,858,773"/>
<area shape="poly" title=" " alt="" coords="797,785,826,845,847,875,871,901,901,922,933,941,1000,971,1068,992,1128,1004,1127,1010,1067,997,999,976,930,946,898,927,868,905,842,878,821,848,792,787"/>
<area shape="rect" href="../../d3/d87/classuint32__t.html" title=" " alt="" coords="412,5,479,71"/>
<area shape="poly" title=" " alt="" coords="413,46,336,61,289,74,239,92,188,115,141,144,98,180,64,223,42,261,25,297,13,332,8,366,11,399,20,432,38,465,63,499,95,509,166,519,374,540,583,559,656,568,691,576,718,600,740,630,757,661,769,691,764,693,752,663,736,633,715,604,688,581,655,573,582,565,373,545,165,524,94,514,60,504,33,468,15,434,5,400,3,366,8,331,20,295,37,258,60,220,95,176,138,140,186,110,237,87,287,69,335,56,412,41"/>
<area shape="rect" href="../../d4/d4e/structsrsran_1_1rlc__tm__tx__metrics.html" title=" " alt="" coords="272,329,451,394"/>
<area shape="poly" title=" " alt="" coords="414,56,389,73,369,96,358,122,350,150,344,208,346,264,353,312,348,313,341,265,338,208,345,149,353,121,365,93,385,69,411,52"/>
<area shape="rect" href="../../d5/df7/structsrsran_1_1rlc__um__tx__metrics.html" title=" " alt="" coords="476,329,658,394"/>
<area shape="poly" title=" " alt="" coords="481,66,503,93,529,183,559,312,554,313,524,185,498,96,477,69"/>
<area shape="rect" href="../../df/d4f/structsrsran_1_1rlc__am__tx__metrics.html" title=" " alt="" coords="682,329,865,394"/>
<area shape="poly" title=" " alt="" coords="479,38,545,43,624,52,697,68,726,79,745,93,763,117,776,144,785,173,790,203,791,262,786,313,781,312,786,262,784,204,780,174,771,146,759,120,741,97,723,84,696,73,624,57,545,48,479,43"/>
<area shape="rect" title=" " alt="" coords="889,329,941,394"/>
<area shape="poly" title=" " alt="" coords="917,394,907,449,896,478,878,503,862,514,846,516,831,518,817,527,795,566,783,609,778,652,778,692,773,692,773,652,778,608,790,563,813,524,829,513,845,510,860,509,875,499,891,475,902,447,911,394"/>
<area shape="rect" title=" " alt="" coords="1019,329,1094,394"/>
<area shape="poly" title=" " alt="" coords="1070,393,1078,430,1082,474,1077,518,1068,538,1056,556,1034,574,1012,581,989,580,966,575,919,567,896,569,871,581,845,604,824,633,808,663,796,693,791,691,803,661,820,630,841,601,868,576,894,564,920,561,967,570,990,574,1011,575,1032,569,1052,553,1064,536,1071,516,1077,474,1073,431,1064,395"/>
<area shape="poly" title=" " alt="" coords="379,393,414,447,438,475,464,499,577,537,691,576,717,602,738,632,767,691,762,694,733,635,713,606,688,581,576,542,462,504,434,479,410,450,375,395"/>
<area shape="poly" title=" " alt="" coords="587,393,692,577,757,692,752,695,687,580,583,395"/>
<area shape="poly" title=" " alt="" coords="770,395,759,455,750,526,749,570,753,614,769,691,764,693,748,615,744,570,744,525,753,454,764,394"/>
<area shape="rect" title=" " alt="" coords="1117,329,1316,394"/>
<area shape="poly" title=" " alt="" coords="1214,395,1205,433,1190,478,1165,521,1149,541,1130,557,1095,575,1062,580,1030,578,999,571,969,564,938,560,905,565,871,581,845,604,824,633,807,663,796,693,791,691,803,661,819,630,841,600,868,576,904,560,938,555,970,558,1001,565,1031,572,1062,575,1093,570,1127,552,1145,537,1161,518,1185,475,1200,432,1209,393"/>
<area shape="rect" href="../../d3/df9/classsrsran_1_1prefixed__logger.html" title=" " alt="" coords="882,601,1062,881"/>
<area shape="poly" title=" " alt="" coords="1059,879,1076,901,1126,953,1122,956,1072,904,1054,883"/>
<area shape="rect" href="../../d3/df9/classsrsran_1_1prefixed__logger.html" title=" " alt="" coords="1340,221,1503,501"/>
<area shape="poly" title=" " alt="" coords="1333,513,1305,538,1274,557,1244,567,1218,571,1171,566,1125,563,1101,568,1075,581,1048,603,1045,599,1072,576,1100,563,1125,558,1171,561,1218,565,1243,562,1271,552,1302,533,1329,509"/>
<area shape="rect" href="../../db/da3/classsrsran_1_1rlc__tx__metrics__container.html" title=" " alt="" coords="1086,579,1312,903"/>
<area shape="poly" title=" " alt="" coords="1202,903,1202,949,1196,949,1196,903"/>
<area shape="rect" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html" title=" " alt="" coords="1336,673,1504,808"/>
<area shape="poly" title=" " alt="" coords="1388,810,1359,857,1325,904,1276,955,1273,952,1321,901,1355,854,1384,807"/>
<area shape="rect" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html" title=" " alt="" coords="1529,601,1693,880"/>
<area shape="poly" title=" " alt="" coords="1542,882,1518,905,1489,924,1461,936,1409,946,1353,951,1322,956,1286,967,1285,962,1320,951,1352,946,1408,941,1459,931,1486,920,1515,901,1538,878"/>
<area shape="rect" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html" title=" " alt="" coords="1718,611,1910,870"/>
<area shape="poly" title=" " alt="" coords="1743,872,1707,905,1653,936,1602,953,1554,958,1507,956,1407,950,1350,954,1287,967,1286,962,1350,948,1407,945,1507,951,1554,953,1601,948,1651,932,1704,901,1739,868"/>
<area shape="rect" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html" title="Interface class for writing a RLC PCAP to a file." alt="" coords="1934,668,2083,813"/>
<area shape="poly" title=" " alt="" coords="1988,815,1962,863,1944,886,1923,905,1878,931,1837,939,1794,940,1741,944,1645,949,1521,950,1393,954,1335,959,1287,968,1286,962,1335,954,1392,948,1520,945,1645,944,1740,939,1794,935,1837,934,1876,926,1920,901,1940,882,1957,860,1983,812"/>
<area shape="rect" href="../../d6/db7/classsrsran_1_1rlc__tx__am__status__handler.html" title=" " alt="" coords="1294,968,1512,1068"/>
<area shape="poly" title=" " alt="" coords="1406,1082,1406,1120,1400,1120,1400,1082"/>
<area shape="rect" href="../../de/ddd/classsrsran_1_1rlc__tx__am__status__notifier.html" title=" " alt="" coords="1536,968,1750,1068"/>
<area shape="poly" title=" " alt="" coords="1586,1080,1510,1156,1506,1152,1582,1076"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acd7788c53c21aec4f1349fde033826fa" id="r_acd7788c53c21aec4f1349fde033826fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd7788c53c21aec4f1349fde033826fa">rlc_tx_am_entity</a> (uint32_t du_index, <a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a> ue_index, <a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a> rb_id, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html">rlc_tx_am_config</a> &amp;config, <a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="el" href="../../d7/d5c/classsrsran_1_1timer__factory.html">timer_factory</a> timers, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcell_executor_</a>, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_executor_</a>, <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled_</a>, <a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>)</td></tr>
<tr class="separator:acd7788c53c21aec4f1349fde033826fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7082c2469c7b6d60621ac0a812c6702" id="r_ab7082c2469c7b6d60621ac0a812c6702"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7082c2469c7b6d60621ac0a812c6702">set_status_provider</a> (<a class="el" href="../../dc/da0/classsrsran_1_1rlc__rx__am__status__provider.html">rlc_rx_am_status_provider</a> *<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">status_provider_</a>)</td></tr>
<tr class="separator:ab7082c2469c7b6d60621ac0a812c6702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd48f6a90b1f4de6f701feea72d50b9" id="r_aefd48f6a90b1f4de6f701feea72d50b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefd48f6a90b1f4de6f701feea72d50b9">handle_sdu</a> (<a class="el" href="../../d8/d76/structsrsran_1_1rlc__sdu.html">rlc_sdu</a> sdu) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:aefd48f6a90b1f4de6f701feea72d50b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for higher layers to pass SDUs into RLC.  <br /></td></tr>
<tr class="separator:aefd48f6a90b1f4de6f701feea72d50b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfef999318ce4118427cfe154c28e49" id="r_a9cfef999318ce4118427cfe154c28e49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cfef999318ce4118427cfe154c28e49">discard_sdu</a> (uint32_t pdcp_sn) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a9cfef999318ce4118427cfe154c28e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for higher layers to discard SDUs from RLC queue.  <br /></td></tr>
<tr class="separator:a9cfef999318ce4118427cfe154c28e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae545ee2d475205ef89cefae7931cbab" id="r_aae545ee2d475205ef89cefae7931cbab"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae545ee2d475205ef89cefae7931cbab">pull_pdu</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:aae545ee2d475205ef89cefae7931cbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of <code>rlc_pdu_buf</code> is insufficient or the TX buffer is empty.  <br /></td></tr>
<tr class="separator:aae545ee2d475205ef89cefae7931cbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac610ab8a5e2fd8da6bfcf7e5007988a7" id="r_ac610ab8a5e2fd8da6bfcf7e5007988a7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac610ab8a5e2fd8da6bfcf7e5007988a7">get_buffer_state</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ac610ab8a5e2fd8da6bfcf7e5007988a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull_pdu).  <br /></td></tr>
<tr class="separator:ac610ab8a5e2fd8da6bfcf7e5007988a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae730ee9d83bf14c7ff3d4e1e377da8df" id="r_ae730ee9d83bf14c7ff3d4e1e377da8df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae730ee9d83bf14c7ff3d4e1e377da8df">on_status_pdu</a> (<a class="el" href="../../da/daf/classsrsran_1_1rlc__am__status__pdu.html">rlc_am_status_pdu</a> status) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ae730ee9d83bf14c7ff3d4e1e377da8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status PDU handler for TX entity.  <br /></td></tr>
<tr class="separator:ae730ee9d83bf14c7ff3d4e1e377da8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274119bec2d36e23f0f1adfcd65fe8df" id="r_a274119bec2d36e23f0f1adfcd65fe8df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a274119bec2d36e23f0f1adfcd65fe8df">on_status_report_changed</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a274119bec2d36e23f0f1adfcd65fe8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the TX entity that a status report is triggered or its size has changed, so that the buffer status report needs to be updated.  <br /></td></tr>
<tr class="separator:a274119bec2d36e23f0f1adfcd65fe8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bba6bbf36fd7f28fd9aeb624fa3f085" id="r_a2bba6bbf36fd7f28fd9aeb624fa3f085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bba6bbf36fd7f28fd9aeb624fa3f085">get_polling_bit</a> (uint32_t sn, <a class="el" href="../../d9/db9/classbool.html">bool</a> is_retx, uint32_t payload_size)</td></tr>
<tr class="memdesc:a2bba6bbf36fd7f28fd9aeb624fa3f085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the polling bit in a PDU header has to be set or not Ref: TS 38.322, Sec. 5.3.3.2.  <br /></td></tr>
<tr class="separator:a2bba6bbf36fd7f28fd9aeb624fa3f085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398c38e0e19f66404a5627757628615e" id="r_a398c38e0e19f66404a5627757628615e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a398c38e0e19f66404a5627757628615e">on_expired_poll_retransmit_timer</a> ()</td></tr>
<tr class="memdesc:a398c38e0e19f66404a5627757628615e"><td class="mdescLeft">&#160;</td><td class="mdescRight">on_expired_poll_retransmit_timer <a class="el" href="../../d4/d22/classHandler.html">Handler</a> for expired poll_retransmit_timer  <br /></td></tr>
<tr class="separator:a398c38e0e19f66404a5627757628615e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14e9baeb52141c5d802dd39f8b1c0fc" id="r_ad14e9baeb52141c5d802dd39f8b1c0fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad14e9baeb52141c5d802dd39f8b1c0fc">inside_tx_window</a> (uint32_t sn) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:ad14e9baeb52141c5d802dd39f8b1c0fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a sequence number is inside the TX window.  <br /></td></tr>
<tr class="separator:ad14e9baeb52141c5d802dd39f8b1c0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc069ac771957d3729e8573efb49cd4c" id="r_adc069ac771957d3729e8573efb49cd4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc069ac771957d3729e8573efb49cd4c">is_tx_window_full</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:adc069ac771957d3729e8573efb49cd4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the TX window is currently full.  <br /></td></tr>
<tr class="separator:adc069ac771957d3729e8573efb49cd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53a40aec1318896858134351fa92342" id="r_ac53a40aec1318896858134351fa92342"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac53a40aec1318896858134351fa92342">valid_ack_sn</a> (uint32_t sn) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:ac53a40aec1318896858134351fa92342"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to check if a received status report as a valid ACK_SN.  <br /></td></tr>
<tr class="separator:ac53a40aec1318896858134351fa92342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e69c79d75db0e3b54f569a69a4022f0" id="r_a4e69c79d75db0e3b54f569a69a4022f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e69c79d75db0e3b54f569a69a4022f0">valid_nack</a> (uint32_t ack_sn, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../df/d99/structsrsran_1_1rlc__am__status__nack.html">rlc_am_status_nack</a> &amp;nack_sn) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:a4e69c79d75db0e3b54f569a69a4022f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to check if a received NACK within a status report is valid.  <br /></td></tr>
<tr class="separator:a4e69c79d75db0e3b54f569a69a4022f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2de9e02babb81d2dc715f8a0e7ea94" id="r_a3d2de9e02babb81d2dc715f8a0e7ea94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d2de9e02babb81d2dc715f8a0e7ea94">set_state</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html">rlc_tx_am_state</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">st_</a>)</td></tr>
<tr class="separator:a3d2de9e02babb81d2dc715f8a0e7ea94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff975bf2fd8655389c38483c2234fe2" id="r_a0ff975bf2fd8655389c38483c2234fe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html">rlc_tx_am_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ff975bf2fd8655389c38483c2234fe2">get_state</a> ()</td></tr>
<tr class="separator:a0ff975bf2fd8655389c38483c2234fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:ab835005656d9d0dbb67e19d6d49b3577 inherit pub_methods_classsrsran_1_1rlc__tx__entity" id="r_ab835005656d9d0dbb67e19d6d49b3577"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html">rlc_tx_metrics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#ab835005656d9d0dbb67e19d6d49b3577">get_metrics</a> ()</td></tr>
<tr class="separator:ab835005656d9d0dbb67e19d6d49b3577 inherit pub_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c881c34347d814d0a59be6ed9eca264 inherit pub_methods_classsrsran_1_1rlc__tx__entity" id="r_a6c881c34347d814d0a59be6ed9eca264"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#a6c881c34347d814d0a59be6ed9eca264">reset_metrics</a> ()</td></tr>
<tr class="separator:a6c881c34347d814d0a59be6ed9eca264 inherit pub_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">srsran::rlc_tx_upper_layer_data_interface</a></td></tr>
<tr class="memitem:a721b5d4c15468a6f90739958233bf843 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_a721b5d4c15468a6f90739958233bf843"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_upper_layer_data_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a721b5d4c15468a6f90739958233bf843 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec8aded322f937ed4912baa29be1a92 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_a8ec8aded322f937ed4912baa29be1a92"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a8ec8aded322f937ed4912baa29be1a92 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bcade02d262467ff3a637c36c672b2 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_aa8bcade02d262467ff3a637c36c672b2"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_upper_layer_data_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:aa8bcade02d262467ff3a637c36c672b2 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7284e7b7da24820c1f1ee9cfa7b23f5 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_ad7284e7b7da24820c1f1ee9cfa7b23f5"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:ad7284e7b7da24820c1f1ee9cfa7b23f5 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">srsran::rlc_tx_lower_layer_interface</a></td></tr>
<tr class="memitem:a5ebf877c371280e28d46b64f6b313a09 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a5ebf877c371280e28d46b64f6b313a09"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_lower_layer_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a5ebf877c371280e28d46b64f6b313a09 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d8b976865c886f0dffeff221d9ae51 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a57d8b976865c886f0dffeff221d9ae51"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a57d8b976865c886f0dffeff221d9ae51 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5025f616b427b807858910663c4e9555 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a5025f616b427b807858910663c4e9555"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_lower_layer_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a5025f616b427b807858910663c4e9555 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb633aae7113d564fa6959d7800df12 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a9cb633aae7113d564fa6959d7800df12"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a9cb633aae7113d564fa6959d7800df12 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_structsrsran_1_1rlc__tx__metrics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_structsrsran_1_1rlc__tx__metrics')"><img src="../../closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html">srsran::rlc_tx_metrics</a></td></tr>
<tr class="memitem:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_afd645682712532edd40a445e2e304a0e"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_sdus</b></td></tr>
<tr class="memdesc:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of SDUs. <br /></td></tr>
<tr class="separator:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a1171cedf6b1f63453aa7d5b6d6520712"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_of_pulled_sdus</b></td></tr>
<tr class="memdesc:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of pulled SDUs. <br /></td></tr>
<tr class="separator:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_aad4d4e4673218226d668edfece2911c4"><td class="memItemLeft" align="right" valign="top">
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_sdu_bytes</b></td></tr>
<tr class="memdesc:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of SDU bytes. <br /></td></tr>
<tr class="separator:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a149c3c2d17d423256fceda659e401ed5"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_dropped_sdus</b></td></tr>
<tr class="memdesc:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dropped SDUs (due to full queue) <br /></td></tr>
<tr class="separator:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_ac5847b5d570dd9754ecb9adf53bcd494"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_discarded_sdus</b></td></tr>
<tr class="memdesc:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of discarded SDUs (instructed from higher layer) <br /></td></tr>
<tr class="separator:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a32d0c7555e6f4c3542ce31ca8a5595d7"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_discard_failures</b></td></tr>
<tr class="memdesc:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of failed SDU discards (instructed from higher layer) <br /></td></tr>
<tr class="separator:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a511c99909afef3f464ac9f273340c4b4"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>sum_sdu_latency_us</b></td></tr>
<tr class="memdesc:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">total SDU latency (in us)&gt; <br /></td></tr>
<tr class="separator:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a51f0770cec3b666e0f82d27dc0066454"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_pdus_no_segmentation</b></td></tr>
<tr class="memdesc:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of transmitted PDUs without segmentation. <br /></td></tr>
<tr class="separator:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a138a06f6111454b48677dc083cc97d19"><td class="memItemLeft" align="right" valign="top">
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_pdu_bytes_no_segmentation</b></td></tr>
<tr class="memdesc:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of transmitted PDU bytes without segmentation. <br /></td></tr>
<tr class="separator:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_ae408424ee4a480a7c625862f3ec18b50"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/def/namespacesrsran.html#a1c771f379fa63ba2137654c259563308">rlc_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mode</b></td></tr>
<tr class="memdesc:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">RLC mode of the entity. <br /></td></tr>
<tr class="separator:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a97e10254bd7914a69ee8f0182d5dc2cc"><td class="memItemLeft" >union {&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator: inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a43586e078658a8f1babfee96238a4b inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a5a43586e078658a8f1babfee96238a4b"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../d4/d4e/structsrsran_1_1rlc__tm__tx__metrics.html">rlc_tm_tx_metrics</a>&#160;&#160;&#160;<b>tm</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a5a43586e078658a8f1babfee96238a4b inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab3e57dace0db3e99d06ecf3b9acc77 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a1ab3e57dace0db3e99d06ecf3b9acc77"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../d5/df7/structsrsran_1_1rlc__um__tx__metrics.html">rlc_um_tx_metrics</a>&#160;&#160;&#160;<b>um</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a1ab3e57dace0db3e99d06ecf3b9acc77 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acab46984dd01901bd8626b86b70a73 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a9acab46984dd01901bd8626b86b70a73"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../df/d4f/structsrsran_1_1rlc__am__tx__metrics.html">rlc_am_tx_metrics</a>&#160;&#160;&#160;<b>am</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a9acab46984dd01901bd8626b86b70a73 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a97e10254bd7914a69ee8f0182d5dc2cc"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html#a97e10254bd7914a69ee8f0182d5dc2cc">mode_specific</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:a3d60bcedb1ee117619637568433ca906 inherit pro_methods_classsrsran_1_1rlc__tx__entity" id="r_a3d60bcedb1ee117619637568433ca906"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#a3d60bcedb1ee117619637568433ca906">rlc_tx_entity</a> (<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a> du_index, <a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a> ue_index, <a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a> rb_id, <a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled</a>, <a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>)</td></tr>
<tr class="separator:a3d60bcedb1ee117619637568433ca906 inherit pro_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:aac4d8aa968cccd0b7d1335e0edba1b19 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_aac4d8aa968cccd0b7d1335e0edba1b19"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/df9/classsrsran_1_1prefixed__logger.html">rlc_bearer_logger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b></td></tr>
<tr class="separator:aac4d8aa968cccd0b7d1335e0edba1b19 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f39e813424ef0c074b2a00be6c52213 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a7f39e813424ef0c074b2a00be6c52213"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../db/da3/classsrsran_1_1rlc__tx__metrics__container.html">rlc_tx_metrics_container</a>&#160;</td><td class="memItemRight" valign="bottom"><b>metrics</b></td></tr>
<tr class="separator:a7f39e813424ef0c074b2a00be6c52213 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25655acfaabbcc173ae0b7facf84e7f inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_ad25655acfaabbcc173ae0b7facf84e7f"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>upper_dn</b></td></tr>
<tr class="separator:ad25655acfaabbcc173ae0b7facf84e7f inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c8e81f1f04d757c511e0313ba00e7b inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_ae5c8e81f1f04d757c511e0313ba00e7b"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>upper_cn</b></td></tr>
<tr class="separator:ae5c8e81f1f04d757c511e0313ba00e7b inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fde636658627994443bb92c405fadd4 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a2fde636658627994443bb92c405fadd4"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>lower_dn</b></td></tr>
<tr class="separator:a2fde636658627994443bb92c405fadd4 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c32b908aa9036816b2e8c610f4fda0 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a54c32b908aa9036816b2e8c610f4fda0"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>pcap</b></td></tr>
<tr class="separator:a54c32b908aa9036816b2e8c610f4fda0 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acd7788c53c21aec4f1349fde033826fa" name="acd7788c53c21aec4f1349fde033826fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7788c53c21aec4f1349fde033826fa">&#9670;&#160;</a></span>rlc_tx_am_entity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlc_tx_am_entity::rlc_tx_am_entity </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>du_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a></td>          <td class="paramname"><span class="paramname"><em>ue_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a></td>          <td class="paramname"><span class="paramname"><em>rb_id</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html">rlc_tx_am_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>upper_dn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>upper_cn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lower_dn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d5c/classsrsran_1_1timer__factory.html">timer_factory</a></td>          <td class="paramname"><span class="paramname"><em>timers</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pcell_executor_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ue_executor_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>metrics_enabled_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pcap_</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   45</span>                                                                               :</div>
<div class="line"><span class="lineno">   46</span>  <a class="code hl_class" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">rlc_tx_entity</a>(du_index, ue_index, rb_id, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>),</div>
<div class="line"><span class="lineno">   47</span>  cfg(config),</div>
<div class="line"><span class="lineno">   48</span>  sdu_queue(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a34f3c5f613e31ff2081af06caaf33b05">queue_size</a>, logger),</div>
<div class="line"><span class="lineno">   49</span>  retx_queue(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#ada4c5e4e89a42d8c43ad7ebab29ef30f">window_size</a>(to_number(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>))),</div>
<div class="line"><span class="lineno">   50</span>  mod(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#abcf66419637f2dc1494305c3b8d7aaf5">cardinality</a>(to_number(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>))),</div>
<div class="line"><span class="lineno">   51</span>  am_window_size(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#ada4c5e4e89a42d8c43ad7ebab29ef30f">window_size</a>(to_number(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>))),</div>
<div class="line"><span class="lineno">   52</span>  tx_window(create_tx_window(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>)),</div>
<div class="line"><span class="lineno">   53</span>  pdu_recycler(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#ada4c5e4e89a42d8c43ad7ebab29ef30f">window_size</a>(to_number(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>)), logger),</div>
<div class="line"><span class="lineno">   54</span>  head_min_size(rlc_am_pdu_header_min_size(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>)),</div>
<div class="line"><span class="lineno">   55</span>  head_max_size(rlc_am_pdu_header_max_size(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">sn_field_length</a>)),</div>
<div class="line"><span class="lineno">   56</span>  poll_retransmit_timer(timers.create_timer()),</div>
<div class="line"><span class="lineno">   57</span>  is_poll_retransmit_timer_expired(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">   58</span>  pcell_executor(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcell_executor_</a>),</div>
<div class="line"><span class="lineno">   59</span>  ue_executor(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_executor_</a>),</div>
<div class="line"><span class="lineno">   60</span>  pcap_context(ue_index, rb_id, config)</div>
<div class="line"><span class="lineno">   61</span>{</div>
<div class="line"><span class="lineno">   62</span>  metrics.metrics_set_mode(rlc_mode::am);</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <span class="comment">// check timer t_poll_retransmission timer</span></div>
<div class="line"><span class="lineno">   65</span>  srsran_assert(poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#af009b842ea6d7f5bd5ba2cc87016b8bf">is_valid</a>(), <span class="stringliteral">&quot;Cannot create RLC TX AM, timers not configured.&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>  <span class="comment">//  configure t_poll_retransmission timer</span></div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordflow">if</span> (cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#aee93e67d4d6e5e45dd410fea60928793">t_poll_retx</a> &gt; 0) {</div>
<div class="line"><span class="lineno">   69</span>    poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#a79c9d6ec6c5942aa869ea4ba273536c5">set</a>(std::chrono::milliseconds(cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#aee93e67d4d6e5e45dd410fea60928793">t_poll_retx</a>),</div>
<div class="line"><span class="lineno">   70</span>                              [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d9/def/namespacesrsran.html#aa72283f3567ebd1eb77b7dd882d6de33">timer_id_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">tid</a>) { on_expired_poll_retransmit_timer(); });</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  logger.log_info(<span class="stringliteral">&quot;RLC AM configured. {}&quot;</span>, cfg);</div>
<div class="line"><span class="lineno">   74</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__tx__entity_html"><div class="ttname"><a href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></div><div class="ttdef"><b>Definition</b> rlc_tx_entity.h:39</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_a79c9d6ec6c5942aa869ea4ba273536c5"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#a79c9d6ec6c5942aa869ea4ba273536c5">srsran::unique_timer::set</a></div><div class="ttdeci">void set(timer_duration duration, unique_function&lt; void(timer_id_t)&gt; callback)</div><div class="ttdoc">Configures the duration of the timer calling the provided callback upon timer expiration.</div><div class="ttdef"><b>Definition</b> timers.h:269</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_af009b842ea6d7f5bd5ba2cc87016b8bf"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#af009b842ea6d7f5bd5ba2cc87016b8bf">srsran::unique_timer::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns true if the timer is valid, otherwise returns false if already released.</div><div class="ttdef"><b>Definition</b> timers.h:251</div></div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
<div class="ttc" id="anamespacesrsran_html_aa72283f3567ebd1eb77b7dd882d6de33"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#aa72283f3567ebd1eb77b7dd882d6de33">srsran::timer_id_t</a></div><div class="ttdeci">timer_id_t</div><div class="ttdoc">Type used to represent a unique timer identifier.</div><div class="ttdef"><b>Definition</b> timers.h:37</div></div>
<div class="ttc" id="anamespacesrsran_html_abcf66419637f2dc1494305c3b8d7aaf5"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#abcf66419637f2dc1494305c3b8d7aaf5">srsran::cardinality</a></div><div class="ttdeci">constexpr uint32_t cardinality(uint16_t sn_size)</div><div class="ttdoc">Returns the value range of the sequence numbers.</div><div class="ttdef"><b>Definition</b> rlc_config.h:629</div></div>
<div class="ttc" id="anamespacesrsran_html_ada4c5e4e89a42d8c43ad7ebab29ef30f"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#ada4c5e4e89a42d8c43ad7ebab29ef30f">srsran::window_size</a></div><div class="ttdeci">constexpr uint32_t window_size(uint16_t sn_size)</div><div class="ttdoc">Returns the UM_Window_Size and AM_Window_Size Ref: 3GPP TS 38.322 Sec. 7.2.</div><div class="ttdef"><b>Definition</b> rlc_config.h:639</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_a34f3c5f613e31ff2081af06caaf33b05"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a34f3c5f613e31ff2081af06caaf33b05">srsran::rlc_tx_am_config::queue_size</a></div><div class="ttdeci">uint32_t queue_size</div><div class="ttdoc">SDU queue size.</div><div class="ttdef"><b>Definition</b> rlc_config.h:700</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_ac5dcf5ae2ca9ca97a99adc5433698fc2"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#ac5dcf5ae2ca9ca97a99adc5433698fc2">srsran::rlc_tx_am_config::sn_field_length</a></div><div class="ttdeci">rlc_am_sn_size sn_field_length</div><div class="ttdoc">Number of bits used for sequence number.</div><div class="ttdef"><b>Definition</b> rlc_config.h:689</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_aee93e67d4d6e5e45dd410fea60928793"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#aee93e67d4d6e5e45dd410fea60928793">srsran::rlc_tx_am_config::t_poll_retx</a></div><div class="ttdeci">int32_t t_poll_retx</div><div class="ttdoc">Poll retx timeout (ms)</div><div class="ttdef"><b>Definition</b> rlc_config.h:692</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9cfef999318ce4118427cfe154c28e49" name="a9cfef999318ce4118427cfe154c28e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfef999318ce4118427cfe154c28e49">&#9670;&#160;</a></span>discard_sdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_am_entity::discard_sdu </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>pdcp_sn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for higher layers to discard SDUs from RLC queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdcp_sn</td><td>PDCP sequence number (SN) of the SDU that is to be discarded </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html#a349619ff887450259fa44a739d2980b6">srsran::rlc_tx_upper_layer_data_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>{</div>
<div class="line"><span class="lineno">   95</span>  <span class="keywordflow">if</span> (sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5918fa48177cf34b10fef220c8fc719f">try_discard</a>(pdcp_sn)) {</div>
<div class="line"><span class="lineno">   96</span>    logger.log_info(<span class="stringliteral">&quot;Discarded SDU. pdcp_sn={}&quot;</span>, pdcp_sn);</div>
<div class="line"><span class="lineno">   97</span>    metrics.metrics_add_discard(1);</div>
<div class="line"><span class="lineno">   98</span>    handle_changed_buffer_state();</div>
<div class="line"><span class="lineno">   99</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  100</span>    logger.log_info(<span class="stringliteral">&quot;Could not discard SDU. pdcp_sn={}&quot;</span>, pdcp_sn);</div>
<div class="line"><span class="lineno">  101</span>    metrics.metrics_add_discard_failure(1);</div>
<div class="line"><span class="lineno">  102</span>  }</div>
<div class="line"><span class="lineno">  103</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a5918fa48177cf34b10fef220c8fc719f"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5918fa48177cf34b10fef220c8fc719f">srsran::rlc_sdu_queue_lockfree::try_discard</a></div><div class="ttdeci">bool try_discard(uint32_t pdcp_sn)</div><div class="ttdoc">Marks an RLC SDU as &quot;discarded&quot;, if possible.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:127</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac610ab8a5e2fd8da6bfcf7e5007988a7" name="ac610ab8a5e2fd8da6bfcf7e5007988a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac610ab8a5e2fd8da6bfcf7e5007988a7">&#9670;&#160;</a></span>get_buffer_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rlc_tx_am_entity::get_buffer_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull_pdu). </p>
<dl class="section return"><dt>Returns</dt><dd>Provides the current buffer state </dd></dl>

<p>Implements <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html#a7cbb36d4595cc433e55261341ccc641a">srsran::rlc_tx_lower_layer_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  878</span>{</div>
<div class="line"><span class="lineno">  879</span>  std::lock_guard&lt;std::mutex&gt; lock(mutex);</div>
<div class="line"><span class="lineno">  880</span>  <span class="keywordflow">return</span> get_buffer_state_nolock();</div>
<div class="line"><span class="lineno">  881</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bba6bbf36fd7f28fd9aeb624fa3f085" name="a2bba6bbf36fd7f28fd9aeb624fa3f085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bba6bbf36fd7f28fd9aeb624fa3f085">&#9670;&#160;</a></span>get_polling_bit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> rlc_tx_am_entity::get_polling_bit </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>sn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>is_retx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>payload_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the polling bit in a PDU header has to be set or not Ref: TS 38.322, Sec. 5.3.3.2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sn</td><td>Sequence number of PDU to be transmitted </td></tr>
    <tr><td class="paramname">is_retx</td><td>Flags whether this PDU is a retransmission or not </td></tr>
    <tr><td class="paramname">payload_size</td><td>Length of the data field mapped to the AMD PDU </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the polling bit has to be set, otherwise 0 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  914</span>{</div>
<div class="line"><span class="lineno">  915</span>  logger.log_debug(<span class="stringliteral">&quot;Checking poll bit requirements for PDU. sn={} is_retx={} sdu_bytes={} poll_sn={}&quot;</span>,</div>
<div class="line"><span class="lineno">  916</span>                   sn,</div>
<div class="line"><span class="lineno">  917</span>                   is_retx ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>,</div>
<div class="line"><span class="lineno">  918</span>                   payload_size,</div>
<div class="line"><span class="lineno">  919</span>                   st.poll_sn);</div>
<div class="line"><span class="lineno">  920</span>  <span class="comment">/* For each AMD PDU containing a SDU or SDU segment that has not been previoulsy tranmitted:</span></div>
<div class="line"><span class="lineno">  921</span><span class="comment">   * - increment PDU_WITHOUT_POLL by one;</span></div>
<div class="line"><span class="lineno">  922</span><span class="comment">   * - increment BYTE_WITHOUT_POLL by every new byte of Data field element that it maps to the Data field of the AMD</span></div>
<div class="line"><span class="lineno">  923</span><span class="comment">   * PDU;</span></div>
<div class="line"><span class="lineno">  924</span><span class="comment">   *   - if PDU_WITHOUT_POLL &gt;= pollPDU; or</span></div>
<div class="line"><span class="lineno">  925</span><span class="comment">   *   - if BYTE_WITHOUT_POLL &gt;= pollByte:</span></div>
<div class="line"><span class="lineno">  926</span><span class="comment">   *    - include a poll in the AMD PDU as described below.</span></div>
<div class="line"><span class="lineno">  927</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  928</span>  <a class="code hl_class" href="../../d4/dff/classuint8__t.html">uint8_t</a> poll = 0;</div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordflow">if</span> (!is_retx) {</div>
<div class="line"><span class="lineno">  930</span>    st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a1fe4038eb48d43f3f270c99adc34e062">pdu_without_poll</a>++;</div>
<div class="line"><span class="lineno">  931</span>    st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#ad8cf1bf9fa17def7d77ace344cf50b06">byte_without_poll</a> += payload_size;</div>
<div class="line"><span class="lineno">  932</span>    <span class="keywordflow">if</span> (cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a8e5c46a83f6213512885fee3891e4f52">poll_pdu</a> &gt; 0 &amp;&amp; st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a1fe4038eb48d43f3f270c99adc34e062">pdu_without_poll</a> &gt;= (<a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a>)cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a8e5c46a83f6213512885fee3891e4f52">poll_pdu</a>) {</div>
<div class="line"><span class="lineno">  933</span>      poll = 1;</div>
<div class="line"><span class="lineno">  934</span>      logger.log_debug(<span class="stringliteral">&quot;Setting poll bit due to PollPDU. sn={} poll_sn={}&quot;</span>, sn, st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a>);</div>
<div class="line"><span class="lineno">  935</span>    }</div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">if</span> (cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a0c46b4c7f055d06ae60cef184be5d355">poll_byte</a> &gt; 0 &amp;&amp; st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#ad8cf1bf9fa17def7d77ace344cf50b06">byte_without_poll</a> &gt;= (<a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a>)cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a0c46b4c7f055d06ae60cef184be5d355">poll_byte</a>) {</div>
<div class="line"><span class="lineno">  937</span>      poll = 1;</div>
<div class="line"><span class="lineno">  938</span>      logger.log_debug(<span class="stringliteral">&quot;Setting poll bit due to PollBYTE. sn={} poll_sn={}&quot;</span>, sn, st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a>);</div>
<div class="line"><span class="lineno">  939</span>    }</div>
<div class="line"><span class="lineno">  940</span>  }</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  943</span><span class="comment">   * - if both the transmission buffer and the retransmission buffer becomes empty</span></div>
<div class="line"><span class="lineno">  944</span><span class="comment">   *   (excluding transmitted RLC SDUs or RLC SDU segments awaiting acknowledgements)</span></div>
<div class="line"><span class="lineno">  945</span><span class="comment">   *   after the transmission of the AMD PDU; or</span></div>
<div class="line"><span class="lineno">  946</span><span class="comment">   * - if no new RLC SDU can be transmitted after the transmission of the AMD PDU (e.g. due to window stalling);</span></div>
<div class="line"><span class="lineno">  947</span><span class="comment">   *   - include a poll in the AMD PDU as described below.</span></div>
<div class="line"><span class="lineno">  948</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  949</span>  <span class="keywordflow">if</span> ((sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a7ba1e310d8d662703f2922303c627a7a">is_empty</a>() &amp;&amp; retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a778792b878a76c69aec610429a6f243d">empty</a>() &amp;&amp; sn_under_segmentation == <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a7330c0b829cb3d3717bb70ab14ec3e3c">INVALID_RLC_SN</a>) || <a class="code hl_function" href="#adc069ac771957d3729e8573efb49cd4c">is_tx_window_full</a>()) {</div>
<div class="line"><span class="lineno">  950</span>    logger.log_debug(<span class="stringliteral">&quot;Setting poll bit due to empty buffers/inablity to TX. sn={} poll_sn={}&quot;</span>, sn, st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a>);</div>
<div class="line"><span class="lineno">  951</span>    poll = 1;</div>
<div class="line"><span class="lineno">  952</span>  }</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  955</span><span class="comment">   * From Sec. 5.3.3.4 Expiry of t-PollRetransmit</span></div>
<div class="line"><span class="lineno">  956</span><span class="comment">   * [...]</span></div>
<div class="line"><span class="lineno">  957</span><span class="comment">   * - include a poll in an AMD PDU as described in clause 5.3.3.2.</span></div>
<div class="line"><span class="lineno">  958</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  959</span>  <span class="keywordflow">if</span> (is_poll_retransmit_timer_expired.exchange(<span class="keyword">false</span>, std::memory_order_relaxed)) {</div>
<div class="line"><span class="lineno">  960</span>    logger.log_debug(<span class="stringliteral">&quot;Setting poll bit due to expired poll retransmit timer. sn={} poll_sn={}&quot;</span>, sn, st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a>);</div>
<div class="line"><span class="lineno">  961</span>    poll = 1;</div>
<div class="line"><span class="lineno">  962</span>  }</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  965</span><span class="comment">   * - If poll bit is included:</span></div>
<div class="line"><span class="lineno">  966</span><span class="comment">   *     - set PDU_WITHOUT_POLL to 0;</span></div>
<div class="line"><span class="lineno">  967</span><span class="comment">   *     - set BYTE_WITHOUT_POLL to 0.</span></div>
<div class="line"><span class="lineno">  968</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  969</span>  <span class="keywordflow">if</span> (poll == 1) {</div>
<div class="line"><span class="lineno">  970</span>    st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a1fe4038eb48d43f3f270c99adc34e062">pdu_without_poll</a>  = 0;</div>
<div class="line"><span class="lineno">  971</span>    st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#ad8cf1bf9fa17def7d77ace344cf50b06">byte_without_poll</a> = 0;</div>
<div class="line"><span class="lineno">  972</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  973</span><span class="comment">     * - set POLL_SN to the highest SN of the AMD PDU among the AMD PDUs submitted to lower layer;</span></div>
<div class="line"><span class="lineno">  974</span><span class="comment">     * - if t-PollRetransmit is not running:</span></div>
<div class="line"><span class="lineno">  975</span><span class="comment">     *   - start t-PollRetransmit.</span></div>
<div class="line"><span class="lineno">  976</span><span class="comment">     * - else:</span></div>
<div class="line"><span class="lineno">  977</span><span class="comment">     *   - restart t-PollRetransmit.</span></div>
<div class="line"><span class="lineno">  978</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">if</span> (!is_retx) {</div>
<div class="line"><span class="lineno">  980</span>      <span class="comment">// This is not an RETX, but a new transmission</span></div>
<div class="line"><span class="lineno">  981</span>      <span class="comment">// As such it should be the highest SN submitted to the lower layers</span></div>
<div class="line"><span class="lineno">  982</span>      st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a> = sn;</div>
<div class="line"><span class="lineno">  983</span>      logger.log_debug(<span class="stringliteral">&quot;Updated poll_sn={}.&quot;</span>, sn);</div>
<div class="line"><span class="lineno">  984</span>    }</div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">if</span> (cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#aee93e67d4d6e5e45dd410fea60928793">t_poll_retx</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  986</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#a600954b52cb062982a086792c201b9d9">is_running</a>()) {</div>
<div class="line"><span class="lineno">  987</span>        poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#af3fa2fce72a8058698b971e498e0c262">run</a>();</div>
<div class="line"><span class="lineno">  988</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  989</span>        poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#a1a4efde28d11d176d481f00ce0274d78">stop</a>();</div>
<div class="line"><span class="lineno">  990</span>        poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#af3fa2fce72a8058698b971e498e0c262">run</a>();</div>
<div class="line"><span class="lineno">  991</span>      }</div>
<div class="line"><span class="lineno">  992</span>      logger.log_debug(<span class="stringliteral">&quot;Started poll retransmit timer. poll_sn={}&quot;</span>, st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">poll_sn</a>);</div>
<div class="line"><span class="lineno">  993</span>    }</div>
<div class="line"><span class="lineno">  994</span>  }</div>
<div class="line"><span class="lineno">  995</span>  <span class="keywordflow">return</span> poll;</div>
<div class="line"><span class="lineno">  996</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__retx__queue_html_a778792b878a76c69aec610429a6f243d"><div class="ttname"><a href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a778792b878a76c69aec610429a6f243d">srsran::rlc_retx_queue::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Checks the presence of at least one valid element.</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:162</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a7ba1e310d8d662703f2922303c627a7a"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a7ba1e310d8d662703f2922303c627a7a">srsran::rlc_sdu_queue_lockfree::is_empty</a></div><div class="ttdeci">bool is_empty()</div><div class="ttdoc">Checks if the internal queue is empty.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:219</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__tx__am__entity_html_adc069ac771957d3729e8573efb49cd4c"><div class="ttname"><a href="#adc069ac771957d3729e8573efb49cd4c">srsran::rlc_tx_am_entity::is_tx_window_full</a></div><div class="ttdeci">bool is_tx_window_full() const</div><div class="ttdoc">Checks if the TX window is currently full.</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.cpp:1082</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_a1a4efde28d11d176d481f00ce0274d78"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#a1a4efde28d11d176d481f00ce0274d78">srsran::unique_timer::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stops the timer from ticking.</div><div class="ttdef"><b>Definition</b> timers.h:290</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_a600954b52cb062982a086792c201b9d9"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#a600954b52cb062982a086792c201b9d9">srsran::unique_timer::is_running</a></div><div class="ttdeci">bool is_running() const</div><div class="ttdoc">Returns true if the timer is currently running, otherwise returns false.</div><div class="ttdef"><b>Definition</b> timers.h:260</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_af3fa2fce72a8058698b971e498e0c262"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#af3fa2fce72a8058698b971e498e0c262">srsran::unique_timer::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Activates the timer to start ticking.</div><div class="ttdef"><b>Definition</b> timers.h:283</div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="../../d3/d87/classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassuint8__t_html"><div class="ttname"><a href="../../d4/dff/classuint8__t.html">uint8_t</a></div></div>
<div class="ttc" id="anamespacesrsran_html_a7330c0b829cb3d3717bb70ab14ec3e3c"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7330c0b829cb3d3717bb70ab14ec3e3c">srsran::INVALID_RLC_SN</a></div><div class="ttdeci">const uint32_t INVALID_RLC_SN</div><div class="ttdoc">Reserved number representing an invalid RLC sequence number.</div><div class="ttdef"><b>Definition</b> rlc_am_pdu.h:31</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_a0c46b4c7f055d06ae60cef184be5d355"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a0c46b4c7f055d06ae60cef184be5d355">srsran::rlc_tx_am_config::poll_byte</a></div><div class="ttdeci">int32_t poll_byte</div><div class="ttdoc">Insert poll bit after this much data (bytes)</div><div class="ttdef"><b>Definition</b> rlc_config.h:697</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_a8e5c46a83f6213512885fee3891e4f52"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#a8e5c46a83f6213512885fee3891e4f52">srsran::rlc_tx_am_config::poll_pdu</a></div><div class="ttdeci">int32_t poll_pdu</div><div class="ttdoc">Insert poll bit after this many PDUs.</div><div class="ttdef"><b>Definition</b> rlc_config.h:696</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__state_html_a1fe4038eb48d43f3f270c99adc34e062"><div class="ttname"><a href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a1fe4038eb48d43f3f270c99adc34e062">srsran::rlc_tx_am_state::pdu_without_poll</a></div><div class="ttdeci">uint32_t pdu_without_poll</div><div class="ttdoc">PDU_WITHOUT_POLL  Counter This counter is initially set to 0. It counts the number of AMD PDUs sent ...</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.h:70</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__state_html_a92f1c0516ab5a0c69ffb84dac79fb547"><div class="ttname"><a href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a92f1c0516ab5a0c69ffb84dac79fb547">srsran::rlc_tx_am_state::poll_sn</a></div><div class="ttdeci">uint32_t poll_sn</div><div class="ttdoc">POLL_SN  Poll send state variable It holds the value of the highest SN of the AMD PDU among the AMD ...</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.h:65</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__state_html_ad8cf1bf9fa17def7d77ace344cf50b06"><div class="ttname"><a href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#ad8cf1bf9fa17def7d77ace344cf50b06">srsran::rlc_tx_am_state::byte_without_poll</a></div><div class="ttdeci">uint32_t byte_without_poll</div><div class="ttdoc">BYTE_WITHOUT_POLL  Counter This counter is initially set to 0. It counts the number of data bytes se...</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ff975bf2fd8655389c38483c2234fe2" name="a0ff975bf2fd8655389c38483c2234fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff975bf2fd8655389c38483c2234fe2">&#9670;&#160;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html">rlc_tx_am_state</a> srsran::rlc_tx_am_entity::get_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the internal state variables Note: This function should only be used for testing</p>
<dl class="section return"><dt>Returns</dt><dd>A copy of the internal state variables </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{ <span class="keywordflow">return</span> st; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aefd48f6a90b1f4de6f701feea72d50b9" name="aefd48f6a90b1f4de6f701feea72d50b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd48f6a90b1f4de6f701feea72d50b9">&#9670;&#160;</a></span>handle_sdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_am_entity::handle_sdu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d76/structsrsran_1_1rlc__sdu.html">rlc_sdu</a></td>          <td class="paramname"><span class="paramname"><em>sdu</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for higher layers to pass SDUs into RLC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdu</td><td>SDU to be handled </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html#a3672e8658872f39bbcbb61afa9a05235">srsran::rlc_tx_upper_layer_data_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>{</div>
<div class="line"><span class="lineno">   79</span>  sdu.time_of_arrival = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordtype">size_t</span> sdu_length   = sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>();</div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordflow">if</span> (sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a1a653b33da96f2caea9471794877464c">write</a>(sdu)) {</div>
<div class="line"><span class="lineno">   82</span>    logger.log_info(</div>
<div class="line"><span class="lineno">   83</span>        sdu.buf.begin(), sdu.buf.end(), <span class="stringliteral">&quot;TX SDU. sdu_len={} pdcp_sn={} {}&quot;</span>, sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>(), sdu.pdcp_sn, sdu_queue);</div>
<div class="line"><span class="lineno">   84</span>    metrics.metrics_add_sdus(1, sdu_length);</div>
<div class="line"><span class="lineno">   85</span>    handle_changed_buffer_state();</div>
<div class="line"><span class="lineno">   86</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   87</span>    logger.log_warning(<span class="stringliteral">&quot;Dropped SDU. sdu_len={} pdcp_sn={} {}&quot;</span>, sdu_length, sdu.pdcp_sn, sdu_queue);</div>
<div class="line"><span class="lineno">   88</span>    metrics.metrics_add_lost_sdus(1);</div>
<div class="line"><span class="lineno">   89</span>  }</div>
<div class="line"><span class="lineno">   90</span>}</div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer_html_a7168fb8841a83a60b60a2ae06b59662d"><div class="ttname"><a href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">srsran::byte_buffer::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdoc">Checks byte_buffer length.</div><div class="ttdef"><b>Definition</b> byte_buffer.h:330</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a1a653b33da96f2caea9471794877464c"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a1a653b33da96f2caea9471794877464c">srsran::rlc_sdu_queue_lockfree::write</a></div><div class="ttdeci">bool write(rlc_sdu sdu)</div><div class="ttdoc">Writes an RLC SDU (with optional PDCP SN) to the queue, if possible.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:74</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad14e9baeb52141c5d802dd39f8b1c0fc" name="ad14e9baeb52141c5d802dd39f8b1c0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14e9baeb52141c5d802dd39f8b1c0fc">&#9670;&#160;</a></span>inside_tx_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> rlc_tx_am_entity::inside_tx_window </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>sn</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a sequence number is inside the TX window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sn</td><td>Sequence Number to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sn is inside the TX window, false otherwise </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1077</span>{</div>
<div class="line"><span class="lineno"> 1078</span>  <span class="comment">// TX_Next_Ack &lt;= SN &lt; TX_Next_Ack + AM_Window_Size</span></div>
<div class="line"><span class="lineno"> 1079</span>  <span class="keywordflow">return</span> tx_mod_base(sn) &lt; am_window_size;</div>
<div class="line"><span class="lineno"> 1080</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc069ac771957d3729e8573efb49cd4c" name="adc069ac771957d3729e8573efb49cd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc069ac771957d3729e8573efb49cd4c">&#9670;&#160;</a></span>is_tx_window_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> rlc_tx_am_entity::is_tx_window_full </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the TX window is currently full. </p>
<p>Note "full" may be smaller than the full window size to try to limit memory usage. A virtual full window configuration parameter can be used to avoid many UEs with 2^18 windows full of PDUs.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the window is full. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1083</span>{</div>
<div class="line"><span class="lineno"> 1084</span>  <span class="comment">// TX window is full, or we reached our virtual max window size</span></div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keywordflow">return</span> tx_window-&gt;full() || (cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#abae58d34c6084044ac8f8b057f92bea0">max_window</a> != 0 &amp;&amp; tx_mod_base(st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a8afd76c4255ae07376ad530e4a0af3fe">tx_next</a>) &gt; cfg.<a class="code hl_variable" href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#abae58d34c6084044ac8f8b057f92bea0">max_window</a>);</div>
<div class="line"><span class="lineno"> 1086</span>}</div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__config_html_abae58d34c6084044ac8f8b057f92bea0"><div class="ttname"><a href="../../db/d90/structsrsran_1_1rlc__tx__am__config.html#abae58d34c6084044ac8f8b057f92bea0">srsran::rlc_tx_am_config::max_window</a></div><div class="ttdeci">uint32_t max_window</div><div class="ttdoc">Custom parameter to limit the maximum window size for memory reasons. 0 means no limit.</div><div class="ttdef"><b>Definition</b> rlc_config.h:701</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__state_html_a8afd76c4255ae07376ad530e4a0af3fe"><div class="ttname"><a href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a8afd76c4255ae07376ad530e4a0af3fe">srsran::rlc_tx_am_state::tx_next</a></div><div class="ttdeci">uint32_t tx_next</div><div class="ttdoc">TX_Next  AM send state variable It holds the value of the SN to be assigned for the next newly gener...</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a398c38e0e19f66404a5627757628615e" name="a398c38e0e19f66404a5627757628615e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398c38e0e19f66404a5627757628615e">&#9670;&#160;</a></span>on_expired_poll_retransmit_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_am_entity::on_expired_poll_retransmit_timer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>on_expired_poll_retransmit_timer <a class="el" href="../../d4/d22/classHandler.html">Handler</a> for expired poll_retransmit_timer </p>
<p>Note: This function shall be executed by the same executor that calls <a class="el" href="#aae545ee2d475205ef89cefae7931cbab" title="Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of rlc_pdu_buf is i...">pull_pdu()</a>, i.e. the pcell_executor, in order to avoid incidential blocking of those critical paths. </p>
<div class="fragment"><div class="line"><span class="lineno">  999</span>{</div>
<div class="line"><span class="lineno"> 1000</span>  std::unique_lock&lt;std::mutex&gt; lock(mutex);</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>  <span class="comment">// t-PollRetransmit</span></div>
<div class="line"><span class="lineno"> 1003</span>  logger.log_info(<span class="stringliteral">&quot;Poll retransmit timer expired after {}ms.&quot;</span>, poll_retransmit_timer.<a class="code hl_function" href="../../d5/d6f/classsrsran_1_1unique__timer.html#a97ad01e4b7d8588d25596489c362b15b">duration</a>().count());</div>
<div class="line"><span class="lineno"> 1004</span>  log_state(srslog::basic_levels::debug);</div>
<div class="line"><span class="lineno"> 1005</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1006</span><span class="comment">   * - if both the transmission buffer and the retransmission buffer are empty</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="comment">   *   (excluding transmitted RLC SDU or RLC SDU segment awaiting acknowledgements); or</span></div>
<div class="line"><span class="lineno"> 1008</span><span class="comment">   * - if no new RLC SDU or RLC SDU segment can be transmitted (e.g. due to window stalling):</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="comment">   *   - consider the RLC SDU with the highest SN among the RLC SDUs submitted to lower layer for</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="comment">   *   retransmission; or</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="comment">   *   - consider any RLC SDU which has not been positively acknowledged for retransmission.</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1013</span>  <span class="keywordflow">if</span> ((sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a7ba1e310d8d662703f2922303c627a7a">is_empty</a>() &amp;&amp; retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a778792b878a76c69aec610429a6f243d">empty</a>() &amp;&amp; sn_under_segmentation == <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a7330c0b829cb3d3717bb70ab14ec3e3c">INVALID_RLC_SN</a>) || <a class="code hl_function" href="#adc069ac771957d3729e8573efb49cd4c">is_tx_window_full</a>()) {</div>
<div class="line"><span class="lineno"> 1014</span>    <span class="keywordflow">if</span> (tx_window-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 1015</span>      logger.log_info(</div>
<div class="line"><span class="lineno"> 1016</span>          <span class="stringliteral">&quot;Poll retransmit timer expired, but the TX window is empty. {} tx_window_size={}&quot;</span>, st, tx_window-&gt;size());</div>
<div class="line"><span class="lineno"> 1017</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1018</span>    }</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> tx_window-&gt;has_sn(st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a6c1488e36449c9f9ac0c8dd369768a56">tx_next_ack</a>)) {</div>
<div class="line"><span class="lineno"> 1020</span>      logger.log_info(<span class="stringliteral">&quot;Poll retransmit timer expired, but tx_next_ack is not in the TX window. {} tx_window_size={}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1021</span>                      st,</div>
<div class="line"><span class="lineno"> 1022</span>                      tx_window-&gt;size());</div>
<div class="line"><span class="lineno"> 1023</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1024</span>    }</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="comment">// RETX first RLC SDU that has not been ACKed</span></div>
<div class="line"><span class="lineno"> 1026</span>    <span class="comment">// or first SDU segment of the first RLC SDU</span></div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">// that has not been acked</span></div>
<div class="line"><span class="lineno"> 1028</span>    <a class="code hl_struct" href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html">rlc_tx_amd_retx</a> retx = {};</div>
<div class="line"><span class="lineno"> 1029</span>    retx.<a class="code hl_variable" href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#a80ab73a1ffc00ff6c965b75673542d08">so</a>              = 0;</div>
<div class="line"><span class="lineno"> 1030</span>    retx.<a class="code hl_variable" href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#ab235f9dedd9f926b587605b1835076f5">sn</a>              = st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a6c1488e36449c9f9ac0c8dd369768a56">tx_next_ack</a>;</div>
<div class="line"><span class="lineno"> 1031</span>    retx.<a class="code hl_variable" href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#a5f3e3c8f518d0850fa1fb632c04562fb">length</a>          = (*tx_window)[st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a6c1488e36449c9f9ac0c8dd369768a56">tx_next_ack</a>].sdu.length();</div>
<div class="line"><span class="lineno"> 1032</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">retx_enqueued</a>   = retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a7741fbc6f94d04570bb6e1f5c2bfd736">try_push</a>(retx);</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1034</span>    <span class="comment">// TODO: Revise this: shall we send a minimum-sized segment instead?</span></div>
<div class="line"><span class="lineno"> 1035</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">retx_enqueued</a>) {</div>
<div class="line"><span class="lineno"> 1038</span>      logger.log_debug(</div>
<div class="line"><span class="lineno"> 1039</span>          <span class="stringliteral">&quot;Scheduled RETX due to expired poll retransmit timer. {} retx_queue_len={}&quot;</span>, retx, retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a484070008d093c081e44bd88a41c3acd">size</a>());</div>
<div class="line"><span class="lineno"> 1040</span>      increment_retx_count(st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a6c1488e36449c9f9ac0c8dd369768a56">tx_next_ack</a>);</div>
<div class="line"><span class="lineno"> 1041</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1042</span>      logger.log_warning(</div>
<div class="line"><span class="lineno"> 1043</span>          <span class="stringliteral">&quot;Failed to schedule RETX at expired poll retransmit timer. Queue is full. {} retx_queue_len={}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1044</span>          retx,</div>
<div class="line"><span class="lineno"> 1045</span>          retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a484070008d093c081e44bd88a41c3acd">size</a>());</div>
<div class="line"><span class="lineno"> 1046</span>    }</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>    update_mac_buffer_state(<span class="comment">/* is_locked = */</span> <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1049</span>  }</div>
<div class="line"><span class="lineno"> 1050</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1051</span><span class="comment">   * - include a poll in an AMD PDU as described in clause 5.3.3.2.</span></div>
<div class="line"><span class="lineno"> 1052</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1053</span>  is_poll_retransmit_timer_expired.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno"> 1054</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__retx__queue_html_a484070008d093c081e44bd88a41c3acd"><div class="ttname"><a href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a484070008d093c081e44bd88a41c3acd">srsran::rlc_retx_queue::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">Total number of elements (valid + invalid) in the queue.</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:158</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__retx__queue_html_a7741fbc6f94d04570bb6e1f5c2bfd736"><div class="ttname"><a href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a7741fbc6f94d04570bb6e1f5c2bfd736">srsran::rlc_retx_queue::try_push</a></div><div class="ttdeci">bool try_push(const rlc_tx_amd_retx &amp;retx)</div><div class="ttdoc">Tries to push a ReTx to the queue.</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:105</div></div>
<div class="ttc" id="aclasssrsran_1_1unique__timer_html_a97ad01e4b7d8588d25596489c362b15b"><div class="ttname"><a href="../../d5/d6f/classsrsran_1_1unique__timer.html#a97ad01e4b7d8588d25596489c362b15b">srsran::unique_timer::duration</a></div><div class="ttdeci">timer_duration duration() const</div><div class="ttdoc">Returns the configured duration for this timer measured in ticks.</div><div class="ttdef"><b>Definition</b> timers.h:266</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__am__state_html_a6c1488e36449c9f9ac0c8dd369768a56"><div class="ttname"><a href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a6c1488e36449c9f9ac0c8dd369768a56">srsran::rlc_tx_am_state::tx_next_ack</a></div><div class="ttdeci">uint32_t tx_next_ack</div><div class="ttdoc">TX_Next_Ack  Acknowledgement state variable It holds the value of the SN of the next RLC SDU for whi...</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.h:54</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__amd__retx_html"><div class="ttname"><a href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html">srsran::rlc_tx_amd_retx</a></div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:33</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__amd__retx_html_a5f3e3c8f518d0850fa1fb632c04562fb"><div class="ttname"><a href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#a5f3e3c8f518d0850fa1fb632c04562fb">srsran::rlc_tx_amd_retx::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdoc">length of this ReTx</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:36</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__amd__retx_html_a80ab73a1ffc00ff6c965b75673542d08"><div class="ttname"><a href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#a80ab73a1ffc00ff6c965b75673542d08">srsran::rlc_tx_amd_retx::so</a></div><div class="ttdeci">uint32_t so</div><div class="ttdoc">offset to first byte of this ReTx within the associated SDU</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:35</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__amd__retx_html_ab235f9dedd9f926b587605b1835076f5"><div class="ttname"><a href="../../d1/d57/structsrsran_1_1rlc__tx__amd__retx.html#ab235f9dedd9f926b587605b1835076f5">srsran::rlc_tx_amd_retx::sn</a></div><div class="ttdeci">uint32_t sn</div><div class="ttdoc">sequence number</div><div class="ttdef"><b>Definition</b> rlc_retx_queue.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae730ee9d83bf14c7ff3d4e1e377da8df" name="ae730ee9d83bf14c7ff3d4e1e377da8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae730ee9d83bf14c7ff3d4e1e377da8df">&#9670;&#160;</a></span>on_status_pdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_am_entity::on_status_pdu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/daf/classsrsran_1_1rlc__am__status__pdu.html">rlc_am_status_pdu</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Status PDU handler for TX entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The status PDU to be processed by the RLC TX AM entity </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d6/db7/classsrsran_1_1rlc__tx__am__status__handler.html#ad4150788a00a9e2416ba01954c0010cb">srsran::rlc_tx_am_status_handler</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  562</span>{</div>
<div class="line"><span class="lineno">  563</span>  <span class="comment">// Redirect handling of status to pcell_executor</span></div>
<div class="line"><span class="lineno">  564</span>  <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">handle_func</a> = [<span class="keyword">this</span>, status = std::move(status)]() <span class="keyword">mutable</span> { handle_status_pdu(std::move(status)); };</div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> pcell_executor.<a class="code hl_function" href="../../df/dc3/classsrsran_1_1task__executor.html#a7ce182401ef2d2b419bfbed5b5e488f7">execute</a>(std::move(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">handle_func</a>))) {</div>
<div class="line"><span class="lineno">  566</span>    logger.log_error(<span class="stringliteral">&quot;Unable to handle status report&quot;</span>);</div>
<div class="line"><span class="lineno">  567</span>  }</div>
<div class="line"><span class="lineno">  568</span>}</div>
<div class="ttc" id="aclasssrsran_1_1task__executor_html_a7ce182401ef2d2b419bfbed5b5e488f7"><div class="ttname"><a href="../../df/dc3/classsrsran_1_1task__executor.html#a7ce182401ef2d2b419bfbed5b5e488f7">srsran::task_executor::execute</a></div><div class="ttdeci">virtual SRSRAN_NODISCARD bool execute(unique_task task)=0</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a274119bec2d36e23f0f1adfcd65fe8df" name="a274119bec2d36e23f0f1adfcd65fe8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274119bec2d36e23f0f1adfcd65fe8df">&#9670;&#160;</a></span>on_status_report_changed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_am_entity::on_status_report_changed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the TX entity that a status report is triggered or its size has changed, so that the buffer status report needs to be updated. </p>

<p>Implements <a class="el" href="../../de/ddd/classsrsran_1_1rlc__tx__am__status__notifier.html#a5e3aa08205076627fb9258aeb951827b">srsran::rlc_tx_am_status_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  740</span>{</div>
<div class="line"><span class="lineno">  741</span>  handle_changed_buffer_state();</div>
<div class="line"><span class="lineno">  742</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae545ee2d475205ef89cefae7931cbab" name="aae545ee2d475205ef89cefae7931cbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae545ee2d475205ef89cefae7931cbab">&#9670;&#160;</a></span>pull_pdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t rlc_tx_am_entity::pull_pdu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>rlc_pdu_buf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of <code>rlc_pdu_buf</code> is insufficient or the TX buffer is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rlc_pdu_buf</td><td>TX buffer where to encode an RLC Tx PDU. The encoded PDU size cannot exceed the size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes taken by the written RLC PDU. </dd></dl>

<p>Implements <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html#acdd2d3757d55392f35627a2a05e1fbcf">srsran::rlc_tx_lower_layer_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>{</div>
<div class="line"><span class="lineno">  108</span>  std::lock_guard&lt;std::mutex&gt; lock(mutex);</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.size();</div>
<div class="line"><span class="lineno">  111</span>  logger.log_debug(<span class="stringliteral">&quot;MAC opportunity. grant_len={} tx_window_size={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>, tx_window-&gt;size());</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  <span class="comment">// TX STATUS if requested</span></div>
<div class="line"><span class="lineno">  114</span>  <span class="keywordflow">if</span> (status_provider-&gt;status_report_required()) {</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a> &lt; <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a60ec2718dd93ef76fd902eb9199dd841">rlc_am_nr_status_pdu_sizeof_header_ack_sn</a>) {</div>
<div class="line"><span class="lineno">  116</span>      logger.log_debug(<span class="stringliteral">&quot;Cannot fit status PDU into small grant_len={}.&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  117</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  118</span>    }</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_class" href="../../da/daf/classsrsran_1_1rlc__am__status__pdu.html">rlc_am_status_pdu</a>&amp; status_pdu = status_provider-&gt;<a class="code hl_function" href="../../dc/da0/classsrsran_1_1rlc__rx__am__status__provider.html#a032530956cbc71aa46b635070184d94c">get_status_pdu</a>(); <span class="comment">// this also resets status_report_required</span></div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (status_pdu.get_packed_size() &gt; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>) {</div>
<div class="line"><span class="lineno">  122</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> status_pdu.trim(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>)) {</div>
<div class="line"><span class="lineno">  123</span>        logger.log_warning(<span class="stringliteral">&quot;Could not trim status PDU down to grant_len={}.&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  125</span>      }</div>
<div class="line"><span class="lineno">  126</span>      logger.log_info(<span class="stringliteral">&quot;Trimmed status PDU to fit into grant_len={}.&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  127</span>      logger.log_debug(<span class="stringliteral">&quot;Trimmed status PDU. {}&quot;</span>, status_pdu);</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a> = status_pdu.pack(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>);</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a> == 0) {</div>
<div class="line"><span class="lineno">  131</span>      logger.log_error(<span class="stringliteral">&quot;Could not pack status pdu. {}&quot;</span>, status_pdu);</div>
<div class="line"><span class="lineno">  132</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  133</span>    }</div>
<div class="line"><span class="lineno">  134</span>    logger.log_info(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.data(), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>, <span class="stringliteral">&quot;TX status PDU. pdu_len={} grant_len={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// Update metrics</span></div>
<div class="line"><span class="lineno">  137</span>    metrics.metrics_add_ctrl_pdus(1, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">// Log state</span></div>
<div class="line"><span class="lineno">  140</span>    log_state(srslog::basic_levels::debug);</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    pcap.push_pdu(pcap_context, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.subspan(0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>));</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>;</div>
<div class="line"><span class="lineno">  144</span>  }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  <span class="comment">// Retransmit if required</span></div>
<div class="line"><span class="lineno">  147</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a778792b878a76c69aec610429a6f243d">empty</a>()) {</div>
<div class="line"><span class="lineno">  148</span>    logger.log_debug(<span class="stringliteral">&quot;Re-transmission required. retx_queue_size={}&quot;</span>, retx_queue.<a class="code hl_function" href="../../d1/d3c/classsrsran_1_1rlc__retx__queue.html#a484070008d093c081e44bd88a41c3acd">size</a>());</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a> = build_retx_pdu(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>);</div>
<div class="line"><span class="lineno">  151</span>    pcap.push_pdu(pcap_context, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.subspan(0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>));</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>;</div>
<div class="line"><span class="lineno">  153</span>  }</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  <span class="comment">// Send remaining segment, if it exists</span></div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">if</span> (sn_under_segmentation != <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a7330c0b829cb3d3717bb70ab14ec3e3c">INVALID_RLC_SN</a>) {</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span> (tx_window-&gt;has_sn(sn_under_segmentation)) {</div>
<div class="line"><span class="lineno">  158</span>      <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a> = build_continued_sdu_segment(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>, (*tx_window)[sn_under_segmentation]);</div>
<div class="line"><span class="lineno">  159</span>      pcap.push_pdu(pcap_context, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.subspan(0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>));</div>
<div class="line"><span class="lineno">  160</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>    logger.log_error(<span class="stringliteral">&quot;SDU under segmentation does not exist in tx_window. sn={}&quot;</span>, sn_under_segmentation);</div>
<div class="line"><span class="lineno">  163</span>    sn_under_segmentation = <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a7330c0b829cb3d3717bb70ab14ec3e3c">INVALID_RLC_SN</a>;</div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">// attempt to send next SDU</span></div>
<div class="line"><span class="lineno">  165</span>  }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  <span class="comment">// Check whether there is something to TX</span></div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordflow">if</span> (sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a7ba1e310d8d662703f2922303c627a7a">is_empty</a>()) {</div>
<div class="line"><span class="lineno">  169</span>    logger.log_debug(<span class="stringliteral">&quot;SDU queue empty. grant_len={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  171</span>  }</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a> = build_new_pdu(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>);</div>
<div class="line"><span class="lineno">  174</span>  pcap.push_pdu(pcap_context, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rlc_pdu_buf</a>.subspan(0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>));</div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pdu_len</a>;</div>
<div class="line"><span class="lineno">  176</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__am__status__pdu_html"><div class="ttname"><a href="../../da/daf/classsrsran_1_1rlc__am__status__pdu.html">srsran::rlc_am_status_pdu</a></div><div class="ttdoc">AM Status PDU.</div><div class="ttdef"><b>Definition</b> rlc_am_pdu.h:121</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__rx__am__status__provider_html_a032530956cbc71aa46b635070184d94c"><div class="ttname"><a href="../../dc/da0/classsrsran_1_1rlc__rx__am__status__provider.html#a032530956cbc71aa46b635070184d94c">srsran::rlc_rx_am_status_provider::get_status_pdu</a></div><div class="ttdeci">virtual rlc_am_status_pdu &amp; get_status_pdu()=0</div><div class="ttdoc">Gets a reference to the latest status report.</div></div>
<div class="ttc" id="anamespacesrsran_html_a60ec2718dd93ef76fd902eb9199dd841"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a60ec2718dd93ef76fd902eb9199dd841">srsran::rlc_am_nr_status_pdu_sizeof_header_ack_sn</a></div><div class="ttdeci">constexpr uint32_t rlc_am_nr_status_pdu_sizeof_header_ack_sn</div><div class="ttdoc">Header fixed part and ACK SN.</div><div class="ttdef"><b>Definition</b> rlc_am_pdu.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d2de9e02babb81d2dc715f8a0e7ea94" name="a3d2de9e02babb81d2dc715f8a0e7ea94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d2de9e02babb81d2dc715f8a0e7ea94">&#9670;&#160;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> srsran::rlc_tx_am_entity::set_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html">rlc_tx_am_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>st_</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the internal state variables Note: This function should only be used for testing</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">st_</td><td>The state variables to be set </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  225</span>{ this-&gt;st = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">st_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7082c2469c7b6d60621ac0a812c6702" name="ab7082c2469c7b6d60621ac0a812c6702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7082c2469c7b6d60621ac0a812c6702">&#9670;&#160;</a></span>set_status_provider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> srsran::rlc_tx_am_entity::set_status_provider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/da0/classsrsran_1_1rlc__rx__am__status__provider.html">rlc_rx_am_status_provider</a> *</td>          <td class="paramname"><span class="paramname"><em>status_provider_</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>{ status_provider = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">status_provider_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac53a40aec1318896858134351fa92342" name="ac53a40aec1318896858134351fa92342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53a40aec1318896858134351fa92342">&#9670;&#160;</a></span>valid_ack_sn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> rlc_tx_am_entity::valid_ack_sn </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>sn</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to check if a received status report as a valid ACK_SN. </p>
<p>ACK_SN may be equal to TX_NEXT + AM_Window_Size if the PDU with SN=TX_NEXT+AM_Window_Size has been received by the RX An ACK_SN == Tx_Next_Ack doesn't ACK or NACKs any PDUs, as such, such a status report can be discarded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sn</td><td>Sequence Number to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sn is valid, false otherwise </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1089</span>{</div>
<div class="line"><span class="lineno"> 1090</span>  <span class="comment">// Tx_Next_Ack &lt; SN &lt;= TX_Next + AM_Window_Size</span></div>
<div class="line"><span class="lineno"> 1091</span>  <span class="keywordflow">return</span> (0 &lt; tx_mod_base(sn)) &amp;&amp; (tx_mod_base(sn) &lt;= am_window_size);</div>
<div class="line"><span class="lineno"> 1092</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e69c79d75db0e3b54f569a69a4022f0" name="a4e69c79d75db0e3b54f569a69a4022f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e69c79d75db0e3b54f569a69a4022f0">&#9670;&#160;</a></span>valid_nack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> rlc_tx_am_entity::valid_nack </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ack_sn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../df/d99/structsrsran_1_1rlc__am__status__nack.html">rlc_am_status_nack</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>nack_sn</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to check if a received NACK within a status report is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ack_sn</td><td>ACK_SN of status report </td></tr>
    <tr><td class="paramname">nack</td><td>NACK to check validity of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if NACK is valid, false otherwise </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1095</span>{</div>
<div class="line"><span class="lineno"> 1096</span>  <span class="comment">// NACK_SN &gt;= ACK_SN</span></div>
<div class="line"><span class="lineno"> 1097</span>  <span class="keywordflow">if</span> (tx_mod_base(nack.nack_sn) &gt;= tx_mod_base(ack_sn)) {</div>
<div class="line"><span class="lineno"> 1098</span>    logger.log_info(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} &gt;= ack_sn={}. {}&quot;</span>, nack.nack_sn, ack_sn, st);</div>
<div class="line"><span class="lineno"> 1099</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1100</span>  }</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="comment">// NACK_SN + range &gt;= ACK_SN</span></div>
<div class="line"><span class="lineno"> 1102</span>  <span class="keywordflow">if</span> (nack.has_nack_range) {</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">if</span> (tx_mod_base(nack.nack_sn + nack.nack_range - 1) &gt;= tx_mod_base(ack_sn)) {</div>
<div class="line"><span class="lineno"> 1104</span>      logger.log_info(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} + nack_range={} - 1 &gt;= ack_sn={}. {}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1105</span>                      nack.nack_sn,</div>
<div class="line"><span class="lineno"> 1106</span>                      nack.nack_range,</div>
<div class="line"><span class="lineno"> 1107</span>                      ack_sn,</div>
<div class="line"><span class="lineno"> 1108</span>                      st);</div>
<div class="line"><span class="lineno"> 1109</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1110</span>    }</div>
<div class="line"><span class="lineno"> 1111</span>  }</div>
<div class="line"><span class="lineno"> 1112</span>  <span class="comment">// NACK_SN within TX Window</span></div>
<div class="line"><span class="lineno"> 1113</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> <a class="code hl_function" href="#ad14e9baeb52141c5d802dd39f8b1c0fc">inside_tx_window</a>(nack.nack_sn)) {</div>
<div class="line"><span class="lineno"> 1114</span>    logger.log_info(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} outside TX window. {}&quot;</span>, nack.nack_sn, st);</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1116</span>  }</div>
<div class="line"><span class="lineno"> 1117</span>  <span class="comment">// NACK_SN + range within TX Window</span></div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordflow">if</span> (nack.has_nack_range) {</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> <a class="code hl_function" href="#ad14e9baeb52141c5d802dd39f8b1c0fc">inside_tx_window</a>(nack.nack_sn + nack.nack_range - 1)) {</div>
<div class="line"><span class="lineno"> 1120</span>      logger.log_info(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} + nack_range={} - 1 outside TX window. {}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1121</span>                      nack.nack_sn,</div>
<div class="line"><span class="lineno"> 1122</span>                      nack.nack_range,</div>
<div class="line"><span class="lineno"> 1123</span>                      st);</div>
<div class="line"><span class="lineno"> 1124</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1125</span>    }</div>
<div class="line"><span class="lineno"> 1126</span>  }</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>  <span class="comment">// It should not be possible for NACK_SN to be larger than TX_NEXT,</span></div>
<div class="line"><span class="lineno"> 1129</span>  <span class="comment">// since we check earlier if ACK_SN &gt; tx_next +1</span></div>
<div class="line"><span class="lineno"> 1130</span>  <span class="comment">// * ACK_SN &gt; TX_NEXT + 1 =&gt; drop</span></div>
<div class="line"><span class="lineno"> 1131</span>  <span class="comment">//     * implies ACK_SN &lt;= TX_NEXT</span></div>
<div class="line"><span class="lineno"> 1132</span>  <span class="comment">// * NACK_SN &gt;= ACK_SN =&gt; drop</span></div>
<div class="line"><span class="lineno"> 1133</span>  <span class="comment">//     * implies NACK_SN &lt; ACK_SN</span></div>
<div class="line"><span class="lineno"> 1134</span>  <span class="comment">// * Therefore:</span></div>
<div class="line"><span class="lineno"> 1135</span>  <span class="comment">//     * NACK_SN &lt; ACK_SN &lt;= TX_NEXT</span></div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>  <span class="comment">// NACK_SN &gt;= tx_next</span></div>
<div class="line"><span class="lineno"> 1138</span>  <span class="keywordflow">if</span> (tx_mod_base(nack.nack_sn) &gt; tx_mod_base(st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a8afd76c4255ae07376ad530e4a0af3fe">tx_next</a>)) {</div>
<div class="line"><span class="lineno"> 1139</span>    logger.log_error(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} &gt;= tx_next. {}&quot;</span>, nack.nack_sn, st);</div>
<div class="line"><span class="lineno"> 1140</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1141</span>  }</div>
<div class="line"><span class="lineno"> 1142</span>  <span class="comment">// NACK_SN + range &gt;= tx_next</span></div>
<div class="line"><span class="lineno"> 1143</span>  <span class="keywordflow">if</span> (nack.has_nack_range) {</div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keywordflow">if</span> (tx_mod_base(nack.nack_sn + nack.nack_range - 1) &gt; tx_mod_base(st.<a class="code hl_variable" href="../../df/d12/structsrsran_1_1rlc__tx__am__state.html#a8afd76c4255ae07376ad530e4a0af3fe">tx_next</a>)) {</div>
<div class="line"><span class="lineno"> 1145</span>      logger.log_error(<span class="stringliteral">&quot;Ignoring status report with nack_sn={} + nack_range={} - 1 &gt;= tx_next. {}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1146</span>                       nack.nack_sn,</div>
<div class="line"><span class="lineno"> 1147</span>                       nack.nack_range,</div>
<div class="line"><span class="lineno"> 1148</span>                       st);</div>
<div class="line"><span class="lineno"> 1149</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span>  }</div>
<div class="line"><span class="lineno"> 1152</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1153</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__tx__am__entity_html_ad14e9baeb52141c5d802dd39f8b1c0fc"><div class="ttname"><a href="#ad14e9baeb52141c5d802dd39f8b1c0fc">srsran::rlc_tx_am_entity::inside_tx_window</a></div><div class="ttdeci">bool inside_tx_window(uint32_t sn) const</div><div class="ttdoc">Checks if a sequence number is inside the TX window.</div><div class="ttdef"><b>Definition</b> rlc_tx_am_entity.cpp:1076</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/rlc/<a class="el" href="../../dd/d22/rlc__tx__am__entity_8h_source.html">rlc_tx_am_entity.h</a></li>
<li>lib/rlc/<b>rlc_tx_am_entity.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
