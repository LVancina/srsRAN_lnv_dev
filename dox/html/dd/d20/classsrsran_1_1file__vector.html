<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::file_vector&lt; T &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../dd/d20/classsrsran_1_1file__vector.html">file_vector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../de/d67/classsrsran_1_1file__vector-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::file_vector&lt; T &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simple binary file input-output interface.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/d65/file__vector_8h_source.html">file_vector.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for srsran::file_vector&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d2c/classsrsran_1_1file__vector__coll__graph.png" border="0" usemap="#asrsran_1_1file__vector_3_01T_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1file__vector_3_01T_01_4_coll__map" id="asrsran_1_1file__vector_3_01T_01_4_coll__map">
<area shape="rect" title="Simple binary file input&#45;output interface." alt="" coords="5,5,173,131"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b2af9013ffa89d72b648bb01d13fdc8" id="r_a3b2af9013ffa89d72b648bb01d13fdc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b2af9013ffa89d72b648bb01d13fdc8">file_vector</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../da/d7d/classchar.html">char</a> *filename, <a class="el" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8">openmode</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">op_</a>=<a class="el" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe">openmode::read_only</a>)</td></tr>
<tr class="memdesc:a3b2af9013ffa89d72b648bb01d13fdc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a3b2af9013ffa89d72b648bb01d13fdc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6468c0cfc42c01b97c8b51056425cde" id="r_aa6468c0cfc42c01b97c8b51056425cde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../da/d7d/classchar.html">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6468c0cfc42c01b97c8b51056425cde">get_file_name</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:aa6468c0cfc42c01b97c8b51056425cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file name.  <br /></td></tr>
<tr class="separator:aa6468c0cfc42c01b97c8b51056425cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec35fdf2b52ce5d8d9f681f815f04e42" id="r_aec35fdf2b52ce5d8d9f681f815f04e42"><td class="memItemLeft" align="right" valign="top">std::vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec35fdf2b52ce5d8d9f681f815f04e42">read</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:aec35fdf2b52ce5d8d9f681f815f04e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the file.  <br /></td></tr>
<tr class="separator:aec35fdf2b52ce5d8d9f681f815f04e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93db6410bbc3e568b24f94abebb6b265" id="r_a93db6410bbc3e568b24f94abebb6b265"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93db6410bbc3e568b24f94abebb6b265">write</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> T &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">write_data</a>) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:a93db6410bbc3e568b24f94abebb6b265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to the file.  <br /></td></tr>
<tr class="separator:a93db6410bbc3e568b24f94abebb6b265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> T&gt;<br />
class srsran::file_vector&lt; T &gt;</div><p>Simple binary file input-output interface. </p>
<p>An object of this file allows reading and writing values of type <code>T</code> from and to a binary file. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3b2af9013ffa89d72b648bb01d13fdc8" name="a3b2af9013ffa89d72b648bb01d13fdc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b2af9013ffa89d72b648bb01d13fdc8">&#9670;&#160;</a></span>file_vector()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d20/classsrsran_1_1file__vector.html">srsran::file_vector</a>&lt; T &gt;::file_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../da/d7d/classchar.html">char</a> *</td>          <td class="paramname"><span class="paramname"><em>filename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8">openmode</a></td>          <td class="paramname"><span class="paramname"><em>op_</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe">openmode::read_only</a></span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Sets the name and the mode (default is <em>read-only</em>) of the binary file. No operations are performed on the file. </p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>: file_name(filename), op(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">op_</a>) {}</div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa6468c0cfc42c01b97c8b51056425cde" name="aa6468c0cfc42c01b97c8b51056425cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6468c0cfc42c01b97c8b51056425cde">&#9670;&#160;</a></span>get_file_name()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../da/d7d/classchar.html">char</a> * <a class="el" href="../../dd/d20/classsrsran_1_1file__vector.html">srsran::file_vector</a>&lt; T &gt;::get_file_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the file name. </p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{ <span class="keywordflow">return</span> file_name; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec35fdf2b52ce5d8d9f681f815f04e42" name="aec35fdf2b52ce5d8d9f681f815f04e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec35fdf2b52ce5d8d9f681f815f04e42">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; T &gt; <a class="el" href="../../dd/d20/classsrsran_1_1file__vector.html">srsran::file_vector</a>&lt; T &gt;::read </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the file. </p>
<p>The contents of the file are dumped to a <code>std::vector&lt;T&gt;</code>. The file is closed when the operation is completed. </p><dl class="section warning"><dt>Warning</dt><dd>An exception arises if the file cannot be opened or if the write-only open mode was specified at creation. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   69</span>  {</div>
<div class="line"><span class="lineno">   70</span>    report_fatal_error_if_not(op != <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8a2629564984b808cf7e6cfc61a0286d69">openmode::write_only</a>, <span class="stringliteral">&quot;The file_vector was created with write-only permissions.&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span>    std::ifstream binary_file(file_name, std::ios::in | std::ios::binary);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    report_fatal_error_if_not(binary_file.is_open(), <span class="stringliteral">&quot;Error opening file &#39;{}&#39;. {}.&quot;</span>, file_name, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">strerror</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">errno</a>));</div>
<div class="line"><span class="lineno">   74</span>    std::vector&lt;T&gt; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_data</a>;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    T <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_value</a>;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">while</span> (binary_file.read(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_value</a>), <span class="keyword">sizeof</span>(T))) {</div>
<div class="line"><span class="lineno">   78</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_data</a>.push_back(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_value</a>);</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">read_data</a>;</div>
<div class="line"><span class="lineno">   82</span>  }</div>
<div class="ttc" id="anamespacesrsran_html_affd14c65e81360074c4f5d7c48221ad8a2629564984b808cf7e6cfc61a0286d69"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8a2629564984b808cf7e6cfc61a0286d69">srsran::openmode::write_only</a></div><div class="ttdeci">@ write_only</div><div class="ttdoc">Opens the file in write-only mode.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93db6410bbc3e568b24f94abebb6b265" name="a93db6410bbc3e568b24f94abebb6b265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93db6410bbc3e568b24f94abebb6b265">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> <a class="el" href="../../dd/d20/classsrsran_1_1file__vector.html">srsran::file_vector</a>&lt; T &gt;::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> T &gt;</td>          <td class="paramname"><span class="paramname"><em>write_data</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes data to the file. </p>
<p>The sequence of <code>T</code> values viewed by <code>write_data</code> are written to the file. If the specified file does not exist, it is created. If it exists, previous contents will be erased. The file is closed when the operation is completed.</p>
<dl class="section warning"><dt>Warning</dt><dd>An exception arises if the file cannot be opened or if the read-only open mode was specified at creation. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   92</span>  {</div>
<div class="line"><span class="lineno">   93</span>    report_fatal_error_if_not(op != <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe">openmode::read_only</a>, <span class="stringliteral">&quot;The file_vector was created with read-only permissions.&quot;</span>);</div>
<div class="line"><span class="lineno">   94</span>    std::ofstream binary_file(file_name, std::ios::out | std::ios::binary);</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    report_fatal_error_if_not(binary_file.is_open(), <span class="stringliteral">&quot;Error opening file &#39;{}&#39;. {}.&quot;</span>, file_name, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">strerror</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">errno</a>));</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    binary_file.write(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">write_data</a>.begin()), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">write_data</a>.size() * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">   99</span>  }</div>
<div class="ttc" id="anamespacesrsran_html_affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#affd14c65e81360074c4f5d7c48221ad8abefe72871b2de8f4f0e20108517e31fe">srsran::openmode::read_only</a></div><div class="ttdeci">@ read_only</div><div class="ttdoc">Opens the file in read-only mode.</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/srsran/support/<a class="el" href="../../de/d65/file__vector_8h_source.html">file_vector.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
