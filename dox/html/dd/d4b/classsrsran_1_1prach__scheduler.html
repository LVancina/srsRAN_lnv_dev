<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::prach_scheduler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../dd/d4b/classsrsran_1_1prach__scheduler.html">prach_scheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d8/dff/classsrsran_1_1prach__scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::prach_scheduler Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for srsran::prach_scheduler:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d72/classsrsran_1_1prach__scheduler__coll__graph.png" border="0" usemap="#asrsran_1_1prach__scheduler_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1prach__scheduler_coll__map" id="asrsran_1_1prach__scheduler_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,173,91"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc9604623832666222d8447ad0ad7232" id="r_afc9604623832666222d8447ad0ad7232"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc9604623832666222d8447ad0ad7232">prach_scheduler</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d2/d2d/classsrsran_1_1cell__configuration.html">cell_configuration</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cfg_</a>)</td></tr>
<tr class="separator:afc9604623832666222d8447ad0ad7232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3bcd812b4d17894e526e7e0dd420f2" id="r_a4f3bcd812b4d17894e526e7e0dd420f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f3bcd812b4d17894e526e7e0dd420f2">run_slot</a> (<a class="el" href="../../df/d56/structsrsran_1_1cell__resource__allocator.html">cell_resource_allocator</a> &amp;res_grid)</td></tr>
<tr class="memdesc:a4f3bcd812b4d17894e526e7e0dd420f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate RACH PDUs for the given slot.  <br /></td></tr>
<tr class="separator:a4f3bcd812b4d17894e526e7e0dd420f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afc9604623832666222d8447ad0ad7232" name="afc9604623832666222d8447ad0ad7232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9604623832666222d8447ad0ad7232">&#9670;&#160;</a></span>prach_scheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">prach_scheduler::prach_scheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d2/d2d/classsrsran_1_1cell__configuration.html">cell_configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cfg_</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   33</span>                                                               :</div>
<div class="line"><span class="lineno">   34</span>  cell_cfg(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cfg_</a>),</div>
<div class="line"><span class="lineno">   35</span>  logger(srslog::fetch_basic_logger(<span class="stringliteral">&quot;SCHED&quot;</span>)),</div>
<div class="line"><span class="lineno">   36</span>  prach_cfg(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58b0f14b15728d7d3d269968352a3ca8">prach_configuration_get</a>(<a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#afa6be91e79cbb8c64c2a280ddad608b5a34d1cf1496d544eb35e3461a5235f7e9">frequency_range::FR1</a>,</div>
<div class="line"><span class="lineno">   37</span>                                    cell_cfg.paired_spectrum ? <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18acaeec6da44109af7259e81b505436583ff">duplex_mode::FDD</a> : <a class="code hl_enumeration" href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18ac">duplex_mode</a>::<a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18aca1ffd07437a30fba5785ce6557acca2b2">TDD</a>,</div>
<div class="line"><span class="lineno">   38</span>                                    rach_cfg_common().rach_cfg_generic.prach_config_index))</div>
<div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>  <span class="comment">// With SCS 15kHz and 30kHz, only normal CP is supported.</span></div>
<div class="line"><span class="lineno">   41</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> nof_symbols_per_slot = <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a2ec632168c0292dc5fd78c9bd35f159b">NOF_OFDM_SYM_PER_SLOT_NORMAL_CP</a>;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// Convert list of PRACH subframe occasions to bitmap.</span></div>
<div class="line"><span class="lineno">   44</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pos</a> : prach_cfg.subframe) {</div>
<div class="line"><span class="lineno">   45</span>    prach_subframe_occasion_bitmap.set(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pos</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   46</span>  }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_struct" href="../../dc/d6b/structsrsran_1_1prach__symbols__slots__duration.html">prach_symbols_slots_duration</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a> =</div>
<div class="line"><span class="lineno">   49</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a159a9292ae7b131f38a3cede90ec7c40">get_prach_duration_info</a>(prach_cfg, cell_cfg.ul_cfg_common.init_ul_bwp.generic_params.scs);</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>  <span class="comment">// Derive PRACH duration information.</span></div>
<div class="line"><span class="lineno">   52</span>  <span class="comment">// The information we need are not related to whether it is the last PRACH occasion.</span></div>
<div class="line"><span class="lineno">   53</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span>                       <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">is_last_prach_occasion</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   54</span>  <span class="keyword">const</span> <a class="code hl_struct" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html">prach_preamble_information</a> info =</div>
<div class="line"><span class="lineno">   55</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">is_long_preamble</a>(prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">format</a>)</div>
<div class="line"><span class="lineno">   56</span>          ? <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a41d072dc823c78c2627da83a877dcf5a">get_prach_preamble_long_info</a>(prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">format</a>)</div>
<div class="line"><span class="lineno">   57</span>          : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a33cfd882b612da5eceff76a95662d0b3">get_prach_preamble_short_info</a>(</div>
<div class="line"><span class="lineno">   58</span>                prach_cfg.format,</div>
<div class="line"><span class="lineno">   59</span>                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a0d5bec5128991413e4e3a59ca6e16426">to_ra_subcarrier_spacing</a>(cell_cfg.ul_cfg_common.init_ul_bwp.generic_params.scs),</div>
<div class="line"><span class="lineno">   60</span>                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">is_last_prach_occasion</a>);</div>
<div class="line"><span class="lineno">   61</span>  start_slot_pusch_scs = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.start_slot_pusch_scs;</div>
<div class="line"><span class="lineno">   62</span>  prach_length_slots   = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.prach_length_slots;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <span class="comment">// This is a safety margin that prevents PUSCH REs to be decoded by the PRACH decoder with short PRACH formats.</span></div>
<div class="line"><span class="lineno">   65</span>  <span class="comment">// TODO: remove them when the PHY is supports short PRACH with adjacent PUCCH/PUSCH.</span></div>
<div class="line"><span class="lineno">   66</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_to_pusch_guardband</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a7c2e3c58a56b57be024f8bfc3271186d">is_short_preamble</a>(prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">format</a>) ? 5U : 0U;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">id_fd_ra</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">id_fd_ra</a> != rach_cfg_common().rach_cfg_generic.<a class="code hl_variable" href="../../de/d90/structsrsran_1_1rach__config__generic.html#a58013c5c716fd8353570bef00bef13bd">msg1_fdm</a>; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">id_fd_ra</a>) {</div>
<div class="line"><span class="lineno">   69</span>    cached_prach_occasion&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a> = cached_prachs.emplace_back();</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_nof_prbs</a> =</div>
<div class="line"><span class="lineno">   72</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a4ec686128158cd9524f64b7df77762bd">prach_frequency_mapping_get</a>(info.scs, cell_cfg.ul_cfg_common.init_ul_bwp.generic_params.scs).<a class="code hl_variable" href="../../db/d79/structsrsran_1_1prach__frequency__mapping__information.html#a3b237981f4c93ec4f4521c0ba1d09f4d">nof_rb_ra</a>;</div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">// This is the start of the PRBs dedicated to PRACH.</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">const</span> <a class="code hl_class" href="../../d4/dff/classuint8__t.html">uint8_t</a>      prb_start = rach_cfg_common().rach_cfg_generic.<a class="code hl_variable" href="../../de/d90/structsrsran_1_1rach__config__generic.html#affd21c8299058177e04fc4ecb7f5e2d8">msg1_frequency_start</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">id_fd_ra</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_nof_prbs</a>;</div>
<div class="line"><span class="lineno">   75</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d8/db9/structsrsran_1_1prb__interval.html">prb_interval</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_prbs</a>{prb_start, prb_start + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_nof_prbs</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_to_pusch_guardband</a>};</div>
<div class="line"><span class="lineno">   76</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d4/df8/structsrsran_1_1crb__interval.html">crb_interval</a> crbs = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a7a79603d00c739d6ecec3dbe77bd0f2f">prb_to_crb</a>(cell_cfg.ul_cfg_common.init_ul_bwp.generic_params, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_prbs</a>);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">is_long_preamble</a>(prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">format</a>)) {</div>
<div class="line"><span class="lineno">   79</span>      <span class="comment">// If the PRACH preamble is longer than 1 slot, then allocate a grant for each slot that include the preamble.</span></div>
<div class="line"><span class="lineno">   80</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> &lt; prach_length_slots; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a>) {</div>
<div class="line"><span class="lineno">   81</span>        <span class="comment">// For the first slot, use the start_symbol_pusch_scs; in any other case, the preamble starts from the initial</span></div>
<div class="line"><span class="lineno">   82</span>        <span class="comment">// symbol. For the last slot, compute the final symbol; in any other case, the preamble ends at the last slot&#39;s</span></div>
<div class="line"><span class="lineno">   83</span>        <span class="comment">// symbol.</span></div>
<div class="line"><span class="lineno">   84</span>        <span class="keyword">const</span> <a class="code hl_struct" href="../../da/d76/structsrsran_1_1ofdm__symbol__range.html">ofdm_symbol_range</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_symbols</a>{</div>
<div class="line"><span class="lineno">   85</span>            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> == 0 ? <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.start_symbol_pusch_scs : 0,</div>
<div class="line"><span class="lineno">   86</span>            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> &lt; prach_length_slots - 1</div>
<div class="line"><span class="lineno">   87</span>                ? nof_symbols_per_slot</div>
<div class="line"><span class="lineno">   88</span>                : (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.start_symbol_pusch_scs + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.nof_symbols) %</div>
<div class="line"><span class="lineno">   89</span>                      nof_symbols_per_slot};</div>
<div class="line"><span class="lineno">   90</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.grant_list.emplace_back(</div>
<div class="line"><span class="lineno">   91</span>            <a class="code hl_struct" href="../../de/dbd/structsrsran_1_1grant__info.html">grant_info</a>{cell_cfg.ul_cfg_common.init_ul_bwp.generic_params.scs, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_symbols</a>, crbs});</div>
<div class="line"><span class="lineno">   92</span>      }</div>
<div class="line"><span class="lineno">   93</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   94</span>      <span class="keyword">const</span> <a class="code hl_struct" href="../../da/d76/structsrsran_1_1ofdm__symbol__range.html">ofdm_symbol_range</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_symbols</a>{<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.start_symbol_pusch_scs,</div>
<div class="line"><span class="lineno">   95</span>                                            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.start_symbol_pusch_scs +</div>
<div class="line"><span class="lineno">   96</span>                                                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_duration_info</a>.nof_symbols};</div>
<div class="line"><span class="lineno">   97</span>      <span class="comment">// If the burst of PRACH opportunities extends over 1 slot, then allocate a grant for each slot that include these</span></div>
<div class="line"><span class="lineno">   98</span>      <span class="comment">// opportunities (1 or 2 slots).</span></div>
<div class="line"><span class="lineno">   99</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a> &lt; prach_length_slots; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_slot_idx</a>) {</div>
<div class="line"><span class="lineno">  100</span>        <span class="comment">// For the short PRACH formats, both grants (if more than 1) occupy the same symbols within the slot.</span></div>
<div class="line"><span class="lineno">  101</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.grant_list.emplace_back(</div>
<div class="line"><span class="lineno">  102</span>            <a class="code hl_struct" href="../../de/dbd/structsrsran_1_1grant__info.html">grant_info</a>{cell_cfg.ul_cfg_common.init_ul_bwp.generic_params.scs, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">prach_symbols</a>, crbs});</div>
<div class="line"><span class="lineno">  103</span>      }</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">// Pre-compute PRACH occasion parameters.</span></div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.pci    = cell_cfg.pci;</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.format = prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">format</a>;</div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// Note: the Starting Symbol that is required for the PHY interface is actually the one given by Table 6.3.3.2-2</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">// and 6.3.3.2-3, TS 38.211.</span></div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.start_symbol        = prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a085a9be25a0b931dcf63411f2b03ddcb">starting_symbol</a>;</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.nof_prach_occasions = prach_cfg.<a class="code hl_variable" href="../../de/dba/structsrsran_1_1prach__configuration.html#a4c15df30813c9583625202e488e06a54">nof_occasions_within_slot</a>;</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.nof_cs              = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#aafa4c456e58b29f8804fedc599ab8710">prach_cyclic_shifts_get</a>(</div>
<div class="line"><span class="lineno">  114</span>        info.scs, rach_cfg_common().restricted_set, rach_cfg_common().rach_cfg_generic.zero_correlation_zone_config);</div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.index_fd_ra = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">id_fd_ra</a>;</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.nof_fd_ra   = rach_cfg_common().rach_cfg_generic.<a class="code hl_variable" href="../../de/d90/structsrsran_1_1rach__config__generic.html#a58013c5c716fd8353570bef00bef13bd">msg1_fdm</a>;</div>
<div class="line"><span class="lineno">  117</span>    <span class="comment">// We assume all the preambles from 0 to 64 are assigned to the same PRACH occasion.</span></div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">// TODO: adapt scheduler to difference preamble indices intervals.</span></div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.start_preamble_index = 0;</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span> (cell_cfg.ul_cfg_common.init_ul_bwp.rach_cfg_common-&gt;total_nof_ra_preambles.has_value()) {</div>
<div class="line"><span class="lineno">  121</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.nof_preamble_indexes =</div>
<div class="line"><span class="lineno">  122</span>          cell_cfg.ul_cfg_common.init_ul_bwp.rach_cfg_common-&gt;total_nof_ra_preambles.value();</div>
<div class="line"><span class="lineno">  123</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  124</span>      <span class="comment">// If the field is absent, all possible preambles are available for RA.</span></div>
<div class="line"><span class="lineno">  125</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cached_prach</a>.occasion.nof_preamble_indexes = MAX_NOF_PRACH_PREAMBLES;</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span>  }</div>
<div class="line"><span class="lineno">  128</span>}</div>
<div class="ttc" id="aclassuint8__t_html"><div class="ttname"><a href="../../d4/dff/classuint8__t.html">uint8_t</a></div></div>
<div class="ttc" id="anamespacesrsran_html_a0d5bec5128991413e4e3a59ca6e16426"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a0d5bec5128991413e4e3a59ca6e16426">srsran::to_ra_subcarrier_spacing</a></div><div class="ttdeci">constexpr prach_subcarrier_spacing to_ra_subcarrier_spacing(subcarrier_spacing scs)</div><div class="ttdoc">Adapts common resource grid subcarrier spacing to RA subcarrier spacing.</div><div class="ttdef"><b>Definition</b> prach_subcarrier_spacing.h:101</div></div>
<div class="ttc" id="anamespacesrsran_html_a159a9292ae7b131f38a3cede90ec7c40"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a159a9292ae7b131f38a3cede90ec7c40">srsran::get_prach_duration_info</a></div><div class="ttdeci">prach_symbols_slots_duration get_prach_duration_info(const prach_configuration &amp;prach_cfg, subcarrier_spacing pusch_scs)</div><div class="ttdoc">Compute PRACH preamble duration information.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.cpp:192</div></div>
<div class="ttc" id="anamespacesrsran_html_a2ec632168c0292dc5fd78c9bd35f159b"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a2ec632168c0292dc5fd78c9bd35f159b">srsran::NOF_OFDM_SYM_PER_SLOT_NORMAL_CP</a></div><div class="ttdeci">const unsigned NOF_OFDM_SYM_PER_SLOT_NORMAL_CP</div><div class="ttdoc">The number of OFDM symbols per slot is constant for all numerologies.</div><div class="ttdef"><b>Definition</b> frame_types.h:30</div></div>
<div class="ttc" id="anamespacesrsran_html_a33cfd882b612da5eceff76a95662d0b3"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a33cfd882b612da5eceff76a95662d0b3">srsran::get_prach_preamble_short_info</a></div><div class="ttdeci">prach_preamble_information get_prach_preamble_short_info(prach_format_type format, prach_subcarrier_spacing ra_scs, bool last_occasion)</div><div class="ttdoc">Get short PRACH preamble information as per TS38.211 Table 6.3.3.1-2.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.cpp:63</div></div>
<div class="ttc" id="anamespacesrsran_html_a41d072dc823c78c2627da83a877dcf5a"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a41d072dc823c78c2627da83a877dcf5a">srsran::get_prach_preamble_long_info</a></div><div class="ttdeci">prach_preamble_information get_prach_preamble_long_info(prach_format_type format)</div><div class="ttdoc">Get long PRACH preamble information as per TS38.211 Table 6.3.3.1-1.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.cpp:30</div></div>
<div class="ttc" id="anamespacesrsran_html_a4ec686128158cd9524f64b7df77762bd"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a4ec686128158cd9524f64b7df77762bd">srsran::prach_frequency_mapping_get</a></div><div class="ttdeci">prach_frequency_mapping_information prach_frequency_mapping_get(prach_subcarrier_spacing prach_scs, subcarrier_spacing pusch_scs)</div><div class="ttdoc">Gets the PRACH frequency mapping information contained in TS38.211 Table 6.3.3.2-1.</div><div class="ttdef"><b>Definition</b> prach_frequency_mapping.cpp:27</div></div>
<div class="ttc" id="anamespacesrsran_html_a58b0f14b15728d7d3d269968352a3ca8"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58b0f14b15728d7d3d269968352a3ca8">srsran::prach_configuration_get</a></div><div class="ttdeci">prach_configuration prach_configuration_get(frequency_range fr, duplex_mode dm, uint8_t prach_config_index)</div><div class="ttdoc">Gets a PRACH configuration.</div><div class="ttdef"><b>Definition</b> prach_configuration.cpp:555</div></div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
<div class="ttc" id="anamespacesrsran_html_a7a79603d00c739d6ecec3dbe77bd0f2f"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7a79603d00c739d6ecec3dbe77bd0f2f">srsran::prb_to_crb</a></div><div class="ttdeci">unsigned prb_to_crb(crb_interval bwp_crb_lims, unsigned prb)</div><div class="ttdoc">Convert a PRB into CRB given the BWP CRB limits. The CRB and PRB are assumed to use the same numerolo...</div><div class="ttdef"><b>Definition</b> rb_interval.h:69</div></div>
<div class="ttc" id="anamespacesrsran_html_a7c254965b53e3067931191bc7eda18ac"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18ac">srsran::duplex_mode</a></div><div class="ttdeci">duplex_mode</div><div class="ttdoc">NR Duplex mode.</div><div class="ttdef"><b>Definition</b> duplex_mode.h:30</div></div>
<div class="ttc" id="anamespacesrsran_html_a7c254965b53e3067931191bc7eda18aca1ffd07437a30fba5785ce6557acca2b2"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18aca1ffd07437a30fba5785ce6557acca2b2">srsran::duplex_mode::TDD</a></div><div class="ttdeci">@ TDD</div><div class="ttdoc">Unpaired TDD.</div></div>
<div class="ttc" id="anamespacesrsran_html_a7c254965b53e3067931191bc7eda18acaeec6da44109af7259e81b505436583ff"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7c254965b53e3067931191bc7eda18acaeec6da44109af7259e81b505436583ff">srsran::duplex_mode::FDD</a></div><div class="ttdeci">@ FDD</div><div class="ttdoc">Paired FDD.</div></div>
<div class="ttc" id="anamespacesrsran_html_a7c2e3c58a56b57be024f8bfc3271186d"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7c2e3c58a56b57be024f8bfc3271186d">srsran::is_short_preamble</a></div><div class="ttdeci">constexpr bool is_short_preamble(prach_format_type type)</div><div class="ttdoc">Checks if the preamble format is short.</div><div class="ttdef"><b>Definition</b> prach_format_type.h:114</div></div>
<div class="ttc" id="anamespacesrsran_html_aaea6c484cd5f8113a5b11434d68e371b"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">srsran::is_long_preamble</a></div><div class="ttdeci">constexpr bool is_long_preamble(prach_format_type type)</div><div class="ttdoc">Checks if the preamble format is long.</div><div class="ttdef"><b>Definition</b> prach_format_type.h:106</div></div>
<div class="ttc" id="anamespacesrsran_html_aafa4c456e58b29f8804fedc599ab8710"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#aafa4c456e58b29f8804fedc599ab8710">srsran::prach_cyclic_shifts_get</a></div><div class="ttdeci">uint16_t prach_cyclic_shifts_get(prach_subcarrier_spacing prach_scs, restricted_set_config restricted_set, unsigned zero_correlation_zone)</div><div class="ttdoc">Calculates the number of cyclic shifts  used in the sequence generation as per TS38....</div><div class="ttdef"><b>Definition</b> prach_cyclic_shifts.cpp:29</div></div>
<div class="ttc" id="anamespacesrsran_html_afa6be91e79cbb8c64c2a280ddad608b5a34d1cf1496d544eb35e3461a5235f7e9"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#afa6be91e79cbb8c64c2a280ddad608b5a34d1cf1496d544eb35e3461a5235f7e9">srsran::frequency_range::FR1</a></div><div class="ttdeci">@ FR1</div><div class="ttdoc">Frequency range 1, from 410 to 7125 MHz.</div></div>
<div class="ttc" id="astructsrsran_1_1crb__interval_html"><div class="ttname"><a href="../../d4/df8/structsrsran_1_1crb__interval.html">srsran::crb_interval</a></div><div class="ttdoc">Struct to express a {min,...,max} range of CRB indexes within a carrier.</div><div class="ttdef"><b>Definition</b> rb_interval.h:30</div></div>
<div class="ttc" id="astructsrsran_1_1grant__info_html"><div class="ttname"><a href="../../de/dbd/structsrsran_1_1grant__info.html">srsran::grant_info</a></div><div class="ttdoc">Parameters of a grant allocation in the cell resource grid.</div><div class="ttdef"><b>Definition</b> resource_grid.h:54</div></div>
<div class="ttc" id="astructsrsran_1_1ofdm__symbol__range_html"><div class="ttname"><a href="../../da/d76/structsrsran_1_1ofdm__symbol__range.html">srsran::ofdm_symbol_range</a></div><div class="ttdoc">Range [start,stop) of OFDM symbols.</div><div class="ttdef"><b>Definition</b> ofdm_symbol_range.h:32</div></div>
<div class="ttc" id="astructsrsran_1_1prach__configuration_html_a085a9be25a0b931dcf63411f2b03ddcb"><div class="ttname"><a href="../../de/dba/structsrsran_1_1prach__configuration.html#a085a9be25a0b931dcf63411f2b03ddcb">srsran::prach_configuration::starting_symbol</a></div><div class="ttdeci">uint8_t starting_symbol</div><div class="ttdoc">Starting OFDM symbol index.</div><div class="ttdef"><b>Definition</b> prach_configuration.h:50</div></div>
<div class="ttc" id="astructsrsran_1_1prach__configuration_html_a4c15df30813c9583625202e488e06a54"><div class="ttname"><a href="../../de/dba/structsrsran_1_1prach__configuration.html#a4c15df30813c9583625202e488e06a54">srsran::prach_configuration::nof_occasions_within_slot</a></div><div class="ttdeci">uint8_t nof_occasions_within_slot</div><div class="ttdoc">Number of time-domain PRACH occasions within a PRACH slot. Set zero for reserved.</div><div class="ttdef"><b>Definition</b> prach_configuration.h:54</div></div>
<div class="ttc" id="astructsrsran_1_1prach__configuration_html_a8514f238ece852fa1aac2ff106e4b720"><div class="ttname"><a href="../../de/dba/structsrsran_1_1prach__configuration.html#a8514f238ece852fa1aac2ff106e4b720">srsran::prach_configuration::format</a></div><div class="ttdeci">prach_format_type format</div><div class="ttdoc">Preamble format (see here for more information).</div><div class="ttdef"><b>Definition</b> prach_configuration.h:42</div></div>
<div class="ttc" id="astructsrsran_1_1prach__frequency__mapping__information_html_a3b237981f4c93ec4f4521c0ba1d09f4d"><div class="ttname"><a href="../../db/d79/structsrsran_1_1prach__frequency__mapping__information.html#a3b237981f4c93ec4f4521c0ba1d09f4d">srsran::prach_frequency_mapping_information::nof_rb_ra</a></div><div class="ttdeci">unsigned nof_rb_ra</div><div class="ttdef"><b>Definition</b> prach_frequency_mapping.h:34</div></div>
<div class="ttc" id="astructsrsran_1_1prach__preamble__information_html"><div class="ttname"><a href="../../d3/d17/structsrsran_1_1prach__preamble__information.html">srsran::prach_preamble_information</a></div><div class="ttdoc">Collects PRACH preamble information parameters.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:36</div></div>
<div class="ttc" id="astructsrsran_1_1prach__symbols__slots__duration_html"><div class="ttname"><a href="../../dc/d6b/structsrsran_1_1prach__symbols__slots__duration.html">srsran::prach_symbols_slots_duration</a></div><div class="ttdoc">Collects PRACH preamble duration information.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:86</div></div>
<div class="ttc" id="astructsrsran_1_1prb__interval_html"><div class="ttname"><a href="../../d8/db9/structsrsran_1_1prb__interval.html">srsran::prb_interval</a></div><div class="ttdoc">Struct to express a {min,...,max} range of PRB indexes within a BWP.</div><div class="ttdef"><b>Definition</b> rb_interval.h:35</div></div>
<div class="ttc" id="astructsrsran_1_1rach__config__generic_html_a58013c5c716fd8353570bef00bef13bd"><div class="ttname"><a href="../../de/d90/structsrsran_1_1rach__config__generic.html#a58013c5c716fd8353570bef00bef13bd">srsran::rach_config_generic::msg1_fdm</a></div><div class="ttdeci">unsigned msg1_fdm</div><div class="ttdoc">Number of PRACH occasions FDMed in one time instance as per TS38.211, clause 6.3.3....</div><div class="ttdef"><b>Definition</b> rach_config_common.h:39</div></div>
<div class="ttc" id="astructsrsran_1_1rach__config__generic_html_affd21c8299058177e04fc4ecb7f5e2d8"><div class="ttname"><a href="../../de/d90/structsrsran_1_1rach__config__generic.html#affd21c8299058177e04fc4ecb7f5e2d8">srsran::rach_config_generic::msg1_frequency_start</a></div><div class="ttdeci">unsigned msg1_frequency_start</div><div class="ttdef"><b>Definition</b> rach_config_common.h:42</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f3bcd812b4d17894e526e7e0dd420f2" name="a4f3bcd812b4d17894e526e7e0dd420f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3bcd812b4d17894e526e7e0dd420f2">&#9670;&#160;</a></span>run_slot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> prach_scheduler::run_slot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d56/structsrsran_1_1cell__resource__allocator.html">cell_resource_allocator</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>res_grid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate RACH PDUs for the given slot. </p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>{</div>
<div class="line"><span class="lineno">  132</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d4/dd1/compiler_8h.html#a1bdfef20c1237666a841b5c9b9c8e69b">SRSRAN_UNLIKELY</a>(first_slot_ind)) {</div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">// If called for the first time, pre-allocates the PRACH PDUs over the entire grid, until the last</span></div>
<div class="line"><span class="lineno">  134</span>    <span class="comment">// (farthest in the future) usable slot.</span></div>
<div class="line"><span class="lineno">  135</span>    first_slot_ind = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// NOTE: Min value of cell_resource_allocator.max_ul_slot_alloc_delay is 20, max value of prach_length_slots is 7.</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a> &lt; (res_grid.max_ul_slot_alloc_delay - prach_length_slots + 1); ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>) {</div>
<div class="line"><span class="lineno">  138</span>      allocate_slot_prach_pdus(res_grid, res_grid[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>].<a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8">slot</a>);</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  141</span>  }</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>  <span class="comment">// Pre-allocate PRACH PDU in the last slot.</span></div>
<div class="line"><span class="lineno">  144</span>  allocate_slot_prach_pdus(res_grid, res_grid[res_grid.max_ul_slot_alloc_delay - prach_length_slots].slot);</div>
<div class="line"><span class="lineno">  145</span>}</div>
<div class="ttc" id="acompiler_8h_html_a1bdfef20c1237666a841b5c9b9c8e69b"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#a1bdfef20c1237666a841b5c9b9c8e69b">SRSRAN_UNLIKELY</a></div><div class="ttdeci">#define SRSRAN_UNLIKELY(EXPR)</div><div class="ttdoc">Provides a hint to the compiler that a condition is likely to be false.</div><div class="ttdef"><b>Definition</b> compiler.h:35</div></div>
<div class="ttc" id="anamespacesrsran_html_a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a457973e91fb03d0c262578c3bdf460f0a5e97994ed38a2b2f984f3b2b75012bf8">srsran::lower_phy_baseband_buffer_size_policy::slot</a></div><div class="ttdeci">@ slot</div><div class="ttdoc">The buffer size matches the number of samples per slot.</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/scheduler/common_scheduling/<a class="el" href="../../db/de6/prach__scheduler_8h_source.html">prach_scheduler.h</a></li>
<li>lib/scheduler/common_scheduling/<b>prach_scheduler.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
