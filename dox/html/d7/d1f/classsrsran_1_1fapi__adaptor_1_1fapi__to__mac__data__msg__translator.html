<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::fapi_adaptor::fapi_to_mac_data_msg_translator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><b>fapi_adaptor</b></li><li class="navelem"><a class="el" href="../../d7/d1f/classsrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator.html">fapi_to_mac_data_msg_translator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/dcd/classsrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::fapi_adaptor::fapi_to_mac_data_msg_translator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>FAPI-to-MAC data message translator.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d6b/fapi__to__mac__data__msg__translator_8h_source.html">fapi_to_mac_data_msg_translator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for srsran::fapi_adaptor::fapi_to_mac_data_msg_translator:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8c/classsrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator__inherit__graph.png" border="0" usemap="#asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_inherit__map" id="asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_inherit__map">
<area shape="rect" title="FAPI&#45;to&#45;MAC data message translator." alt="" coords="5,248,187,517"/>
<area shape="rect" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html" title="Slot&#45;based, data&#45;specific message notifier interface." alt="" coords="5,5,187,200"/>
<area shape="poly" title=" " alt="" coords="99,214,99,248,93,248,93,214"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::fapi_adaptor::fapi_to_mac_data_msg_translator:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dbf/classsrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator__coll__graph.png" border="0" usemap="#asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_coll__map" id="asrsran_1_1fapi__adaptor_1_1fapi__to__mac__data__msg__translator_coll__map">
<area shape="rect" title="FAPI&#45;to&#45;MAC data message translator." alt="" coords="5,248,187,517"/>
<area shape="rect" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html" title="Slot&#45;based, data&#45;specific message notifier interface." alt="" coords="5,5,187,200"/>
<area shape="poly" title=" " alt="" coords="99,214,99,248,93,248,93,214"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7339586021eeb8e3cceb77e26c14477e" id="r_a7339586021eeb8e3cceb77e26c14477e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7339586021eeb8e3cceb77e26c14477e">fapi_to_mac_data_msg_translator</a> (<a class="el" href="../../d9/def/namespacesrsran.html#aca64228c7486db8ce1f0a3118e8cedc8">subcarrier_spacing</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">scs_</a>)</td></tr>
<tr class="separator:a7339586021eeb8e3cceb77e26c14477e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a7c3ffebd5b3c5a0ef42eaa9153136" id="r_ae9a7c3ffebd5b3c5a0ef42eaa9153136"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9a7c3ffebd5b3c5a0ef42eaa9153136">on_rx_data_indication</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../db/d59/structsrsran_1_1fapi_1_1rx__data__indication__message.html">fapi::rx_data_indication_message</a> &amp;msg) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ae9a7c3ffebd5b3c5a0ef42eaa9153136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the reception of a RX data indication message.  <br /></td></tr>
<tr class="separator:ae9a7c3ffebd5b3c5a0ef42eaa9153136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94e8edcbe8c50eed575130aa397dd37" id="r_ad94e8edcbe8c50eed575130aa397dd37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad94e8edcbe8c50eed575130aa397dd37">on_crc_indication</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../dc/dd6/structsrsran_1_1fapi_1_1crc__indication__message.html">fapi::crc_indication_message</a> &amp;msg) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ad94e8edcbe8c50eed575130aa397dd37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the reception of a CRC indication message.  <br /></td></tr>
<tr class="separator:ad94e8edcbe8c50eed575130aa397dd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64d6baa31158690c9531277b77d7fa4" id="r_af64d6baa31158690c9531277b77d7fa4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af64d6baa31158690c9531277b77d7fa4">on_uci_indication</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/db6/structsrsran_1_1fapi_1_1uci__indication__message.html">fapi::uci_indication_message</a> &amp;msg) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:af64d6baa31158690c9531277b77d7fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the reception of a UCI indication message.  <br /></td></tr>
<tr class="separator:af64d6baa31158690c9531277b77d7fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14006363af968d10216cff576478189" id="r_ae14006363af968d10216cff576478189"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae14006363af968d10216cff576478189">on_srs_indication</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../dd/d7c/structsrsran_1_1fapi_1_1srs__indication__message.html">fapi::srs_indication_message</a> &amp;msg) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ae14006363af968d10216cff576478189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the reception of a SRS indication message.  <br /></td></tr>
<tr class="separator:ae14006363af968d10216cff576478189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14474e9c63547da2ee4b1decc2531c25" id="r_a14474e9c63547da2ee4b1decc2531c25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14474e9c63547da2ee4b1decc2531c25">on_rach_indication</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/d49/structsrsran_1_1fapi_1_1rach__indication__message.html">fapi::rach_indication_message</a> &amp;msg) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a14474e9c63547da2ee4b1decc2531c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the reception of a RACH indication message.  <br /></td></tr>
<tr class="separator:a14474e9c63547da2ee4b1decc2531c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d005803a60ca11914d060fbb6b5d2aa" id="r_a4d005803a60ca11914d060fbb6b5d2aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d005803a60ca11914d060fbb6b5d2aa">set_cell_rach_handler</a> (<a class="el" href="../../de/dc5/classsrsran_1_1mac__cell__rach__handler.html">mac_cell_rach_handler</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_rach_handler</a>)</td></tr>
<tr class="memdesc:a4d005803a60ca11914d060fbb6b5d2aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given cell-specific MAC RACH handler. This handler will be used to receive new RACH notifications.  <br /></td></tr>
<tr class="separator:a4d005803a60ca11914d060fbb6b5d2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6250d57593d251dc91a16515ef52e86" id="r_aa6250d57593d251dc91a16515ef52e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6250d57593d251dc91a16515ef52e86">set_cell_pdu_handler</a> (<a class="el" href="../../d6/d18/classsrsran_1_1mac__pdu__handler.html">mac_pdu_handler</a> &amp;handler)</td></tr>
<tr class="memdesc:aa6250d57593d251dc91a16515ef52e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given cell-specific MAC PDU handler. This handler will be used to receive new PDU notifications.  <br /></td></tr>
<tr class="separator:aa6250d57593d251dc91a16515ef52e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055329b36e7eed1d12a92635cbe4663e" id="r_a055329b36e7eed1d12a92635cbe4663e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a055329b36e7eed1d12a92635cbe4663e">set_cell_crc_handler</a> (<a class="el" href="../../d4/d2c/classsrsran_1_1mac__cell__control__information__handler.html">mac_cell_control_information_handler</a> &amp;handler)</td></tr>
<tr class="memdesc:a055329b36e7eed1d12a92635cbe4663e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given cell-specific MAC CRC handler. This handler will be used to receive new CRC notifications.  <br /></td></tr>
<tr class="separator:a055329b36e7eed1d12a92635cbe4663e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>FAPI-to-MAC data message translator. </p>
<p>This class listens to slot-based, data-specific FAPI message events and translates them into the suitable data types for the MAC layer. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7339586021eeb8e3cceb77e26c14477e" name="a7339586021eeb8e3cceb77e26c14477e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7339586021eeb8e3cceb77e26c14477e">&#9670;&#160;</a></span>fapi_to_mac_data_msg_translator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fapi_to_mac_data_msg_translator::fapi_to_mac_data_msg_translator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#aca64228c7486db8ce1f0a3118e8cedc8">subcarrier_spacing</a></td>          <td class="paramname"><span class="paramname"><em>scs_</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   92</span>                                                                                        :</div>
<div class="line"><span class="lineno">   93</span>  scs(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">scs_</a>), rach_handler(dummy_mac_rach_handler), pdu_handler(dummy_pdu_handler), crc_handler(dummy_crc_handler)</div>
<div class="line"><span class="lineno">   94</span>{</div>
<div class="line"><span class="lineno">   95</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad94e8edcbe8c50eed575130aa397dd37" name="ad94e8edcbe8c50eed575130aa397dd37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94e8edcbe8c50eed575130aa397dd37">&#9670;&#160;</a></span>on_crc_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::on_crc_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../dc/dd6/structsrsran_1_1fapi_1_1crc__indication__message.html">fapi::crc_indication_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the reception of a CRC indication message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html#aacaa7c211483163940a0199b733cbb32">srsran::fapi::slot_data_message_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  126</span>{</div>
<div class="line"><span class="lineno">  127</span>  <a class="code hl_struct" href="../../da/d81/structsrsran_1_1mac__crc__indication__message.html">mac_crc_indication_message</a> indication;</div>
<div class="line"><span class="lineno">  128</span>  indication.sl_rx = <a class="code hl_class" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a>(scs, msg.sfn, msg.slot);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a> : msg.pdus) {</div>
<div class="line"><span class="lineno">  131</span>    <a class="code hl_struct" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html">mac_crc_pdu</a>&amp; pdu = indication.crcs.emplace_back();</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    pdu.<a class="code hl_variable" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a8dec716f7e77979c3e2f501c8f3e8a36">harq_id</a>        = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.harq_id;</div>
<div class="line"><span class="lineno">  134</span>    pdu.<a class="code hl_variable" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#ac5284f47e9f19e592f63e2e6eac64a2f">rnti</a>           = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.rnti;</div>
<div class="line"><span class="lineno">  135</span>    pdu.<a class="code hl_variable" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a89a040f328679b9dca085ecd053e8d74">tb_crc_success</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.tb_crc_status_ok;</div>
<div class="line"><span class="lineno">  136</span>    pdu.<a class="code hl_variable" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a2f89c9c7ba6013570e6e22326e663db2">ul_sinr_metric</a> = convert_fapi_to_mac_ul_sinr(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.ul_sinr_metric);</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.timing_advance_offset_ns != std::numeric_limits&lt;<span class="keyword">decltype</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.timing_advance_offset_ns)&gt;::min()) {</div>
<div class="line"><span class="lineno">  138</span>      pdu.<a class="code hl_variable" href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a67e4675fdcfb42907c0bd648ec631809">time_advance_offset</a> = <a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">phy_time_unit::from_seconds</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.timing_advance_offset_ns * 1e-9);</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span>  }</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>  crc_handler.get().handle_crc(indication);</div>
<div class="line"><span class="lineno">  143</span>}</div>
<div class="ttc" id="aclasssrsran_1_1phy__time__unit_html_a9759195d4f33e9afbf1c790ab103af94"><div class="ttname"><a href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">srsran::phy_time_unit::from_seconds</a></div><div class="ttdeci">static constexpr phy_time_unit from_seconds(double seconds)</div><div class="ttdoc">Creates a physical layer time from seconds.</div><div class="ttdef"><b>Definition</b> phy_time_unit.h:221</div></div>
<div class="ttc" id="aclasssrsran_1_1slot__point_html"><div class="ttname"><a href="../../df/d3c/classsrsran_1_1slot__point.html">srsran::slot_point</a></div><div class="ttdef"><b>Definition</b> slot_point.h:51</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__indication__message_html"><div class="ttname"><a href="../../da/d81/structsrsran_1_1mac__crc__indication__message.html">srsran::mac_crc_indication_message</a></div><div class="ttdoc">List of Uplink CRC indications for a given slot.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:53</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html">srsran::mac_crc_pdu</a></div><div class="ttdoc">CRC indication for a given PDU.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:39</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html_a2f89c9c7ba6013570e6e22326e663db2"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a2f89c9c7ba6013570e6e22326e663db2">srsran::mac_crc_pdu::ul_sinr_metric</a></div><div class="ttdeci">optional&lt; float &gt; ul_sinr_metric</div><div class="ttdoc">PUSCH SINR, in dBs.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:47</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html_a67e4675fdcfb42907c0bd648ec631809"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a67e4675fdcfb42907c0bd648ec631809">srsran::mac_crc_pdu::time_advance_offset</a></div><div class="ttdeci">phy_time_unit time_advance_offset</div><div class="ttdoc">Time alignment.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:49</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html_a89a040f328679b9dca085ecd053e8d74"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a89a040f328679b9dca085ecd053e8d74">srsran::mac_crc_pdu::tb_crc_success</a></div><div class="ttdeci">bool tb_crc_success</div><div class="ttdoc">True if transport block is successfully decoded, otherwise false.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:45</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html_a8dec716f7e77979c3e2f501c8f3e8a36"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#a8dec716f7e77979c3e2f501c8f3e8a36">srsran::mac_crc_pdu::harq_id</a></div><div class="ttdeci">uint8_t harq_id</div><div class="ttdoc">HARQ process ID.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:43</div></div>
<div class="ttc" id="astructsrsran_1_1mac__crc__pdu_html_ac5284f47e9f19e592f63e2e6eac64a2f"><div class="ttname"><a href="../../d4/df6/structsrsran_1_1mac__crc__pdu.html#ac5284f47e9f19e592f63e2e6eac64a2f">srsran::mac_crc_pdu::rnti</a></div><div class="ttdeci">rnti_t rnti</div><div class="ttdoc">RNTI value corresponding to the UE that generated this PDU.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:41</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14474e9c63547da2ee4b1decc2531c25" name="a14474e9c63547da2ee4b1decc2531c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14474e9c63547da2ee4b1decc2531c25">&#9670;&#160;</a></span>on_rach_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::on_rach_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/d49/structsrsran_1_1fapi_1_1rach__indication__message.html">fapi::rach_indication_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the reception of a RACH indication message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html#a021061fd2c4dbaec15b892ffaf32f5b2">srsran::fapi::slot_data_message_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  326</span>{</div>
<div class="line"><span class="lineno">  327</span>  <a class="code hl_struct" href="../../d3/deb/structsrsran_1_1mac__rach__indication.html">mac_rach_indication</a> indication;</div>
<div class="line"><span class="lineno">  328</span>  indication.slot_rx = <a class="code hl_class" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a>(scs, msg.sfn, msg.slot);</div>
<div class="line"><span class="lineno">  329</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pdu : msg.pdus) {</div>
<div class="line"><span class="lineno">  330</span>    srsran_assert(pdu.avg_rssi != std::numeric_limits&lt;<span class="keyword">decltype</span>(pdu.avg_rssi)&gt;::max(), <span class="stringliteral">&quot;Average RSSI field not set&quot;</span>);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_struct" href="../../d4/d07/structsrsran_1_1mac__rach__indication_1_1rach__occasion.html">mac_rach_indication::rach_occasion</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a> = indication.occasions.emplace_back();</div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a>.frequency_index                     = pdu.ra_index;</div>
<div class="line"><span class="lineno">  334</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a>.slot_index                          = pdu.slot_index;</div>
<div class="line"><span class="lineno">  335</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a>.start_symbol                        = pdu.symbol_index;</div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a>.rssi_dB                             = to_prach_rssi_dB(pdu.avg_rssi);</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; preamble : pdu.preambles) {</div>
<div class="line"><span class="lineno">  338</span>      srsran_assert(preamble.preamble_pwr != std::numeric_limits&lt;<span class="keyword">decltype</span>(preamble.preamble_pwr)&gt;::max(),</div>
<div class="line"><span class="lineno">  339</span>                    <span class="stringliteral">&quot;Preamble power field not set&quot;</span>);</div>
<div class="line"><span class="lineno">  340</span>      srsran_assert(preamble.preamble_snr != std::numeric_limits&lt;<span class="keyword">decltype</span>(preamble.preamble_snr)&gt;::max(),</div>
<div class="line"><span class="lineno">  341</span>                    <span class="stringliteral">&quot;Preamble SNR field not set&quot;</span>);</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>      <a class="code hl_struct" href="../../d6/d34/structsrsran_1_1mac__rach__indication_1_1rach__preamble.html">mac_rach_indication::rach_preamble</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pream</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">occas</a>.preambles.emplace_back();</div>
<div class="line"><span class="lineno">  344</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pream</a>.index                               = preamble.preamble_index;</div>
<div class="line"><span class="lineno">  345</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pream</a>.time_advance = <a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">phy_time_unit::from_seconds</a>(preamble.timing_advance_offset_ns * 1e-9);</div>
<div class="line"><span class="lineno">  346</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pream</a>.power_dB     = to_prach_preamble_power_dB(preamble.preamble_pwr);</div>
<div class="line"><span class="lineno">  347</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pream</a>.snr_dB       = to_prach_preamble_snr_dB(preamble.preamble_snr);</div>
<div class="line"><span class="lineno">  348</span>    }</div>
<div class="line"><span class="lineno">  349</span>  }</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>  rach_handler.get().handle_rach_indication(indication);</div>
<div class="line"><span class="lineno">  352</span>}</div>
<div class="ttc" id="astructsrsran_1_1mac__rach__indication_1_1rach__occasion_html"><div class="ttname"><a href="../../d4/d07/structsrsran_1_1mac__rach__indication_1_1rach__occasion.html">srsran::mac_rach_indication::rach_occasion</a></div><div class="ttdef"><b>Definition</b> mac_cell_rach_handler.h:41</div></div>
<div class="ttc" id="astructsrsran_1_1mac__rach__indication_1_1rach__preamble_html"><div class="ttname"><a href="../../d6/d34/structsrsran_1_1mac__rach__indication_1_1rach__preamble.html">srsran::mac_rach_indication::rach_preamble</a></div><div class="ttdef"><b>Definition</b> mac_cell_rach_handler.h:34</div></div>
<div class="ttc" id="astructsrsran_1_1mac__rach__indication_html"><div class="ttname"><a href="../../d3/deb/structsrsran_1_1mac__rach__indication.html">srsran::mac_rach_indication</a></div><div class="ttdef"><b>Definition</b> mac_cell_rach_handler.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9a7c3ffebd5b3c5a0ef42eaa9153136" name="ae9a7c3ffebd5b3c5a0ef42eaa9153136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a7c3ffebd5b3c5a0ef42eaa9153136">&#9670;&#160;</a></span>on_rx_data_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::on_rx_data_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../db/d59/structsrsran_1_1fapi_1_1rx__data__indication__message.html">fapi::rx_data_indication_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the reception of a RX data indication message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html#a5caaf5fd4285176169860155fbdcba40">srsran::fapi::slot_data_message_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{</div>
<div class="line"><span class="lineno">   99</span>  <a class="code hl_struct" href="../../d0/daa/structsrsran_1_1mac__rx__data__indication.html">mac_rx_data_indication</a> indication;</div>
<div class="line"><span class="lineno">  100</span>  indication.sl_rx      = <a class="code hl_class" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a>(scs, msg.sfn, msg.slot);</div>
<div class="line"><span class="lineno">  101</span>  indication.cell_index = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a85fcbfef630498e3919ccc9d5d48b07c">to_du_cell_index</a>(0);</div>
<div class="line"><span class="lineno">  102</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a> : msg.pdus) {</div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">// PDUs that were not successfully decoded have zero length.</span></div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.pdu_length == 0) {</div>
<div class="line"><span class="lineno">  105</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_struct" href="../../d1/d3a/structsrsran_1_1mac__rx__pdu.html">mac_rx_pdu</a>&amp; pdu = indication.pdus.emplace_back();</div>
<div class="line"><span class="lineno">  108</span>    pdu.harq_id     = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.harq_id;</div>
<div class="line"><span class="lineno">  109</span>    pdu.rnti        = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.rnti;</div>
<div class="line"><span class="lineno">  110</span>    pdu.pdu         = <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;const uint8_t&gt;</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.data, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">fapi_pdu</a>.pdu_length);</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (pdu.pdu.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a4d77b44f1d800f8b2f92bb76e80512f3">empty</a>()) {</div>
<div class="line"><span class="lineno">  112</span>      srslog::fetch_basic_logger(<span class="stringliteral">&quot;FAPI&quot;</span>).warning(<span class="stringliteral">&quot;Unable to allocate memory for MAC RX PDU&quot;</span>);</div>
<div class="line"><span class="lineno">  113</span>      indication.pdus.pop_back();</div>
<div class="line"><span class="lineno">  114</span>      <span class="comment">// Avoid new buffer allocations for the same FAPI PDU.</span></div>
<div class="line"><span class="lineno">  115</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  116</span>    }</div>
<div class="line"><span class="lineno">  117</span>  }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>  <span class="comment">// Only invoke the MAC when there are successfully decoded PDUs available.</span></div>
<div class="line"><span class="lineno">  120</span>  <span class="keywordflow">if</span> (!indication.pdus.empty()) {</div>
<div class="line"><span class="lineno">  121</span>    pdu_handler.get().handle_rx_data_indication(indication);</div>
<div class="line"><span class="lineno">  122</span>  }</div>
<div class="line"><span class="lineno">  123</span>}</div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer_html_a4d77b44f1d800f8b2f92bb76e80512f3"><div class="ttname"><a href="../../d0/d87/classsrsran_1_1byte__buffer.html#a4d77b44f1d800f8b2f92bb76e80512f3">srsran::byte_buffer::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Checks whether byte_buffer is empty.</div><div class="ttdef"><b>Definition</b> byte_buffer.h:327</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html">srsran::span</a></div><div class="ttdef"><b>Definition</b> span.h:98</div></div>
<div class="ttc" id="anamespacesrsran_html_a85fcbfef630498e3919ccc9d5d48b07c"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a85fcbfef630498e3919ccc9d5d48b07c">srsran::to_du_cell_index</a></div><div class="ttdeci">du_cell_index_t to_du_cell_index(std::underlying_type_t&lt; du_cell_index_t &gt; idx)</div><div class="ttdoc">Convert integer to DU cell index type.</div><div class="ttdef"><b>Definition</b> du_types.h:59</div></div>
<div class="ttc" id="astructsrsran_1_1mac__rx__data__indication_html"><div class="ttname"><a href="../../d0/daa/structsrsran_1_1mac__rx__data__indication.html">srsran::mac_rx_data_indication</a></div><div class="ttdoc">Rx_Data.indication Message.</div><div class="ttdef"><b>Definition</b> mac_pdu_handler.h:27</div></div>
<div class="ttc" id="astructsrsran_1_1mac__rx__pdu_html"><div class="ttname"><a href="../../d1/d3a/structsrsran_1_1mac__rx__pdu.html">srsran::mac_rx_pdu</a></div><div class="ttdoc">MAC Received PDU that comprises the list of PDUs of Rx_Data.indication.</div><div class="ttdef"><b>Definition</b> mac_pdu_handler.h:18</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae14006363af968d10216cff576478189" name="ae14006363af968d10216cff576478189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae14006363af968d10216cff576478189">&#9670;&#160;</a></span>on_srs_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::on_srs_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../dd/d7c/structsrsran_1_1fapi_1_1srs__indication__message.html">fapi::srs_indication_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the reception of a SRS indication message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html#af8acd5aad92024c87aee1b83a34b4483">srsran::fapi::slot_data_message_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af64d6baa31158690c9531277b77d7fa4" name="af64d6baa31158690c9531277b77d7fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64d6baa31158690c9531277b77d7fa4">&#9670;&#160;</a></span>on_uci_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::on_uci_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/db6/structsrsran_1_1fapi_1_1uci__indication__message.html">fapi::uci_indication_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the reception of a UCI indication message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/d57/classsrsran_1_1fapi_1_1slot__data__message__notifier.html#aa753e232381faef3f3c1c503c83edba5">srsran::fapi::slot_data_message_notifier</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  270</span>{</div>
<div class="line"><span class="lineno">  271</span>  <a class="code hl_struct" href="../../d3/dca/structsrsran_1_1mac__uci__indication__message.html">mac_uci_indication_message</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>;</div>
<div class="line"><span class="lineno">  272</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>.sl_rx = <a class="code hl_class" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a>(scs, msg.sfn, msg.slot);</div>
<div class="line"><span class="lineno">  273</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pdu : msg.pdus) {</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">switch</span> (pdu.pdu_type) {</div>
<div class="line"><span class="lineno">  275</span>      <span class="keywordflow">case</span> fapi::uci_pdu_type::PUSCH: {</div>
<div class="line"><span class="lineno">  276</span>        <a class="code hl_struct" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html">mac_uci_pdu</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>.ucis.emplace_back();</div>
<div class="line"><span class="lineno">  277</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.<a class="code hl_variable" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html#a4055fdfe05d214540ceeca5d3673f8f2">rnti</a>         = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a19ba96c7ba2f370f5ffdf9d9cf28e0b0">to_rnti</a>(pdu.pusch_pdu.rnti);</div>
<div class="line"><span class="lineno">  278</span>        <a class="code hl_struct" href="../../dd/d52/structsrsran_1_1mac__uci__pdu_1_1pusch__type.html">mac_uci_pdu::pusch_type</a> pusch;</div>
<div class="line"><span class="lineno">  279</span>        convert_fapi_to_mac_pusch_uci_ind(pusch, pdu.pusch_pdu);</div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.pdu = pusch;</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  282</span>      }</div>
<div class="line"><span class="lineno">  283</span>      <span class="keywordflow">case</span> fapi::uci_pdu_type::PUCCH_format_0_1: {</div>
<div class="line"><span class="lineno">  284</span>        <a class="code hl_struct" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html">mac_uci_pdu</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>.ucis.emplace_back();</div>
<div class="line"><span class="lineno">  285</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.<a class="code hl_variable" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html#a4055fdfe05d214540ceeca5d3673f8f2">rnti</a>         = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a19ba96c7ba2f370f5ffdf9d9cf28e0b0">to_rnti</a>(pdu.pucch_pdu_f01.rnti);</div>
<div class="line"><span class="lineno">  286</span>        <a class="code hl_struct" href="../../da/db7/structsrsran_1_1mac__uci__pdu_1_1pucch__f0__or__f1__type.html">mac_uci_pdu::pucch_f0_or_f1_type</a> pucch;</div>
<div class="line"><span class="lineno">  287</span>        convert_fapi_to_mac_pucch_f0_f1_uci_ind(pucch, pdu.pucch_pdu_f01);</div>
<div class="line"><span class="lineno">  288</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.pdu = pucch;</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  290</span>      }</div>
<div class="line"><span class="lineno">  291</span>      <span class="keywordflow">case</span> fapi::uci_pdu_type::PUCCH_format_2_3_4: {</div>
<div class="line"><span class="lineno">  292</span>        <a class="code hl_struct" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html">mac_uci_pdu</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>.ucis.emplace_back();</div>
<div class="line"><span class="lineno">  293</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.<a class="code hl_variable" href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html#a4055fdfe05d214540ceeca5d3673f8f2">rnti</a>         = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a19ba96c7ba2f370f5ffdf9d9cf28e0b0">to_rnti</a>(pdu.pucch_pdu_f234.rnti);</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_struct" href="../../db/d3d/structsrsran_1_1mac__uci__pdu_1_1pucch__f2__or__f3__or__f4__type.html">mac_uci_pdu::pucch_f2_or_f3_or_f4_type</a> pucch;</div>
<div class="line"><span class="lineno">  295</span>        convert_fapi_to_mac_pucch_f2_f3_f4_uci_ind(pucch, pdu.pucch_pdu_f234);</div>
<div class="line"><span class="lineno">  296</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_pdu</a>.pdu = pucch;</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  298</span>      }</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>  }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>  crc_handler.get().handle_uci(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_msg</a>);</div>
<div class="line"><span class="lineno">  303</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a19ba96c7ba2f370f5ffdf9d9cf28e0b0"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a19ba96c7ba2f370f5ffdf9d9cf28e0b0">srsran::to_rnti</a></div><div class="ttdeci">constexpr rnti_t to_rnti(std::underlying_type_t&lt; rnti_t &gt; number)</div><div class="ttdoc">Converts integer to RNTI value.</div><div class="ttdef"><b>Definition</b> rnti.h:51</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__indication__message_html"><div class="ttname"><a href="../../d3/dca/structsrsran_1_1mac__uci__indication__message.html">srsran::mac_uci_indication_message</a></div><div class="ttdoc">UCI indication that may contain multiple UCI PDUs.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:232</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__pdu_1_1pucch__f0__or__f1__type_html"><div class="ttname"><a href="../../da/db7/structsrsran_1_1mac__uci__pdu_1_1pucch__f0__or__f1__type.html">srsran::mac_uci_pdu::pucch_f0_or_f1_type</a></div><div class="ttdoc">UCI carried in PUCCH Format0 or Format1.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:126</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__pdu_1_1pucch__f2__or__f3__or__f4__type_html"><div class="ttname"><a href="../../db/d3d/structsrsran_1_1mac__uci__pdu_1_1pucch__f2__or__f3__or__f4__type.html">srsran::mac_uci_pdu::pucch_f2_or_f3_or_f4_type</a></div><div class="ttdoc">UCI carried in PUCCH Format2, Format3 or Format4.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:155</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__pdu_1_1pusch__type_html"><div class="ttname"><a href="../../dd/d52/structsrsran_1_1mac__uci__pdu_1_1pusch__type.html">srsran::mac_uci_pdu::pusch_type</a></div><div class="ttdoc">UCI multiplexed in the PUSCH.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:61</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__pdu_html"><div class="ttname"><a href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html">srsran::mac_uci_pdu</a></div><div class="ttdoc">UCI indication for a given PDU.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:59</div></div>
<div class="ttc" id="astructsrsran_1_1mac__uci__pdu_html_a4055fdfe05d214540ceeca5d3673f8f2"><div class="ttname"><a href="../../d9/d9e/structsrsran_1_1mac__uci__pdu.html#a4055fdfe05d214540ceeca5d3673f8f2">srsran::mac_uci_pdu::rnti</a></div><div class="ttdeci">rnti_t rnti</div><div class="ttdoc">RNTI value corresponding to the UE that generated this PDU.</div><div class="ttdef"><b>Definition</b> mac_cell_control_information_handler.h:226</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a055329b36e7eed1d12a92635cbe4663e" name="a055329b36e7eed1d12a92635cbe4663e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055329b36e7eed1d12a92635cbe4663e">&#9670;&#160;</a></span>set_cell_crc_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::set_cell_crc_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d2c/classsrsran_1_1mac__cell__control__information__handler.html">mac_cell_control_information_handler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the given cell-specific MAC CRC handler. This handler will be used to receive new CRC notifications. </p>
<div class="fragment"><div class="line"><span class="lineno">  365</span>{</div>
<div class="line"><span class="lineno">  366</span>  crc_handler = std::ref(handler);</div>
<div class="line"><span class="lineno">  367</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6250d57593d251dc91a16515ef52e86" name="aa6250d57593d251dc91a16515ef52e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6250d57593d251dc91a16515ef52e86">&#9670;&#160;</a></span>set_cell_pdu_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::set_cell_pdu_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d18/classsrsran_1_1mac__pdu__handler.html">mac_pdu_handler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the given cell-specific MAC PDU handler. This handler will be used to receive new PDU notifications. </p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>{</div>
<div class="line"><span class="lineno">  361</span>  pdu_handler = std::ref(handler);</div>
<div class="line"><span class="lineno">  362</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d005803a60ca11914d060fbb6b5d2aa" name="a4d005803a60ca11914d060fbb6b5d2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d005803a60ca11914d060fbb6b5d2aa">&#9670;&#160;</a></span>set_cell_rach_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> fapi_to_mac_data_msg_translator::set_cell_rach_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc5/classsrsran_1_1mac__cell__rach__handler.html">mac_cell_rach_handler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mac_rach_handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the given cell-specific MAC RACH handler. This handler will be used to receive new RACH notifications. </p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>  rach_handler = std::ref(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_rach_handler</a>);</div>
<div class="line"><span class="lineno">  357</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/fapi_adaptor/mac/<a class="el" href="../../d0/d6b/fapi__to__mac__data__msg__translator_8h_source.html">fapi_to_mac_data_msg_translator.h</a></li>
<li>lib/fapi_adaptor/mac/<b>fapi_to_mac_data_msg_translator.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
