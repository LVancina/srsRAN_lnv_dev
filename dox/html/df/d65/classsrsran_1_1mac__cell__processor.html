<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::mac_cell_processor Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../df/d65/classsrsran_1_1mac__cell__processor.html">mac_cell_processor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d5/d50/classsrsran_1_1mac__cell__processor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::mac_cell_processor Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for srsran::mac_cell_processor:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d32/classsrsran_1_1mac__cell__processor__inherit__graph.png" border="0" usemap="#asrsran_1_1mac__cell__processor_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1mac__cell__processor_inherit__map" id="asrsran_1_1mac__cell__processor_inherit__map">
<area shape="rect" title=" " alt="" coords="115,173,307,319"/>
<area shape="rect" href="../../dc/df1/classsrsran_1_1mac__cell__slot__handler.html" title="Interface used to handle slot indications specific to a cell." alt="" coords="5,5,200,125"/>
<area shape="poly" title=" " alt="" coords="148,136,169,172,165,174,143,138"/>
<area shape="rect" href="../../d0/d85/classsrsran_1_1mac__cell__controller.html" title="Interface used to handle a MAC cell activation/deactivation." alt="" coords="224,13,413,118"/>
<area shape="poly" title=" " alt="" coords="283,131,257,174,252,171,278,128"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::mac_cell_processor:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/db0/classsrsran_1_1mac__cell__processor__coll__graph.png" border="0" usemap="#asrsran_1_1mac__cell__processor_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1mac__cell__processor_coll__map" id="asrsran_1_1mac__cell__processor_coll__map">
<area shape="rect" title=" " alt="" coords="115,173,307,319"/>
<area shape="rect" href="../../dc/df1/classsrsran_1_1mac__cell__slot__handler.html" title="Interface used to handle slot indications specific to a cell." alt="" coords="5,5,200,125"/>
<area shape="poly" title=" " alt="" coords="148,136,169,172,165,174,143,138"/>
<area shape="rect" href="../../d0/d85/classsrsran_1_1mac__cell__controller.html" title="Interface used to handle a MAC cell activation/deactivation." alt="" coords="224,13,413,118"/>
<area shape="poly" title=" " alt="" coords="283,131,257,174,252,171,278,128"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a439fe563873dc0b07d335047ce9d68ba" id="r_a439fe563873dc0b07d335047ce9d68ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a439fe563873dc0b07d335047ce9d68ba">mac_cell_processor</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/d8a/structsrsran_1_1mac__cell__creation__request.html">mac_cell_creation_request</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cell_cfg_req</a>, <a class="el" href="../../d1/daa/classsrsran_1_1mac__scheduler__cell__info__handler.html">mac_scheduler_cell_info_handler</a> &amp;sched, <a class="el" href="../../d0/df0/classsrsran_1_1mac__dl__ue__manager.html">mac_dl_ue_manager</a> &amp;ue_mng, <a class="el" href="../../d4/da8/classsrsran_1_1mac__cell__result__notifier.html">mac_cell_result_notifier</a> &amp;phy_notifier, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;cell_exec, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;slot_exec, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;err_ind_exec, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;ctrl_exec, <a class="el" href="../../dd/d91/classsrsran_1_1mac__pcap.html">mac_pcap</a> &amp;pcap)</td></tr>
<tr class="separator:a439fe563873dc0b07d335047ce9d68ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be137b2bec8a087a10b821cc1d6b899" id="r_a7be137b2bec8a087a10b821cc1d6b899"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d58/classsrsran_1_1async__task.html">async_task</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7be137b2bec8a087a10b821cc1d6b899">start</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a7be137b2bec8a087a10b821cc1d6b899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts configured cell.  <br /></td></tr>
<tr class="separator:a7be137b2bec8a087a10b821cc1d6b899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932de6bc92cded74d4a97a2478b8d631" id="r_a932de6bc92cded74d4a97a2478b8d631"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d58/classsrsran_1_1async__task.html">async_task</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a932de6bc92cded74d4a97a2478b8d631">stop</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a932de6bc92cded74d4a97a2478b8d631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops configured cell.  <br /></td></tr>
<tr class="separator:a932de6bc92cded74d4a97a2478b8d631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3d3976aee75f20521c008287437ab2" id="r_a8d3d3976aee75f20521c008287437ab2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d3d3976aee75f20521c008287437ab2">handle_slot_indication</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> sl_tx) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a8d3d3976aee75f20521c008287437ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processing of a new Slot Indication. This operation involves the following sub-tasks:  <br /></td></tr>
<tr class="separator:a8d3d3976aee75f20521c008287437ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70ecc1f71fee21e111b722103deb954" id="r_ad70ecc1f71fee21e111b722103deb954"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad70ecc1f71fee21e111b722103deb954">handle_error_indication</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> sl_tx, <a class="el" href="../../df/dfd/structsrsran_1_1mac__cell__slot__handler_1_1error__event.html">error_event</a> event) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ad70ecc1f71fee21e111b722103deb954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles an error indication sent by the lower layers for a given slot.  <br /></td></tr>
<tr class="separator:ad70ecc1f71fee21e111b722103deb954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a439fe563873dc0b07d335047ce9d68ba" name="a439fe563873dc0b07d335047ce9d68ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439fe563873dc0b07d335047ce9d68ba">&#9670;&#160;</a></span>mac_cell_processor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mac_cell_processor::mac_cell_processor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/d8a/structsrsran_1_1mac__cell__creation__request.html">mac_cell_creation_request</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cell_cfg_req</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/daa/classsrsran_1_1mac__scheduler__cell__info__handler.html">mac_scheduler_cell_info_handler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>sched</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df0/classsrsran_1_1mac__dl__ue__manager.html">mac_dl_ue_manager</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ue_mng</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/da8/classsrsran_1_1mac__cell__result__notifier.html">mac_cell_result_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>phy_notifier</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cell_exec</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>slot_exec</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>err_ind_exec</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ctrl_exec</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d91/classsrsran_1_1mac__pcap.html">mac_pcap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pcap</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                                                               :</div>
<div class="line"><span class="lineno">   43</span>  logger(srslog::fetch_basic_logger(<span class="stringliteral">&quot;MAC&quot;</span>)),</div>
<div class="line"><span class="lineno">   44</span>  cell_cfg(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cell_cfg_req_</a>),</div>
<div class="line"><span class="lineno">   45</span>  cell_exec(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cell_exec_</a>),</div>
<div class="line"><span class="lineno">   46</span>  slot_exec(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_exec_</a>),</div>
<div class="line"><span class="lineno">   47</span>  err_ind_exec(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">err_ind_exec_</a>),</div>
<div class="line"><span class="lineno">   48</span>  ctrl_exec(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ctrl_exec_</a>),</div>
<div class="line"><span class="lineno">   49</span>  phy_cell(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">phy_notifier_</a>),</div>
<div class="line"><span class="lineno">   50</span>  <span class="comment">// The PDU pool has to be large enough to fit the maximum number of RARs and Paging PDUs per slot for all possible K0</span></div>
<div class="line"><span class="lineno">   51</span>  <span class="comment">// values.</span></div>
<div class="line"><span class="lineno">   52</span>  pdu_pool(MAX_DL_PDU_LENGTH,</div>
<div class="line"><span class="lineno">   53</span>           MAX_K0_DELAY,</div>
<div class="line"><span class="lineno">   54</span>           <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a45b408115d2fba72e768ef375c59da19">get_nof_slots_per_subframe</a>(cell_cfg.<a class="code hl_variable" href="../../d0/d8a/structsrsran_1_1mac__cell__creation__request.html#ad1e42912c540594bf89e565978eebb26">scs_common</a>) * <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a660ccd3cc382442fdadac290341f1524">NOF_SFNS</a> * <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#afe120c5fa59fc13e75fa47b6161f3ad3">NOF_SUBFRAMES_PER_FRAME</a>),</div>
<div class="line"><span class="lineno">   55</span>  ssb_helper(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cell_cfg_req_</a>),</div>
<div class="line"><span class="lineno">   56</span>  sib_assembler(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cell_cfg_req_</a>.bcch_dl_sch_payloads),</div>
<div class="line"><span class="lineno">   57</span>  rar_assembler(pdu_pool),</div>
<div class="line"><span class="lineno">   58</span>  dlsch_assembler(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_mng_</a>),</div>
<div class="line"><span class="lineno">   59</span>  paging_assembler(pdu_pool),</div>
<div class="line"><span class="lineno">   60</span>  sched(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sched_</a>),</div>
<div class="line"><span class="lineno">   61</span>  ue_mng(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_mng_</a>),</div>
<div class="line"><span class="lineno">   62</span>  pcap(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>)</div>
<div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a45b408115d2fba72e768ef375c59da19"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a45b408115d2fba72e768ef375c59da19">srsran::get_nof_slots_per_subframe</a></div><div class="ttdeci">constexpr unsigned get_nof_slots_per_subframe(subcarrier_spacing scs)</div><div class="ttdoc">Calculates number of slots per subframe.</div><div class="ttdef"><b>Definition</b> subcarrier_spacing.h:106</div></div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
<div class="ttc" id="anamespacesrsran_html_a660ccd3cc382442fdadac290341f1524"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a660ccd3cc382442fdadac290341f1524">srsran::NOF_SFNS</a></div><div class="ttdeci">constexpr size_t NOF_SFNS</div><div class="ttdoc">Number of system Frame Number values.</div><div class="ttdef"><b>Definition</b> slot_point.h:35</div></div>
<div class="ttc" id="anamespacesrsran_html_afe120c5fa59fc13e75fa47b6161f3ad3"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#afe120c5fa59fc13e75fa47b6161f3ad3">srsran::NOF_SUBFRAMES_PER_FRAME</a></div><div class="ttdeci">constexpr uint32_t NOF_SUBFRAMES_PER_FRAME</div><div class="ttdoc">Number of subframers per frame. This constant doesn't depend on the numerology used.</div><div class="ttdef"><b>Definition</b> slot_point.h:32</div></div>
<div class="ttc" id="astructsrsran_1_1mac__cell__creation__request_html_ad1e42912c540594bf89e565978eebb26"><div class="ttname"><a href="../../d0/d8a/structsrsran_1_1mac__cell__creation__request.html#ad1e42912c540594bf89e565978eebb26">srsran::mac_cell_creation_request::scs_common</a></div><div class="ttdeci">subcarrier_spacing scs_common</div><div class="ttdoc">subcarrierSpacing for common, used for initial access and broadcast message.</div><div class="ttdef"><b>Definition</b> cell_configuration.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad70ecc1f71fee21e111b722103deb954" name="ad70ecc1f71fee21e111b722103deb954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70ecc1f71fee21e111b722103deb954">&#9670;&#160;</a></span>handle_error_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> mac_cell_processor::handle_error_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>sl_tx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dfd/structsrsran_1_1mac__cell__slot__handler_1_1error__event.html">error_event</a></td>          <td class="paramname"><span class="paramname"><em>event</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles an error indication sent by the lower layers for a given slot. </p>
<p>This indication may occur when the MAC took too long to send its slot result to the lower layers or when the lower layers were not able to process that slot result. </p>

<p>Implements <a class="el" href="../../dc/df1/classsrsran_1_1mac__cell__slot__handler.html#a81bc4df807a2ffdb8fd3de5d521b74f7">srsran::mac_cell_slot_handler</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>  <span class="comment">// Change execution context to slot indication executor.</span></div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> err_ind_exec.<a class="code hl_function" href="../../df/dc3/classsrsran_1_1task__executor.html#a7ce182401ef2d2b419bfbed5b5e488f7">execute</a>(</div>
<div class="line"><span class="lineno">   92</span>          [<span class="keyword">this</span>, sl_tx, event]() { sched.handle_error_indication(sl_tx, cell_cfg.cell_index, event); })) {</div>
<div class="line"><span class="lineno">   93</span>    logger.warning(<span class="stringliteral">&quot;slot={}: Skipped error indication. Cause: DL task queue is full.&quot;</span>, sl_tx);</div>
<div class="line"><span class="lineno">   94</span>  }</div>
<div class="line"><span class="lineno">   95</span>}</div>
<div class="ttc" id="aclasssrsran_1_1task__executor_html_a7ce182401ef2d2b419bfbed5b5e488f7"><div class="ttname"><a href="../../df/dc3/classsrsran_1_1task__executor.html#a7ce182401ef2d2b419bfbed5b5e488f7">srsran::task_executor::execute</a></div><div class="ttdeci">virtual SRSRAN_NODISCARD bool execute(unique_task task)=0</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d3d3976aee75f20521c008287437ab2" name="a8d3d3976aee75f20521c008287437ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3d3976aee75f20521c008287437ab2">&#9670;&#160;</a></span>handle_slot_indication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> mac_cell_processor::handle_slot_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>sl_tx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processing of a new Slot Indication. This operation involves the following sub-tasks: </p>
<ul>
<li>The scheduler generates the scheduling grants for the provided slot and cell.</li>
<li>The scheduling grants are passed to the PHY.</li>
<li>The MAC DL PDUs are generated and passed to the PHY as well. </li>
</ul>

<p>Implements <a class="el" href="../../dc/df1/classsrsran_1_1mac__cell__slot__handler.html#ad1341fb0a9c70072b3ccda82148534da">srsran::mac_cell_slot_handler</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>{</div>
<div class="line"><span class="lineno">   78</span>  trace_point <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ind_enqueue_tp</a> = <a class="code hl_variable" href="../../d9/def/namespacesrsran.html#a5a81707cbe1f17f0d69414f9c7acb227">l2_tracer</a>.now();</div>
<div class="line"><span class="lineno">   79</span>  <span class="comment">// Change execution context to slot indication executor.</span></div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> slot_exec.<a class="code hl_function" href="../../df/dc3/classsrsran_1_1task__executor.html#a7ce182401ef2d2b419bfbed5b5e488f7">execute</a>([<span class="keyword">this</span>, sl_tx, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ind_enqueue_tp</a>]() {</div>
<div class="line"><span class="lineno">   81</span>        l2_tracer &lt;&lt; trace_event{<span class="stringliteral">&quot;mac_slot_ind_enqueue&quot;</span>, slot_ind_enqueue_tp};</div>
<div class="line"><span class="lineno">   82</span>        handle_slot_indication_impl(sl_tx);</div>
<div class="line"><span class="lineno">   83</span>      })) {</div>
<div class="line"><span class="lineno">   84</span>    logger.warning(<span class="stringliteral">&quot;Skipped slot indication={}. Cause: DL task queue is full.&quot;</span>, sl_tx);</div>
<div class="line"><span class="lineno">   85</span>  }</div>
<div class="line"><span class="lineno">   86</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a5a81707cbe1f17f0d69414f9c7acb227"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a5a81707cbe1f17f0d69414f9c7acb227">srsran::l2_tracer</a></div><div class="ttdeci">file_event_tracer&lt; L2_TRACE_ENABLED &gt; l2_tracer</div><div class="ttdoc">L2 event tracing. This tracer is used to analyze latencies in the L2 processing of slot indications.</div><div class="ttdef"><b>Definition</b> du_traces.cpp:27</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7be137b2bec8a087a10b821cc1d6b899" name="a7be137b2bec8a087a10b821cc1d6b899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be137b2bec8a087a10b821cc1d6b899">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d58/classsrsran_1_1async__task.html">async_task</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> &gt; mac_cell_processor::start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts configured cell. </p>

<p>Implements <a class="el" href="../../d0/d85/classsrsran_1_1mac__cell__controller.html">srsran::mac_cell_controller</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordflow">return</span> dispatch_and_resume_on(cell_exec, ctrl_exec, [<span class="keyword">this</span>]() { state = cell_state::active; });</div>
<div class="line"><span class="lineno">   69</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a932de6bc92cded74d4a97a2478b8d631" name="a932de6bc92cded74d4a97a2478b8d631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932de6bc92cded74d4a97a2478b8d631">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d58/classsrsran_1_1async__task.html">async_task</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> &gt; mac_cell_processor::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops configured cell. </p>

<p>Implements <a class="el" href="../../d0/d85/classsrsran_1_1mac__cell__controller.html">srsran::mac_cell_controller</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span>{</div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordflow">return</span> dispatch_and_resume_on(cell_exec, ctrl_exec, [<span class="keyword">this</span>]() { state = cell_state::inactive; });</div>
<div class="line"><span class="lineno">   74</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/mac/mac_dl/<a class="el" href="../../dc/d61/mac__cell__processor_8h_source.html">mac_cell_processor.h</a></li>
<li>lib/mac/mac_dl/<b>mac_cell_processor.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
