<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::rlc_tx_um_entity Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../da/df4/classsrsran_1_1rlc__tx__um__entity.html">rlc_tx_um_entity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dc/d18/classsrsran_1_1rlc__tx__um__entity-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::rlc_tx_um_entity Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for srsran::rlc_tx_um_entity:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d46/classsrsran_1_1rlc__tx__um__entity__inherit__graph.png" border="0" usemap="#asrsran_1_1rlc__tx__um__entity_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1rlc__tx__um__entity_inherit__map" id="asrsran_1_1rlc__tx__um__entity_inherit__map">
<area shape="rect" title=" " alt="" coords="184,632,355,777"/>
<area shape="rect" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html" title=" " alt="" coords="198,379,341,584"/>
<area shape="poly" title=" " alt="" coords="272,598,272,631,267,631,267,598"/>
<area shape="rect" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html" title=" " alt="" coords="5,29,165,307"/>
<area shape="poly" title=" " alt="" coords="173,318,180,329,209,377,204,380,175,332,168,321"/>
<area shape="rect" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html" title=" " alt="" coords="190,29,349,307"/>
<area shape="poly" title=" " alt="" coords="272,321,272,378,267,378,267,321"/>
<area shape="rect" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html" title=" " alt="" coords="373,5,625,331"/>
<area shape="poly" title=" " alt="" coords="373,343,343,385,339,382,369,340"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::rlc_tx_um_entity:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d82/classsrsran_1_1rlc__tx__um__entity__coll__graph.png" border="0" usemap="#asrsran_1_1rlc__tx__um__entity_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1rlc__tx__um__entity_coll__map" id="asrsran_1_1rlc__tx__um__entity_coll__map">
<area shape="rect" title=" " alt="" coords="1114,1120,1284,1265"/>
<area shape="rect" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html" title=" " alt="" coords="1128,965,1270,1071"/>
<area shape="poly" title=" " alt="" coords="1202,1085,1202,1119,1196,1119,1196,1085"/>
<area shape="rect" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html" title=" " alt="" coords="335,601,495,880"/>
<area shape="poly" title=" " alt="" coords="493,888,508,900,557,924,625,945,706,963,796,977,979,998,1128,1010,1127,1015,978,1004,796,982,706,968,623,950,555,929,506,905,489,892"/>
<area shape="rect" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html" title=" " alt="" coords="520,601,678,880"/>
<area shape="poly" title=" " alt="" coords="678,888,693,900,726,919,772,936,890,966,1018,989,1128,1005,1127,1010,1017,994,888,971,770,941,723,924,690,905,674,892"/>
<area shape="rect" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html" title=" " alt="" coords="703,708,858,773"/>
<area shape="poly" title=" " alt="" coords="797,785,826,845,847,875,871,901,901,922,933,941,1000,971,1068,992,1128,1004,1127,1010,1067,997,999,976,930,946,898,927,868,905,842,878,821,848,792,787"/>
<area shape="rect" href="../../d3/d87/classuint32__t.html" title=" " alt="" coords="412,5,479,71"/>
<area shape="poly" title=" " alt="" coords="413,46,336,61,289,74,239,92,188,115,141,144,98,180,64,223,42,261,25,297,13,332,8,366,11,399,20,432,38,465,63,499,95,509,166,519,374,540,583,559,656,568,691,576,718,600,740,630,757,661,769,691,764,693,752,663,736,633,715,604,688,581,655,573,582,565,373,545,165,524,94,514,60,504,33,468,15,434,5,400,3,366,8,331,20,295,37,258,60,220,95,176,138,140,186,110,237,87,287,69,335,56,412,41"/>
<area shape="rect" href="../../d4/d4e/structsrsran_1_1rlc__tm__tx__metrics.html" title=" " alt="" coords="272,329,451,394"/>
<area shape="poly" title=" " alt="" coords="414,56,389,73,369,96,358,122,350,150,344,208,346,264,353,312,348,313,341,265,338,208,345,149,353,121,365,93,385,69,411,52"/>
<area shape="rect" href="../../d5/df7/structsrsran_1_1rlc__um__tx__metrics.html" title=" " alt="" coords="476,329,658,394"/>
<area shape="poly" title=" " alt="" coords="481,66,503,93,529,183,559,312,554,313,524,185,498,96,477,69"/>
<area shape="rect" href="../../df/d4f/structsrsran_1_1rlc__am__tx__metrics.html" title=" " alt="" coords="682,329,865,394"/>
<area shape="poly" title=" " alt="" coords="479,38,545,43,624,52,697,68,726,79,745,93,763,117,776,144,785,173,790,203,791,262,786,313,781,312,786,262,784,204,780,174,771,146,759,120,741,97,723,84,696,73,624,57,545,48,479,43"/>
<area shape="rect" title=" " alt="" coords="889,329,941,394"/>
<area shape="poly" title=" " alt="" coords="917,394,907,449,896,478,878,503,862,514,846,516,831,518,817,527,795,566,783,609,778,652,778,692,773,692,773,652,778,608,790,563,813,524,829,513,845,510,860,509,875,499,891,475,902,447,911,394"/>
<area shape="rect" title=" " alt="" coords="1019,329,1094,394"/>
<area shape="poly" title=" " alt="" coords="1070,393,1078,430,1082,474,1077,518,1068,538,1056,556,1034,574,1012,581,989,580,966,575,919,567,896,569,871,581,845,604,824,633,808,663,796,693,791,691,803,661,820,630,841,601,868,576,894,564,920,561,967,570,990,574,1011,575,1032,569,1052,553,1064,536,1071,516,1077,474,1073,431,1064,395"/>
<area shape="poly" title=" " alt="" coords="379,393,414,447,438,475,464,499,577,537,691,576,717,602,738,632,767,691,762,694,733,635,713,606,688,581,576,542,462,504,434,479,410,450,375,395"/>
<area shape="poly" title=" " alt="" coords="587,393,692,577,757,692,752,695,687,580,583,395"/>
<area shape="poly" title=" " alt="" coords="770,395,759,455,750,526,749,570,753,614,769,691,764,693,748,615,744,570,744,525,753,454,764,394"/>
<area shape="rect" title=" " alt="" coords="1117,329,1316,394"/>
<area shape="poly" title=" " alt="" coords="1214,395,1205,433,1190,478,1165,521,1149,541,1130,557,1095,575,1062,580,1030,578,999,571,969,564,938,560,905,565,871,581,845,604,824,633,807,663,796,693,791,691,803,661,819,630,841,600,868,576,904,560,938,555,970,558,1001,565,1031,572,1062,575,1093,570,1127,552,1145,537,1161,518,1185,475,1200,432,1209,393"/>
<area shape="rect" href="../../d3/df9/classsrsran_1_1prefixed__logger.html" title=" " alt="" coords="882,601,1062,881"/>
<area shape="poly" title=" " alt="" coords="1059,879,1076,901,1126,953,1122,956,1072,904,1054,883"/>
<area shape="rect" href="../../d3/df9/classsrsran_1_1prefixed__logger.html" title=" " alt="" coords="1340,221,1503,501"/>
<area shape="poly" title=" " alt="" coords="1333,513,1305,538,1274,557,1244,567,1218,571,1171,566,1125,563,1101,568,1075,581,1048,603,1045,599,1072,576,1100,563,1125,558,1171,561,1218,565,1243,562,1271,552,1302,533,1329,509"/>
<area shape="rect" href="../../db/da3/classsrsran_1_1rlc__tx__metrics__container.html" title=" " alt="" coords="1086,579,1312,903"/>
<area shape="poly" title=" " alt="" coords="1202,903,1202,949,1196,949,1196,903"/>
<area shape="rect" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html" title=" " alt="" coords="1336,673,1504,808"/>
<area shape="poly" title=" " alt="" coords="1388,810,1359,857,1325,904,1276,955,1273,952,1321,901,1355,854,1384,807"/>
<area shape="rect" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html" title=" " alt="" coords="1529,601,1693,880"/>
<area shape="poly" title=" " alt="" coords="1541,882,1518,905,1464,941,1404,970,1343,990,1288,1005,1286,999,1342,985,1402,965,1461,937,1515,901,1537,878"/>
<area shape="rect" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html" title=" " alt="" coords="1718,611,1910,870"/>
<area shape="poly" title=" " alt="" coords="1743,872,1707,905,1657,936,1603,960,1547,980,1490,995,1380,1013,1287,1020,1286,1014,1380,1007,1489,989,1545,975,1601,955,1655,931,1704,901,1739,868"/>
<area shape="rect" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html" title="Interface class for writing a RLC PCAP to a file." alt="" coords="1934,668,2083,813"/>
<area shape="poly" title=" " alt="" coords="1988,815,1962,863,1944,886,1923,905,1874,931,1805,952,1723,970,1631,985,1444,1005,1287,1016,1287,1010,1444,1000,1631,980,1722,965,1804,947,1872,926,1920,900,1940,882,1957,860,1983,812"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b12b113229add630c19904fa95e1b53" id="r_a8b12b113229add630c19904fa95e1b53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b12b113229add630c19904fa95e1b53">rlc_tx_um_entity</a> (uint32_t du_index, <a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a> ue_index, <a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a> rb_id, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html">rlc_tx_um_config</a> &amp;config, <a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcell_executor_</a>, <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled</a>, <a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>)</td></tr>
<tr class="separator:a8b12b113229add630c19904fa95e1b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add07a68147d63b9fbf12b0607537dfe1" id="r_add07a68147d63b9fbf12b0607537dfe1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add07a68147d63b9fbf12b0607537dfe1">handle_sdu</a> (<a class="el" href="../../d8/d76/structsrsran_1_1rlc__sdu.html">rlc_sdu</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:add07a68147d63b9fbf12b0607537dfe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for higher layers to pass SDUs into RLC.  <br /></td></tr>
<tr class="separator:add07a68147d63b9fbf12b0607537dfe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60dc9008877a3222036b4f57ed98163" id="r_ad60dc9008877a3222036b4f57ed98163"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad60dc9008877a3222036b4f57ed98163">discard_sdu</a> (uint32_t pdcp_sn) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ad60dc9008877a3222036b4f57ed98163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for higher layers to discard SDUs from RLC queue.  <br /></td></tr>
<tr class="separator:ad60dc9008877a3222036b4f57ed98163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f352f1b277d06618a880ec70c39d5c3" id="r_a8f352f1b277d06618a880ec70c39d5c3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f352f1b277d06618a880ec70c39d5c3">pull_pdu</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a8f352f1b277d06618a880ec70c39d5c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of <code>rlc_pdu_buf</code> is insufficient or the TX buffer is empty.  <br /></td></tr>
<tr class="separator:a8f352f1b277d06618a880ec70c39d5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad537c8977ec07d1075bd3cbca4cd5b1f" id="r_ad537c8977ec07d1075bd3cbca4cd5b1f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad537c8977ec07d1075bd3cbca4cd5b1f">get_buffer_state</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ad537c8977ec07d1075bd3cbca4cd5b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull_pdu).  <br /></td></tr>
<tr class="separator:ad537c8977ec07d1075bd3cbca4cd5b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:ab835005656d9d0dbb67e19d6d49b3577 inherit pub_methods_classsrsran_1_1rlc__tx__entity" id="r_ab835005656d9d0dbb67e19d6d49b3577"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html">rlc_tx_metrics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#ab835005656d9d0dbb67e19d6d49b3577">get_metrics</a> ()</td></tr>
<tr class="separator:ab835005656d9d0dbb67e19d6d49b3577 inherit pub_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c881c34347d814d0a59be6ed9eca264 inherit pub_methods_classsrsran_1_1rlc__tx__entity" id="r_a6c881c34347d814d0a59be6ed9eca264"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#a6c881c34347d814d0a59be6ed9eca264">reset_metrics</a> ()</td></tr>
<tr class="separator:a6c881c34347d814d0a59be6ed9eca264 inherit pub_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">srsran::rlc_tx_upper_layer_data_interface</a></td></tr>
<tr class="memitem:a721b5d4c15468a6f90739958233bf843 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_a721b5d4c15468a6f90739958233bf843"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_upper_layer_data_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a721b5d4c15468a6f90739958233bf843 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec8aded322f937ed4912baa29be1a92 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_a8ec8aded322f937ed4912baa29be1a92"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a8ec8aded322f937ed4912baa29be1a92 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bcade02d262467ff3a637c36c672b2 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_aa8bcade02d262467ff3a637c36c672b2"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_upper_layer_data_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:aa8bcade02d262467ff3a637c36c672b2 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7284e7b7da24820c1f1ee9cfa7b23f5 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface" id="r_ad7284e7b7da24820c1f1ee9cfa7b23f5"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html">rlc_tx_upper_layer_data_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:ad7284e7b7da24820c1f1ee9cfa7b23f5 inherit pub_methods_classsrsran_1_1rlc__tx__upper__layer__data__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">srsran::rlc_tx_lower_layer_interface</a></td></tr>
<tr class="memitem:a5ebf877c371280e28d46b64f6b313a09 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a5ebf877c371280e28d46b64f6b313a09"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_lower_layer_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a5ebf877c371280e28d46b64f6b313a09 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d8b976865c886f0dffeff221d9ae51 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a57d8b976865c886f0dffeff221d9ae51"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a57d8b976865c886f0dffeff221d9ae51 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5025f616b427b807858910663c4e9555 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a5025f616b427b807858910663c4e9555"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>rlc_tx_lower_layer_interface</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a5025f616b427b807858910663c4e9555 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb633aae7113d564fa6959d7800df12 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface" id="r_a9cb633aae7113d564fa6959d7800df12"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html">rlc_tx_lower_layer_interface</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="separator:a9cb633aae7113d564fa6959d7800df12 inherit pub_methods_classsrsran_1_1rlc__tx__lower__layer__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_structsrsran_1_1rlc__tx__metrics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_structsrsran_1_1rlc__tx__metrics')"><img src="../../closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html">srsran::rlc_tx_metrics</a></td></tr>
<tr class="memitem:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_afd645682712532edd40a445e2e304a0e"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_sdus</b></td></tr>
<tr class="memdesc:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of SDUs. <br /></td></tr>
<tr class="separator:afd645682712532edd40a445e2e304a0e inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a1171cedf6b1f63453aa7d5b6d6520712"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_of_pulled_sdus</b></td></tr>
<tr class="memdesc:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of pulled SDUs. <br /></td></tr>
<tr class="separator:a1171cedf6b1f63453aa7d5b6d6520712 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_aad4d4e4673218226d668edfece2911c4"><td class="memItemLeft" align="right" valign="top">
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_sdu_bytes</b></td></tr>
<tr class="memdesc:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of SDU bytes. <br /></td></tr>
<tr class="separator:aad4d4e4673218226d668edfece2911c4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a149c3c2d17d423256fceda659e401ed5"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_dropped_sdus</b></td></tr>
<tr class="memdesc:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of dropped SDUs (due to full queue) <br /></td></tr>
<tr class="separator:a149c3c2d17d423256fceda659e401ed5 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_ac5847b5d570dd9754ecb9adf53bcd494"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_discarded_sdus</b></td></tr>
<tr class="memdesc:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of discarded SDUs (instructed from higher layer) <br /></td></tr>
<tr class="separator:ac5847b5d570dd9754ecb9adf53bcd494 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a32d0c7555e6f4c3542ce31ca8a5595d7"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_discard_failures</b></td></tr>
<tr class="memdesc:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of failed SDU discards (instructed from higher layer) <br /></td></tr>
<tr class="separator:a32d0c7555e6f4c3542ce31ca8a5595d7 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a511c99909afef3f464ac9f273340c4b4"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>sum_sdu_latency_us</b></td></tr>
<tr class="memdesc:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">total SDU latency (in us)&gt; <br /></td></tr>
<tr class="separator:a511c99909afef3f464ac9f273340c4b4 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a51f0770cec3b666e0f82d27dc0066454"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>num_pdus_no_segmentation</b></td></tr>
<tr class="memdesc:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of transmitted PDUs without segmentation. <br /></td></tr>
<tr class="separator:a51f0770cec3b666e0f82d27dc0066454 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a138a06f6111454b48677dc083cc97d19"><td class="memItemLeft" align="right" valign="top">
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_pdu_bytes_no_segmentation</b></td></tr>
<tr class="memdesc:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of transmitted PDU bytes without segmentation. <br /></td></tr>
<tr class="separator:a138a06f6111454b48677dc083cc97d19 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_ae408424ee4a480a7c625862f3ec18b50"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/def/namespacesrsran.html#a1c771f379fa63ba2137654c259563308">rlc_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mode</b></td></tr>
<tr class="memdesc:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="mdescLeft">&#160;</td><td class="mdescRight">RLC mode of the entity. <br /></td></tr>
<tr class="separator:ae408424ee4a480a7c625862f3ec18b50 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a97e10254bd7914a69ee8f0182d5dc2cc"><td class="memItemLeft" >union {&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator: inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a43586e078658a8f1babfee96238a4b inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a5a43586e078658a8f1babfee96238a4b"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../d4/d4e/structsrsran_1_1rlc__tm__tx__metrics.html">rlc_tm_tx_metrics</a>&#160;&#160;&#160;<b>tm</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a5a43586e078658a8f1babfee96238a4b inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab3e57dace0db3e99d06ecf3b9acc77 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a1ab3e57dace0db3e99d06ecf3b9acc77"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../d5/df7/structsrsran_1_1rlc__um__tx__metrics.html">rlc_um_tx_metrics</a>&#160;&#160;&#160;<b>um</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a1ab3e57dace0db3e99d06ecf3b9acc77 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acab46984dd01901bd8626b86b70a73 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a9acab46984dd01901bd8626b86b70a73"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="../../df/d4f/structsrsran_1_1rlc__am__tx__metrics.html">rlc_am_tx_metrics</a>&#160;&#160;&#160;<b>am</b>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a9acab46984dd01901bd8626b86b70a73 inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics" id="r_a97e10254bd7914a69ee8f0182d5dc2cc"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d6c/structsrsran_1_1rlc__tx__metrics.html#a97e10254bd7914a69ee8f0182d5dc2cc">mode_specific</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a97e10254bd7914a69ee8f0182d5dc2cc inherit pub_attribs_structsrsran_1_1rlc__tx__metrics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:a3d60bcedb1ee117619637568433ca906 inherit pro_methods_classsrsran_1_1rlc__tx__entity" id="r_a3d60bcedb1ee117619637568433ca906"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html#a3d60bcedb1ee117619637568433ca906">rlc_tx_entity</a> (<a class="el" href="../../d3/d87/classuint32__t.html">uint32_t</a> du_index, <a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a> ue_index, <a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a> rb_id, <a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled</a>, <a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>)</td></tr>
<tr class="separator:a3d60bcedb1ee117619637568433ca906 inherit pro_methods_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classsrsran_1_1rlc__tx__entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classsrsran_1_1rlc__tx__entity')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></td></tr>
<tr class="memitem:aac4d8aa968cccd0b7d1335e0edba1b19 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_aac4d8aa968cccd0b7d1335e0edba1b19"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/df9/classsrsran_1_1prefixed__logger.html">rlc_bearer_logger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b></td></tr>
<tr class="separator:aac4d8aa968cccd0b7d1335e0edba1b19 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f39e813424ef0c074b2a00be6c52213 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a7f39e813424ef0c074b2a00be6c52213"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../db/da3/classsrsran_1_1rlc__tx__metrics__container.html">rlc_tx_metrics_container</a>&#160;</td><td class="memItemRight" valign="bottom"><b>metrics</b></td></tr>
<tr class="separator:a7f39e813424ef0c074b2a00be6c52213 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25655acfaabbcc173ae0b7facf84e7f inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_ad25655acfaabbcc173ae0b7facf84e7f"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>upper_dn</b></td></tr>
<tr class="separator:ad25655acfaabbcc173ae0b7facf84e7f inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c8e81f1f04d757c511e0313ba00e7b inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_ae5c8e81f1f04d757c511e0313ba00e7b"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>upper_cn</b></td></tr>
<tr class="separator:ae5c8e81f1f04d757c511e0313ba00e7b inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fde636658627994443bb92c405fadd4 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a2fde636658627994443bb92c405fadd4"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>lower_dn</b></td></tr>
<tr class="separator:a2fde636658627994443bb92c405fadd4 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c32b908aa9036816b2e8c610f4fda0 inherit pro_attribs_classsrsran_1_1rlc__tx__entity" id="r_a54c32b908aa9036816b2e8c610f4fda0"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>pcap</b></td></tr>
<tr class="separator:a54c32b908aa9036816b2e8c610f4fda0 inherit pro_attribs_classsrsran_1_1rlc__tx__entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8b12b113229add630c19904fa95e1b53" name="a8b12b113229add630c19904fa95e1b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b12b113229add630c19904fa95e1b53">&#9670;&#160;</a></span>rlc_tx_um_entity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlc_tx_um_entity::rlc_tx_um_entity </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>du_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a511ed22603607d4a784c0f1807648b47">du_ue_index_t</a></td>          <td class="paramname"><span class="paramname"><em>ue_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/db5/classsrsran_1_1rb__id__t.html">rb_id_t</a></td>          <td class="paramname"><span class="paramname"><em>rb_id</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html">rlc_tx_um_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html">rlc_tx_upper_layer_data_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>upper_dn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/de1/classsrsran_1_1rlc__tx__upper__layer__control__notifier.html">rlc_tx_upper_layer_control_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>upper_cn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df3/classsrsran_1_1rlc__tx__lower__layer__notifier.html">rlc_tx_lower_layer_notifier</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lower_dn_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dc3/classsrsran_1_1task__executor.html">task_executor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pcell_executor_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>metrics_enabled</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/classsrsran_1_1rlc__pcap.html">rlc_pcap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pcap_</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>                                                                               :</div>
<div class="line"><span class="lineno">   39</span>  <a class="code hl_class" href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">rlc_tx_entity</a>(du_index, ue_index, rb_id, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_dn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">upper_cn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">lower_dn_</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metrics_enabled</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcap_</a>),</div>
<div class="line"><span class="lineno">   40</span>  cfg(config),</div>
<div class="line"><span class="lineno">   41</span>  sdu_queue(cfg.<a class="code hl_variable" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#a3fb00116e2b31cadbbd16b456ac458bf">queue_size</a>, logger),</div>
<div class="line"><span class="lineno">   42</span>  mod(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#abcf66419637f2dc1494305c3b8d7aaf5">cardinality</a>(to_number(cfg.<a class="code hl_variable" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#ac5bff1bdd61720b654de8a9cc1afe73c">sn_field_length</a>))),</div>
<div class="line"><span class="lineno">   43</span>  head_len_full(rlc_um_pdu_header_size_complete_sdu),</div>
<div class="line"><span class="lineno">   44</span>  head_len_first(rlc_um_pdu_header_size_no_so(cfg.<a class="code hl_variable" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#ac5bff1bdd61720b654de8a9cc1afe73c">sn_field_length</a>)),</div>
<div class="line"><span class="lineno">   45</span>  head_len_not_first(rlc_um_pdu_header_size_with_so(cfg.<a class="code hl_variable" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#ac5bff1bdd61720b654de8a9cc1afe73c">sn_field_length</a>)),</div>
<div class="line"><span class="lineno">   46</span>  pcell_executor(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pcell_executor_</a>),</div>
<div class="line"><span class="lineno">   47</span>  pcap_context(ue_index, rb_id, config)</div>
<div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>  metrics.metrics_set_mode(rlc_mode::um_bidir);</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>  logger.log_info(<span class="stringliteral">&quot;RLC UM configured. {}&quot;</span>, cfg);</div>
<div class="line"><span class="lineno">   52</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__tx__entity_html"><div class="ttname"><a href="../../d5/dd8/classsrsran_1_1rlc__tx__entity.html">srsran::rlc_tx_entity</a></div><div class="ttdef"><b>Definition</b> rlc_tx_entity.h:39</div></div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
<div class="ttc" id="anamespacesrsran_html_abcf66419637f2dc1494305c3b8d7aaf5"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#abcf66419637f2dc1494305c3b8d7aaf5">srsran::cardinality</a></div><div class="ttdeci">constexpr uint32_t cardinality(uint16_t sn_size)</div><div class="ttdoc">Returns the value range of the sequence numbers.</div><div class="ttdef"><b>Definition</b> rlc_config.h:629</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__um__config_html_a3fb00116e2b31cadbbd16b456ac458bf"><div class="ttname"><a href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#a3fb00116e2b31cadbbd16b456ac458bf">srsran::rlc_tx_um_config::queue_size</a></div><div class="ttdeci">uint32_t queue_size</div><div class="ttdoc">SDU queue size.</div><div class="ttdef"><b>Definition</b> rlc_config.h:727</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__um__config_html_ac5bff1bdd61720b654de8a9cc1afe73c"><div class="ttname"><a href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#ac5bff1bdd61720b654de8a9cc1afe73c">srsran::rlc_tx_um_config::sn_field_length</a></div><div class="ttdeci">rlc_um_sn_size sn_field_length</div><div class="ttdoc">Number of bits used for sequence number.</div><div class="ttdef"><b>Definition</b> rlc_config.h:724</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad60dc9008877a3222036b4f57ed98163" name="ad60dc9008877a3222036b4f57ed98163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60dc9008877a3222036b4f57ed98163">&#9670;&#160;</a></span>discard_sdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_um_entity::discard_sdu </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>pdcp_sn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for higher layers to discard SDUs from RLC queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdcp_sn</td><td>PDCP sequence number (SN) of the SDU that is to be discarded </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html#a349619ff887450259fa44a739d2980b6">srsran::rlc_tx_upper_layer_data_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>{</div>
<div class="line"><span class="lineno">   77</span>  <span class="keywordflow">if</span> (sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5918fa48177cf34b10fef220c8fc719f">try_discard</a>(pdcp_sn)) {</div>
<div class="line"><span class="lineno">   78</span>    logger.log_info(<span class="stringliteral">&quot;Discarded SDU. pdcp_sn={}&quot;</span>, pdcp_sn);</div>
<div class="line"><span class="lineno">   79</span>    metrics.metrics_add_discard(1);</div>
<div class="line"><span class="lineno">   80</span>    handle_changed_buffer_state();</div>
<div class="line"><span class="lineno">   81</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   82</span>    logger.log_info(<span class="stringliteral">&quot;Could not discard SDU. pdcp_sn={}&quot;</span>, pdcp_sn);</div>
<div class="line"><span class="lineno">   83</span>    metrics.metrics_add_discard_failure(1);</div>
<div class="line"><span class="lineno">   84</span>  }</div>
<div class="line"><span class="lineno">   85</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a5918fa48177cf34b10fef220c8fc719f"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5918fa48177cf34b10fef220c8fc719f">srsran::rlc_sdu_queue_lockfree::try_discard</a></div><div class="ttdeci">bool try_discard(uint32_t pdcp_sn)</div><div class="ttdoc">Marks an RLC SDU as &quot;discarded&quot;, if possible.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:127</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad537c8977ec07d1075bd3cbca4cd5b1f" name="ad537c8977ec07d1075bd3cbca4cd5b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad537c8977ec07d1075bd3cbca4cd5b1f">&#9670;&#160;</a></span>get_buffer_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rlc_tx_um_entity::get_buffer_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the buffer status information This function provides the current buffer state of the RLC TX entity. This is the gross total size required to fully flush the TX entity (potentially by multiple calls to pull_pdu). </p>
<dl class="section return"><dt>Returns</dt><dd>Provides the current buffer state </dd></dl>

<p>Implements <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html#a7cbb36d4595cc433e55261341ccc641a">srsran::rlc_tx_lower_layer_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>  std::lock_guard&lt;std::mutex&gt; lock(mutex);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  <span class="comment">// minimum bytes needed to tx all queued SDUs + each header</span></div>
<div class="line"><span class="lineno">  272</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">queue_bytes</a> = sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#ab2d800cfef5a9542f480da984fc3e2d0">size_bytes</a>() + sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a4c4aca80a693e78a7030d130e1116c09">size_sdus</a>() * head_len_full;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>  <span class="comment">// minimum bytes needed to tx SDU under segmentation + header (if applicable)</span></div>
<div class="line"><span class="lineno">  275</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segment_bytes</a> = 0;</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a4d77b44f1d800f8b2f92bb76e80512f3">empty</a>()) {</div>
<div class="line"><span class="lineno">  277</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segment_bytes</a> = (sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>() - next_so) + head_len_not_first;</div>
<div class="line"><span class="lineno">  278</span>  }</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">queue_bytes</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segment_bytes</a>;</div>
<div class="line"><span class="lineno">  281</span>}</div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer_html_a4d77b44f1d800f8b2f92bb76e80512f3"><div class="ttname"><a href="../../d0/d87/classsrsran_1_1byte__buffer.html#a4d77b44f1d800f8b2f92bb76e80512f3">srsran::byte_buffer::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Checks whether byte_buffer is empty.</div><div class="ttdef"><b>Definition</b> byte_buffer.h:327</div></div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer_html_a7168fb8841a83a60b60a2ae06b59662d"><div class="ttname"><a href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">srsran::byte_buffer::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdoc">Checks byte_buffer length.</div><div class="ttdef"><b>Definition</b> byte_buffer.h:330</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a4c4aca80a693e78a7030d130e1116c09"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a4c4aca80a693e78a7030d130e1116c09">srsran::rlc_sdu_queue_lockfree::size_sdus</a></div><div class="ttdeci">uint32_t size_sdus() const</div><div class="ttdoc">Reads the number of buffered SDUs that are not marked as discarded.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:205</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_ab2d800cfef5a9542f480da984fc3e2d0"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#ab2d800cfef5a9542f480da984fc3e2d0">srsran::rlc_sdu_queue_lockfree::size_bytes</a></div><div class="ttdeci">uint32_t size_bytes() const</div><div class="ttdoc">Reads the number of buffered SDU bytes that are not marked as discarded.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:212</div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="../../d3/d87/classuint32__t.html">uint32_t</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add07a68147d63b9fbf12b0607537dfe1" name="add07a68147d63b9fbf12b0607537dfe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add07a68147d63b9fbf12b0607537dfe1">&#9670;&#160;</a></span>handle_sdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> rlc_tx_um_entity::handle_sdu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d76/structsrsran_1_1rlc__sdu.html">rlc_sdu</a></td>          <td class="paramname"><span class="paramname"><em>sdu</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface for higher layers to pass SDUs into RLC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdu</td><td>SDU to be handled </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d0/dc9/classsrsran_1_1rlc__tx__upper__layer__data__interface.html#a3672e8658872f39bbcbb61afa9a05235">srsran::rlc_tx_upper_layer_data_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordtype">size_t</span> sdu_length    = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.buf.length();</div>
<div class="line"><span class="lineno">   58</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.time_of_arrival = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordflow">if</span> (sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a1a653b33da96f2caea9471794877464c">write</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>)) {</div>
<div class="line"><span class="lineno">   60</span>    logger.log_info(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.buf.begin(),</div>
<div class="line"><span class="lineno">   61</span>                    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.buf.end(),</div>
<div class="line"><span class="lineno">   62</span>                    <span class="stringliteral">&quot;TX SDU. sdu_len={} pdcp_sn={} {}&quot;</span>,</div>
<div class="line"><span class="lineno">   63</span>                    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.buf.length(),</div>
<div class="line"><span class="lineno">   64</span>                    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.pdcp_sn,</div>
<div class="line"><span class="lineno">   65</span>                    sdu_queue);</div>
<div class="line"><span class="lineno">   66</span>    metrics.metrics_add_sdus(1, sdu_length);</div>
<div class="line"><span class="lineno">   67</span>    handle_changed_buffer_state();</div>
<div class="line"><span class="lineno">   68</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   69</span>    logger.log_info(<span class="stringliteral">&quot;Dropped SDU. sdu_len={} pdcp_sn={} {}&quot;</span>, sdu_length, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sdu_</a>.pdcp_sn, sdu_queue);</div>
<div class="line"><span class="lineno">   70</span>    metrics.metrics_add_lost_sdus(1);</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span>}</div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a1a653b33da96f2caea9471794877464c"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a1a653b33da96f2caea9471794877464c">srsran::rlc_sdu_queue_lockfree::write</a></div><div class="ttdeci">bool write(rlc_sdu sdu)</div><div class="ttdoc">Writes an RLC SDU (with optional PDCP SN) to the queue, if possible.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:74</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f352f1b277d06618a880ec70c39d5c3" name="a8f352f1b277d06618a880ec70c39d5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f352f1b277d06618a880ec70c39d5c3">&#9670;&#160;</a></span>pull_pdu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t rlc_tx_um_entity::pull_pdu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>rlc_pdu_buf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pulls a PDU from the lower end of the RLC TX entity No PDU is written if the size of <code>rlc_pdu_buf</code> is insufficient or the TX buffer is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rlc_pdu_buf</td><td>TX buffer where to encode an RLC Tx PDU. The encoded PDU size cannot exceed the size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes taken by the written RLC PDU. </dd></dl>

<p>Implements <a class="el" href="../../d3/d04/classsrsran_1_1rlc__tx__lower__layer__interface.html#acdd2d3757d55392f35627a2a05e1fbcf">srsran::rlc_tx_lower_layer_interface</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>.size();</div>
<div class="line"><span class="lineno">   91</span>  logger.log_debug(<span class="stringliteral">&quot;MAC opportunity. grant_len={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>  <span class="comment">// Check available space -- we need at least the minimum header + 1 payload Byte</span></div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a> &lt;= head_len_full) {</div>
<div class="line"><span class="lineno">   95</span>    logger.log_debug(<span class="stringliteral">&quot;Cannot fit SDU into grant_len={}. head_len_full={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>, head_len_full);</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   97</span>  }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <span class="comment">// Multiple threads can read from the SDU queue and change the</span></div>
<div class="line"><span class="lineno">  100</span>  <span class="comment">// RLC UM TX state (current SDU, tx_next and next_so).</span></div>
<div class="line"><span class="lineno">  101</span>  <span class="comment">// As such we need to lock to access these variables.</span></div>
<div class="line"><span class="lineno">  102</span>  std::lock_guard&lt;std::mutex&gt; lock(mutex);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <span class="comment">// Get a new SDU, if none is currently being transmitted</span></div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">if</span> (sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a4d77b44f1d800f8b2f92bb76e80512f3">empty</a>()) {</div>
<div class="line"><span class="lineno">  106</span>    srsran_sanity_check(next_so == 0, <span class="stringliteral">&quot;New TX SDU, but next_so={} &gt; 0.&quot;</span>, next_so);</div>
<div class="line"><span class="lineno">  107</span>    logger.log_debug(<span class="stringliteral">&quot;Reading SDU from sdu_queue. {}&quot;</span>, sdu_queue);</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> sdu_queue.<a class="code hl_function" href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5b2d6733746aaf17fd87a0743ba52501">read</a>(sdu)) {</div>
<div class="line"><span class="lineno">  109</span>      logger.log_debug(<span class="stringliteral">&quot;SDU queue empty. grant_len={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  110</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  111</span>    }</div>
<div class="line"><span class="lineno">  112</span>    logger.log_debug(<span class="stringliteral">&quot;Read SDU. sn={} pdcp_sn={} sdu_len={}&quot;</span>, st.<a class="code hl_variable" href="../../d2/d45/structsrsran_1_1rlc__tx__um__state.html#a6383b6ef13590b12ffdcbda9b03ba4be">tx_next</a>, sdu.pdcp_sn, sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>());</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    <span class="comment">// Notify the upper layer about the beginning of the transfer of the current SDU</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> (sdu.pdcp_sn.<a class="code hl_function" href="../../d1/d57/classsrsran_1_1optional.html#a2f160539a76c3f4dd0b50b339b81202e">has_value</a>()) {</div>
<div class="line"><span class="lineno">  116</span>      upper_dn.<a class="code hl_function" href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html#aa6056abcbe99afbd8359eb5617fd1687">on_transmitted_sdu</a>(sdu.pdcp_sn.value());</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span>  }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>  <span class="comment">// Prepare header</span></div>
<div class="line"><span class="lineno">  121</span>  <a class="code hl_struct" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html">rlc_um_pdu_header</a> header = {};</div>
<div class="line"><span class="lineno">  122</span>  header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#af8b1b6059c25d2772c2409b14f03bf1a">sn</a>                = st.<a class="code hl_variable" href="../../d2/d45/structsrsran_1_1rlc__tx__um__state.html#a6383b6ef13590b12ffdcbda9b03ba4be">tx_next</a>;</div>
<div class="line"><span class="lineno">  123</span>  header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#a3081b872c91bb3a49153b8a1b0cdcf44">sn_size</a>           = cfg.<a class="code hl_variable" href="../../d7/d42/structsrsran_1_1rlc__tx__um__config.html#ac5bff1bdd61720b654de8a9cc1afe73c">sn_field_length</a>;</div>
<div class="line"><span class="lineno">  124</span>  header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#a576b3037ef830805618ce863e585db93">so</a>                = next_so;</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>  <span class="comment">// Get SI and expected header size</span></div>
<div class="line"><span class="lineno">  127</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">expected_hdr_len</a> = 0;</div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> get_si_and_expected_header_size(next_so, sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>(), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>, header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">expected_hdr_len</a>)) {</div>
<div class="line"><span class="lineno">  129</span>    logger.log_debug(</div>
<div class="line"><span class="lineno">  130</span>        <span class="stringliteral">&quot;Cannot fit any payload into grant_len={}. expected_hdr_len={} si={}&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">expected_hdr_len</a>, header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a>);</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  132</span>  }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  <span class="comment">// Pack header</span></div>
<div class="line"><span class="lineno">  135</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a> = rlc_um_write_data_pdu_header(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>, header);</div>
<div class="line"><span class="lineno">  136</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">expected_hdr_len</a>,</div>
<div class="line"><span class="lineno">  137</span>                      <span class="stringliteral">&quot;Failed to write header. header_len={} expected_hdr_len={}&quot;</span>,</div>
<div class="line"><span class="lineno">  138</span>                      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a>,</div>
<div class="line"><span class="lineno">  139</span>                      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">expected_hdr_len</a>);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>  <span class="comment">// Calculate the amount of data to move</span></div>
<div class="line"><span class="lineno">  142</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> space       = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a> - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a>;</div>
<div class="line"><span class="lineno">  143</span>  <a class="code hl_class" href="../../d3/d87/classuint32__t.html">uint32_t</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a> = space &gt;= sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>() - next_so ? sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>() - next_so : space;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>  <span class="comment">// Log PDU info</span></div>
<div class="line"><span class="lineno">  146</span>  logger.log_debug(<span class="stringliteral">&quot;Creating PDU. si={} payload_len={} header_len={} sdu_len={} grant_len={}&quot;</span>,</div>
<div class="line"><span class="lineno">  147</span>                   header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a>,</div>
<div class="line"><span class="lineno">  148</span>                   <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a>,</div>
<div class="line"><span class="lineno">  149</span>                   <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a>,</div>
<div class="line"><span class="lineno">  150</span>                   sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7168fb8841a83a60b60a2ae06b59662d">length</a>(),</div>
<div class="line"><span class="lineno">  151</span>                   <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>  <span class="comment">// Assemble PDU</span></div>
<div class="line"><span class="lineno">  154</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nwritten</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a25b3f3ac88ceac35444d218355d229f9">copy_segments</a>(<a class="code hl_class" href="../../d0/d72/classsrsran_1_1byte__buffer__view.html">byte_buffer_view</a>{sdu.buf, next_so, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a>},</div>
<div class="line"><span class="lineno">  155</span>                                  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>.subspan(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>.size() - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a>));</div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nwritten</a> == 0 || <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nwritten</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a>) {</div>
<div class="line"><span class="lineno">  157</span>    logger.log_error(<span class="stringliteral">&quot;Could not write PDU payload. {} payload_len={} grant_len={}&quot;</span>, header, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  159</span>  }</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>  <span class="keywordtype">size_t</span> pdu_size = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">header_len</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nwritten</a>;</div>
<div class="line"><span class="lineno">  162</span>  logger.log_info(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>.data(), pdu_size, <span class="stringliteral">&quot;TX PDU. {} pdu_size={} grant_len={}&quot;</span>, header, pdu_size, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">grant_len</a>);</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>  <span class="comment">// Release SDU if needed</span></div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">if</span> (header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a> == <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798a4dff537721d1435566e8a133eeac2bdf">rlc_si_field::full_sdu</a> || header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a> == <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798ad1cd941e9361399f0433d63e6f7d7c76">rlc_si_field::last_segment</a>) {</div>
<div class="line"><span class="lineno">  166</span>    sdu.buf.<a class="code hl_function" href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7c8882b6403ea3f246d63c64dd122f10">clear</a>();</div>
<div class="line"><span class="lineno">  167</span>    next_so      = 0;</div>
<div class="line"><span class="lineno">  168</span>    <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">latency</a> = std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(std::chrono::high_resolution_clock::now() -</div>
<div class="line"><span class="lineno">  169</span>                                                                        sdu.time_of_arrival);</div>
<div class="line"><span class="lineno">  170</span>    metrics.metrics_add_sdu_latency_us(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">latency</a>.count() / 1000);</div>
<div class="line"><span class="lineno">  171</span>    metrics.metrics_add_pulled_sdus(1);</div>
<div class="line"><span class="lineno">  172</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">// advance SO offset</span></div>
<div class="line"><span class="lineno">  174</span>    next_so += <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">payload_len</a>;</div>
<div class="line"><span class="lineno">  175</span>  }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  <span class="comment">// Update SN if needed</span></div>
<div class="line"><span class="lineno">  178</span>  <span class="keywordflow">if</span> (header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a> == <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798ad1cd941e9361399f0433d63e6f7d7c76">rlc_si_field::last_segment</a>) {</div>
<div class="line"><span class="lineno">  179</span>    st.<a class="code hl_variable" href="../../d2/d45/structsrsran_1_1rlc__tx__um__state.html#a6383b6ef13590b12ffdcbda9b03ba4be">tx_next</a> = (st.<a class="code hl_variable" href="../../d2/d45/structsrsran_1_1rlc__tx__um__state.html#a6383b6ef13590b12ffdcbda9b03ba4be">tx_next</a> + 1) % mod;</div>
<div class="line"><span class="lineno">  180</span>  }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>  <span class="comment">// Update metrics</span></div>
<div class="line"><span class="lineno">  183</span>  <span class="keywordflow">if</span> (header.<a class="code hl_variable" href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">si</a> == <a class="code hl_enumvalue" href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798a4dff537721d1435566e8a133eeac2bdf">rlc_si_field::full_sdu</a>) {</div>
<div class="line"><span class="lineno">  184</span>    metrics.metrics_add_pdus_no_segmentation(1, pdu_size);</div>
<div class="line"><span class="lineno">  185</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  186</span>    metrics.metrics_add_pdus_with_segmentation_um(1, pdu_size);</div>
<div class="line"><span class="lineno">  187</span>  }</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>  <span class="comment">// Log state</span></div>
<div class="line"><span class="lineno">  190</span>  log_state(srslog::basic_levels::debug);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>  pcap.push_pdu(pcap_context, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mac_sdu_buf</a>.subspan(0, pdu_size));</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">return</span> pdu_size;</div>
<div class="line"><span class="lineno">  195</span>}</div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer__view_html"><div class="ttname"><a href="../../d0/d72/classsrsran_1_1byte__buffer__view.html">srsran::byte_buffer_view</a></div><div class="ttdoc">Non-owning view to a byte sequence. The underlying byte sequence is not contiguous in memory....</div><div class="ttdef"><b>Definition</b> byte_buffer.h:46</div></div>
<div class="ttc" id="aclasssrsran_1_1byte__buffer_html_a7c8882b6403ea3f246d63c64dd122f10"><div class="ttname"><a href="../../d0/d87/classsrsran_1_1byte__buffer.html#a7c8882b6403ea3f246d63c64dd122f10">srsran::byte_buffer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear byte buffer.</div><div class="ttdef"><b>Definition</b> byte_buffer.h:316</div></div>
<div class="ttc" id="aclasssrsran_1_1optional_html_a2f160539a76c3f4dd0b50b339b81202e"><div class="ttname"><a href="../../d1/d57/classsrsran_1_1optional.html#a2f160539a76c3f4dd0b50b339b81202e">srsran::optional::has_value</a></div><div class="ttdeci">constexpr bool has_value() const noexcept</div><div class="ttdef"><b>Definition</b> optional.h:298</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__sdu__queue__lockfree_html_a5b2d6733746aaf17fd87a0743ba52501"><div class="ttname"><a href="../../da/d33/classsrsran_1_1rlc__sdu__queue__lockfree.html#a5b2d6733746aaf17fd87a0743ba52501">srsran::rlc_sdu_queue_lockfree::read</a></div><div class="ttdeci">bool read(rlc_sdu &amp;sdu)</div><div class="ttdoc">Reads an RLC SDU (with optional PDCP SN) from the queue, if possible.</div><div class="ttdef"><b>Definition</b> rlc_sdu_queue_lockfree.h:172</div></div>
<div class="ttc" id="aclasssrsran_1_1rlc__tx__upper__layer__data__notifier_html_aa6056abcbe99afbd8359eb5617fd1687"><div class="ttname"><a href="../../d7/d21/classsrsran_1_1rlc__tx__upper__layer__data__notifier.html#aa6056abcbe99afbd8359eb5617fd1687">srsran::rlc_tx_upper_layer_data_notifier::on_transmitted_sdu</a></div><div class="ttdeci">virtual void on_transmitted_sdu(uint32_t max_tx_pdcp_sn)=0</div><div class="ttdoc">Informs upper layer about the highest PDCP PDU sequence number of the PDCP PDU that was transmitted t...</div></div>
<div class="ttc" id="anamespacesrsran_html_a25b3f3ac88ceac35444d218355d229f9"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a25b3f3ac88ceac35444d218355d229f9">srsran::copy_segments</a></div><div class="ttdeci">size_t copy_segments(const ByteBufferType &amp;src, span&lt; uint8_t &gt; dst)</div><div class="ttdef"><b>Definition</b> byte_buffer.h:663</div></div>
<div class="ttc" id="anamespacesrsran_html_a325c27da08346f5cd691cc27c8149798a4dff537721d1435566e8a133eeac2bdf"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798a4dff537721d1435566e8a133eeac2bdf">srsran::rlc_si_field::full_sdu</a></div><div class="ttdeci">@ full_sdu</div><div class="ttdoc">Full SDU.</div></div>
<div class="ttc" id="anamespacesrsran_html_a325c27da08346f5cd691cc27c8149798ad1cd941e9361399f0433d63e6f7d7c76"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a325c27da08346f5cd691cc27c8149798ad1cd941e9361399f0433d63e6f7d7c76">srsran::rlc_si_field::last_segment</a></div><div class="ttdeci">@ last_segment</div><div class="ttdoc">Last SDU segment.</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__tx__um__state_html_a6383b6ef13590b12ffdcbda9b03ba4be"><div class="ttname"><a href="../../d2/d45/structsrsran_1_1rlc__tx__um__state.html#a6383b6ef13590b12ffdcbda9b03ba4be">srsran::rlc_tx_um_state::tx_next</a></div><div class="ttdeci">uint32_t tx_next</div><div class="ttdoc">TX_Next – UM send state variable It holds the value of the SN to be assigned for the next newly gener...</div><div class="ttdef"><b>Definition</b> rlc_tx_um_entity.h:43</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__um__pdu__header_html"><div class="ttname"><a href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html">srsran::rlc_um_pdu_header</a></div><div class="ttdef"><b>Definition</b> rlc_um_pdu.h:63</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__um__pdu__header_html_a3081b872c91bb3a49153b8a1b0cdcf44"><div class="ttname"><a href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#a3081b872c91bb3a49153b8a1b0cdcf44">srsran::rlc_um_pdu_header::sn_size</a></div><div class="ttdeci">rlc_um_sn_size sn_size</div><div class="ttdoc">Sequence number size (6 or 12 bits)</div><div class="ttdef"><b>Definition</b> rlc_um_pdu.h:65</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__um__pdu__header_html_a576b3037ef830805618ce863e585db93"><div class="ttname"><a href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#a576b3037ef830805618ce863e585db93">srsran::rlc_um_pdu_header::so</a></div><div class="ttdeci">uint16_t so</div><div class="ttdoc">Segment offset.</div><div class="ttdef"><b>Definition</b> rlc_um_pdu.h:67</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__um__pdu__header_html_ad32a4861ad04c56f44937c696639fee3"><div class="ttname"><a href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#ad32a4861ad04c56f44937c696639fee3">srsran::rlc_um_pdu_header::si</a></div><div class="ttdeci">rlc_si_field si</div><div class="ttdoc">Segmentation info.</div><div class="ttdef"><b>Definition</b> rlc_um_pdu.h:64</div></div>
<div class="ttc" id="astructsrsran_1_1rlc__um__pdu__header_html_af8b1b6059c25d2772c2409b14f03bf1a"><div class="ttname"><a href="../../d6/d50/structsrsran_1_1rlc__um__pdu__header.html#af8b1b6059c25d2772c2409b14f03bf1a">srsran::rlc_um_pdu_header::sn</a></div><div class="ttdeci">uint16_t sn</div><div class="ttdoc">Sequence number.</div><div class="ttdef"><b>Definition</b> rlc_um_pdu.h:66</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/rlc/<a class="el" href="../../d2/dba/rlc__tx__um__entity_8h_source.html">rlc_tx_um_entity.h</a></li>
<li>lib/rlc/<b>rlc_tx_um_entity.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
