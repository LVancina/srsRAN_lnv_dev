<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::prach_detector_generic_impl Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../d9/df1/classsrsran_1_1prach__detector__generic__impl.html">prach_detector_generic_impl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d8/d34/classsrsran_1_1prach__detector__generic__impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::prach_detector_generic_impl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a simple PRACH detector.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d14/prach__detector__generic__impl_8h_source.html">prach_detector_generic_impl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for srsran::prach_detector_generic_impl:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dd4/classsrsran_1_1prach__detector__generic__impl__inherit__graph.png" border="0" usemap="#asrsran_1_1prach__detector__generic__impl_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1prach__detector__generic__impl_inherit__map" id="asrsran_1_1prach__detector__generic__impl_inherit__map">
<area shape="rect" title="Implements a simple PRACH detector." alt="" coords="5,139,187,253"/>
<area shape="rect" href="../../db/d27/classsrsran_1_1prach__detector.html" title="Describes a PRACH detector interface." alt="" coords="17,5,175,91"/>
<area shape="poly" title=" " alt="" coords="99,105,99,138,93,138,93,105"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::prach_detector_generic_impl:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d9f/classsrsran_1_1prach__detector__generic__impl__coll__graph.png" border="0" usemap="#asrsran_1_1prach__detector__generic__impl_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1prach__detector__generic__impl_coll__map" id="asrsran_1_1prach__detector__generic__impl_coll__map">
<area shape="rect" title="Implements a simple PRACH detector." alt="" coords="5,139,187,253"/>
<area shape="rect" href="../../db/d27/classsrsran_1_1prach__detector.html" title="Describes a PRACH detector interface." alt="" coords="17,5,175,91"/>
<area shape="poly" title=" " alt="" coords="99,105,99,138,93,138,93,105"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3d3f217783b91e8d3341fd914e5e6555" id="r_a3d3f217783b91e8d3341fd914e5e6555"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d3f217783b91e8d3341fd914e5e6555">prach_detector_generic_impl</a> (std::unique_ptr&lt; <a class="el" href="../../dd/d92/classsrsran_1_1dft__processor.html">dft_processor</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_</a>, std::unique_ptr&lt; <a class="el" href="../../dd/d92/classsrsran_1_1dft__processor.html">dft_processor</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_short_</a>, std::unique_ptr&lt; <a class="el" href="../../d0/d08/classsrsran_1_1prach__generator.html">prach_generator</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_</a>, <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combine_symbols_</a>)</td></tr>
<tr class="memdesc:a3d3f217783b91e8d3341fd914e5e6555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor - Acquires ownership of the internal components.  <br /></td></tr>
<tr class="separator:a3d3f217783b91e8d3341fd914e5e6555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d2486eca2484e1f62eef6f00c8502d" id="r_ae6d2486eca2484e1f62eef6f00c8502d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d36/structsrsran_1_1prach__detection__result.html">prach_detection_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6d2486eca2484e1f62eef6f00c8502d">detect</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/d93/classsrsran_1_1prach__buffer.html">prach_buffer</a> &amp;input, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d9/de7/structsrsran_1_1prach__detector_1_1configuration.html">configuration</a> &amp;config) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ae6d2486eca2484e1f62eef6f00c8502d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects PRACH transmissions according to the given configuration.  <br /></td></tr>
<tr class="separator:ae6d2486eca2484e1f62eef6f00c8502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1prach__detector"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1prach__detector')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../db/d27/classsrsran_1_1prach__detector.html">srsran::prach_detector</a></td></tr>
<tr class="memitem:a3c9c11791b83914b8233fbadbfbc9d8d inherit pub_methods_classsrsran_1_1prach__detector" id="r_a3c9c11791b83914b8233fbadbfbc9d8d"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><b>~prach_detector</b> ()=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">default</a></td></tr>
<tr class="memdesc:a3c9c11791b83914b8233fbadbfbc9d8d inherit pub_methods_classsrsran_1_1prach__detector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br /></td></tr>
<tr class="separator:a3c9c11791b83914b8233fbadbfbc9d8d inherit pub_methods_classsrsran_1_1prach__detector"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a simple PRACH detector. </p>
<p>Detects PRACH sequences from the frequency-domain channel samples. The detector is inspired by the generalized log-likelihood ratio detection test. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3d3f217783b91e8d3341fd914e5e6555" name="a3d3f217783b91e8d3341fd914e5e6555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3f217783b91e8d3341fd914e5e6555">&#9670;&#160;</a></span>prach_detector_generic_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">prach_detector_generic_impl::prach_detector_generic_impl </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../dd/d92/classsrsran_1_1dft__processor.html">dft_processor</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>idft_long_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../dd/d92/classsrsran_1_1dft__processor.html">dft_processor</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>idft_short_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../d0/d08/classsrsran_1_1prach__generator.html">prach_generator</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>generator_</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>combine_symbols_</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor - Acquires ownership of the internal components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">idft_long_</td><td>Inverse DFT processor for long preambles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idft_short_</td><td>Inverse DFT processor for short preambles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">generator_</td><td>PRACH frequency-domain sequence generator. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">combine_symbols_</td><td>Set to true for combining PRACH symbols for each port. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Assertions are triggered if the IDFT sizes are smaller than their sequences or greater than <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">MAX_DFT_SIZE</a>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                                                                                            :</div>
<div class="line"><span class="lineno">   62</span>  temp(),</div>
<div class="line"><span class="lineno">   63</span>  temp2(),</div>
<div class="line"><span class="lineno">   64</span>  idft_long(std::move(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_</a>)),</div>
<div class="line"><span class="lineno">   65</span>  idft_short(std::move(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_short_</a>)),</div>
<div class="line"><span class="lineno">   66</span>  generator(std::move(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_</a>)),</div>
<div class="line"><span class="lineno">   67</span>  combine_symbols(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combine_symbols_</a>)</div>
<div class="line"><span class="lineno">   68</span>{</div>
<div class="line"><span class="lineno">   69</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_class" href="../../d4/d3c/classsrsran_1_1interval.html">interval&lt;unsigned, true&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_sz_range</a>(prach_constants::LONG_SEQUENCE_LENGTH, MAX_IDFT_SIZE);</div>
<div class="line"><span class="lineno">   70</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_class" href="../../d4/d3c/classsrsran_1_1interval.html">interval&lt;unsigned, true&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_short_sz_range</a>(prach_constants::SHORT_SEQUENCE_LENGTH, MAX_IDFT_SIZE);</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>  <span class="comment">// Verify IDFT for long preambles.</span></div>
<div class="line"><span class="lineno">   73</span>  srsran_assert(idft_long, <span class="stringliteral">&quot;Invalid IDFT processor.&quot;</span>);</div>
<div class="line"><span class="lineno">   74</span>  srsran_assert(idft_long-&gt;get_direction() == <a class="code hl_enumvalue" href="../../dd/d92/classsrsran_1_1dft__processor.html#ad6d2dd1eff168ecf482b422a7c363d40a1955bdc302911f376074eb9b02e56639">dft_processor::direction::INVERSE</a>, <span class="stringliteral">&quot;Expected IDFT.&quot;</span>);</div>
<div class="line"><span class="lineno">   75</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_sz_range</a>.contains(idft_long-&gt;get_size()),</div>
<div class="line"><span class="lineno">   76</span>                <span class="stringliteral">&quot;IDFT size for long preambles (i.e., {}) must be in range {}.&quot;</span>,</div>
<div class="line"><span class="lineno">   77</span>                idft_long-&gt;get_size(),</div>
<div class="line"><span class="lineno">   78</span>                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_sz_range</a>);</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  <span class="comment">// Verify IDFT for short preambles.</span></div>
<div class="line"><span class="lineno">   81</span>  srsran_assert(idft_short, <span class="stringliteral">&quot;Invalid IDFT processor.&quot;</span>);</div>
<div class="line"><span class="lineno">   82</span>  srsran_assert(idft_short-&gt;get_direction() == <a class="code hl_enumvalue" href="../../dd/d92/classsrsran_1_1dft__processor.html#ad6d2dd1eff168ecf482b422a7c363d40a1955bdc302911f376074eb9b02e56639">dft_processor::direction::INVERSE</a>, <span class="stringliteral">&quot;Expected IDFT.&quot;</span>);</div>
<div class="line"><span class="lineno">   83</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_short_sz_range</a>.contains(idft_short-&gt;get_size()),</div>
<div class="line"><span class="lineno">   84</span>                <span class="stringliteral">&quot;IDFT size for short preambles (i.e., {}) must be in range {}.&quot;</span>,</div>
<div class="line"><span class="lineno">   85</span>                idft_short-&gt;get_size(),</div>
<div class="line"><span class="lineno">   86</span>                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_long_sz_range</a>);</div>
<div class="line"><span class="lineno">   87</span>};</div>
<div class="ttc" id="aclasssrsran_1_1dft__processor_html_ad6d2dd1eff168ecf482b422a7c363d40a1955bdc302911f376074eb9b02e56639"><div class="ttname"><a href="../../dd/d92/classsrsran_1_1dft__processor.html#ad6d2dd1eff168ecf482b422a7c363d40a1955bdc302911f376074eb9b02e56639">srsran::dft_processor::direction::INVERSE</a></div><div class="ttdeci">@ INVERSE</div><div class="ttdoc">Converts a frequency domain signal into frequency (inverse DFT).</div></div>
<div class="ttc" id="aclasssrsran_1_1interval_html"><div class="ttname"><a href="../../d4/d3c/classsrsran_1_1interval.html">srsran::interval</a></div><div class="ttdoc">Representation of an interval between two numeric-types with the math representation [start,...</div><div class="ttdef"><b>Definition</b> interval.h:36</div></div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6d2486eca2484e1f62eef6f00c8502d" name="ae6d2486eca2484e1f62eef6f00c8502d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d2486eca2484e1f62eef6f00c8502d">&#9670;&#160;</a></span>detect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d36/structsrsran_1_1prach__detection__result.html">prach_detection_result</a> prach_detector_generic_impl::detect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/d93/classsrsran_1_1prach__buffer.html">prach_buffer</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>input</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d9/de7/structsrsran_1_1prach__detector_1_1configuration.html">configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects PRACH transmissions according to the given configuration. </p>
<p>The PRACH detector assumes that <code>signal</code> is captured at the start of the PRACH reception window and it is at least as long as the PRACH preamble sequence.</p>
<p>An assertion is triggered if the sum of start preamble index and number of preambles exceeds 64.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>Baseband signal buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>PRACH configuration for the slot. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The detection result. </dd></dl>

<p>Implements <a class="el" href="../../db/d27/classsrsran_1_1prach__detector.html#ad67df2539b0a3aebb896faff1b401f41">srsran::prach_detector</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{</div>
<div class="line"><span class="lineno">   91</span>  srsran_assert(config.start_preamble_index + config.nof_preamble_indices &lt;= prach_constants::MAX_NUM_PREAMBLES,</div>
<div class="line"><span class="lineno">   92</span>                <span class="stringliteral">&quot;The start preamble index (i.e., {}) and the number of preambles to detect (i.e., {}), exceed the &quot;</span></div>
<div class="line"><span class="lineno">   93</span>                <span class="stringliteral">&quot;maximum of 64.&quot;</span>,</div>
<div class="line"><span class="lineno">   94</span>                config.start_preamble_index,</div>
<div class="line"><span class="lineno">   95</span>                config.nof_preamble_indices);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>  <span class="comment">// Get preamble information.</span></div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_struct" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html">prach_preamble_information</a> preamble_info;</div>
<div class="line"><span class="lineno">   99</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">is_long_preamble</a>(config.format)) {</div>
<div class="line"><span class="lineno">  100</span>    preamble_info = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a41d072dc823c78c2627da83a877dcf5a">get_prach_preamble_long_info</a>(config.format);</div>
<div class="line"><span class="lineno">  101</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  102</span>    preamble_info = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a33cfd882b612da5eceff76a95662d0b3">get_prach_preamble_short_info</a>(config.format, config.ra_scs, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  103</span>  }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="comment">// Get cyclic shift.</span></div>
<div class="line"><span class="lineno">  106</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#aafa4c456e58b29f8804fedc599ab8710">prach_cyclic_shifts_get</a>(config.ra_scs, config.restricted_set, config.zero_correlation_zone);</div>
<div class="line"><span class="lineno">  107</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> != PRACH_CYCLIC_SHIFTS_RESERVED, <span class="stringliteral">&quot;Reserved cyclic shift.&quot;</span>);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <span class="comment">// Get sequence length.</span></div>
<div class="line"><span class="lineno">  110</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> = prach_constants::LONG_SEQUENCE_LENGTH;</div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a7c2e3c58a56b57be024f8bfc3271186d">is_short_preamble</a>(config.format)) {</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> = prach_constants::SHORT_SEQUENCE_LENGTH;</div>
<div class="line"><span class="lineno">  113</span>  }</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>  <span class="comment">// Gets the number of preambles using the same root sequence (i.e., the number of cyclic shifts) and the total</span></div>
<div class="line"><span class="lineno">  116</span>  <span class="comment">// number of root sequences needed.</span></div>
<div class="line"><span class="lineno">  117</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>    = 1;</div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_sequences</a> = 64;</div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> != 0) {</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>    = std::min(prach_constants::MAX_NUM_PREAMBLES, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> / <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a>);</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_sequences</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a6e5aee1d553dc6e825017842e4059adb">divide_ceil</a>(64, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>);</div>
<div class="line"><span class="lineno">  122</span>  }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// Select IDFT processor.</span></div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_class" href="../../dd/d92/classsrsran_1_1dft__processor.html">dft_processor</a>&amp; idft = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">is_long_preamble</a>(config.format) ? *idft_long : *idft_short;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>  <span class="comment">// Get DFT size.</span></div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordtype">unsigned</span> dft_size = idft.<a class="code hl_function" href="../../dd/d92/classsrsran_1_1dft__processor.html#afcb93862572be80c25306a1a627b3d07">get_size</a>();</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>  <span class="comment">// Deduce sampling rate.</span></div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordtype">double</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sample_rate_Hz</a> = dft_size * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a4172874a14aceea21d35086683d66f1b">ra_scs_to_Hz</a>(preamble_info.<a class="code hl_variable" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a1cf7f9574b0a8249a736a0b6f39b6f1e">scs</a>);</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>  <span class="comment">// Calculate cyclic prefix duration in seconds.</span></div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordtype">double</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_duration</a> = preamble_info.<a class="code hl_variable" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a3b327e535ddff17fbba0e2f9b96169d3">cp_length</a>.<a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a2ff9cda97bc4196edee275927c1d9430">to_seconds</a>();</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>  <span class="comment">// Calculate cyclic prefix duration in the same units as Ncs.</span></div>
<div class="line"><span class="lineno">  137</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_prach</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(std::floor(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_duration</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a4172874a14aceea21d35086683d66f1b">ra_scs_to_Hz</a>(preamble_info.<a class="code hl_variable" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a1cf7f9574b0a8249a736a0b6f39b6f1e">scs</a>)));</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>  <span class="comment">// Calculate the window width for each shift and convert it to the correlation sampling rate.</span></div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a> = std::min(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_prach</a>);</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> == 0) {</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_prach</a>;</div>
<div class="line"><span class="lineno">  143</span>  }</div>
<div class="line"><span class="lineno">  144</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a> = (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a> * dft_size) / <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  <span class="comment">// Select window margin and threshold.</span></div>
<div class="line"><span class="lineno">  147</span>  detail::threshold_params <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>;</div>
<div class="line"><span class="lineno">  148</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>.nof_rx_ports          = config.nof_rx_ports;</div>
<div class="line"><span class="lineno">  149</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>.scs                   = config.ra_scs;</div>
<div class="line"><span class="lineno">  150</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>.format                = config.format;</div>
<div class="line"><span class="lineno">  151</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>.zero_correlation_zone = config.zero_correlation_zone;</div>
<div class="line"><span class="lineno">  152</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>.combine_symbols       = combine_symbols;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>  <span class="keyword">auto</span>     <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_and_margin</a> = threshold_and_margin_table.get(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_params</a>);</div>
<div class="line"><span class="lineno">  155</span>  <span class="keywordtype">float</span>    threshold     = std::get&lt;0&gt;(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_and_margin</a>);</div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_margin</a>    = std::get&lt;1&gt;(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">th_and_margin</a>);</div>
<div class="line"><span class="lineno">  157</span>  srsran_assert((<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_margin</a> &gt; 0) &amp;&amp; (threshold &gt; 0.0),</div>
<div class="line"><span class="lineno">  158</span>                <span class="stringliteral">&quot;Window margin and threshold are not selected for the number of ports (i.e., {}) and the preamble &quot;</span></div>
<div class="line"><span class="lineno">  159</span>                <span class="stringliteral">&quot;format (i.e., {}).&quot;</span>,</div>
<div class="line"><span class="lineno">  160</span>                config.nof_rx_ports,</div>
<div class="line"><span class="lineno">  161</span>                <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a5fa5b607b51bce906141a06d7ecdebbf">to_string</a>(config.format));</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="comment">// Calculate maximum delay.</span></div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_delay_samples</a> = (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> == 0) ? <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_prach</a> : std::<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a2a7e19abbadc531788e0849e634c23c6">min</a>(std::<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a2918c0347dde854fce1aaebb70a16c33">max</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a>, 1U) - 1U, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">cp_prach</a>);</div>
<div class="line"><span class="lineno">  165</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_delay_samples</a>          = (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_delay_samples</a> * dft_size) / <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  <span class="comment">// Calculate number of symbols.</span></div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordtype">unsigned</span> nof_symbols =</div>
<div class="line"><span class="lineno">  169</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(preamble_info.<a class="code hl_variable" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#aef1493b57fbc2fdbc433976b4bdec7f4">symbol_length</a>.<a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a2ff9cda97bc4196edee275927c1d9430">to_seconds</a>() * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a4172874a14aceea21d35086683d66f1b">ra_scs_to_Hz</a>(preamble_info.<a class="code hl_variable" href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a1cf7f9574b0a8249a736a0b6f39b6f1e">scs</a>));</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_td_occasion</a> = 0;</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_fd_occasion</a> = 0;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>  <span class="comment">// Calculate RSSI.</span></div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordtype">float</span> rssi = 0.0F;</div>
<div class="line"><span class="lineno">  176</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a> != config.nof_rx_ports; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a>) {</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a> != nof_symbols; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a>) {</div>
<div class="line"><span class="lineno">  178</span>      rssi += srsvec::average_power(input.<a class="code hl_function" href="../../d0/d93/classsrsran_1_1prach__buffer.html#a9393f0ec690ad95fab986ae6d5d93fa3">get_symbol</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_td_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_fd_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a>));</div>
<div class="line"><span class="lineno">  179</span>    }</div>
<div class="line"><span class="lineno">  180</span>  }</div>
<div class="line"><span class="lineno">  181</span>  rssi /= <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(config.nof_rx_ports * nof_symbols * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <span class="comment">// Prepare results.</span></div>
<div class="line"><span class="lineno">  184</span>  <a class="code hl_struct" href="../../da/d36/structsrsran_1_1prach__detection__result.html">prach_detection_result</a> result;</div>
<div class="line"><span class="lineno">  185</span>  result.rssi_dB         = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a5756a255042b67673f46c371665d04ec">convert_power_to_dB</a>(rssi);</div>
<div class="line"><span class="lineno">  186</span>  result.time_resolution = <a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">phy_time_unit::from_seconds</a>(1.0 / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sample_rate_Hz</a>));</div>
<div class="line"><span class="lineno">  187</span>  result.time_advance_max =</div>
<div class="line"><span class="lineno">  188</span>      <a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">phy_time_unit::from_seconds</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_delay_samples</a>) * 0.8 / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sample_rate_Hz</a>));</div>
<div class="line"><span class="lineno">  189</span>  result.preambles.clear();</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="comment">// Early stop if the RSSI is zero.</span></div>
<div class="line"><span class="lineno">  192</span>  <span class="keywordflow">if</span> (!std::isnormal(rssi)) {</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  194</span>  }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="comment">// Get view of the IDFT input and zero it.</span></div>
<div class="line"><span class="lineno">  197</span>  <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;cf_t&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_input</a> = idft.<a class="code hl_function" href="../../dd/d92/classsrsran_1_1dft__processor.html#aa07d386497c47ca798864f6300937cab">get_input</a>();</div>
<div class="line"><span class="lineno">  198</span>  srsvec::zero(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_input</a>);</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_sequence</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_sequence</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_sequences</a>; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_sequence</a>) {</div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// Prepare root sequence configuration.</span></div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_struct" href="../../d9/d8a/structsrsran_1_1prach__generator_1_1configuration.html">prach_generator::configuration</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>;</div>
<div class="line"><span class="lineno">  203</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>.<a class="code hl_variable" href="../../d9/d8a/structsrsran_1_1prach__generator_1_1configuration.html#a6cd97abef53c40cddf6ee4d0b7dfd259">format</a>                = config.format;</div>
<div class="line"><span class="lineno">  204</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>.root_sequence_index   = config.root_sequence_index;</div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>.preamble_index        = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_sequence</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>;</div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>.restricted_set        = config.restricted_set;</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>.zero_correlation_zone = config.zero_correlation_zone;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="comment">// Generate root sequence.</span></div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;const cf_t&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">root</a> = generator-&gt;generate(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">generator_config</a>);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">// Prepare metric global numerator.</span></div>
<div class="line"><span class="lineno">  213</span>    metric_global_num.<a class="code hl_function" href="../../d9/df1/classsrsran_1_1static__tensor.html#aef91c69724fa16cb8ddefca0eb9d88d2">resize</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>});</div>
<div class="line"><span class="lineno">  214</span>    srsvec::zero(metric_global_num.<a class="code hl_function" href="../../d9/df1/classsrsran_1_1static__tensor.html#a4a29f86b7d16e71ffbe4a5e31f211f51">get_data</a>());</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="comment">// Prepare metric global denominator.</span></div>
<div class="line"><span class="lineno">  217</span>    metric_global_den.<a class="code hl_function" href="../../d9/df1/classsrsran_1_1static__tensor.html#aef91c69724fa16cb8ddefca0eb9d88d2">resize</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>});</div>
<div class="line"><span class="lineno">  218</span>    srsvec::zero(metric_global_den.<a class="code hl_function" href="../../d9/df1/classsrsran_1_1static__tensor.html#a4a29f86b7d16e71ffbe4a5e31f211f51">get_data</a>());</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="comment">// Iterate over all receive ports.</span></div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a> != config.nof_rx_ports; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a>) {</div>
<div class="line"><span class="lineno">  222</span>      <span class="comment">// Iterate all PRACH symbols if they are not combined, otherwise process only one PRACH symbol.</span></div>
<div class="line"><span class="lineno">  223</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a> = 0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol_end</a> = (combine_symbols) ? 1 : nof_symbols; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol_end</a>;</div>
<div class="line"><span class="lineno">  224</span>           ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a>) {</div>
<div class="line"><span class="lineno">  225</span>        <span class="comment">// Get view of the preamble.</span></div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;const cf_t&gt;</a> preamble = input.<a class="code hl_function" href="../../d0/d93/classsrsran_1_1prach__buffer.html#a9393f0ec690ad95fab986ae6d5d93fa3">get_symbol</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_td_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_fd_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_symbol</a>);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>        <span class="comment">// Combine symbols.</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">if</span> (combine_symbols &amp;&amp; (nof_symbols &gt; 1)) {</div>
<div class="line"><span class="lineno">  230</span>          <span class="comment">// Get a temporary destination for the symbol combination.</span></div>
<div class="line"><span class="lineno">  231</span>          <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;cf_t&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combined_symbols</a> = <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;cf_t&gt;</a>(cf_temp).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">first</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>          <span class="comment">// Copy the first PRACH symbol.</span></div>
<div class="line"><span class="lineno">  234</span>          srsvec::copy(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combined_symbols</a>, preamble);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>          <span class="comment">// Combine the rest of PRACH symbols.</span></div>
<div class="line"><span class="lineno">  237</span>          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_comb_symbol</a> = 1; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_comb_symbol</a> != nof_symbols; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_comb_symbol</a>) {</div>
<div class="line"><span class="lineno">  238</span>            srsvec::add(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combined_symbols</a>,</div>
<div class="line"><span class="lineno">  239</span>                        input.<a class="code hl_function" href="../../d0/d93/classsrsran_1_1prach__buffer.html#a9393f0ec690ad95fab986ae6d5d93fa3">get_symbol</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_port</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_td_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_fd_occasion</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_comb_symbol</a>),</div>
<div class="line"><span class="lineno">  240</span>                        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combined_symbols</a>);</div>
<div class="line"><span class="lineno">  241</span>          }</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>          preamble = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">combined_symbols</a>;</div>
<div class="line"><span class="lineno">  244</span>        }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="comment">// Multiply the preamble by the complex conjugate of the root sequence.</span></div>
<div class="line"><span class="lineno">  247</span>        std::array&lt;cf_t, prach_constants::LONG_SEQUENCE_LENGTH&gt; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root_temp</a>;</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;cf_t&gt;</a>                                              <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root</a> = <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;cf_t&gt;</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root_temp</a>).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">first</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>);</div>
<div class="line"><span class="lineno">  249</span>        srsvec::prod_conj(preamble, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">root</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root</a>);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="comment">// Prepare IDFT for correlation.</span></div>
<div class="line"><span class="lineno">  252</span>        srsvec::copy(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_input</a>.first(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> / 2 + 1), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root</a>.last(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> / 2 + 1));</div>
<div class="line"><span class="lineno">  253</span>        srsvec::copy(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">idft_input</a>.last(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> / 2), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root</a>.first(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> / 2));</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>        <span class="comment">// Perform IDFT.</span></div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;const cf_t&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root_time_simple</a> = idft.<a class="code hl_function" href="../../dd/d92/classsrsran_1_1dft__processor.html#a628d1ee463ea4107a2809eeb6cdac552">run</a>();</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">// Perform the modulus square of the correlation.</span></div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">span&lt;float&gt;</a>(temp).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">first</a>(dft_size);</div>
<div class="line"><span class="lineno">  260</span>        srsvec::modulus_square(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">no_root_time_simple</a>);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>        <span class="comment">// Normalize the signal: we divide by the DFT size to compensate for the inherent scaling of the DFT, and by</span></div>
<div class="line"><span class="lineno">  263</span>        <span class="comment">// L_ra^2 to compensate for the amplitude of the ZC sequence in the frequency domain.</span></div>
<div class="line"><span class="lineno">  264</span>        srsvec::sc_prod(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>, 1.0F / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dft_size * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>);</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="comment">// Process each shift of the sequence.</span></div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>) {</div>
<div class="line"><span class="lineno">  268</span>          <span class="comment">// Calculate the start of the window.</span></div>
<div class="line"><span class="lineno">  269</span>          <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_start</a> = (dft_size - (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">N_cs</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a> * dft_size) / <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>) % dft_size;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>          <span class="comment">// Calculate reference energy.</span></div>
<div class="line"><span class="lineno">  272</span>          <span class="keywordtype">float</span> reference = 0.0F;</div>
<div class="line"><span class="lineno">  273</span>          {</div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_start</a> = ((<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_start</a> + dft_size) - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_margin</a>) % dft_size;</div>
<div class="line"><span class="lineno">  275</span>            <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_end</a>   = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_start</a> + 2 * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_margin</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>;</div>
<div class="line"><span class="lineno">  276</span>            reference += srsvec::accumulate(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>.subspan(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_start</a>, std::min(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_end</a>, dft_size) - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_start</a>));</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_end</a> &gt; dft_size) {</div>
<div class="line"><span class="lineno">  278</span>              reference += srsvec::accumulate(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>.first(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_end</a> - dft_size));</div>
<div class="line"><span class="lineno">  279</span>            }</div>
<div class="line"><span class="lineno">  280</span>          }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>          <span class="comment">// Select modulus square view for the window.</span></div>
<div class="line"><span class="lineno">  283</span>          <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_mod_square</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">span&lt;float&gt;</a>(temp2).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">first</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>          <span class="comment">// Scale window.</span></div>
<div class="line"><span class="lineno">  286</span>          srsvec::sc_prod(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">mod_square</a>.subspan(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_start</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>),</div>
<div class="line"><span class="lineno">  287</span>                          <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(dft_size) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">L_ra</a>),</div>
<div class="line"><span class="lineno">  288</span>                          <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_mod_square</a>);</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>          <span class="comment">// Select metric global numerator.</span></div>
<div class="line"><span class="lineno">  291</span>          <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_num</a> = metric_global_num.<a class="code hl_function" href="../../dc/de0/classsrsran_1_1tensor.html#aa4379387498edc2307a09f6a60b85c8a">get_view</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>});</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>          <span class="comment">// Select metric global denominator.</span></div>
<div class="line"><span class="lineno">  294</span>          <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_den</a> = metric_global_den.<a class="code hl_function" href="../../dc/de0/classsrsran_1_1tensor.html#aa4379387498edc2307a09f6a60b85c8a">get_view</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>});</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>          <span class="comment">// Scale modulus square and accumulate numerator.</span></div>
<div class="line"><span class="lineno">  297</span>          srsvec::add(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_num</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_mod_square</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_num</a>);</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>          <span class="comment">// Scale modulus square and accumulate denominator.</span></div>
<div class="line"><span class="lineno">  300</span>          vector_noise_estimation(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_den</a>, reference, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_mod_square</a>);</div>
<div class="line"><span class="lineno">  301</span>        }</div>
<div class="line"><span class="lineno">  302</span>      }</div>
<div class="line"><span class="lineno">  303</span>    }</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>    <span class="comment">// Process global metric.</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a> = 0; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a>; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>) {</div>
<div class="line"><span class="lineno">  307</span>      <span class="comment">// Select metric global.</span></div>
<div class="line"><span class="lineno">  308</span>      <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metric_global</a>            = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">span&lt;float&gt;</a>(temp).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">first</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">win_width</a>);</div>
<div class="line"><span class="lineno">  309</span>      <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_num</a> = metric_global_num.<a class="code hl_function" href="../../dc/de0/classsrsran_1_1tensor.html#aa4379387498edc2307a09f6a60b85c8a">get_view</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>});</div>
<div class="line"><span class="lineno">  310</span>      <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;float&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_den</a> = metric_global_den.<a class="code hl_function" href="../../dc/de0/classsrsran_1_1tensor.html#aa4379387498edc2307a09f6a60b85c8a">get_view</a>({<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>});</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>      <span class="comment">// Process metric global.</span></div>
<div class="line"><span class="lineno">  313</span>      <span class="keywordflow">for</span> (<span class="keywordtype">float</span>&amp; a : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_den</a>) {</div>
<div class="line"><span class="lineno">  314</span>        a = std::abs(a);</div>
<div class="line"><span class="lineno">  315</span>      }</div>
<div class="line"><span class="lineno">  316</span>      srsvec::divide(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metric_global</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_num</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">window_metric_global_den</a>);</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>      <span class="comment">// Find maximum.</span></div>
<div class="line"><span class="lineno">  319</span>      std::pair&lt;unsigned, float&gt; max_element = srsvec::max_element(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metric_global</a>);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>      <span class="comment">// Extract peak value and index from the iterator.</span></div>
<div class="line"><span class="lineno">  322</span>      <span class="keywordtype">unsigned</span> delay = max_element.first;</div>
<div class="line"><span class="lineno">  323</span>      <span class="keywordtype">float</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">peak</a>  = max_element.second;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>      <span class="comment">// Compare with the threshold. Note that we neglect the last 1/5 of the detection window because it may contain</span></div>
<div class="line"><span class="lineno">  326</span>      <span class="comment">// spurious peaks due to the adjacent window.</span></div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">if</span> ((delay &lt; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">metric_global</a>.size()) &amp;&amp; (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">peak</a> &gt; threshold) &amp;&amp;</div>
<div class="line"><span class="lineno">  328</span>          (delay &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_delay_samples</a>) * 0.8)) {</div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_struct" href="../../d5/dc8/structsrsran_1_1prach__detection__result_1_1preamble__indication.html">prach_detection_result::preamble_indication</a>&amp; info = result.preambles.emplace_back();</div>
<div class="line"><span class="lineno">  330</span>        info.preamble_index                               = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_sequence</a> * <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nof_shifts</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_window</a>;</div>
<div class="line"><span class="lineno">  331</span>        info.time_advance =</div>
<div class="line"><span class="lineno">  332</span>            <a class="code hl_function" href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">phy_time_unit::from_seconds</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(delay) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sample_rate_Hz</a>));</div>
<div class="line"><span class="lineno">  333</span>        <span class="comment">// Normalize the detection metric with respect to the threshold.</span></div>
<div class="line"><span class="lineno">  334</span>        info.detection_metric = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">peak</a> / threshold;</div>
<div class="line"><span class="lineno">  335</span>      }</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span>  }</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  340</span>}</div>
<div class="ttc" id="aclasssrsran_1_1dft__processor_html"><div class="ttname"><a href="../../dd/d92/classsrsran_1_1dft__processor.html">srsran::dft_processor</a></div><div class="ttdoc">Describes a Discrete Fourier Transform (DFT) processor.</div><div class="ttdef"><b>Definition</b> dft_processor.h:35</div></div>
<div class="ttc" id="aclasssrsran_1_1dft__processor_html_a628d1ee463ea4107a2809eeb6cdac552"><div class="ttname"><a href="../../dd/d92/classsrsran_1_1dft__processor.html#a628d1ee463ea4107a2809eeb6cdac552">srsran::dft_processor::run</a></div><div class="ttdeci">virtual span&lt; const cf_t &gt; run()=0</div><div class="ttdoc">Executes the DFT from the internal input data.</div></div>
<div class="ttc" id="aclasssrsran_1_1dft__processor_html_aa07d386497c47ca798864f6300937cab"><div class="ttname"><a href="../../dd/d92/classsrsran_1_1dft__processor.html#aa07d386497c47ca798864f6300937cab">srsran::dft_processor::get_input</a></div><div class="ttdeci">virtual span&lt; cf_t &gt; get_input()=0</div><div class="ttdoc">Gets a view of the internal input DFT buffer.</div></div>
<div class="ttc" id="aclasssrsran_1_1dft__processor_html_afcb93862572be80c25306a1a627b3d07"><div class="ttname"><a href="../../dd/d92/classsrsran_1_1dft__processor.html#afcb93862572be80c25306a1a627b3d07">srsran::dft_processor::get_size</a></div><div class="ttdeci">virtual unsigned get_size() const =0</div><div class="ttdoc">Gets the DFT number of points.</div></div>
<div class="ttc" id="aclasssrsran_1_1phy__time__unit_html_a2ff9cda97bc4196edee275927c1d9430"><div class="ttname"><a href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a2ff9cda97bc4196edee275927c1d9430">srsran::phy_time_unit::to_seconds</a></div><div class="ttdeci">constexpr U to_seconds() const</div><div class="ttdoc">Gets the time in seconds.</div><div class="ttdef"><b>Definition</b> phy_time_unit.h:70</div></div>
<div class="ttc" id="aclasssrsran_1_1phy__time__unit_html_a9759195d4f33e9afbf1c790ab103af94"><div class="ttname"><a href="../../d1/d59/classsrsran_1_1phy__time__unit.html#a9759195d4f33e9afbf1c790ab103af94">srsran::phy_time_unit::from_seconds</a></div><div class="ttdeci">static constexpr phy_time_unit from_seconds(double seconds)</div><div class="ttdoc">Creates a physical layer time from seconds.</div><div class="ttdef"><b>Definition</b> phy_time_unit.h:221</div></div>
<div class="ttc" id="aclasssrsran_1_1prach__buffer_html_a9393f0ec690ad95fab986ae6d5d93fa3"><div class="ttname"><a href="../../d0/d93/classsrsran_1_1prach__buffer.html#a9393f0ec690ad95fab986ae6d5d93fa3">srsran::prach_buffer::get_symbol</a></div><div class="ttdeci">virtual span&lt; cf_t &gt; get_symbol(unsigned i_port, unsigned i_td_occasion, unsigned i_fd_occasion, unsigned i_symbol)=0</div><div class="ttdoc">Gets a read-write PRACH symbol for a given port, occasion and symbol.</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html">srsran::span</a></div><div class="ttdef"><b>Definition</b> span.h:98</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html_aa4238c2e04ac8c60726db8cc0b687582"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html#aa4238c2e04ac8c60726db8cc0b687582">srsran::span::first</a></div><div class="ttdeci">span&lt; element_type &gt; first(size_type count) const</div><div class="ttdef"><b>Definition</b> span.h:217</div></div>
<div class="ttc" id="aclasssrsran_1_1static__tensor_html_a4a29f86b7d16e71ffbe4a5e31f211f51"><div class="ttname"><a href="../../d9/df1/classsrsran_1_1static__tensor.html#a4a29f86b7d16e71ffbe4a5e31f211f51">srsran::static_tensor::get_data</a></div><div class="ttdeci">span&lt; Type &gt; get_data() override</div><div class="ttdoc">Gets the stored data.</div><div class="ttdef"><b>Definition</b> tensor.h:198</div></div>
<div class="ttc" id="aclasssrsran_1_1static__tensor_html_aef91c69724fa16cb8ddefca0eb9d88d2"><div class="ttname"><a href="../../d9/df1/classsrsran_1_1static__tensor.html#aef91c69724fa16cb8ddefca0eb9d88d2">srsran::static_tensor::resize</a></div><div class="ttdeci">void resize(const dimensions_size_type &amp;dimensions) override</div><div class="ttdoc">Resizes the tensor.</div><div class="ttdef"><b>Definition</b> tensor.h:183</div></div>
<div class="ttc" id="aclasssrsran_1_1tensor_html_aa4379387498edc2307a09f6a60b85c8a"><div class="ttname"><a href="../../dc/de0/classsrsran_1_1tensor.html#aa4379387498edc2307a09f6a60b85c8a">srsran::tensor::get_view</a></div><div class="ttdeci">span&lt; Type &gt; get_view(const std::array&lt; unsigned, NDIMS - N &gt; &amp;indices)</div><div class="ttdoc">Gets a view of the lowest N dimensions.</div><div class="ttdef"><b>Definition</b> tensor.h:60</div></div>
<div class="ttc" id="anamespacesrsran_html_a2918c0347dde854fce1aaebb70a16c33"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a2918c0347dde854fce1aaebb70a16c33">srsran::max</a></div><div class="ttdeci">slot_point max(slot_point lhs, slot_point rhs)</div><div class="ttdoc">Get maximum of two slot points.</div><div class="ttdef"><b>Definition</b> slot_point.h:266</div></div>
<div class="ttc" id="anamespacesrsran_html_a2a7e19abbadc531788e0849e634c23c6"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a2a7e19abbadc531788e0849e634c23c6">srsran::min</a></div><div class="ttdeci">slot_point min(slot_point lhs, slot_point rhs)</div><div class="ttdoc">Get minimum of two slot points.</div><div class="ttdef"><b>Definition</b> slot_point.h:272</div></div>
<div class="ttc" id="anamespacesrsran_html_a33cfd882b612da5eceff76a95662d0b3"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a33cfd882b612da5eceff76a95662d0b3">srsran::get_prach_preamble_short_info</a></div><div class="ttdeci">prach_preamble_information get_prach_preamble_short_info(prach_format_type format, prach_subcarrier_spacing ra_scs, bool last_occasion)</div><div class="ttdoc">Get short PRACH preamble information as per TS38.211 Table 6.3.3.1-2.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.cpp:63</div></div>
<div class="ttc" id="anamespacesrsran_html_a4172874a14aceea21d35086683d66f1b"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a4172874a14aceea21d35086683d66f1b">srsran::ra_scs_to_Hz</a></div><div class="ttdeci">constexpr unsigned ra_scs_to_Hz(prach_subcarrier_spacing ra_scs)</div><div class="ttdoc">Converts SCS to its integer value in hertz.</div><div class="ttdef"><b>Definition</b> prach_subcarrier_spacing.h:82</div></div>
<div class="ttc" id="anamespacesrsran_html_a41d072dc823c78c2627da83a877dcf5a"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a41d072dc823c78c2627da83a877dcf5a">srsran::get_prach_preamble_long_info</a></div><div class="ttdeci">prach_preamble_information get_prach_preamble_long_info(prach_format_type format)</div><div class="ttdoc">Get long PRACH preamble information as per TS38.211 Table 6.3.3.1-1.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.cpp:30</div></div>
<div class="ttc" id="anamespacesrsran_html_a5756a255042b67673f46c371665d04ec"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a5756a255042b67673f46c371665d04ec">srsran::convert_power_to_dB</a></div><div class="ttdeci">float convert_power_to_dB(float value)</div><div class="ttdoc">Converts a linear power ratio to decibels.</div><div class="ttdef"><b>Definition</b> math_utils.h:120</div></div>
<div class="ttc" id="anamespacesrsran_html_a5fa5b607b51bce906141a06d7ecdebbf"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a5fa5b607b51bce906141a06d7ecdebbf">srsran::to_string</a></div><div class="ttdeci">const char * to_string(subcarrier_spacing scs)</div><div class="ttdoc">Convert SCS to string.</div><div class="ttdef"><b>Definition</b> subcarrier_spacing.h:86</div></div>
<div class="ttc" id="anamespacesrsran_html_a6e5aee1d553dc6e825017842e4059adb"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a6e5aee1d553dc6e825017842e4059adb">srsran::divide_ceil</a></div><div class="ttdeci">constexpr unsigned divide_ceil(unsigned num, unsigned den)</div><div class="ttdoc">Performs an integer division rounding up.</div><div class="ttdef"><b>Definition</b> math_utils.h:41</div></div>
<div class="ttc" id="anamespacesrsran_html_a7c2e3c58a56b57be024f8bfc3271186d"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a7c2e3c58a56b57be024f8bfc3271186d">srsran::is_short_preamble</a></div><div class="ttdeci">constexpr bool is_short_preamble(prach_format_type type)</div><div class="ttdoc">Checks if the preamble format is short.</div><div class="ttdef"><b>Definition</b> prach_format_type.h:114</div></div>
<div class="ttc" id="anamespacesrsran_html_aaea6c484cd5f8113a5b11434d68e371b"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#aaea6c484cd5f8113a5b11434d68e371b">srsran::is_long_preamble</a></div><div class="ttdeci">constexpr bool is_long_preamble(prach_format_type type)</div><div class="ttdoc">Checks if the preamble format is long.</div><div class="ttdef"><b>Definition</b> prach_format_type.h:106</div></div>
<div class="ttc" id="anamespacesrsran_html_aafa4c456e58b29f8804fedc599ab8710"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#aafa4c456e58b29f8804fedc599ab8710">srsran::prach_cyclic_shifts_get</a></div><div class="ttdeci">uint16_t prach_cyclic_shifts_get(prach_subcarrier_spacing prach_scs, restricted_set_config restricted_set, unsigned zero_correlation_zone)</div><div class="ttdoc">Calculates the number of cyclic shifts  used in the sequence generation as per TS38....</div><div class="ttdef"><b>Definition</b> prach_cyclic_shifts.cpp:29</div></div>
<div class="ttc" id="astructsrsran_1_1prach__detection__result_1_1preamble__indication_html"><div class="ttname"><a href="../../d5/dc8/structsrsran_1_1prach__detection__result_1_1preamble__indication.html">srsran::prach_detection_result::preamble_indication</a></div><div class="ttdoc">Describes the detection of a single preamble.</div><div class="ttdef"><b>Definition</b> prach_detection_result.h:34</div></div>
<div class="ttc" id="astructsrsran_1_1prach__detection__result_html"><div class="ttname"><a href="../../da/d36/structsrsran_1_1prach__detection__result.html">srsran::prach_detection_result</a></div><div class="ttdoc">Describes a PRACH detection result.</div><div class="ttdef"><b>Definition</b> prach_detection_result.h:32</div></div>
<div class="ttc" id="astructsrsran_1_1prach__generator_1_1configuration_html"><div class="ttname"><a href="../../d9/d8a/structsrsran_1_1prach__generator_1_1configuration.html">srsran::prach_generator::configuration</a></div><div class="ttdoc">Collects the necessary parameters to generate a PRACH frequency-domain signal.</div><div class="ttdef"><b>Definition</b> prach_generator.h:41</div></div>
<div class="ttc" id="astructsrsran_1_1prach__generator_1_1configuration_html_a6cd97abef53c40cddf6ee4d0b7dfd259"><div class="ttname"><a href="../../d9/d8a/structsrsran_1_1prach__generator_1_1configuration.html#a6cd97abef53c40cddf6ee4d0b7dfd259">srsran::prach_generator::configuration::format</a></div><div class="ttdeci">prach_format_type format</div><div class="ttdoc">Preamble format.</div><div class="ttdef"><b>Definition</b> prach_generator.h:43</div></div>
<div class="ttc" id="astructsrsran_1_1prach__preamble__information_html"><div class="ttname"><a href="../../d3/d17/structsrsran_1_1prach__preamble__information.html">srsran::prach_preamble_information</a></div><div class="ttdoc">Collects PRACH preamble information parameters.</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:36</div></div>
<div class="ttc" id="astructsrsran_1_1prach__preamble__information_html_a1cf7f9574b0a8249a736a0b6f39b6f1e"><div class="ttname"><a href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a1cf7f9574b0a8249a736a0b6f39b6f1e">srsran::prach_preamble_information::scs</a></div><div class="ttdeci">prach_subcarrier_spacing scs</div><div class="ttdoc">Parameter .</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:40</div></div>
<div class="ttc" id="astructsrsran_1_1prach__preamble__information_html_a3b327e535ddff17fbba0e2f9b96169d3"><div class="ttname"><a href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#a3b327e535ddff17fbba0e2f9b96169d3">srsran::prach_preamble_information::cp_length</a></div><div class="ttdeci">phy_time_unit cp_length</div><div class="ttdoc">Parameter . Expressed in units of the reference symbol time .</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:44</div></div>
<div class="ttc" id="astructsrsran_1_1prach__preamble__information_html_aef1493b57fbc2fdbc433976b4bdec7f4"><div class="ttname"><a href="../../d3/d17/structsrsran_1_1prach__preamble__information.html#aef1493b57fbc2fdbc433976b4bdec7f4">srsran::prach_preamble_information::symbol_length</a></div><div class="ttdeci">phy_time_unit symbol_length</div><div class="ttdoc">Parameter . Expressed in units of the reference symbol time .</div><div class="ttdef"><b>Definition</b> prach_preamble_information.h:42</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/phy/upper/channel_processors/<a class="el" href="../../d0/d14/prach__detector__generic__impl_8h_source.html">prach_detector_generic_impl.h</a></li>
<li>lib/phy/upper/channel_processors/<b>prach_detector_generic_impl.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
