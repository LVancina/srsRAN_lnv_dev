<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::pdsch_encoder_impl Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../d0/dac/classsrsran_1_1pdsch__encoder__impl.html">pdsch_encoder_impl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../da/dc3/classsrsran_1_1pdsch__encoder__impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::pdsch_encoder_impl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Generic implementation of the PDSCH encoder.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/dd2/pdsch__encoder__impl_8h_source.html">pdsch_encoder_impl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for srsran::pdsch_encoder_impl:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d91/classsrsran_1_1pdsch__encoder__impl__inherit__graph.png" border="0" usemap="#asrsran_1_1pdsch__encoder__impl_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1pdsch__encoder__impl_inherit__map" id="asrsran_1_1pdsch__encoder__impl_inherit__map">
<area shape="rect" title="Generic implementation of the PDSCH encoder." alt="" coords="5,139,200,224"/>
<area shape="rect" href="../../d4/d1e/classsrsran_1_1pdsch__encoder.html" title="PDSCH encoder, as per TS38.212 Section 7.2." alt="" coords="23,5,182,91"/>
<area shape="poly" title=" " alt="" coords="105,104,105,138,100,138,100,104"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::pdsch_encoder_impl:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d29/classsrsran_1_1pdsch__encoder__impl__coll__graph.png" border="0" usemap="#asrsran_1_1pdsch__encoder__impl_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1pdsch__encoder__impl_coll__map" id="asrsran_1_1pdsch__encoder__impl_coll__map">
<area shape="rect" title="Generic implementation of the PDSCH encoder." alt="" coords="5,139,200,224"/>
<area shape="rect" href="../../d4/d1e/classsrsran_1_1pdsch__encoder.html" title="PDSCH encoder, as per TS38.212 Section 7.2." alt="" coords="23,5,182,91"/>
<area shape="poly" title=" " alt="" coords="105,104,105,138,100,138,100,104"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea86f541f02c999765dce0ecc8324355" id="r_aea86f541f02c999765dce0ecc8324355"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea86f541f02c999765dce0ecc8324355">pdsch_encoder_impl</a> (std::unique_ptr&lt; <a class="el" href="../../d7/d86/classsrsran_1_1ldpc__segmenter__tx.html">ldpc_segmenter_tx</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">seg</a>, std::unique_ptr&lt; <a class="el" href="../../df/d1f/classsrsran_1_1ldpc__encoder.html">ldpc_encoder</a> &gt; enc, std::unique_ptr&lt; <a class="el" href="../../db/dc3/classsrsran_1_1ldpc__rate__matcher.html">ldpc_rate_matcher</a> &gt; rm)</td></tr>
<tr class="memdesc:aea86f541f02c999765dce0ecc8324355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the internal LDPC blocks.  <br /></td></tr>
<tr class="separator:aea86f541f02c999765dce0ecc8324355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab590854ac986fe561af25c0ce806c975" id="r_ab590854ac986fe561af25c0ce806c975"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab590854ac986fe561af25c0ce806c975">encode</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt; codeword, <a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt; transport_block, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d8/db7/structsrsran_1_1pdsch__encoder_1_1configuration.html">configuration</a> &amp;config) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:ab590854ac986fe561af25c0ce806c975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full PDSCH encoding.  <br /></td></tr>
<tr class="separator:ab590854ac986fe561af25c0ce806c975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1pdsch__encoder"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1pdsch__encoder')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d4/d1e/classsrsran_1_1pdsch__encoder.html">srsran::pdsch_encoder</a></td></tr>
<tr class="memitem:a310e80b778a6743fd25c58293af7177c inherit pub_methods_classsrsran_1_1pdsch__encoder" id="r_a310e80b778a6743fd25c58293af7177c"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><b>~pdsch_encoder</b> ()=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">default</a></td></tr>
<tr class="memdesc:a310e80b778a6743fd25c58293af7177c inherit pub_methods_classsrsran_1_1pdsch__encoder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br /></td></tr>
<tr class="separator:a310e80b778a6743fd25c58293af7177c inherit pub_methods_classsrsran_1_1pdsch__encoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic implementation of the PDSCH encoder. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aea86f541f02c999765dce0ecc8324355" name="aea86f541f02c999765dce0ecc8324355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea86f541f02c999765dce0ecc8324355">&#9670;&#160;</a></span>pdsch_encoder_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">srsran::pdsch_encoder_impl::pdsch_encoder_impl </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../d7/d86/classsrsran_1_1ldpc__segmenter__tx.html">ldpc_segmenter_tx</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>seg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../df/d1f/classsrsran_1_1ldpc__encoder.html">ldpc_encoder</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>enc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../db/dc3/classsrsran_1_1ldpc__rate__matcher.html">ldpc_rate_matcher</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>rm</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the internal LDPC blocks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">seg</td><td>Unique pointer to an LDPC segmenter. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enc</td><td>Unique pointer to an LDPC encoder. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rm</td><td>Unique pointer to an LDPC rate matcher. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   47</span>                                                          :</div>
<div class="line"><span class="lineno">   48</span>    segmenter(std::move(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">seg</a>)), encoder(std::move(enc)), rate_matcher(std::move(rm))</div>
<div class="line"><span class="lineno">   49</span>  {</div>
<div class="line"><span class="lineno">   50</span>    srsran_assert(segmenter, <span class="stringliteral">&quot;Invalid LDPC segmenter.&quot;</span>);</div>
<div class="line"><span class="lineno">   51</span>    srsran_assert(encoder, <span class="stringliteral">&quot;Invalid LDPC encoder.&quot;</span>);</div>
<div class="line"><span class="lineno">   52</span>    srsran_assert(rate_matcher, <span class="stringliteral">&quot;Invalid LDPC rate matcher.&quot;</span>);</div>
<div class="line"><span class="lineno">   53</span>  }</div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_cgraph.png" border="0" usemap="#ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_cgraph" alt=""/></div>
<map name="ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_cgraph" id="ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_cgraph">
<area shape="rect" title="Initializes the internal LDPC blocks." alt="" coords="5,29,204,69"/>
<area shape="poly" title=" " alt="" coords="67,30,65,20,71,11,84,5,105,3,128,6,141,13,138,18,126,11,105,8,86,10,75,15,70,21,73,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_icgraph.png" border="0" usemap="#ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_icgraph" alt=""/></div>
<map name="ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_icgraph" id="ad0/dac/classsrsran_1_1pdsch__encoder__impl_aea86f541f02c999765dce0ecc8324355_icgraph">
<area shape="rect" title="Initializes the internal LDPC blocks." alt="" coords="5,29,204,69"/>
<area shape="poly" title=" " alt="" coords="138,18,126,11,105,8,86,10,75,15,70,21,73,28,67,30,65,20,71,11,84,5,105,3,128,6,141,13"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab590854ac986fe561af25c0ce806c975" name="ab590854ac986fe561af25c0ce806c975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab590854ac986fe561af25c0ce806c975">&#9670;&#160;</a></span>encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> pdsch_encoder_impl::encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>codeword</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d4/dff/classuint8__t.html">uint8_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>transport_block</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d8/db7/structsrsran_1_1pdsch__encoder_1_1configuration.html">configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Full PDSCH encoding. </p>
<p>General encoding method that includes the four steps of CRC attachment (see TS38.212 Section 7.2.1), transport block segmentation (see TS38.212 Section 7.2.3), codeblock encoding (see TS38.212 Section 7.2.4) and rate matching (see TS38.212 Section 7.2.5), and codeblock concatenation (see TS38.212 Section 7.2.6) into the PDSCH codeword. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">codeword</td><td>Final PDSCH codeword. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transport_block</td><td>Transport block to be transmitted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cfg</td><td>PDSCH configuration parameters. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d4/d1e/classsrsran_1_1pdsch__encoder.html#a8eb8da18e3dd5568c4db69d2434ce5b1">srsran::pdsch_encoder</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>{</div>
<div class="line"><span class="lineno">   32</span>  <span class="comment">// Clear the buffer.</span></div>
<div class="line"><span class="lineno">   33</span>  d_segments.clear();</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_struct" href="../../d2/d94/structsrsran_1_1segmenter__config.html">segmenter_config</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>;</div>
<div class="line"><span class="lineno">   36</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.<a class="code hl_variable" href="../../d2/d94/structsrsran_1_1segmenter__config.html#a07cb0f854c348847ba94e20f2a55063e">base_graph</a>     = config.base_graph;</div>
<div class="line"><span class="lineno">   37</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.rv             = config.rv;</div>
<div class="line"><span class="lineno">   38</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.mod            = config.mod;</div>
<div class="line"><span class="lineno">   39</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.Nref           = config.Nref;</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.nof_layers     = config.nof_layers;</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>.nof_ch_symbols = config.nof_ch_symbols;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// Segmentation (it includes CRC attachment for the entire transport block and each individual segment).</span></div>
<div class="line"><span class="lineno">   44</span>  segmenter-&gt;segment(d_segments, transport_block, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">segmenter_cfg</a>);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>  <span class="keywordtype">unsigned</span> offset = 0;</div>
<div class="line"><span class="lineno">   47</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb</a> = 0, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb_end</a> = d_segments.size(); <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb_end</a>; ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb</a>) {</div>
<div class="line"><span class="lineno">   48</span>    <span class="comment">// Select segment description.</span></div>
<div class="line"><span class="lineno">   49</span>    <span class="keyword">const</span> <a class="code hl_class" href="../../dd/d3e/classsrsran_1_1described__segment.html">described_segment</a>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a> = d_segments[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">i_cb</a>];</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    <span class="comment">// Prepare rate matching buffer.</span></div>
<div class="line"><span class="lineno">   52</span>    rm_buffer.<a class="code hl_function" href="../../db/d3d/classsrsran_1_1static__bit__buffer.html#a1a0ab7531227d17f74d71d4a91239400">resize</a>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a>.get_metadata().cb_specific.full_length);</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">// Encode the segment into a codeblock.</span></div>
<div class="line"><span class="lineno">   55</span>    encoder-&gt;encode(rm_buffer, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a>.get_data(), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a>.get_metadata().tb_common);</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// Select the correct chunk of the output codeword.</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordtype">unsigned</span> rm_length = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a>.get_metadata().cb_specific.rm_length;</div>
<div class="line"><span class="lineno">   59</span>    srsran_assert(offset + rm_length &lt;= codeword.<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#ad0e376d95ca916144eac76f27f0654ac">size</a>(), <span class="stringliteral">&quot;Wrong codeword length.&quot;</span>);</div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;uint8_t&gt;</a> codeblock = <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;uint8_t&gt;</a>(codeword).<a class="code hl_function" href="../../de/d4c/classsrsran_1_1span.html#ac5f02596fcb6e8f430a3e11e47a6d7e8">subspan</a>(offset, rm_length);</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">// Rate match the codeblock.</span></div>
<div class="line"><span class="lineno">   63</span>    codeblock_packed.<a class="code hl_function" href="../../db/d3d/classsrsran_1_1static__bit__buffer.html#a1a0ab7531227d17f74d71d4a91239400">resize</a>(rm_length);</div>
<div class="line"><span class="lineno">   64</span>    rate_matcher-&gt;rate_match(codeblock_packed, rm_buffer, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">descr_seg</a>.get_metadata());</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">// Unpack code block.</span></div>
<div class="line"><span class="lineno">   67</span>    srsvec::bit_unpack(codeblock, codeblock_packed);</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">// Advance write code block.</span></div>
<div class="line"><span class="lineno">   70</span>    offset += rm_length;</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span>}</div>
<div class="ttc" id="aclasssrsran_1_1described__segment_html"><div class="ttname"><a href="../../dd/d3e/classsrsran_1_1described__segment.html">srsran::described_segment</a></div><div class="ttdoc">Describes an LDPC segment or codeblock.</div><div class="ttdef"><b>Definition</b> codeblock_metadata.h:89</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html">srsran::span</a></div><div class="ttdef"><b>Definition</b> span.h:98</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html_ac5f02596fcb6e8f430a3e11e47a6d7e8"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html#ac5f02596fcb6e8f430a3e11e47a6d7e8">srsran::span::subspan</a></div><div class="ttdeci">span&lt; element_type &gt; subspan(size_type offset, size_type count) const</div><div class="ttdoc">Obtains a span that is a view over the count elements of this span starting at offset offset.</div><div class="ttdef"><b>Definition</b> span.h:232</div></div>
<div class="ttc" id="aclasssrsran_1_1span_html_ad0e376d95ca916144eac76f27f0654ac"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html#ad0e376d95ca916144eac76f27f0654ac">srsran::span::size</a></div><div class="ttdeci">constexpr size_type size() const noexcept</div><div class="ttdoc">Returns the number of elements in the span.</div><div class="ttdef"><b>Definition</b> span.h:168</div></div>
<div class="ttc" id="aclasssrsran_1_1static__bit__buffer_html_a1a0ab7531227d17f74d71d4a91239400"><div class="ttname"><a href="../../db/d3d/classsrsran_1_1static__bit__buffer.html#a1a0ab7531227d17f74d71d4a91239400">srsran::static_bit_buffer::resize</a></div><div class="ttdeci">void resize(unsigned new_size)</div><div class="ttdoc">Resizes the bit buffer.</div><div class="ttdef"><b>Definition</b> bit_buffer.h:359</div></div>
<div class="ttc" id="astructsrsran_1_1segmenter__config_html"><div class="ttname"><a href="../../d2/d94/structsrsran_1_1segmenter__config.html">srsran::segmenter_config</a></div><div class="ttdoc">Gathers all segmentation configuration parameters.</div><div class="ttdef"><b>Definition</b> codeblock_metadata.h:146</div></div>
<div class="ttc" id="astructsrsran_1_1segmenter__config_html_a07cb0f854c348847ba94e20f2a55063e"><div class="ttname"><a href="../../d2/d94/structsrsran_1_1segmenter__config.html#a07cb0f854c348847ba94e20f2a55063e">srsran::segmenter_config::base_graph</a></div><div class="ttdeci">ldpc_base_graph_type base_graph</div><div class="ttdoc">Code base graph.</div><div class="ttdef"><b>Definition</b> codeblock_metadata.h:148</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/phy/upper/channel_processors/<a class="el" href="../../d6/dd2/pdsch__encoder__impl_8h_source.html">pdsch_encoder_impl.h</a></li>
<li>lib/phy/upper/channel_processors/<b>pdsch_encoder_impl.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
