<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::radio_uhd_rx_stream Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../d5/de5/classsrsran_1_1radio__uhd__rx__stream.html">radio_uhd_rx_stream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../da/df8/classsrsran_1_1radio__uhd__rx__stream-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::radio_uhd_rx_stream Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a gateway receiver based on UHD receive stream.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/d09/radio__uhd__rx__stream_8h_source.html">radio_uhd_rx_stream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for srsran::radio_uhd_rx_stream:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d3e/classsrsran_1_1radio__uhd__rx__stream__inherit__graph.png" border="0" usemap="#asrsran_1_1radio__uhd__rx__stream_inherit__map" alt="Inheritance graph"/></div>
<map name="asrsran_1_1radio__uhd__rx__stream_inherit__map" id="asrsran_1_1radio__uhd__rx__stream_inherit__map">
<area shape="rect" title="Implements a gateway receiver based on UHD receive stream." alt="" coords="99,407,275,587"/>
<area shape="rect" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html" title=" " alt="" coords="5,219,169,359"/>
<area shape="poly" title=" " alt="" coords="129,370,146,405,142,408,124,372"/>
<area shape="rect" href="../../d5/d7a/classsrsran_1_1baseband__gateway__receiver.html" title="Baseband gateway &#45; reception interface." alt="" coords="193,249,381,329"/>
<area shape="poly" title=" " alt="" coords="265,343,233,408,228,405,260,340"/>
<area shape="rect" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html" title="Describes the base interface for baseband gateway interfaces." alt="" coords="174,5,401,171"/>
<area shape="poly" title=" " alt="" coords="290,185,290,249,285,249,285,185"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for srsran::radio_uhd_rx_stream:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d17/classsrsran_1_1radio__uhd__rx__stream__coll__graph.png" border="0" usemap="#asrsran_1_1radio__uhd__rx__stream_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1radio__uhd__rx__stream_coll__map" id="asrsran_1_1radio__uhd__rx__stream_coll__map">
<area shape="rect" title="Implements a gateway receiver based on UHD receive stream." alt="" coords="99,407,275,587"/>
<area shape="rect" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html" title=" " alt="" coords="5,219,169,359"/>
<area shape="poly" title=" " alt="" coords="129,370,146,405,142,408,124,372"/>
<area shape="rect" href="../../d5/d7a/classsrsran_1_1baseband__gateway__receiver.html" title="Baseband gateway &#45; reception interface." alt="" coords="193,249,381,329"/>
<area shape="poly" title=" " alt="" coords="265,343,233,408,228,405,260,340"/>
<area shape="rect" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html" title="Describes the base interface for baseband gateway interfaces." alt="" coords="174,5,401,171"/>
<area shape="poly" title=" " alt="" coords="290,185,290,249,285,249,285,185"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d1a/structsrsran_1_1radio__uhd__rx__stream_1_1stream__description.html">stream_description</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes the necessary parameters to create an UHD transmit stream.  <a href="../../d5/d1a/structsrsran_1_1radio__uhd__rx__stream_1_1stream__description.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aca19749a06798b1a6067c1b1882fe39a" id="r_aca19749a06798b1a6067c1b1882fe39a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca19749a06798b1a6067c1b1882fe39a">radio_uhd_rx_stream</a> (uhd::usrp::multi_usrp::sptr &amp;usrp, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d5/d1a/structsrsran_1_1radio__uhd__rx__stream_1_1stream__description.html">stream_description</a> &amp;description, <a class="el" href="../../d4/d40/classsrsran_1_1radio__notification__handler.html">radio_notification_handler</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">notifier_</a>)</td></tr>
<tr class="memdesc:aca19749a06798b1a6067c1b1882fe39a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a receive UHD stream.  <br /></td></tr>
<tr class="separator:aca19749a06798b1a6067c1b1882fe39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549f75a1eb36ef92da670e98cd20cb0a" id="r_a549f75a1eb36ef92da670e98cd20cb0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a549f75a1eb36ef92da670e98cd20cb0a">start</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> uhd::time_spec_t &amp;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">time_spec</a>)</td></tr>
<tr class="memdesc:a549f75a1eb36ef92da670e98cd20cb0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the stream reception.  <br /></td></tr>
<tr class="separator:a549f75a1eb36ef92da670e98cd20cb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4384a6fd84beab82e7c9a5429a7a723b" id="r_a4384a6fd84beab82e7c9a5429a7a723b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4384a6fd84beab82e7c9a5429a7a723b">get_buffer_size</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="memdesc:a4384a6fd84beab82e7c9a5429a7a723b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the optimal transmitter buffer size.  <br /></td></tr>
<tr class="separator:a4384a6fd84beab82e7c9a5429a7a723b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c3e6db191b70f325f549b1a6b1c769" id="r_a15c3e6db191b70f325f549b1a6b1c769"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d22/structsrsran_1_1baseband__gateway__receiver_1_1metadata.html">metadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15c3e6db191b70f325f549b1a6b1c769">receive</a> (<a class="el" href="../../d0/dd6/classsrsran_1_1baseband__gateway__buffer__writer.html">baseband_gateway_buffer_writer</a> &amp;data) <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">override</a></td></tr>
<tr class="memdesc:a15c3e6db191b70f325f549b1a6b1c769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a number of baseband samples.  <br /></td></tr>
<tr class="separator:a15c3e6db191b70f325f549b1a6b1c769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c9e149a00ff49f1b552f6a893f62d6" id="r_a82c9e149a00ff49f1b552f6a893f62d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82c9e149a00ff49f1b552f6a893f62d6">stop</a> ()</td></tr>
<tr class="memdesc:a82c9e149a00ff49f1b552f6a893f62d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the reception stream.  <br /></td></tr>
<tr class="separator:a82c9e149a00ff49f1b552f6a893f62d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32dc3140529e7c09e88131fe0204c0f" id="r_ad32dc3140529e7c09e88131fe0204c0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad32dc3140529e7c09e88131fe0204c0f">wait_stop</a> ()</td></tr>
<tr class="memdesc:ad32dc3140529e7c09e88131fe0204c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until radio is notify_stop.  <br /></td></tr>
<tr class="separator:ad32dc3140529e7c09e88131fe0204c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1uhd__exception__handler"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1uhd__exception__handler')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html">srsran::uhd_exception_handler</a></td></tr>
<tr class="memitem:a8f6f77cc15719b76196b3466f446be7c inherit pub_methods_classsrsran_1_1uhd__exception__handler" id="r_a8f6f77cc15719b76196b3466f446be7c"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> S , typename... Args&gt; </td></tr>
<tr class="memitem:a8f6f77cc15719b76196b3466f446be7c inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html#a8f6f77cc15719b76196b3466f446be7c">on_error</a> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> S &amp;format_str, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">Args</a> &amp;&amp;... args)</td></tr>
<tr class="separator:a8f6f77cc15719b76196b3466f446be7c inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e01af04c1c394cb27d1150cfa7e492 inherit pub_methods_classsrsran_1_1uhd__exception__handler" id="r_ac3e01af04c1c394cb27d1150cfa7e492"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">typename</a> F &gt; </td></tr>
<tr class="memitem:ac3e01af04c1c394cb27d1150cfa7e492 inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html#ac3e01af04c1c394cb27d1150cfa7e492">safe_execution</a> (F task)</td></tr>
<tr class="separator:ac3e01af04c1c394cb27d1150cfa7e492 inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3660e50d52ecd1fa3d426a805030a646 inherit pub_methods_classsrsran_1_1uhd__exception__handler" id="r_a3660e50d52ecd1fa3d426a805030a646"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html#a3660e50d52ecd1fa3d426a805030a646">is_successful</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="separator:a3660e50d52ecd1fa3d426a805030a646 inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9c51ab907c347c37e0d339fe9e88d2 inherit pub_methods_classsrsran_1_1uhd__exception__handler" id="r_a9d9c51ab907c347c37e0d339fe9e88d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfe/classsrsran_1_1uhd__exception__handler.html#a9d9c51ab907c347c37e0d339fe9e88d2">get_error_message</a> () <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a></td></tr>
<tr class="separator:a9d9c51ab907c347c37e0d339fe9e88d2 inherit pub_methods_classsrsran_1_1uhd__exception__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsrsran_1_1baseband__gateway__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsrsran_1_1baseband__gateway__base')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">srsran::baseband_gateway_base</a></td></tr>
<tr class="memitem:aafbff764797512ec4675bbf7b5944725 inherit pub_methods_classsrsran_1_1baseband__gateway__base" id="r_aafbff764797512ec4675bbf7b5944725"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><b>~baseband_gateway_base</b> ()=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">default</a></td></tr>
<tr class="memdesc:aafbff764797512ec4675bbf7b5944725 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides default destructor. <br /></td></tr>
<tr class="separator:aafbff764797512ec4675bbf7b5944725 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa019c53e2d1132218aecfb2ccf1d8335 inherit pub_methods_classsrsran_1_1baseband__gateway__base" id="r_aa019c53e2d1132218aecfb2ccf1d8335"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>baseband_gateway_base</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;<a class="el" href="../../d9/def/namespacesrsran.html#aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="memdesc:aa019c53e2d1132218aecfb2ccf1d8335 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forbid copy constructor. <br /></td></tr>
<tr class="separator:aa019c53e2d1132218aecfb2ccf1d8335 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13948f300e303b298a518cba1f6bcbc inherit pub_methods_classsrsran_1_1baseband__gateway__base" id="r_ac13948f300e303b298a518cba1f6bcbc"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>baseband_gateway_base</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;&amp;<a class="el" href="../../d9/def/namespacesrsran.html#aaf684a2cfa98b7f333de7041525a5b29a795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="memdesc:ac13948f300e303b298a518cba1f6bcbc inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forbid move constructor. <br /></td></tr>
<tr class="separator:ac13948f300e303b298a518cba1f6bcbc inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82b5985a315b92a8849ac48df7bf557 inherit pub_methods_classsrsran_1_1baseband__gateway__base" id="r_aa82b5985a315b92a8849ac48df7bf557"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="memdesc:aa82b5985a315b92a8849ac48df7bf557 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forbid copy assigment operator. <br /></td></tr>
<tr class="separator:aa82b5985a315b92a8849ac48df7bf557 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50300910c202c831ccce97f60dea111 inherit pub_methods_classsrsran_1_1baseband__gateway__base" id="r_ae50300910c202c831ccce97f60dea111"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">baseband_gateway_base</a> &amp;&amp;)=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">delete</a></td></tr>
<tr class="memdesc:ae50300910c202c831ccce97f60dea111 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forbid move assigment operator. <br /></td></tr>
<tr class="separator:ae50300910c202c831ccce97f60dea111 inherit pub_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classsrsran_1_1baseband__gateway__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classsrsran_1_1baseband__gateway__base')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d8/d6f/classsrsran_1_1baseband__gateway__base.html">srsran::baseband_gateway_base</a></td></tr>
<tr class="memitem:a7b526d002b046f5c6f4a1a8b4a0a0aba inherit pro_methods_classsrsran_1_1baseband__gateway__base" id="r_a7b526d002b046f5c6f4a1a8b4a0a0aba"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>baseband_gateway_base</b> ()=<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">default</a></td></tr>
<tr class="memdesc:a7b526d002b046f5c6f4a1a8b4a0a0aba inherit pro_methods_classsrsran_1_1baseband__gateway__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow default constructor for child. <br /></td></tr>
<tr class="separator:a7b526d002b046f5c6f4a1a8b4a0a0aba inherit pro_methods_classsrsran_1_1baseband__gateway__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a gateway receiver based on UHD receive stream. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aca19749a06798b1a6067c1b1882fe39a" name="aca19749a06798b1a6067c1b1882fe39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca19749a06798b1a6067c1b1882fe39a">&#9670;&#160;</a></span>radio_uhd_rx_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">radio_uhd_rx_stream::radio_uhd_rx_stream </td>
          <td>(</td>
          <td class="paramtype">uhd::usrp::multi_usrp::sptr &amp;</td>          <td class="paramname"><span class="paramname"><em>usrp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d5/d1a/structsrsran_1_1radio__uhd__rx__stream_1_1stream__description.html">stream_description</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>description</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d40/classsrsran_1_1radio__notification__handler.html">radio_notification_handler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>notifier_</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a receive UHD stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usrp</td><td>Provides the USRP context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">description</td><td>Provides the stream configuration parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">notifier_</td><td>Provides the radio event notification handler. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   62</span>                                                                                 :</div>
<div class="line"><span class="lineno">   63</span>  id(description.id), srate_Hz(description.srate_Hz), notifier(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">notifier_</a>)</div>
<div class="line"><span class="lineno">   64</span>{</div>
<div class="line"><span class="lineno">   65</span>  srsran_assert(std::isnormal(srate_Hz) &amp;&amp; (srate_Hz &gt; 0.0), <span class="stringliteral">&quot;Invalid sampling rate {}.&quot;</span>, srate_Hz);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>  <span class="comment">// Build stream arguments.</span></div>
<div class="line"><span class="lineno">   68</span>  uhd::stream_args_t <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a> = {};</div>
<div class="line"><span class="lineno">   69</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.cpu_format         = <span class="stringliteral">&quot;fc32&quot;</span>;</div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordflow">switch</span> (description.otw_format) {</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">case</span> radio_configuration::over_the_wire_format::DEFAULT:</div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">case</span> radio_configuration::over_the_wire_format::SC16:</div>
<div class="line"><span class="lineno">   73</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.otw_format = <span class="stringliteral">&quot;sc16&quot;</span>;</div>
<div class="line"><span class="lineno">   74</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">case</span> radio_configuration::over_the_wire_format::SC12:</div>
<div class="line"><span class="lineno">   76</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.otw_format = <span class="stringliteral">&quot;sc12&quot;</span>;</div>
<div class="line"><span class="lineno">   77</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">case</span> radio_configuration::over_the_wire_format::SC8:</div>
<div class="line"><span class="lineno">   79</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.otw_format = <span class="stringliteral">&quot;sc8&quot;</span>;</div>
<div class="line"><span class="lineno">   80</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   81</span>  }</div>
<div class="line"><span class="lineno">   82</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.args     = description.args;</div>
<div class="line"><span class="lineno">   83</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>.channels = description.ports;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">if</span> (!safe_execution([<span class="keyword">this</span>, usrp, &amp;<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>]() {</div>
<div class="line"><span class="lineno">   86</span>        stream          = usrp-&gt;get_rx_stream(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_args</a>);</div>
<div class="line"><span class="lineno">   87</span>        max_packet_size = stream-&gt;get_max_num_samps();</div>
<div class="line"><span class="lineno">   88</span>        nof_channels    = stream-&gt;get_num_channels();</div>
<div class="line"><span class="lineno">   89</span>      })) {</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   91</span>  }</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>  state = states::SUCCESSFUL_INIT;</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4384a6fd84beab82e7c9a5429a7a723b" name="a4384a6fd84beab82e7c9a5429a7a723b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4384a6fd84beab82e7c9a5429a7a723b">&#9670;&#160;</a></span>get_buffer_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> radio_uhd_rx_stream::get_buffer_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the optimal transmitter buffer size. </p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>{</div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">return</span> max_packet_size;</div>
<div class="line"><span class="lineno">  219</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a15c3e6db191b70f325f549b1a6b1c769" name="a15c3e6db191b70f325f549b1a6b1c769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c3e6db191b70f325f549b1a6b1c769">&#9670;&#160;</a></span>receive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d22/structsrsran_1_1baseband__gateway__receiver_1_1metadata.html">baseband_gateway_receiver::metadata</a> radio_uhd_rx_stream::receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dd6/classsrsran_1_1baseband__gateway__buffer__writer.html">baseband_gateway_buffer_writer</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receives a number of baseband samples. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>Buffer of baseband samples. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Receiver metadata. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <code>data</code> buffer provides the number of samples to receive through baseband_gateway_buffer::get_nof_samples. </dd>
<dd>
The <code>data</code> buffer must have the same number of channels as the stream. </dd></dl>

<p>Implements <a class="el" href="../../d5/d7a/classsrsran_1_1baseband__gateway__receiver.html#ae33340ac20a0c4f1d2a1fe1042f49ea1">srsran::baseband_gateway_receiver</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>  <a class="code hl_struct" href="../../df/d22/structsrsran_1_1baseband__gateway__receiver_1_1metadata.html">baseband_gateway_receiver::metadata</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ret</a> = {};</div>
<div class="line"><span class="lineno">  124</span>  uhd::rx_metadata_t                  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">md</a>;</div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordtype">unsigned</span>                            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nsamples</a>            = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">buffs</a>[0].size();</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordtype">unsigned</span>                            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples_total</a>   = 0;</div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordtype">unsigned</span>                            <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">timeout_trial_count</a> = 0;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>  <span class="comment">// Receive stream in multiple blocks.</span></div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordflow">while</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples_total</a> &lt; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">nsamples</a>) {</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples</a> = 0;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">if</span> (!receive_block(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">buffs</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples_total</a>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">md</a>)) {</div>
<div class="line"><span class="lineno">  133</span>      printf(<span class="stringliteral">&quot;Error: failed receiving packet. %s.\n&quot;</span>, get_error_message().c_str());</div>
<div class="line"><span class="lineno">  134</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">// Save timespec for first block only if the last timestamp is unknown.</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples_total</a> == 0) {</div>
<div class="line"><span class="lineno">  139</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ret</a>.ts = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">md</a>.time_spec.to_ticks(srate_Hz);</div>
<div class="line"><span class="lineno">  140</span>    }</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="comment">// Increase the total amount of received samples.</span></div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples_total</a> += <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rxd_samples</a>;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">// Prepare notification event.</span></div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_struct" href="../../de/d0e/structsrsran_1_1radio__notification__handler_1_1event__description.html">radio_notification_handler::event_description</a> <span class="keyword">event</span> = {};</div>
<div class="line"><span class="lineno">  147</span>    <span class="keyword">event</span>.<a class="code hl_variable" href="../../de/d0e/structsrsran_1_1radio__notification__handler_1_1event__description.html#a3f49f91a7ca868389088332fd4a16386">stream_id</a>                                     = id;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">event</span>.channel_id                                    = <a class="code hl_variable" href="../../d4/d40/classsrsran_1_1radio__notification__handler.html#a8afbb07c418abcb0cf1237fae5a52a4a">radio_notification_handler::UNKNOWN_ID</a>;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">event</span>.source                                        = <a class="code hl_enumvalue" href="../../db/d79/classsrsran_1_1radio__notification__handler_1_1event__source.html#a7f23df937678f1d803ac52f8af7d91b3a19ac844f8ed52b085914d124bc2c6975">radio_notification_handler::event_source::RECEIVE</a>;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keyword">event</span>.type                                          = <a class="code hl_enumvalue" href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58a48b372a0a9a6468db79fc00d005207a6">radio_notification_handler::event_type::UNDEFINED</a>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">// Handle error.</span></div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">switch</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">md</a>.error_code) {</div>
<div class="line"><span class="lineno">  154</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_TIMEOUT:</div>
<div class="line"><span class="lineno">  155</span>        ++<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">timeout_trial_count</a>;</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">timeout_trial_count</a> &gt;= 10) {</div>
<div class="line"><span class="lineno">  157</span>          printf(<span class="stringliteral">&quot;Error: exceeded maximum number of timed out transmissions.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>          <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ret</a>;</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  161</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_NONE:</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">// Ignored.</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  164</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_LATE_COMMAND:</div>
<div class="line"><span class="lineno">  165</span>        <span class="keyword">event</span>.type = <a class="code hl_enumvalue" href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58a6648a01a7ae6ecf549b9d1813b49c791">radio_notification_handler::event_type::LATE</a>;</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  167</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_OVERFLOW:</div>
<div class="line"><span class="lineno">  168</span>        <span class="keyword">event</span>.type = <a class="code hl_enumvalue" href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58ad7d3af42b7de04e518d134ab00aea959">radio_notification_handler::event_type::OVERFLOW</a>;</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  170</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_BROKEN_CHAIN:</div>
<div class="line"><span class="lineno">  171</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_ALIGNMENT:</div>
<div class="line"><span class="lineno">  172</span>      <span class="keywordflow">case</span> uhd::rx_metadata_t::ERROR_CODE_BAD_PACKET:</div>
<div class="line"><span class="lineno">  173</span>        printf(<span class="stringliteral">&quot;Error: unhandled error in Rx metadata %s.&quot;</span>, <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">md</a>.strerror().c_str());</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ret</a>;</div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <span class="comment">// Notify if the event type was set.</span></div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">if</span> (event.type != <a class="code hl_enumvalue" href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58a48b372a0a9a6468db79fc00d005207a6">radio_notification_handler::event_type::UNDEFINED</a>) {</div>
<div class="line"><span class="lineno">  179</span>      notifier.<a class="code hl_function" href="../../d4/d40/classsrsran_1_1radio__notification__handler.html#a8b4a990b42877a8054ac67c85543c541">on_radio_rt_event</a>(event);</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>  }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <span class="comment">// If it reaches here, there is no error.</span></div>
<div class="line"><span class="lineno">  184</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ret</a>;</div>
<div class="line"><span class="lineno">  185</span>}</div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_1_1event__source_html_a7f23df937678f1d803ac52f8af7d91b3a19ac844f8ed52b085914d124bc2c6975"><div class="ttname"><a href="../../db/d79/classsrsran_1_1radio__notification__handler_1_1event__source.html#a7f23df937678f1d803ac52f8af7d91b3a19ac844f8ed52b085914d124bc2c6975">srsran::radio_notification_handler::event_source::RECEIVE</a></div><div class="ttdeci">@ RECEIVE</div><div class="ttdoc">The event is from a receiver chain.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:47</div></div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_1_1event__type_html_ada92c8b313b55717e4f4f4be58a1ab58a48b372a0a9a6468db79fc00d005207a6"><div class="ttname"><a href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58a48b372a0a9a6468db79fc00d005207a6">srsran::radio_notification_handler::event_type::UNDEFINED</a></div><div class="ttdeci">@ UNDEFINED</div><div class="ttdoc">Default event value meaning it is not set.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:88</div></div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_1_1event__type_html_ada92c8b313b55717e4f4f4be58a1ab58a6648a01a7ae6ecf549b9d1813b49c791"><div class="ttname"><a href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58a6648a01a7ae6ecf549b9d1813b49c791">srsran::radio_notification_handler::event_type::LATE</a></div><div class="ttdeci">@ LATE</div><div class="ttdoc">The transmit data arrives late to the baseband unit.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:94</div></div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_1_1event__type_html_ada92c8b313b55717e4f4f4be58a1ab58ad7d3af42b7de04e518d134ab00aea959"><div class="ttname"><a href="../../d1/d66/classsrsran_1_1radio__notification__handler_1_1event__type.html#ada92c8b313b55717e4f4f4be58a1ab58ad7d3af42b7de04e518d134ab00aea959">srsran::radio_notification_handler::event_type::OVERFLOW</a></div><div class="ttdeci">@ OVERFLOW</div><div class="ttdoc">The receive buffers are not read fast enough.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:98</div></div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_html_a8afbb07c418abcb0cf1237fae5a52a4a"><div class="ttname"><a href="../../d4/d40/classsrsran_1_1radio__notification__handler.html#a8afbb07c418abcb0cf1237fae5a52a4a">srsran::radio_notification_handler::UNKNOWN_ID</a></div><div class="ttdeci">static constexpr unsigned UNKNOWN_ID</div><div class="ttdoc">Defines an unknown identifier for streams and ports.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:37</div></div>
<div class="ttc" id="aclasssrsran_1_1radio__notification__handler_html_a8b4a990b42877a8054ac67c85543c541"><div class="ttname"><a href="../../d4/d40/classsrsran_1_1radio__notification__handler.html#a8b4a990b42877a8054ac67c85543c541">srsran::radio_notification_handler::on_radio_rt_event</a></div><div class="ttdeci">virtual void on_radio_rt_event(const event_description &amp;description)=0</div><div class="ttdoc">Notifies a new event that affected the real-time operation of the radio.</div></div>
<div class="ttc" id="astructsrsran_1_1baseband__gateway__receiver_1_1metadata_html"><div class="ttname"><a href="../../df/d22/structsrsran_1_1baseband__gateway__receiver_1_1metadata.html">srsran::baseband_gateway_receiver::metadata</a></div><div class="ttdoc">Receiver metadata.</div><div class="ttdef"><b>Definition</b> baseband_gateway_receiver.h:36</div></div>
<div class="ttc" id="astructsrsran_1_1radio__notification__handler_1_1event__description_html"><div class="ttname"><a href="../../de/d0e/structsrsran_1_1radio__notification__handler_1_1event__description.html">srsran::radio_notification_handler::event_description</a></div><div class="ttdoc">Describes a radio notification.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:138</div></div>
<div class="ttc" id="astructsrsran_1_1radio__notification__handler_1_1event__description_html_a3f49f91a7ca868389088332fd4a16386"><div class="ttname"><a href="../../de/d0e/structsrsran_1_1radio__notification__handler_1_1event__description.html#a3f49f91a7ca868389088332fd4a16386">srsran::radio_notification_handler::event_description::stream_id</a></div><div class="ttdeci">unsigned stream_id</div><div class="ttdoc">Indicates the stream identifier that triggered the event if it is available, UNKNOWN_ID otherwise.</div><div class="ttdef"><b>Definition</b> radio_notification_handler.h:140</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a549f75a1eb36ef92da670e98cd20cb0a" name="a549f75a1eb36ef92da670e98cd20cb0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a549f75a1eb36ef92da670e98cd20cb0a">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> radio_uhd_rx_stream::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> uhd::time_spec_t &amp;</td>          <td class="paramname"><span class="paramname"><em>time_spec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the stream reception. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time_spec</td><td>Indicates the start time of the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no exception is caught. Otherwise false. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>  <span class="keywordflow">if</span> (state != states::SUCCESSFUL_INIT) {</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  100</span>  }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>  <span class="comment">// Protect the UHD Tx stream against concurrent access.</span></div>
<div class="line"><span class="lineno">  103</span>  std::unique_lock&lt;std::mutex&gt; lock(stream_mutex);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">if</span> (!safe_execution([<span class="keyword">this</span>, &amp;<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">time_spec</a>]() {</div>
<div class="line"><span class="lineno">  106</span>        uhd::stream_cmd_t <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>(uhd::stream_cmd_t::STREAM_MODE_START_CONTINUOUS);</div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>.time_spec  = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">time_spec</a>;</div>
<div class="line"><span class="lineno">  108</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>.stream_now = (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">time_spec</a>.get_real_secs() == uhd::time_spec_t());</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        stream-&gt;issue_stream_cmd(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>);</div>
<div class="line"><span class="lineno">  111</span>      })) {</div>
<div class="line"><span class="lineno">  112</span>    printf(<span class="stringliteral">&quot;Error: failed to start receive stream %d. %s.&quot;</span>, <span class="keywordtype">id</span>, get_error_message().c_str());</div>
<div class="line"><span class="lineno">  113</span>  }</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>  <span class="comment">// Transition to streaming state.</span></div>
<div class="line"><span class="lineno">  116</span>  state = states::STREAMING;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  119</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a82c9e149a00ff49f1b552f6a893f62d6" name="a82c9e149a00ff49f1b552f6a893f62d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c9e149a00ff49f1b552f6a893f62d6">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> radio_uhd_rx_stream::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the reception stream. </p>
<dl class="section return"><dt>Returns</dt><dd>True if no exception is caught. Otherwise false. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  188</span>{</div>
<div class="line"><span class="lineno">  189</span>  <span class="comment">// Transition state to stop before locking to prevent real time priority thread owning the lock constantly.</span></div>
<div class="line"><span class="lineno">  190</span>  state = states::STOP;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>  <span class="comment">// Protect the UHD Tx stream against concurrent access.</span></div>
<div class="line"><span class="lineno">  193</span>  std::unique_lock&lt;std::mutex&gt; lock(stream_mutex);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>  <span class="comment">// Try to stop the stream.</span></div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordflow">if</span> (!safe_execution([<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  197</span>        uhd::stream_cmd_t <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>(uhd::stream_cmd_t::STREAM_MODE_STOP_CONTINUOUS);</div>
<div class="line"><span class="lineno">  198</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>.time_spec  = uhd::time_spec_t();</div>
<div class="line"><span class="lineno">  199</span>        <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>.stream_now = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        stream-&gt;issue_stream_cmd(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">stream_cmd</a>);</div>
<div class="line"><span class="lineno">  202</span>      })) {</div>
<div class="line"><span class="lineno">  203</span>    printf(<span class="stringliteral">&quot;Error: failed to stop stream %d. %s.&quot;</span>, <span class="keywordtype">id</span>, get_error_message().c_str());</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  205</span>  }</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  208</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad32dc3140529e7c09e88131fe0204c0f" name="ad32dc3140529e7c09e88131fe0204c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32dc3140529e7c09e88131fe0204c0f">&#9670;&#160;</a></span>wait_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> radio_uhd_rx_stream::wait_stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until radio is notify_stop. </p>
<div class="fragment"><div class="line"><span class="lineno">  211</span>{</div>
<div class="line"><span class="lineno">  212</span>  <span class="comment">// nothing to wait here</span></div>
<div class="line"><span class="lineno">  213</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  214</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/radio/uhd/<a class="el" href="../../d6/d09/radio__uhd__rx__stream_8h_source.html">radio_uhd_rx_stream.h</a></li>
<li>lib/radio/uhd/<b>radio_uhd_rx_stream.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
