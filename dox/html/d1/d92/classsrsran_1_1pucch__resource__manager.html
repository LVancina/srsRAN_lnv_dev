<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: srsran::pucch_resource_manager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></li><li class="navelem"><a class="el" href="../../d1/d92/classsrsran_1_1pucch__resource__manager.html">pucch_resource_manager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d3/de2/classsrsran_1_1pucch__resource__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">srsran::pucch_resource_manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class that manages the cell allocation of PUCCH resources across UEs. The correct functioning of <a class="el" href="../../d1/d92/classsrsran_1_1pucch__resource__manager.html" title="Class that manages the cell allocation of PUCCH resources across UEs. The correct functioning of pucc...">pucch_resource_manager</a> is based on the following assumptions: (i) Each UE has max 8 PUCCH F1 and max 8 PUCCH F2 dedicated to HARQ-ACK reporting. (ii) Each UE has max 1 SR-dedicated PUCCH F1 resource and max 1 CSI-dedicated PUCCH F2 resource. (iii) The cell PUCCH resource list can have max 128 PUCCH resource, including all formats; at cell level, there is no constraint on how many resource must be F1, F2, or for SR or for CSI. (vi) UEs can have different PUCCH resource lists; however the PUCCH resource ID is unique with the cell. This implies that if two UEs have the same PUCCH resource within their lists, their PUCCH resource ID must be the same. (v) Indexing of the PUCCH F1 and PUCCH F2 resources for HARQ-ACK reporting must be contiguous within the F1 group and with F2 group. However, the last PUCCH F1 group resource's and the first PUCCH F2 group resource's indices need not be contiguous. E.g., PUCCH F1 indices (for HARQ-ACK reporting) = {0, ..., 7}, and PUCCH F2 indices (for HARQ-ACK reporting) = {10, ..., 17}.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/d9c/pucch__resource__manager_8h_source.html">pucch_resource_manager.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for srsran::pucch_resource_manager:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d15/classsrsran_1_1pucch__resource__manager__coll__graph.png" border="0" usemap="#asrsran_1_1pucch__resource__manager_coll__map" alt="Collaboration graph"/></div>
<map name="asrsran_1_1pucch__resource__manager_coll__map" id="asrsran_1_1pucch__resource__manager_coll__map">
<area shape="rect" title="Class that manages the cell allocation of PUCCH resources across UEs. The correct functioning of pucc..." alt="" coords="5,5,220,344"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a81a16bc8a6f73d1d6877b6ef2b973e25" id="r_a81a16bc8a6f73d1d6877b6ef2b973e25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81a16bc8a6f73d1d6877b6ef2b973e25">slot_indication</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> slot_tx)</td></tr>
<tr class="memdesc:a81a16bc8a6f73d1d6877b6ef2b973e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all resources to "unused".  <br /></td></tr>
<tr class="separator:a81a16bc8a6f73d1d6877b6ef2b973e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c33ef146bb86101981b4d644e3bf6d" id="r_a12c33ef146bb86101981b4d644e3bf6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12c33ef146bb86101981b4d644e3bf6d">is_common_resource_available</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>, size_t <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a>)</td></tr>
<tr class="memdesc:a12c33ef146bb86101981b4d644e3bf6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the common PUCCH resource indexed by r_pucch is available at the given slot.  <br /></td></tr>
<tr class="separator:a12c33ef146bb86101981b4d644e3bf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60b313b4eb6150af00a3302134a6567" id="r_ae60b313b4eb6150af00a3302134a6567"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae60b313b4eb6150af00a3302134a6567">reserve_common_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>, size_t <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a>)</td></tr>
<tr class="memdesc:ae60b313b4eb6150af00a3302134a6567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the common PUCCH resource indexed by r_pucch at the given slot as currently "not available".  <br /></td></tr>
<tr class="separator:ae60b313b4eb6150af00a3302134a6567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc21904f68185add3248e3b223025cda" id="r_acc21904f68185add3248e3b223025cda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc21904f68185add3248e3b223025cda">reserve_next_f1_harq_res_available</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:acc21904f68185add3248e3b223025cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next PUCCH resource available to be used for HARQ-ACK (format 1).  <br /></td></tr>
<tr class="separator:acc21904f68185add3248e3b223025cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af451820441803f58f45ec6d90b265f51" id="r_af451820441803f58f45ec6d90b265f51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af451820441803f58f45ec6d90b265f51">reserve_next_f2_harq_res_available</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:af451820441803f58f45ec6d90b265f51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next PUCCH format 2 resource available to be used for HARQ-ACK.  <br /></td></tr>
<tr class="separator:af451820441803f58f45ec6d90b265f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516af5de56b8abb7e9a015fee28cf28a" id="r_a516af5de56b8abb7e9a015fee28cf28a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a516af5de56b8abb7e9a015fee28cf28a">reserve_specific_format2_res</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_indicator</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:a516af5de56b8abb7e9a015fee28cf28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a specific PUCCH format 2 resource (identified by the res. indicator) to be used for HARQ-ACK.  <br /></td></tr>
<tr class="separator:a516af5de56b8abb7e9a015fee28cf28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44246e38b2ff1e41fa94c4546384f0c" id="r_ae44246e38b2ff1e41fa94c4546384f0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae44246e38b2ff1e41fa94c4546384f0c">reserve_csi_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;ue_cell_cfg)</td></tr>
<tr class="memdesc:ae44246e38b2ff1e41fa94c4546384f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the specific PUCCH format 2 resource config to be used for CSI, if available.  <br /></td></tr>
<tr class="separator:ae44246e38b2ff1e41fa94c4546384f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b1a37f315491278aa7aad2c290a8c5" id="r_a59b1a37f315491278aa7aad2c290a8c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59b1a37f315491278aa7aad2c290a8c5">reserve_sr_res_available</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:a59b1a37f315491278aa7aad2c290a8c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the specific PUCCH format 1 resource config to be used for SR, if available.  <br /></td></tr>
<tr class="separator:a59b1a37f315491278aa7aad2c290a8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcd84de6b5b859c51c68d219a8a4098" id="r_acfcd84de6b5b859c51c68d219a8a4098"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfcd84de6b5b859c51c68d219a8a4098">release_harq_f1_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:acfcd84de6b5b859c51c68d219a8a4098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release PUCCH (format 1) resource from being allocated to a given UE.  <br /></td></tr>
<tr class="separator:acfcd84de6b5b859c51c68d219a8a4098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4da9b7594802e4c1c66248f2bdd88a" id="r_a9f4da9b7594802e4c1c66248f2bdd88a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f4da9b7594802e4c1c66248f2bdd88a">release_harq_f2_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:a9f4da9b7594802e4c1c66248f2bdd88a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release PUCCH (format 2) resource from being allocated to a given UE.  <br /></td></tr>
<tr class="separator:a9f4da9b7594802e4c1c66248f2bdd88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b5a050479f5e214eba5caa2592b2c3" id="r_a15b5a050479f5e214eba5caa2592b2c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15b5a050479f5e214eba5caa2592b2c3">release_sr_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:a15b5a050479f5e214eba5caa2592b2c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release PUCCH (format 1) resource used for SR from being allocated to a given UE.  <br /></td></tr>
<tr class="separator:a15b5a050479f5e214eba5caa2592b2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf167b75a5c55bf75860448daf6a4920" id="r_abf167b75a5c55bf75860448daf6a4920"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf167b75a5c55bf75860448daf6a4920">release_csi_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;ue_cell_cfg)</td></tr>
<tr class="memdesc:abf167b75a5c55bf75860448daf6a4920"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release PUCCH (format 2) resource used for CSI from being allocated to a given UE.  <br /></td></tr>
<tr class="separator:abf167b75a5c55bf75860448daf6a4920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeffc4fb86b8d3d528a23cd0aa202617" id="r_afeffc4fb86b8d3d528a23cd0aa202617"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/da0/classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afeffc4fb86b8d3d528a23cd0aa202617">fetch_f1_pucch_res_indic</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> slot_tx, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:afeffc4fb86b8d3d528a23cd0aa202617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the PUCCH resource indicator (format 1) of the resource used for a given RNTI at a given slot.  <br /></td></tr>
<tr class="separator:afeffc4fb86b8d3d528a23cd0aa202617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4219490f4e5ceddf8bcd4389026fc63" id="r_ae4219490f4e5ceddf8bcd4389026fc63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/da0/classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4219490f4e5ceddf8bcd4389026fc63">fetch_f2_pucch_res_indic</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> slot_tx, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:ae4219490f4e5ceddf8bcd4389026fc63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the PUCCH resource indicator (format 2) of the resource used for a given RNTI at a given slot.  <br /></td></tr>
<tr class="separator:ae4219490f4e5ceddf8bcd4389026fc63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53136d8c1533a7be826aac73d5aa9ea4" id="r_a53136d8c1533a7be826aac73d5aa9ea4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53136d8c1533a7be826aac73d5aa9ea4">fetch_allocated_f2_harq_resource</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;pucch_cfg)</td></tr>
<tr class="memdesc:a53136d8c1533a7be826aac73d5aa9ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the configuration of the PUCCH Format 2 resource used for HARQ previously allocated to a given RNTI for a given slot.  <br /></td></tr>
<tr class="separator:a53136d8c1533a7be826aac73d5aa9ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874091c3cadec6e8a2bafa444faf69cb" id="r_a874091c3cadec6e8a2bafa444faf69cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a874091c3cadec6e8a2bafa444faf69cb">fetch_csi_pucch_res_config</a> (<a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a> slot_tx, <a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a> crnti, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;ue_cell_cfg)</td></tr>
<tr class="memdesc:a874091c3cadec6e8a2bafa444faf69cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the configuration of the PUCCH resource used for CSI (format 2) for a given RNTI at a given slot.  <br /></td></tr>
<tr class="separator:a874091c3cadec6e8a2bafa444faf69cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that manages the cell allocation of PUCCH resources across UEs. The correct functioning of <a class="el" href="../../d1/d92/classsrsran_1_1pucch__resource__manager.html" title="Class that manages the cell allocation of PUCCH resources across UEs. The correct functioning of pucc...">pucch_resource_manager</a> is based on the following assumptions: (i) Each UE has max 8 PUCCH F1 and max 8 PUCCH F2 dedicated to HARQ-ACK reporting. (ii) Each UE has max 1 SR-dedicated PUCCH F1 resource and max 1 CSI-dedicated PUCCH F2 resource. (iii) The cell PUCCH resource list can have max 128 PUCCH resource, including all formats; at cell level, there is no constraint on how many resource must be F1, F2, or for SR or for CSI. (vi) UEs can have different PUCCH resource lists; however the PUCCH resource ID is unique with the cell. This implies that if two UEs have the same PUCCH resource within their lists, their PUCCH resource ID must be the same. (v) Indexing of the PUCCH F1 and PUCCH F2 resources for HARQ-ACK reporting must be contiguous within the F1 group and with F2 group. However, the last PUCCH F1 group resource's and the first PUCCH F2 group resource's indices need not be contiguous. E.g., PUCCH F1 indices (for HARQ-ACK reporting) = {0, ..., 7}, and PUCCH F2 indices (for HARQ-ACK reporting) = {10, ..., 17}. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a966f3fb64ede88c09bd4fbdcc9cf8a02" name="a966f3fb64ede88c09bd4fbdcc9cf8a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966f3fb64ede88c09bd4fbdcc9cf8a02">&#9670;&#160;</a></span>pucch_resource_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pucch_resource_manager::pucch_resource_manager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>  <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">reset_slot_record</a> = [](rnti_pucch_res_id_slot_record&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>) {</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a> : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.ues_using_pucch_res) {</div>
<div class="line"><span class="lineno">   61</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a>.rnti           = rnti_t::INVALID_RNTI;</div>
<div class="line"><span class="lineno">   62</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a>.resource_usage = pucch_resource_usage::NOT_USED;</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; res : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.used_common_resources) {</div>
<div class="line"><span class="lineno">   65</span>      res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   66</span>    }</div>
<div class="line"><span class="lineno">   67</span>  };</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>  std::for_each(resource_slots.begin(), resource_slots.end(), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">reset_slot_record</a>);</div>
<div class="line"><span class="lineno">   70</span>}</div>
<div class="ttc" id="anamespacesrsran_html_a58e7c9f2c51a9ad6a0899b46d5315723"><div class="ttname"><a href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">srsran::mask_msb_ones</a></div><div class="ttdeci">constexpr Integer mask_msb_ones(size_t N)</div><div class="ttdoc">Returns an unsigned integer with the N most significant bits (MSB) set to one, and the remaining bits...</div><div class="ttdef"><b>Definition</b> bounded_bitset.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a53136d8c1533a7be826aac73d5aa9ea4" name="a53136d8c1533a7be826aac73d5aa9ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53136d8c1533a7be826aac73d5aa9ea4">&#9670;&#160;</a></span>fetch_allocated_f2_harq_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a> pucch_resource_manager::fetch_allocated_f2_harq_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches the configuration of the PUCCH Format 2 resource used for HARQ previously allocated to a given RNTI for a given slot. </p>
<dl class="section return"><dt>Returns</dt><dd>If the resource is found, it returns (i) the pointer to the configuration and (ii) the PUCCH resource indicator corresponding to the PUCCH resource that previously allocated to the UE. Else, the pointer passed will be <code>nullptr</code>, whereas the PUCCH resource indicator is to be ignored. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  299</span>{</div>
<div class="line"><span class="lineno">  300</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  301</span>                      <span class="stringliteral">&quot;PUCCH being allocated too far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>  <span class="comment">// Get resource list of wanted slot.</span></div>
<div class="line"><span class="lineno">  304</span>  rnti_pucch_res_id_slot_record&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_res_array</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.ues_using_pucch_res;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <span class="comment">// Get the span over the array of resources for the specific UE.</span></div>
<div class="line"><span class="lineno">  309</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq</a> = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a1e889b531c4701a39575f0525c65bbd5">pucch_res_set</a>[PUCCH_HARQ_F2_RES_SET_ID].pucch_res_id_list;</div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordtype">unsigned</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_first_res_id</a>        = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq</a>.front().cell_res_id;</div>
<div class="line"><span class="lineno">  311</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_first_res_id</a> + <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq</a>.size() &lt;= <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_res_array</a>.size(),</div>
<div class="line"><span class="lineno">  312</span>                <span class="stringliteral">&quot;Indexing of PUCCH resource set exceeds the size of the cell resource array&quot;</span>);</div>
<div class="line"><span class="lineno">  313</span>  <a class="code hl_class" href="../../de/d4c/classsrsran_1_1span.html">span&lt;resource_tracker&gt;</a> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>(&amp;<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_res_array</a>[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_first_res_id</a>], <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq</a>.size());</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>  <span class="comment">// Check first if the target PUCCH resource (given the CRNTI and usage) exists within the resource tracker.</span></div>
<div class="line"><span class="lineno">  316</span>  <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">target_ue_resource</a> = std::find_if(</div>
<div class="line"><span class="lineno">  317</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>.begin(), <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>.end(), [<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">target_rnti</a> = crnti](<span class="keyword">const</span> resource_tracker&amp; res) {</div>
<div class="line"><span class="lineno">  318</span>        return res.rnti == target_rnti and res.resource_usage == pucch_resource_usage::HARQ_F2;</div>
<div class="line"><span class="lineno">  319</span>      });</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pucch_res_list = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a39a1ae64711a584a0d36f088bfc7b379">pucch_res_list</a>;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>  <span class="comment">// If the resource is found, get the resource indicator and the configuration from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  324</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">target_ue_resource</a> != <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>.end() <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">and</a></div>
<div class="line"><span class="lineno">  325</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">target_ue_resource</a> - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>.begin()) &lt;</div>
<div class="line"><span class="lineno">  326</span>          pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a1e889b531c4701a39575f0525c65bbd5">pucch_res_set</a>[PUCCH_HARQ_F2_RES_SET_ID].pucch_res_id_list.size()) {</div>
<div class="line"><span class="lineno">  327</span>    <span class="comment">// Get the PUCCH resource indicator from the available resource position within the span.</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> pucch_res_indicator = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">target_ue_resource</a> - <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_ue_res_array</a>.begin());</div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">// Get the PUCCH resource ID from the PUCCH resource indicator and the PUCCH resource set.</span></div>
<div class="line"><span class="lineno">  330</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_idx_from_list</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq</a>[pucch_res_indicator].cell_res_id;</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// Search for the PUCCH resource with the correct PUCCH resource ID from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  333</span>    <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> = std::find_if(</div>
<div class="line"><span class="lineno">  334</span>        pucch_res_list.begin(), pucch_res_list.end(), [<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_idx_from_list</a>](<span class="keyword">const</span> <a class="code hl_struct" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a>&amp; res) {</div>
<div class="line"><span class="lineno">  335</span>          return res.res_id.cell_res_id == pucch_res_idx_from_list;</div>
<div class="line"><span class="lineno">  336</span>        });</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a>{.<a class="code hl_variable" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html#aaadc9a461359f88dd82616f9b69c5141">pucch_res</a> = &amp;(*res_cfg), .pucch_res_indicator = pucch_res_indicator};</div>
<div class="line"><span class="lineno">  339</span>  }</div>
<div class="line"><span class="lineno">  340</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a>{.<a class="code hl_variable" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html#aaadc9a461359f88dd82616f9b69c5141">pucch_res</a> = <span class="keyword">nullptr</span>};</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="aclasssrsran_1_1span_html"><div class="ttname"><a href="../../de/d4c/classsrsran_1_1span.html">srsran::span</a></div><div class="ttdef"><b>Definition</b> span.h:98</div></div>
<div class="ttc" id="astructsrsran_1_1pucch__config_html_a1e889b531c4701a39575f0525c65bbd5"><div class="ttname"><a href="../../d6/d83/structsrsran_1_1pucch__config.html#a1e889b531c4701a39575f0525c65bbd5">srsran::pucch_config::pucch_res_set</a></div><div class="ttdeci">static_vector&lt; pucch_resource_set, MAX_NOF_PUCCH_RESOURCE_SETS &gt; pucch_res_set</div><div class="ttdoc">PUCCH-ResourceSet, from 0 to 3.</div><div class="ttdef"><b>Definition</b> pucch_configuration.h:201</div></div>
<div class="ttc" id="astructsrsran_1_1pucch__config_html_a39a1ae64711a584a0d36f088bfc7b379"><div class="ttname"><a href="../../d6/d83/structsrsran_1_1pucch__config.html#a39a1ae64711a584a0d36f088bfc7b379">srsran::pucch_config::pucch_res_list</a></div><div class="ttdeci">static_vector&lt; pucch_resource, MAX_NOF_PUCCH_RESOURCES &gt; pucch_res_list</div><div class="ttdoc">List of PUCCH-Resource.</div><div class="ttdef"><b>Definition</b> pucch_configuration.h:203</div></div>
<div class="ttc" id="astructsrsran_1_1pucch__harq__resource__alloc__record_html"><div class="ttname"><a href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">srsran::pucch_harq_resource_alloc_record</a></div><div class="ttdoc">Containers used to return the output of the PUCCH resource manager.</div><div class="ttdef"><b>Definition</b> pucch_resource_manager.h:31</div></div>
<div class="ttc" id="astructsrsran_1_1pucch__harq__resource__alloc__record_html_aaadc9a461359f88dd82616f9b69c5141"><div class="ttname"><a href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html#aaadc9a461359f88dd82616f9b69c5141">srsran::pucch_harq_resource_alloc_record::pucch_res</a></div><div class="ttdeci">const pucch_resource * pucch_res</div><div class="ttdoc">Pointer to PUCCH resource configuration to be used.</div><div class="ttdef"><b>Definition</b> pucch_resource_manager.h:33</div></div>
<div class="ttc" id="astructsrsran_1_1pucch__resource_html"><div class="ttname"><a href="../../de/d04/structsrsran_1_1pucch__resource.html">srsran::pucch_resource</a></div><div class="ttdoc">PUCCH-Resource, in PUCCH-Config, TS 38.331.</div><div class="ttdef"><b>Definition</b> pucch_configuration.h:163</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a874091c3cadec6e8a2bafa444faf69cb" name="a874091c3cadec6e8a2bafa444faf69cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874091c3cadec6e8a2bafa444faf69cb">&#9670;&#160;</a></span>fetch_csi_pucch_res_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> * pucch_resource_manager::fetch_csi_pucch_res_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_tx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ue_cell_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the configuration of the PUCCH resource used for CSI (format 2) for a given RNTI at a given slot. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the resource configuration used allocated to the UE; if UE is not found, returns <code>nullptr</code>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  346</span>{</div>
<div class="line"><span class="lineno">  347</span>  srsran_sanity_check(slot_tx &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  348</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>  rnti_pucch_res_id_slot_record&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a> = get_slot_resource_counter(slot_tx);</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a> = get_pucch_res_idx_for_csi(ue_cell_cfg);</div>
<div class="line"><span class="lineno">  353</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  355</span>  }</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a>);</div>
<div class="line"><span class="lineno">  358</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].rnti != crnti) {</div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  360</span>  }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pucch_res_list =</div>
<div class="line"><span class="lineno">  363</span>      ue_cell_cfg.cfg_dedicated().<a class="code hl_variable" href="../../d3/d0d/structsrsran_1_1serving__cell__config.html#a2fe7ab17cda5bafb76bcabb1e526e556">ul_config</a>.value().init_ul_bwp.pucch_cfg.value().pucch_res_list;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>  <span class="comment">// Search for the PUCCH resource with the correct PUCCH resource ID from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  366</span>  <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> =</div>
<div class="line"><span class="lineno">  367</span>      std::find_if(pucch_res_list.begin(), pucch_res_list.end(), [<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>](<span class="keyword">const</span> <a class="code hl_struct" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a>&amp; res) {</div>
<div class="line"><span class="lineno">  368</span>        return res.res_id.cell_res_id == csi_pucch_res_idx;</div>
<div class="line"><span class="lineno">  369</span>      });</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>  <span class="comment">// If the PUCCH res with correct ID is found, then return it to the user.</span></div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> != pucch_res_list.end()) {</div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">return</span> &amp;(*res_cfg);</div>
<div class="line"><span class="lineno">  374</span>  }</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  377</span>}</div>
<div class="ttc" id="astructsrsran_1_1serving__cell__config_html_a2fe7ab17cda5bafb76bcabb1e526e556"><div class="ttname"><a href="../../d3/d0d/structsrsran_1_1serving__cell__config.html#a2fe7ab17cda5bafb76bcabb1e526e556">srsran::serving_cell_config::ul_config</a></div><div class="ttdeci">optional&lt; uplink_config &gt; ul_config</div><div class="ttdoc">uplinkConfig, containing the UL configuration.</div><div class="ttdef"><b>Definition</b> serving_cell_config.h:256</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afeffc4fb86b8d3d528a23cd0aa202617" name="afeffc4fb86b8d3d528a23cd0aa202617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeffc4fb86b8d3d528a23cd0aa202617">&#9670;&#160;</a></span>fetch_f1_pucch_res_indic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/da0/classint.html">int</a> pucch_resource_manager::fetch_f1_pucch_res_indic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_tx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the PUCCH resource indicator (format 1) of the resource used for a given RNTI at a given slot. </p>
<dl class="section return"><dt>Returns</dt><dd>PUCCH resource indicator of the resource used allocated to the UE; if UE is not found, returns -1. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  286</span>{</div>
<div class="line"><span class="lineno">  287</span>  <span class="keywordflow">return</span> fetch_pucch_res_indic(slot_tx, crnti, pucch_cfg, pucch_format::FORMAT_1);</div>
<div class="line"><span class="lineno">  288</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4219490f4e5ceddf8bcd4389026fc63" name="ae4219490f4e5ceddf8bcd4389026fc63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4219490f4e5ceddf8bcd4389026fc63">&#9670;&#160;</a></span>fetch_f2_pucch_res_indic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/da0/classint.html">int</a> pucch_resource_manager::fetch_f2_pucch_res_indic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_tx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the PUCCH resource indicator (format 2) of the resource used for a given RNTI at a given slot. </p>
<dl class="section return"><dt>Returns</dt><dd>PUCCH resource indicator of the resource used allocated to the UE; if UE is not found, returns -1. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  291</span>{</div>
<div class="line"><span class="lineno">  292</span>  <span class="keywordflow">return</span> fetch_pucch_res_indic(slot_tx, crnti, pucch_cfg, pucch_format::FORMAT_2);</div>
<div class="line"><span class="lineno">  293</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a12c33ef146bb86101981b4d644e3bf6d" name="a12c33ef146bb86101981b4d644e3bf6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c33ef146bb86101981b4d644e3bf6d">&#9670;&#160;</a></span>is_common_resource_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> pucch_resource_manager::is_common_resource_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>sl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>r_pucch</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the common PUCCH resource indexed by r_pucch is available at the given slot. </p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a> &lt; 16, <span class="stringliteral">&quot;r_PUCCH must be less than 16&quot;</span>);</div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>).used_common_resources[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a>];</div>
<div class="line"><span class="lineno">   95</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abf167b75a5c55bf75860448daf6a4920" name="abf167b75a5c55bf75860448daf6a4920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf167b75a5c55bf75860448daf6a4920">&#9670;&#160;</a></span>release_csi_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> pucch_resource_manager::release_csi_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_sr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ue_cell_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release PUCCH (format 2) resource used for CSI from being allocated to a given UE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slot_harq</td><td>slot for which the PUCCH resource was scheduled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crnti</td><td>UE from which the resource needs to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucch_cfg</td><td>UE's PUCCH config. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the resource for the UE was found in the allocation records for the given slot. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  265</span>{</div>
<div class="line"><span class="lineno">  266</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  267</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  <span class="comment">// We assume each UE only has 1 CSI Resource Config configured.</span></div>
<div class="line"><span class="lineno">  272</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a> = get_pucch_res_idx_for_csi(ue_cell_cfg);</div>
<div class="line"><span class="lineno">  273</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  275</span>  }</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].rnti != crnti) {</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  278</span>  }</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].rnti           = rnti_t::INVALID_RNTI;</div>
<div class="line"><span class="lineno">  281</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].resource_usage = pucch_resource_usage::NOT_USED;</div>
<div class="line"><span class="lineno">  282</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  283</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acfcd84de6b5b859c51c68d219a8a4098" name="acfcd84de6b5b859c51c68d219a8a4098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfcd84de6b5b859c51c68d219a8a4098">&#9670;&#160;</a></span>release_harq_f1_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> pucch_resource_manager::release_harq_f1_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release PUCCH (format 1) resource from being allocated to a given UE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slot_harq</td><td>slot for which the PUCCH resource was scheduled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crnti</td><td>UE from which the resource needs to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucch_cfg</td><td>UE's PUCCH config. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the resource for the UE was found in the allocation records for the given slot. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>  <span class="keywordflow">return</span> release_harq_resource(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, crnti, pucch_cfg, pucch_format::FORMAT_1);</div>
<div class="line"><span class="lineno">  235</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f4da9b7594802e4c1c66248f2bdd88a" name="a9f4da9b7594802e4c1c66248f2bdd88a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4da9b7594802e4c1c66248f2bdd88a">&#9670;&#160;</a></span>release_harq_f2_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> pucch_resource_manager::release_harq_f2_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release PUCCH (format 2) resource from being allocated to a given UE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slot_harq</td><td>slot for which the PUCCH resource was scheduled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crnti</td><td>UE from which the resource needs to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucch_cfg</td><td>UE's PUCCH config. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the resource for the UE was found in the allocation records for the given slot. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  238</span>{</div>
<div class="line"><span class="lineno">  239</span>  <span class="keywordflow">return</span> release_harq_resource(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, crnti, pucch_cfg, pucch_format::FORMAT_2);</div>
<div class="line"><span class="lineno">  240</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b5a050479f5e214eba5caa2592b2c3" name="a15b5a050479f5e214eba5caa2592b2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b5a050479f5e214eba5caa2592b2c3">&#9670;&#160;</a></span>release_sr_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> pucch_resource_manager::release_sr_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_sr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release PUCCH (format 1) resource used for SR from being allocated to a given UE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slot_harq</td><td>slot for which the PUCCH resource was scheduled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crnti</td><td>UE from which the resource needs to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucch_cfg</td><td>UE's PUCCH config. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the resource for the UE was found in the allocation records for the given slot. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  245</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>  srsran_sanity_check(pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a9cd322ac5ec3ab428121e1a82f81d0cf">sr_res_list</a>.size() == 1, <span class="stringliteral">&quot;UE SR resource list must have size 1.&quot;</span>);</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <span class="comment">// We assume each UE only has 1 SR Resource Config configured.</span></div>
<div class="line"><span class="lineno">  251</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a> = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a9cd322ac5ec3ab428121e1a82f81d0cf">sr_res_list</a>[0].pucch_res_id.cell_res_id;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].rnti != crnti) {</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  255</span>  }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].rnti           = rnti_t::INVALID_RNTI;</div>
<div class="line"><span class="lineno">  258</span>  <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].resource_usage = pucch_resource_usage::NOT_USED;</div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  260</span>}</div>
<div class="ttc" id="astructsrsran_1_1pucch__config_html_a9cd322ac5ec3ab428121e1a82f81d0cf"><div class="ttname"><a href="../../d6/d83/structsrsran_1_1pucch__config.html#a9cd322ac5ec3ab428121e1a82f81d0cf">srsran::pucch_config::sr_res_list</a></div><div class="ttdeci">static_vector&lt; scheduling_request_resource_config, MAX_NOF_SR_RESOURCES &gt; sr_res_list</div><div class="ttdoc">List of SchedulingRequestResourceConfig.</div><div class="ttdef"><b>Definition</b> pucch_configuration.h:211</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae60b313b4eb6150af00a3302134a6567" name="ae60b313b4eb6150af00a3302134a6567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60b313b4eb6150af00a3302134a6567">&#9670;&#160;</a></span>reserve_common_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> pucch_resource_manager::reserve_common_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>sl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>r_pucch</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the common PUCCH resource indexed by r_pucch at the given slot as currently "not available". </p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{</div>
<div class="line"><span class="lineno">   99</span>  srsran_assert(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a> &lt; 16, <span class="stringliteral">&quot;r_PUCCH must be less than 16&quot;</span>);</div>
<div class="line"><span class="lineno">  100</span>  get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sl</a>).used_common_resources[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">r_pucch</a>] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  101</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae44246e38b2ff1e41fa94c4546384f0c" name="ae44246e38b2ff1e41fa94c4546384f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44246e38b2ff1e41fa94c4546384f0c">&#9670;&#160;</a></span>reserve_csi_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> * pucch_resource_manager::reserve_csi_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d95/classsrsran_1_1ue__cell__configuration.html">ue_cell_configuration</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ue_cell_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the specific PUCCH format 2 resource config to be used for CSI, if available. </p>
<dl class="section remark"><dt>Remarks</dt><dd>If SR multiplexing is enabled, this resource can be used for CSI + SR. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If the specific PUCCH resource is available, it returns (i) the pointer to the configuration and (ii) the PUCCH resource indicator corresponding to the PUCCH resource that will be used by the UE. Else, the pointer passed will be <code>nullptr</code>, whereas the PUCCH resource indicator is to be ignored. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  165</span>{</div>
<div class="line"><span class="lineno">  166</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_csi</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  167</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>  <span class="comment">// Get CSI specific PUCCH resource ID from the CSI meas config.</span></div>
<div class="line"><span class="lineno">  170</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a> = get_pucch_res_idx_for_csi(ue_cell_cfg);</div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  173</span>  }</div>
<div class="line"><span class="lineno">  174</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx_int</a>);</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>  <span class="comment">// Get resource list of wanted slot.</span></div>
<div class="line"><span class="lineno">  177</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_csi</a>);</div>
<div class="line"><span class="lineno">  178</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].rnti != rnti_t::INVALID_RNTI) {</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  180</span>  }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pucch_res_list =</div>
<div class="line"><span class="lineno">  183</span>      ue_cell_cfg.cfg_dedicated().<a class="code hl_variable" href="../../d3/d0d/structsrsran_1_1serving__cell__config.html#a2fe7ab17cda5bafb76bcabb1e526e556">ul_config</a>.value().init_ul_bwp.pucch_cfg.value().pucch_res_list;</div>
<div class="line"><span class="lineno">  184</span>  <span class="comment">// Search for the PUCCH resource with the correct PUCCH resource ID from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  185</span>  <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> =</div>
<div class="line"><span class="lineno">  186</span>      std::find_if(pucch_res_list.begin(), pucch_res_list.end(), [<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>](<span class="keyword">const</span> <a class="code hl_struct" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a>&amp; res) {</div>
<div class="line"><span class="lineno">  187</span>        return res.res_id.cell_res_id == csi_pucch_res_idx;</div>
<div class="line"><span class="lineno">  188</span>      });</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  <span class="comment">// If the PUCCH res with correct ID is found, then allocate it to the user.</span></div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> != pucch_res_list.end()) {</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].rnti           = crnti;</div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">csi_pucch_res_idx</a>].resource_usage = pucch_resource_usage::CSI;</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">return</span> &amp;(*res_cfg);</div>
<div class="line"><span class="lineno">  195</span>  }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  198</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc21904f68185add3248e3b223025cda" name="acc21904f68185add3248e3b223025cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc21904f68185add3248e3b223025cda">&#9670;&#160;</a></span>reserve_next_f1_harq_res_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a> pucch_resource_manager::reserve_next_f1_harq_res_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the next PUCCH resource available to be used for HARQ-ACK (format 1). </p>
<dl class="section return"><dt>Returns</dt><dd>If any PUCCH resource available, it returns (i) the pointer to the configuration and (ii) the PUCCH resource indicator corresponding to the PUCCH resource that will be used by the UE. If there are no PUCCH resources available, the pointer passed will be <code>nullptr</code>, whereas the PUCCH resource indicator is to be ignored. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  107</span>{</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">return</span> reserve_next_harq_res_available(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, crnti, pucch_cfg, pucch_format::FORMAT_1);</div>
<div class="line"><span class="lineno">  109</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="af451820441803f58f45ec6d90b265f51" name="af451820441803f58f45ec6d90b265f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af451820441803f58f45ec6d90b265f51">&#9670;&#160;</a></span>reserve_next_f2_harq_res_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dbd/structsrsran_1_1pucch__harq__resource__alloc__record.html">pucch_harq_resource_alloc_record</a> pucch_resource_manager::reserve_next_f2_harq_res_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the next PUCCH format 2 resource available to be used for HARQ-ACK. </p>
<dl class="section remark"><dt>Remarks</dt><dd>If SR and CSI multiplexing is enabled, this resource can be used for HARQ-ACK + SR and/or CSI. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If any PUCCH resource available, it returns (i) the pointer to the configuration and (ii) the PUCCH resource indicator corresponding to the PUCCH resource that will be used by the UE. If there are no PUCCH resources available, the pointer passed will be <code>nullptr</code>, whereas the PUCCH resource indicator is to be ignored. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">return</span> reserve_next_harq_res_available(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>, crnti, pucch_cfg, pucch_format::FORMAT_2);</div>
<div class="line"><span class="lineno">  117</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a516af5de56b8abb7e9a015fee28cf28a" name="a516af5de56b8abb7e9a015fee28cf28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516af5de56b8abb7e9a015fee28cf28a">&#9670;&#160;</a></span>reserve_specific_format2_res()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> * pucch_resource_manager::reserve_specific_format2_res </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_harq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>res_indicator</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a specific PUCCH format 2 resource (identified by the res. indicator) to be used for HARQ-ACK. </p>
<dl class="section remark"><dt>Remarks</dt><dd>If SR and CSI multiplexing is enabled, this resource can be used for HARQ-ACK + SR and/or CSI. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If the specific PUCCH resource is available, it returns the pointer to the configuration. Else, it returns <code>nullptr</code>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  123</span>{</div>
<div class="line"><span class="lineno">  124</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  125</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>  <span class="comment">// Get resource list of wanted slot.</span></div>
<div class="line"><span class="lineno">  128</span>  rnti_pucch_res_id_slot_record&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_harq</a>);</div>
<div class="line"><span class="lineno">  129</span>  <span class="comment">// Retrieve the PUCCH resource set.</span></div>
<div class="line"><span class="lineno">  130</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq_f2</a> = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a1e889b531c4701a39575f0525c65bbd5">pucch_res_set</a>[PUCCH_HARQ_F2_RES_SET_ID].pucch_res_id_list;</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>  <span class="comment">// Make sure the resource indicator points to a valid resource.</span></div>
<div class="line"><span class="lineno">  133</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_indicator</a> &gt;= <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq_f2</a>.size()) {</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  135</span>  }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>  <span class="comment">// Get PUCCH resource ID from the PUCCH resource set.</span></div>
<div class="line"><span class="lineno">  138</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> pucch_res_id = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_res_id_set_for_harq_f2</a>[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_indicator</a>].cell_res_id;</div>
<div class="line"><span class="lineno">  139</span>  <span class="comment">// Get the PUCCH resource tracker in the PUCCH resource manager.</span></div>
<div class="line"><span class="lineno">  140</span>  <span class="keyword">auto</span>&amp;       <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_tracker</a> = <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.ues_using_pucch_res[pucch_res_id];</div>
<div class="line"><span class="lineno">  141</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pucch_res_list    = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a39a1ae64711a584a0d36f088bfc7b379">pucch_res_list</a>;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>  <span class="comment">// Check first if the wanted PUCCH resource is available.</span></div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_tracker</a>.rnti == rnti_t::INVALID_RNTI) {</div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">// Search for the PUCCH resource with the correct PUCCH resource ID from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> =</div>
<div class="line"><span class="lineno">  147</span>        std::find_if(pucch_res_list.begin(), pucch_res_list.end(), [pucch_res_id](<span class="keyword">const</span> <a class="code hl_struct" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a>&amp; res) {</div>
<div class="line"><span class="lineno">  148</span>          return res.res_id.cell_res_id == pucch_res_id;</div>
<div class="line"><span class="lineno">  149</span>        });</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">// If the PUCCH res with correct ID is found, then allocate it to the user.</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> != pucch_res_list.end()) {</div>
<div class="line"><span class="lineno">  153</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_tracker</a>.rnti           = crnti;</div>
<div class="line"><span class="lineno">  154</span>      <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">pucch_res_tracker</a>.resource_usage = pucch_resource_usage::HARQ_F2;</div>
<div class="line"><span class="lineno">  155</span>      <span class="keywordflow">return</span> &amp;(*res_cfg);</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span>  }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  160</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a59b1a37f315491278aa7aad2c290a8c5" name="a59b1a37f315491278aa7aad2c290a8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b1a37f315491278aa7aad2c290a8c5">&#9670;&#160;</a></span>reserve_sr_res_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a> * pucch_resource_manager::reserve_sr_res_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_sr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a1d83bcd76f2b7c6251855be8472a46f5">rnti_t</a></td>          <td class="paramname"><span class="paramname"><em>crnti</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">const</a> <a class="el" href="../../d6/d83/structsrsran_1_1pucch__config.html">pucch_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pucch_cfg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the specific PUCCH format 1 resource config to be used for SR, if available. </p>
<dl class="section return"><dt>Returns</dt><dd>If the specific PUCCH resource is available, it returns (i) the pointer to the configuration and (ii) the PUCCH resource indicator corresponding to the PUCCH resource that will be used by the UE. Else, the pointer passed will be <code>nullptr</code>, whereas the PUCCH resource indicator is to be ignored. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  202</span>{</div>
<div class="line"><span class="lineno">  203</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a> &lt; last_sl_ind + RES_MANAGER_RING_BUFFER_SIZE,</div>
<div class="line"><span class="lineno">  204</span>                      <span class="stringliteral">&quot;PUCCH being allocated to far into the future&quot;</span>);</div>
<div class="line"><span class="lineno">  205</span>  srsran_sanity_check(pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a9cd322ac5ec3ab428121e1a82f81d0cf">sr_res_list</a>.size() == 1, <span class="stringliteral">&quot;UE SR resource list must have size 1.&quot;</span>);</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a> = get_slot_resource_counter(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_sr</a>);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="comment">// We assume each UE only has 1 SR Resource Config configured.</span></div>
<div class="line"><span class="lineno">  210</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a> = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a9cd322ac5ec3ab428121e1a82f81d0cf">sr_res_list</a>[0].pucch_res_id.cell_res_id;</div>
<div class="line"><span class="lineno">  211</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].rnti != rnti_t::INVALID_RNTI) {</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  213</span>  }</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pucch_res_list = pucch_cfg.<a class="code hl_variable" href="../../d6/d83/structsrsran_1_1pucch__config.html#a39a1ae64711a584a0d36f088bfc7b379">pucch_res_list</a>;</div>
<div class="line"><span class="lineno">  216</span>  <span class="comment">// Search for the PUCCH resource with the correct PUCCH resource ID from the PUCCH resource list.</span></div>
<div class="line"><span class="lineno">  217</span>  <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> =</div>
<div class="line"><span class="lineno">  218</span>      std::find_if(pucch_res_list.begin(), pucch_res_list.end(), [<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>](<span class="keyword">const</span> <a class="code hl_struct" href="../../de/d04/structsrsran_1_1pucch__resource.html">pucch_resource</a>&amp; res) {</div>
<div class="line"><span class="lineno">  219</span>        return res.res_id.cell_res_id == sr_pucch_res_id;</div>
<div class="line"><span class="lineno">  220</span>      });</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>  <span class="comment">// If the PUCCH res with correct ID is found, then allocate it to the user.</span></div>
<div class="line"><span class="lineno">  223</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_cfg</a> != pucch_res_list.end()) {</div>
<div class="line"><span class="lineno">  224</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].rnti           = crnti;</div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">slot_record</a>.ues_using_pucch_res[<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">sr_pucch_res_id</a>].resource_usage = pucch_resource_usage::SR;</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">return</span> &amp;(*res_cfg);</div>
<div class="line"><span class="lineno">  227</span>  }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  230</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a81a16bc8a6f73d1d6877b6ef2b973e25" name="a81a16bc8a6f73d1d6877b6ef2b973e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a16bc8a6f73d1d6877b6ef2b973e25">&#9670;&#160;</a></span>slot_indication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a> pucch_resource_manager::slot_indication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d3c/classsrsran_1_1slot__point.html">slot_point</a></td>          <td class="paramname"><span class="paramname"><em>slot_tx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all resources to "unused". </p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>  <span class="comment">// If last_sl_ind is not valid (not initialized), then the check sl_tx == last_sl_ind + 1 does not matter.</span></div>
<div class="line"><span class="lineno">   75</span>  srsran_sanity_check(<a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">not</a> last_sl_ind.<a class="code hl_function" href="../../df/d3c/classsrsran_1_1slot__point.html#a988d40945efc785f48725c857852c922">valid</a>() <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">or</a> slot_tx == last_sl_ind + 1, <span class="stringliteral">&quot;Detected a skipped slot&quot;</span>);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>  <span class="comment">// Update Slot.</span></div>
<div class="line"><span class="lineno">   78</span>  last_sl_ind = slot_tx;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  rnti_pucch_res_id_slot_record&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a> = get_slot_resource_counter(last_sl_ind - 1);</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a> : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.ues_using_pucch_res) {</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a>.rnti           = rnti_t::INVALID_RNTI;</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">ue_rec</a>.resource_usage = pucch_resource_usage::NOT_USED;</div>
<div class="line"><span class="lineno">   85</span>  }</div>
<div class="line"><span class="lineno">   86</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; res : <a class="code hl_function" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">res_counter</a>.used_common_resources) {</div>
<div class="line"><span class="lineno">   87</span>    res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   88</span>  }</div>
<div class="line"><span class="lineno">   89</span>}</div>
<div class="ttc" id="aclasssrsran_1_1slot__point_html_a988d40945efc785f48725c857852c922"><div class="ttname"><a href="../../df/d3c/classsrsran_1_1slot__point.html#a988d40945efc785f48725c857852c922">srsran::slot_point::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdoc">Determines whether slot_point was correctly initialized.</div><div class="ttdef"><b>Definition</b> slot_point.h:105</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/scheduler/pucch_scheduling/<a class="el" href="../../d6/d9c/pucch__resource__manager_8h_source.html">pucch_resource_manager.h</a></li>
<li>lib/scheduler/pucch_scheduling/<b>pucch_resource_manager.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
