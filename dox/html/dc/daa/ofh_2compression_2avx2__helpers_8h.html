<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN Docs: lib/ofh/compression/avx2_helpers.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">srsRAN Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_d760f2ccf13f25eca8b78b31880d9d65.html">ofh</a></li><li class="navelem"><a class="el" href="../../dir_41fc22ec7441721c2ba1196fd9081e7a.html">compression</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">avx2_helpers.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>AVX2 support for OFH Compression algorithms.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;srsran/adt/span.h&quot;</code><br />
<code>#include &lt;immintrin.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for avx2_helpers.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d05/ofh_2compression_2avx2__helpers_8h__incl.png" border="0" usemap="#alib_2ofh_2compression_2avx2__helpers_8h" alt=""/></div>
<map name="alib_2ofh_2compression_2avx2__helpers_8h" id="alib_2ofh_2compression_2avx2__helpers_8h">
<area shape="rect" title="AVX2 support for OFH Compression algorithms." alt="" coords="1423,5,1574,45"/>
<area shape="rect" href="../../d4/d7a/span_8h_source.html" title=" " alt="" coords="1361,93,1495,119"/>
<area shape="poly" title=" " alt="" coords="1484,47,1450,85,1446,81,1480,44"/>
<area shape="rect" title=" " alt="" coords="1520,93,1619,119"/>
<area shape="poly" title=" " alt="" coords="1518,44,1552,81,1548,85,1514,47"/>
<area shape="rect" href="../../d9/dee/static__vector_8h_source.html" title=" " alt="" coords="1535,167,1721,192"/>
<area shape="poly" title=" " alt="" coords="1461,116,1583,159,1581,164,1459,121"/>
<area shape="rect" title=" " alt="" coords="1227,900,1319,925"/>
<area shape="poly" title=" " alt="" coords="1361,119,1297,134,1264,146,1233,161,1205,179,1183,201,1169,228,1164,259,1164,342,1167,367,1176,385,1189,398,1206,410,1244,434,1263,451,1280,473,1307,521,1326,559,1338,601,1341,655,1341,745,1336,787,1323,826,1291,889,1286,887,1319,824,1331,786,1336,745,1336,655,1332,602,1321,561,1302,523,1275,476,1259,455,1241,438,1203,414,1186,403,1172,388,1162,368,1159,342,1159,258,1164,226,1179,198,1202,175,1230,156,1262,141,1295,129,1360,113"/>
<area shape="rect" title=" " alt="" coords="1732,900,1788,925"/>
<area shape="poly" title=" " alt="" coords="1496,116,1638,141,1700,154,1734,164,1771,182,1801,199,1822,222,1827,239,1829,259,1829,746,1824,787,1811,827,1778,890,1773,887,1806,825,1819,786,1824,745,1824,259,1822,240,1817,225,1798,203,1768,187,1732,169,1698,159,1637,146,1495,121"/>
<area shape="rect" title=" " alt="" coords="1899,900,1970,925"/>
<area shape="poly" title=" " alt="" coords="1496,114,1826,164,1867,181,1901,197,1915,207,1926,220,1932,237,1935,259,1935,745,1937,886,1931,886,1929,745,1929,259,1927,238,1921,223,1911,211,1899,201,1865,186,1825,169,1495,120"/>
<area shape="rect" title=" " alt="" coords="1813,900,1875,925"/>
<area shape="poly" title=" " alt="" coords="1496,115,1669,143,1778,164,1817,181,1849,198,1862,208,1872,221,1878,238,1880,259,1880,745,1877,785,1871,824,1855,888,1849,886,1866,823,1872,784,1875,745,1875,259,1873,239,1867,224,1858,212,1846,202,1815,186,1777,169,1668,148,1495,120"/>
<area shape="rect" href="../../d0/d0a/format_8h_source.html" title=" " alt="" coords="759,731,865,757"/>
<area shape="poly" title=" " alt="" coords="1361,113,1217,126,1133,137,1049,152,973,171,910,195,886,209,868,225,857,241,853,259,853,569,850,611,843,652,824,719,818,718,838,651,845,610,848,569,848,258,852,239,864,221,883,205,908,190,971,166,1048,147,1132,132,1216,121,1360,108"/>
<area shape="rect" title=" " alt="" coords="568,819,653,845"/>
<area shape="poly" title=" " alt="" coords="1360,110,1186,117,1081,125,975,138,878,157,797,183,767,199,743,217,729,237,724,259,724,657,722,682,715,705,693,748,664,785,637,812,633,808,660,781,688,745,710,703,716,681,719,657,719,258,724,234,740,213,764,194,795,178,876,152,974,133,1080,120,1186,111,1360,105"/>
<area shape="rect" title=" " alt="" coords="192,819,261,845"/>
<area shape="poly" title=" " alt="" coords="1360,110,1029,115,807,122,577,134,360,153,178,180,107,196,53,215,19,236,11,247,8,259,8,657,13,688,26,715,45,739,69,759,125,792,180,814,178,819,123,797,66,764,41,742,21,717,8,689,3,658,3,258,6,245,16,232,51,210,105,191,177,174,359,148,577,129,807,117,1029,109,1360,105"/>
<area shape="rect" href="../../d8/dc4/srsran__assert_8h_source.html" title=" " alt="" coords="1481,240,1639,280"/>
<area shape="poly" title=" " alt="" coords="1620,194,1587,231,1583,228,1616,190"/>
<area shape="rect" title=" " alt="" coords="1455,900,1532,925"/>
<area shape="poly" title=" " alt="" coords="1641,191,1661,216,1685,251,1704,293,1712,339,1712,569,1714,654,1713,723,1707,754,1695,786,1677,819,1650,854,1633,867,1607,879,1546,900,1544,895,1605,874,1630,862,1646,850,1672,816,1690,784,1702,753,1707,722,1709,654,1707,569,1707,340,1699,295,1680,254,1657,219,1637,194"/>
<area shape="poly" title=" " alt="" coords="1653,190,1690,212,1731,245,1750,265,1765,288,1775,313,1779,339,1779,745,1782,770,1791,793,1805,815,1822,834,1861,867,1900,891,1897,896,1858,872,1818,838,1800,818,1786,796,1777,772,1773,746,1773,340,1770,314,1760,290,1746,269,1728,249,1687,217,1650,195"/>
<area shape="rect" href="../../dd/dda/srslog_8h_source.html" title=" " alt="" coords="1251,328,1411,353"/>
<area shape="poly" title=" " alt="" coords="1506,283,1378,326,1376,321,1504,277"/>
<area shape="rect" title=" " alt="" coords="1647,900,1708,925"/>
<area shape="poly" title=" " alt="" coords="1589,278,1614,300,1636,327,1656,367,1661,413,1661,569,1668,751,1678,886,1672,886,1662,751,1656,569,1656,413,1651,369,1631,329,1610,303,1585,282"/>
<area shape="rect" href="../../d4/dd1/compiler_8h.html" title="Defines generic compiler macros that get translated into compiler specific directives simplifying por..." alt="" coords="1435,328,1621,353"/>
<area shape="poly" title=" " alt="" coords="1555,281,1540,316,1535,314,1550,279"/>
<area shape="rect" href="../../d3/dc4/srslog_2detail_2support_2any_8h_source.html" title=" " alt="" coords="1376,812,1523,852"/>
<area shape="poly" title=" " alt="" coords="1359,351,1393,371,1425,400,1439,421,1448,440,1452,486,1452,657,1452,798,1447,798,1447,657,1447,486,1442,441,1435,424,1421,403,1390,375,1357,356"/>
<area shape="rect" href="../../d1/d8c/logger_8h_source.html" title=" " alt="" coords="1250,401,1411,427"/>
<area shape="poly" title=" " alt="" coords="1333,354,1333,388,1328,388,1328,354"/>
<area shape="rect" href="../../d5/d29/shared__types_8h_source.html" title=" " alt="" coords="1097,812,1250,852"/>
<area shape="poly" title=" " alt="" coords="1287,356,1192,388,1134,412,1074,443,1015,481,960,525,914,577,878,637,872,657,869,674,871,691,877,706,898,734,929,762,987,782,1084,807,1083,812,985,787,927,766,894,738,872,708,866,692,864,674,866,655,874,635,909,574,956,521,1012,476,1071,438,1132,407,1190,383,1285,351"/>
<area shape="poly" title=" " alt="" coords="1462,851,1482,887,1478,889,1458,854"/>
<area shape="poly" title=" " alt="" coords="1408,854,1313,897,1311,892,1406,850"/>
<area shape="rect" href="../../dd/ddb/log__channel_8h_source.html" title=" " alt="" coords="1067,475,1266,500"/>
<area shape="poly" title=" " alt="" coords="1305,429,1207,472,1205,467,1303,424"/>
<area shape="rect" href="../../df/d32/log__backend_8h_source.html" title=" " alt="" coords="1155,724,1301,764"/>
<area shape="poly" title=" " alt="" coords="1195,498,1227,517,1242,531,1254,547,1271,580,1276,609,1273,640,1265,677,1250,713,1245,711,1260,675,1268,639,1271,610,1265,582,1250,549,1238,534,1224,521,1192,502"/>
<area shape="rect" href="../../d4/d0b/log__entry_8h_source.html" title=" " alt="" coords="1093,548,1240,588"/>
<area shape="poly" title=" " alt="" coords="1169,500,1169,534,1164,534,1164,500"/>
<area shape="rect" href="../../d6/d21/sink_8h_source.html" title=" " alt="" coords="307,555,455,581"/>
<area shape="poly" title=" " alt="" coords="1067,501,469,561,469,555,1067,496"/>
<area shape="rect" title=" " alt="" coords="1003,555,1069,581"/>
<area shape="poly" title=" " alt="" coords="1149,502,1068,550,1066,546,1146,498"/>
<area shape="poly" title=" " alt="" coords="1218,766,1195,802,1190,799,1214,763"/>
<area shape="rect" href="../../d5/dc4/core_8h_source.html" title=" " alt="" coords="1547,819,1637,845"/>
<area shape="poly" title=" " alt="" coords="1302,757,1413,780,1535,809,1547,813,1545,818,1534,815,1411,785,1301,762"/>
<area shape="rect" title=" " alt="" coords="1343,900,1430,925"/>
<area shape="poly" title=" " alt="" coords="1225,850,1343,893,1341,898,1224,855"/>
<area shape="rect" title=" " alt="" coords="320,900,379,925"/>
<area shape="poly" title=" " alt="" coords="1097,853,1084,855,982,867,895,874,746,880,598,884,408,903,393,905,392,900,408,897,597,879,746,874,894,869,981,862,1084,849,1096,847"/>
<area shape="poly" title=" " alt="" coords="1579,847,1520,893,1517,889,1576,843"/>
<area shape="poly" title=" " alt="" coords="1560,847,1535,855,1428,881,1333,902,1332,897,1427,876,1534,849,1558,842"/>
<area shape="poly" title=" " alt="" coords="1563,847,1430,898,1428,893,1561,842"/>
<area shape="poly" title=" " alt="" coords="1563,847,1535,855,1365,880,1221,892,1093,894,973,890,853,885,725,883,579,887,408,903,393,905,392,900,408,897,579,882,725,878,853,880,973,885,1093,888,1220,886,1365,875,1534,849,1561,842"/>
<area shape="poly" title=" " alt="" coords="1618,842,1725,892,1722,897,1615,847"/>
<area shape="poly" title=" " alt="" coords="1606,843,1656,889,1653,892,1603,847"/>
<area shape="rect" title=" " alt="" coords="1556,900,1623,925"/>
<area shape="poly" title=" " alt="" coords="1594,845,1593,886,1588,886,1589,845"/>
<area shape="poly" title=" " alt="" coords="1638,841,1887,897,1885,902,1636,846"/>
<area shape="poly" title=" " alt="" coords="1629,842,1800,895,1799,900,1628,847"/>
<area shape="rect" href="../../d9/d1e/log__entry__metadata_8h_source.html" title=" " alt="" coords="889,636,1058,676"/>
<area shape="poly" title=" " alt="" coords="1125,590,1029,633,1027,628,1123,586"/>
<area shape="rect" href="../../db/d85/thread__utils_8h_source.html" title=" " alt="" coords="1083,636,1251,676"/>
<area shape="poly" title=" " alt="" coords="1169,588,1169,622,1164,622,1164,588"/>
<area shape="poly" title=" " alt="" coords="939,678,847,727,844,723,937,674"/>
<area shape="rect" title=" " alt="" coords="940,731,1007,757"/>
<area shape="poly" title=" " alt="" coords="976,676,976,717,971,717,971,676"/>
<area shape="poly" title=" " alt="" coords="866,751,928,761,1023,773,1096,779,1170,788,1262,809,1354,845,1458,892,1456,897,1352,850,1261,815,1169,793,1096,784,1022,778,928,767,865,757"/>
<area shape="poly" title=" " alt="" coords="865,752,928,761,1020,770,1099,775,1233,778,1366,784,1444,793,1535,809,1549,813,1548,818,1534,815,1443,799,1366,789,1232,783,1099,780,1020,776,928,767,865,757"/>
<area shape="poly" title=" " alt="" coords="786,759,652,816,650,811,784,754"/>
<area shape="rect" title=" " alt="" coords="729,819,791,845"/>
<area shape="poly" title=" " alt="" coords="807,758,777,808,772,806,803,755"/>
<area shape="rect" title=" " alt="" coords="815,819,878,845"/>
<area shape="poly" title=" " alt="" coords="819,756,839,805,834,807,814,758"/>
<area shape="rect" title=" " alt="" coords="627,900,693,925"/>
<area shape="poly" title=" " alt="" coords="791,759,755,782,718,814,691,852,672,889,667,886,686,849,714,810,752,778,789,754"/>
<area shape="rect" title=" " alt="" coords="903,819,961,845"/>
<area shape="poly" title=" " alt="" coords="830,755,906,809,903,813,827,759"/>
<area shape="rect" title=" " alt="" coords="986,819,1073,845"/>
<area shape="poly" title=" " alt="" coords="842,754,989,812,987,817,840,759"/>
<area shape="rect" title=" " alt="" coords="1046,731,1130,757"/>
<area shape="poly" title=" " alt="" coords="1151,678,1110,723,1106,719,1147,674"/>
<area shape="rect" href="../../d7/da6/error__string_8h_source.html" title=" " alt="" coords="43,636,210,676"/>
<area shape="poly" title=" " alt="" coords="348,583,196,634,195,629,346,578"/>
<area shape="rect" href="../../d9/d32/memory__buffer_8h_source.html" title=" " alt="" coords="286,636,477,676"/>
<area shape="poly" title=" " alt="" coords="384,581,384,622,379,622,379,581"/>
<area shape="rect" href="../../de/d52/formatter_8h_source.html" title=" " alt="" coords="501,643,683,669"/>
<area shape="poly" title=" " alt="" coords="411,578,552,636,550,641,409,583"/>
<area shape="poly" title=" " alt="" coords="351,583,311,605,292,620,276,638,253,680,239,726,232,770,229,805,224,805,227,769,234,724,248,678,271,634,288,616,308,600,349,578"/>
<area shape="poly" title=" " alt="" coords="129,676,131,712,138,759,154,808,166,830,182,850,210,872,242,888,276,899,307,905,306,910,274,904,240,893,207,877,178,854,162,833,149,810,133,760,126,713,124,676"/>
<area shape="poly" title=" " alt="" coords="370,677,358,700,348,725,341,768,340,813,347,886,342,886,335,813,336,768,343,723,353,697,366,675"/>
<area shape="poly" title=" " alt="" coords="623,666,771,724,769,729,621,671"/>
<area shape="rect" href="../../dc/d1e/context_8h_source.html" title=" " alt="" coords="357,731,528,757"/>
<area shape="poly" title=" " alt="" coords="573,671,476,727,473,722,571,667"/>
<area shape="poly" title=" " alt="" coords="428,759,402,782,377,813,362,851,355,887,349,886,357,849,372,811,398,778,425,755"/>
<area shape="rect" href="../../d2/d4f/tmpl__utils_8h_source.html" title=" " alt="" coords="387,812,543,852"/>
<area shape="poly" title=" " alt="" coords="448,756,459,798,454,799,443,758"/>
<area shape="poly" title=" " alt="" coords="415,759,269,817,267,812,413,754"/>
<area shape="poly" title=" " alt="" coords="544,847,556,849,744,872,930,889,1214,906,1213,911,929,894,743,877,556,855,543,853"/>
<area shape="poly" title=" " alt="" coords="513,850,620,892,618,897,511,854"/>
<area shape="rect" title=" " alt="" coords="499,900,570,925"/>
<area shape="poly" title=" " alt="" coords="484,850,517,888,513,891,480,854"/>
<area shape="rect" title=" " alt="" coords="421,900,475,925"/>
<area shape="poly" title=" " alt="" coords="464,853,456,887,451,886,459,852"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d4b/ofh_2compression_2avx2__helpers_8h__dep__incl.png" border="0" usemap="#alib_2ofh_2compression_2avx2__helpers_8hdep" alt=""/></div>
<map name="alib_2ofh_2compression_2avx2__helpers_8hdep" id="alib_2ofh_2compression_2avx2__helpers_8hdep">
<area shape="rect" title="AVX2 support for OFH Compression algorithms." alt="" coords="8,5,159,45"/>
<area shape="rect" title=" " alt="" coords="5,93,161,148"/>
<area shape="poly" title=" " alt="" coords="86,59,86,93,81,93,81,59"/>
</map>
</div>
</div>
<p><a href="../../dc/daa/ofh_2compression_2avx2__helpers_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:d9/def/namespacesrsran" id="r_d9/def/namespacesrsran"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/def/namespacesrsran.html">srsran</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5a1f0973b49fa5684529c68848df1b76" id="r_a5a1f0973b49fa5684529c68848df1b76"><td class="memItemLeft" align="right" valign="top"><a id="a5a1f0973b49fa5684529c68848df1b76" name="a5a1f0973b49fa5684529c68848df1b76"></a>
<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">using</a>&#160;</td><td class="memItemRight" valign="bottom"><b>srsran::ofh::mm256::_mm256_comparator</b> = <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> (*)(<a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> a, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> b)</td></tr>
<tr class="memdesc:a5a1f0973b49fa5684529c68848df1b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of AVX2 intrinsic calculating min or max values between two vectors. <br /></td></tr>
<tr class="separator:a5a1f0973b49fa5684529c68848df1b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3680c47c967c06fbff65a00ac3ac5e0a" id="r_a3680c47c967c06fbff65a00ac3ac5e0a"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="#a5a1f0973b49fa5684529c68848df1b76">_mm256_comparator</a> COMPARE&gt; </td></tr>
<tr class="memitem:a3680c47c967c06fbff65a00ac3ac5e0a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3680c47c967c06fbff65a00ac3ac5e0a">srsran::ofh::mm256::find_rbs_abs_min_max_values</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; uint16_t &gt; abs, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">v0_epi16</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">v1_epi16</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">v2_epi16</a>)</td></tr>
<tr class="memdesc:a3680c47c967c06fbff65a00ac3ac5e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the maximum (or minimum) 16bit sample in each of the two input resource blocks, returns its absolute value.  <br /></td></tr>
<tr class="separator:a3680c47c967c06fbff65a00ac3ac5e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1877ae3f8653c849ee2f0ba6708d79be" id="r_a1877ae3f8653c849ee2f0ba6708d79be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1877ae3f8653c849ee2f0ba6708d79be">srsran::ofh::mm256::calculate_max_abs</a> (<a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> &gt; <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">max_abs</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rb0_epi16</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rb01_epi16</a>, <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a> <a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">rb1_epi16</a>)</td></tr>
<tr class="memdesc:a1877ae3f8653c849ee2f0ba6708d79be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds maximum absolute value across 16bit IQ samples in each of the two input resource blocks passed in three AVX2 registers.  <br /></td></tr>
<tr class="separator:a1877ae3f8653c849ee2f0ba6708d79be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AVX2 support for OFH Compression algorithms. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1877ae3f8653c849ee2f0ba6708d79be" name="a1877ae3f8653c849ee2f0ba6708d79be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1877ae3f8653c849ee2f0ba6708d79be">&#9670;&#160;</a></span>calculate_max_abs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void srsran::ofh::mm256::calculate_max_abs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>max_abs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>rb0_epi16</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>rb01_epi16</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>rb1_epi16</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds maximum absolute value across 16bit IQ samples in each of the two input resource blocks passed in three AVX2 registers. </p>
<p>The content of the three input AVX2 registers is represented in the table below. Here RBx means one unique RE (pair of IQ samples, 32 bits long) pertaining to a respective RB: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>rb0_epi16:</code>   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>rb01_epi16:</code>   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>rb1_epi16:</code>   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">max_abs</td><td>A span of two maximum absolute values in the two input RBs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rb0_epi16</td><td>AVX2 register storing 16bit IQ pairs of the first RB. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rb01_epi16</td><td>AVX2 register storing 16bit IQ pairs of the first and second RBs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rb1_epi16</td><td>AVX2 register storing 16bit IQ pairs of the second RB. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  104</span>{</div>
<div class="line"><span class="lineno">  105</span>  std::array&lt;uint16_t, 2&gt; abs_min_values;</div>
<div class="line"><span class="lineno">  106</span>  std::array&lt;uint16_t, 2&gt; abs_max_values;</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  <span class="comment">// Reorganize vectors to be able to vertically compare 16bit samples pertaining to the same resource block:</span></div>
<div class="line"><span class="lineno">  109</span>  <span class="comment">// [ RB0 RB0 | RB0 RB0 | RB1 RB1 | RB1 RB1 ]</span></div>
<div class="line"><span class="lineno">  110</span>  <span class="comment">// [ RB0 RB0 | RB0 RB0 | RB1 RB1 | RB1 RB1 ]</span></div>
<div class="line"><span class="lineno">  111</span>  <span class="comment">// [ RB0 RB0 | RB0 RB0 | RB1 RB1 | RB1 RB1 ]</span></div>
<div class="line"><span class="lineno">  112</span>  __m256i v0_epi16 = _mm256_permute2f128_si256(rb0_epi16, rb1_epi16, 0x20);</div>
<div class="line"><span class="lineno">  113</span>  __m256i v2_epi16 = _mm256_permute2f128_si256(rb0_epi16, rb1_epi16, 0x31);</div>
<div class="line"><span class="lineno">  114</span>  __m256i v1_epi16 = rb01_epi16;</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>  find_rbs_abs_min_max_values&lt;_mm256_min_epi16&gt;(abs_min_values, v0_epi16, v1_epi16, v2_epi16);</div>
<div class="line"><span class="lineno">  117</span>  find_rbs_abs_min_max_values&lt;_mm256_max_epi16&gt;(abs_max_values, v0_epi16, v1_epi16, v2_epi16);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>  max_abs[0] = std::max&lt;unsigned&gt;(abs_max_values[0], abs_min_values[0] - 1U);</div>
<div class="line"><span class="lineno">  120</span>  max_abs[1] = std::max&lt;unsigned&gt;(abs_max_values[1], abs_min_values[1] - 1U);</div>
<div class="line"><span class="lineno">  121</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3680c47c967c06fbff65a00ac3ac5e0a" name="a3680c47c967c06fbff65a00ac3ac5e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3680c47c967c06fbff65a00ac3ac5e0a">&#9670;&#160;</a></span>find_rbs_abs_min_max_values()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;_mm256_comparator COMPARE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void srsran::ofh::mm256::find_rbs_abs_min_max_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d4c/classsrsran_1_1span.html">span</a>&lt; uint16_t &gt;</td>          <td class="paramname"><span class="paramname"><em>abs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>v0_epi16</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>v1_epi16</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/def/namespacesrsran.html#a58e7c9f2c51a9ad6a0899b46d5315723">__m256i</a></td>          <td class="paramname"><span class="paramname"><em>v2_epi16</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds the maximum (or minimum) 16bit sample in each of the two input resource blocks, returns its absolute value. </p>
<p>Finds absolute maximum (or minimum, depending on the comparator passed as the template argument) values for each of the two RBs passed in a three AVX2 registers.</p>
<p>Registers are evenly divided between two RBs so that IQ samples of each RB occupy one 128bit lane. The following diagram shows the input format. Here RBx stands for one unique RE (a pair of IQ samples, 32 bits long) pertaining to a respective RB: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>v0_epi16:</code>   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>v1_epi16:</code>   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>v2_epi16:</code>   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB0 RB0   </td><td class="markdownTableBodyNone">RB1 RB1   </td><td class="markdownTableBodyNone">RB1 RB1   </td></tr>
</table>
<p>The function first performs vertical min/max search across the three registers (comparing 16bit samples), then horizontal min/max across elements in each 128bit lane of the resulting vector. Finally, the function takes the absolute value of the two 16bit samples computed thus far and stores them in the output span.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">COMPARE</td><td>AVX2 intrinsic used for comparison, either <code>mm256_min_epi16</code> or <code>_mm256_max_epi16</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">abs</td><td>A span of two absolute values of max (or min) samples in each of the two input RBs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v0_epi16</td><td>AVX2 register storing first four IQ pairs of each of the two RB. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1_epi16</td><td>AVX2 register storing second four IQ pairs of each of the two RB. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2_epi16</td><td>AVX2 register storing last four IQ pairs of each of the two RB. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{</div>
<div class="line"><span class="lineno">   65</span>  <span class="comment">// Find vertical min/max across every 3 16bit values in each resource block.</span></div>
<div class="line"><span class="lineno">   66</span>  __m256i cmp_8val_epi16 = COMPARE(COMPARE(v0_epi16, v1_epi16), v2_epi16);</div>
<div class="line"><span class="lineno">   67</span>  <span class="comment">// Now 16bit vector elements look as follows:</span></div>
<div class="line"><span class="lineno">   68</span>  <span class="comment">// [max(I00, I08, I04), max(Q00, Q08, Q04), max(I01, I09, I05), max(Q01, Q09, Q05), ...].</span></div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>  <span class="comment">// Swap 64bit words inside 128bit lanes and find 4 min/max values.</span></div>
<div class="line"><span class="lineno">   71</span>  __m256i cmp_8val_swp_epi16 = _mm256_shuffle_epi32(cmp_8val_epi16, 0x4e);</div>
<div class="line"><span class="lineno">   72</span>  __m256i cmp_4val_epi16     = COMPARE(cmp_8val_epi16, cmp_8val_swp_epi16);</div>
<div class="line"><span class="lineno">   73</span>  <span class="comment">// Swap 32bit words and find 2 min/max values.</span></div>
<div class="line"><span class="lineno">   74</span>  __m256i cmp_4val_swp_epi16 = _mm256_shuffle_epi32(cmp_4val_epi16, 0x1b);</div>
<div class="line"><span class="lineno">   75</span>  __m256i cmp_2val_epi16     = COMPARE(cmp_4val_epi16, cmp_4val_swp_epi16);</div>
<div class="line"><span class="lineno">   76</span>  <span class="comment">// Swap 16bit words and find final min/max values for each RB.</span></div>
<div class="line"><span class="lineno">   77</span>  <span class="keyword">const</span> __m256i shuffle_mask = _mm256_setr_epi8(</div>
<div class="line"><span class="lineno">   78</span>      2, 3, 0, 1, 6, 7, 4, 5, 8, 9, 10, 11, 14, 15, 12, 13, 2, 3, 0, 1, 6, 7, 4, 5, 8, 9, 10, 11, 14, 15, 12, 13);</div>
<div class="line"><span class="lineno">   79</span>  __m256i cmp_2val_swp_epi16 = _mm256_shuffle_epi8(cmp_2val_epi16, shuffle_mask);</div>
<div class="line"><span class="lineno">   80</span>  __m256i cmp_rb0_rb1_epi16  = COMPARE(cmp_2val_epi16, cmp_2val_swp_epi16);</div>
<div class="line"><span class="lineno">   81</span>  __m256i cmp_rb0_rb1_epu16  = _mm256_abs_epi16(cmp_rb0_rb1_epi16);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>  <span class="comment">// Extract absolute minimum/maximum values for each RB.</span></div>
<div class="line"><span class="lineno">   84</span>  abs[0] = _mm256_extract_epi16(cmp_rb0_rb1_epu16, 0);</div>
<div class="line"><span class="lineno">   85</span>  abs[1] = _mm256_extract_epi16(cmp_rb0_rb1_epu16, 8);</div>
<div class="line"><span class="lineno">   86</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
